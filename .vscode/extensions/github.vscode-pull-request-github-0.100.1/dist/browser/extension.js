var b1=Object.defineProperty;var Gt=(mo,Ba,ni)=>(typeof Ba!="symbol"&&(Ba+=""),Ba in mo?b1(mo,Ba,{enumerable:!0,configurable:!0,writable:!0,value:ni}):mo[Ba]=ni);(()=>{var mo={14523:(a,V,E)=>{"use strict";E.r(V),E.d(V,{AppInsightsCore:()=>D,BaseCore:()=>H,BaseTelemetryPlugin:()=>L.s,CoreUtils:()=>S.jS,DiagnosticLogger:()=>f.wq,ESPromise:()=>ne,ESPromiseScheduler:()=>$,EventHelper:()=>_e.fs,EventLatency:()=>l,EventPersistence:()=>p,EventPropertyType:()=>h,EventsDiscardedReason:()=>Le.x,FullVersionString:()=>S.xE,InternalAppInsightsCore:()=>v._,InternalBaseCore:()=>z.F,LoggingSeverity:()=>k.b,MinChannelPriorty:()=>Z,NotificationManager:()=>te.h,PerfEvent:()=>m.Q6,PerfManager:()=>m.NS,ProcessTelemetryContext:()=>re.W0,TraceLevel:()=>_,Undefined:()=>J.bA,Utils:()=>S.Aq,ValueKind:()=>c,ValueSanitizer:()=>B,Version:()=>S.Rx,_ExtendedInternalMessageId:()=>b,_InternalLogMessage:()=>f.WD,_InternalMessageId:()=>k.$,__getRegisteredEvents:()=>Ce.El,_logInternalMessage:()=>f.Oc,_throwInternal:()=>f.ZP,_warnToConsole:()=>f.OG,addEventHandler:()=>Ce.So,addEventListeners:()=>Ce.lQ,addPageHideEventListener:()=>Ce.Fc,addPageShowEventListener:()=>Ce.oS,addPageUnloadEventListener:()=>Ce.ee,areCookiesSupported:()=>ee.gi,arrForEach:()=>N.Iu,arrIndexOf:()=>N.rD,arrMap:()=>N.W$,arrReduce:()=>N.KT,attachEvent:()=>Ce.Q3,cookieAvailable:()=>ee.gi,createCookieMgr:()=>ee.xN,createEnumStyle:()=>P.Hj,createGuid:()=>S.gj,createProcessTelemetryContext:()=>re.i8,createTraceParent:()=>Se.wk,createUniqueNamespace:()=>ce.Z,createUnloadHandlerContainer:()=>me.P,dateNow:()=>N.x3,deleteCookie:()=>S.Yj,detachEvent:()=>Ce.Ym,disableCookies:()=>S.WD,disallowsSameSiteNone:()=>ee.It,doPerf:()=>m.r2,dumpObj:()=>g.mm,eventOff:()=>Ce.ML,eventOn:()=>Ce.mB,extend:()=>S.X$,findW3cTraceParent:()=>Se.ef,formatTraceParent:()=>Se.L0,generateW3CId:()=>_e.cL,getCommonSchemaMetaData:()=>S.Go,getConsole:()=>g.U5,getCookie:()=>S.Ri,getCookieValue:()=>S.UM,getCrypto:()=>g.MY,getDocument:()=>g.YE,getExceptionName:()=>N.lL,getFieldValueType:()=>S.cq,getGlobal:()=>X.mS,getGlobalInst:()=>g.EH,getHistory:()=>g.JK,getIEVersion:()=>g.L0,getISOString:()=>N._u,getJSON:()=>g.hm,getLocation:()=>g.g$,getMsCrypto:()=>g.iN,getNavigator:()=>g.w3,getPerformance:()=>g.FJ,getSetValue:()=>N.c2,getTenantId:()=>S.EO,getTime:()=>S.WB,getWindow:()=>g.zk,hasDocument:()=>g.Wt,hasHistory:()=>g.tw,hasJSON:()=>g.Z,hasNavigator:()=>g.w9,hasOwnProperty:()=>N.mQ,hasWindow:()=>g.Vd,isArray:()=>N.cy,isArrayValid:()=>S.wJ,isBeaconsSupported:()=>g.Uf,isBoolean:()=>N.Lm,isChromium:()=>S.F2,isDate:()=>N.$P,isDocumentObjectAvailable:()=>S.g8,isError:()=>N.bJ,isFetchSupported:()=>g.R7,isFunction:()=>N.Tn,isIE:()=>g.lT,isLatency:()=>S.Hh,isNotTruthy:()=>N.wo,isNullOrUndefined:()=>N.hX,isNumber:()=>N.Et,isObject:()=>N.Gv,isReactNative:()=>g.lV,isSampledFlag:()=>Se.N7,isString:()=>N.Kg,isTruthy:()=>N.zz,isTypeof:()=>N.Ed,isUint8ArrayAvailable:()=>S.h3,isUndefined:()=>N.b0,isValidSpanId:()=>Se.wN,isValidTraceId:()=>Se.hX,isValidTraceParent:()=>Se.mJ,isValueAssigned:()=>S.yD,isValueKind:()=>S.m0,isWindowObjectAvailable:()=>S.P$,isXhrSupported:()=>g.xk,mergeEvtNamespace:()=>Ce.Hm,newGuid:()=>_e.aq,newId:()=>Me.Si,normalizeJsName:()=>N.cH,objCreate:()=>X.AQ,objDefineAccessors:()=>N.r,objForEachKey:()=>N.z,objFreeze:()=>N.N6,objKeys:()=>N.cG,objSeal:()=>N.js,openXhr:()=>S.H$,optimizeObject:()=>N.hW,parseTraceParent:()=>Se.ZI,perfNow:()=>_e.UU,proxyAssign:()=>N.qz,proxyFunctionAs:()=>N.RF,proxyFunctions:()=>N.o$,random32:()=>Me.VN,randomValue:()=>Me.Z1,removeEventHandler:()=>Ce.zh,removeEventListeners:()=>Ce.Wg,removePageHideEventListener:()=>Ce.sq,removePageShowEventListener:()=>Ce.vF,removePageUnloadEventListener:()=>Ce.Ds,safeGetCookieMgr:()=>ee.um,safeGetLogger:()=>f.y0,sanitizeProperty:()=>S.TC,setCookie:()=>S.TV,setEnableEnvMocks:()=>g.cU,setProcessTelemetryTimings:()=>S.u9,setValue:()=>N.KY,strContains:()=>N.Ju,strEndsWith:()=>N.Cv,strFunction:()=>J.hW,strObject:()=>J._1,strPrototype:()=>J.vR,strStartsWith:()=>N.tG,strTrim:()=>N.EH,strUndefined:()=>J.bA,throwError:()=>N.$8,toISOString:()=>N._u,useXDomainRequest:()=>g.PV});var R=E(8747),P=E(96434),N=E(12497),k=E(83897),c=(0,P.Hj)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),l=(0,P.Hj)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),h=(0,P.Hj)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),p=(0,P.Hj)({Normal:1,Critical:2}),_=(0,P.Hj)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),b=(0,N.N6)((0,R.Im)((0,R.Im)({},k.$),(0,P.Hj)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),u=E(92457),f=E(99015),m=E(5204),g=E(44180),v=E(12235),T=E(52976),S=E(59091),x=function(O){(0,R.qU)(I,O);function I(){var se=O.call(this)||this;return se.pluginVersionStringArr=[],(0,u.A)(I,se,function(ve,we){(!ve.logger||!ve.logger.queue)&&(ve.logger=new f.wq({loggingLevelConsole:1})),ve.initialize=function(ge,xe,Ge,ze){(0,m.r2)(ve,function(){return"AppInsightsCore.initialize"},function(){var Et=ve.pluginVersionStringArr;if(ge){ge.endpointUrl||(ge.endpointUrl=T.S);var tt=ge.propertyStorageOverride;tt&&(!tt.getProperty||!tt.setProperty)&&(0,N.$8)("Invalid property storage override passed."),ge.channels&&(0,N.Iu)(ge.channels,function(ue){ue&&(0,N.Iu)(ue,function(Q){if(Q.identifier&&Q.version){var ae=Q.identifier+"="+Q.version;Et.push(ae)}})})}ve.getWParam=function(){return typeof document!="undefined"||!!ge.enableWParam?0:-1},xe&&(0,N.Iu)(xe,function(ue){if(ue&&ue.identifier&&ue.version){var Q=ue.identifier+"="+ue.version;Et.push(Q)}}),ve.pluginVersionString=Et.join(";"),ve.pluginVersionStringArr=Et;try{we.initialize(ge,xe,Ge,ze),ve.pollInternalLogs("InternalLog")}catch(ue){var at=ve.logger,Tt=(0,g.mm)(ue);Tt.indexOf("channels")!==-1&&(Tt+=`
 - Channels must be provided through config.channels only!`),(0,f.ZP)(at,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Tt)}},function(){return{config:ge,extensions:xe,logger:Ge,notificationManager:ze}})},ve.track=function(ge){(0,m.r2)(ve,function(){return"AppInsightsCore.track"},function(){var xe=ge;if(xe){xe.timings=xe.timings||{},xe.timings.trackStart=(0,S.WB)(),(0,S.Hh)(xe.latency)||(xe.latency=1);var Ge=xe.ext=xe.ext||{};Ge.sdk=Ge.sdk||{},Ge.sdk.ver=S.xE;var ze=xe.baseData=xe.baseData||{};ze[T._0]=ze[T._0]||{};var Et=ze[T._0];Et[T.hj]=Et[T.hj]||ve.pluginVersionString||T.m5}we.track(xe)},function(){return{item:ge}},!ge.sync)}}),se}return I.__ieDyn=1,I}(v._);const D=x;var z=E(34082),q=function(O){(0,R.qU)(I,O);function I(){var se=O.call(this)||this;return(0,u.A)(I,se,function(ve,we){ve.initialize=function(ge,xe,Ge,ze){ge&&!ge.endpointUrl&&(ge.endpointUrl=T.S),ve.getWParam=function(){return S.g8||!!ge.enableWParam?0:-1};try{we.initialize(ge,xe,Ge,ze)}catch(Et){(0,f.ZP)(ve.logger,1,514,"Initialization Failed: "+(0,g.mm)(Et)+`
 - Note: Channels must be provided through config.channels only`)}},ve.track=function(ge){var xe=ge;if(xe){var Ge=xe.ext=xe.ext||{};Ge.sdk=Ge.sdk||{},Ge.sdk.ver=S.xE}we.track(xe)}}),se}return I.__ieDyn=1,I}(z.F);const H=q;var j=N.Tn;function K(O,I,se){return function(ve){O[I]=ve,se()}}var Y=function(){function O(I){var se=0,ve=null,we=[];(0,u.A)(O,this,function(Et){Et.then=function(tt,at){return new O(function(Tt,ue){ge(tt,at,Tt,ue)})},Et.catch=function(tt){return Et.then(null,tt)}});function ge(Et,tt,at,Tt){we.push(function(){var ue;try{se===1?ue=j(Et)?Et(ve):ve:ue=j(tt)?tt(ve):ve,ue instanceof O?ue.then(at,Tt):se===2&&!j(tt)?Tt(ue):at(ue)}catch(Q){Tt(Q);return}}),se!==0&&xe()}function xe(){if(we.length>0){var Et=we.slice();we=[],setTimeout(function(){for(var tt=0,at=Et.length;tt<at;++tt)try{Et[tt]()}catch(Tt){}},0)}}function Ge(Et){se===0&&(ve=Et,se=1,xe())}function ze(Et){se===0&&(ve=Et,se=2,xe())}(function(){if(!j(I))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{I(Ge,ze)}catch(tt){ze(tt)}})()}return O.resolve=function(I){return I instanceof O?I:I&&j(I.then)?new O(function(se,ve){try{I.then(se,ve)}catch(we){ve(we)}}):new O(function(se){se(I)})},O.reject=function(I){return new O(function(se,ve){ve(I)})},O.all=function(I){if(!(!I||!I.length))return new O(function(se,ve){try{for(var we=[],ge=0,xe=0;xe<I.length;xe++){var Ge=I[xe];Ge&&j(Ge.then)?(ge++,Ge.then(K(we,xe,function(){--ge==0&&se(we)}),ve)):we[xe]=Ge}ge===0&&setTimeout(function(){se(we)},0)}catch(ze){ve(ze)}})},O.race=function(I){return new O(function(se,ve){if(!(!I||!I.length))try{for(var we=function(xe){var Ge=I[xe];Ge&&j(Ge.then)?Ge.then(se,ve):setTimeout(function(){se(Ge)},0)},ge=0;ge<I.length;ge++)we(ge)}catch(xe){ve(xe)}})},O}();const ne=Y;var X=E(75148),M=6e5,G=0,C=[],o=[],w=[];function A(){return new Date().getTime()}var U=function(){function O(I,se){var ve=0,we=(I||"<unnamed>")+"."+G;G++,(0,u.A)(O,this,function(Ge){var ze=null,Et=0;Ge.scheduleEvent=function(at,Tt,ue){var Q=we+"."+Et;Et++,Tt&&(Q+="-("+Tt+")");var ae=Q+"{"+ve+"}";ve++;var be={evt:null,tm:A(),id:ae,isRunning:!1,isAborted:!1};return ze?be.evt=ut(be,ze):be.evt=ot(be),ze=be,ze.evt._schId=ae,be.evt;function De(bt){for(var Xe=A(),_t=Xe-M,vi=bt.length,kt=0;kt<vi;){var Nt=bt[kt];if(Nt&&Nt.tm<_t){var zi=null;Nt.abort?(zi="Aborting ["+Nt.id+"] due to Excessive runtime ("+(Xe-Nt.tm)+" ms)",Nt.abort(zi)):zi="Removing ["+Nt.id+"] due to Excessive runtime ("+(Xe-Nt.tm)+" ms)",xe(zi),bt.splice(kt,1),vi--}else kt++}}function Ke(bt,Xe){var _t=!1,vi=tt(C,bt);if(vi||(vi=tt(w,bt),_t=!0),vi){vi.to&&(clearTimeout(vi.to),vi.to=null);var kt=A()-vi.tm;Xe?_t?xe("Timed out event ["+bt+"] finally complete -- "+kt+" ms"):ge("Promise ["+bt+"] Complete -- "+kt+" ms"):(w.push(vi),xe("Event ["+bt+"] Timed out and removed -- "+kt+" ms"))}else ge("Failed to remove ["+bt+"] from running queue");ze&&ze.id===bt&&(ze=null),De(C),De(o),De(w)}function Ue(bt,Xe){return function(_t){return Ke(bt,!0),Xe&&Xe(_t),_t}}function et(bt,Xe,_t,vi){Xe.then(function(kt){return kt instanceof ne?(ge("Event ["+bt+"] returned a promise -- waiting"),et(bt,kt,_t,vi),kt):Ue(bt,_t)(kt)},Ue(bt,vi))}function qt(bt,Xe){var _t=bt.id;return new ne(function(vi,kt){ge("Event ["+_t+"] Starting -- waited for "+(bt.wTm||"--")+" ms"),bt.isRunning=!0,bt.abort=function(zi){bt.abort=null,bt.isAborted=!0,Ke(_t,!1),kt(new Error(zi))};var Nt=Xe(_t);Nt instanceof ne?(ue&&(bt.to=setTimeout(function(){Ke(_t,!1),kt(new Error("Timed out after ["+ue+"] ms"))},ue)),et(_t,Nt,function(zi){ge("Event ["+_t+"] Resolving after "+(A()-bt.tm)+" ms"),vi(zi)},kt)):(ge("Promise ["+_t+"] Auto completed as the start action did not return a promise"),vi())})}function ot(bt){var Xe=A();return bt.wTm=Xe-bt.tm,bt.tm=Xe,bt.isAborted?ne.reject(new Error("["+Q+"] was aborted")):(C.push(bt),qt(bt,at))}function ut(bt,Xe){var _t=new ne(function(vi,kt){var Nt=A()-Xe.tm,zi=Xe.id;ge("["+Q+"] is waiting for ["+zi+":"+Nt+" ms] to complete before starting -- ["+o.length+"] waiting and ["+C.length+"] running"),bt.abort=function(It){bt.abort=null,tt(o,Q),bt.isAborted=!0,kt(new Error(It))},Xe.evt.then(function(It){tt(o,Q),ot(bt).then(vi,kt)},function(It){tt(o,Q),ot(bt).then(vi,kt)})});return o.push(bt),_t}};function tt(at,Tt){for(var ue=0;ue<at.length;ue++)if(at[ue].id===Tt)return at.splice(ue,1)[0];return null}});function ge(Ge){var ze=(0,X.mS)();ze&&ze.QUnit&&console&&console.log("ESPromiseScheduler["+we+"] "+Ge)}function xe(Ge){(0,f.OG)(se,"ESPromiseScheduler["+we+"] "+Ge)}}return O.incomplete=function(){return C},O.waitingToStart=function(){return o},O}();const $=U;var B=function(){function O(I){var se=this,ve={},we=[],ge=[];I&&ge.push(I);function xe(tt,at){var Tt,ue=ve[tt];if(ue&&(Tt=ue[at]),!Tt&&Tt!==null){if((0,N.Kg)(tt)&&(0,N.Kg)(at))if(ge.length>0){for(var Q=0;Q<ge.length;Q++)if(ge[Q].handleField(tt,at)){Tt={canHandle:!0,fieldHandler:ge[Q]};break}}else we.length===0&&(Tt={canHandle:!0});if(!Tt&&Tt!==null){Tt=null;for(var Q=0;Q<we.length;Q++)if(we[Q].handleField(tt,at)){Tt={canHandle:!0,handler:we[Q],fieldHandler:null};break}}ue||(ue=ve[tt]={}),ue[at]=Tt}return Tt}se.addSanitizer=function(tt){tt&&(we.push(tt),ve={})},se.addFieldSanitizer=function(tt){tt&&(ge.push(tt),ve={})},se.handleField=function(tt,at){var Tt=xe(tt,at);return Tt?Tt.canHandle:!1},se.value=function(tt,at,Tt,ue){var Q=xe(tt,at);if(Q&&Q.canHandle){if(!Q||!Q.canHandle)return null;if(Q.handler)return Q.handler.value(tt,at,Tt,ue);if(!(0,N.Kg)(at)||(0,N.hX)(Tt)||Tt===T.m5)return null;var ae=null,be=(0,S.cq)(Tt);if((be&8192)==8192){var De=be&~8192;if(ae=Tt,!(0,S.yD)(ae.value)||De!==1&&De!==2&&De!==3&&(De&4096)!=4096)return null}else be===1||be===2||be===3||(be&4096)==4096?ae=ze(tt,at,Tt):be===4&&(ae=ze(tt,at,ue?JSON.stringify(Tt):Tt));if(ae)return Ge(Q,tt,at,be,ae,ue)}return null},se.property=function(tt,at,Tt,ue){var Q=xe(tt,at);if(!Q||!Q.canHandle||!(0,N.Kg)(at)||(0,N.hX)(Tt)||!(0,S.yD)(Tt.value))return null;var ae=(0,S.cq)(Tt.value);return ae===0?null:Ge(Q,tt,at,ae,Tt,ue)};function Ge(tt,at,Tt,ue,Q,ae){if(tt.handler)return tt.handler.property(at,Tt,Q,ae);if(!(0,N.hX)(Q.kind)){if((ue&4096)==4096||!(0,S.m0)(Q.kind))return null;Q.value=Q.value.toString()}return Et(tt.fieldHandler,at,Tt,ue,Q)}function ze(tt,at,Tt){return(0,S.yD)(Tt)?{value:Tt}:null}function Et(tt,at,Tt,ue,Q){if(Q&&tt){var ae=tt.getSanitizer(at,Tt,ue,Q.kind,Q.propertyType);if(ae)if(ue===4){var be={},De=Q.value;(0,N.z)(De,function(Ue,et){var qt=at+"."+Tt;if((0,S.yD)(et)){var ot=ze(qt,Ue,et);ot=Et(tt,qt,Ue,(0,S.cq)(et),ot),ot&&(be[Ue]=ot.value)}}),Q.value=be}else{var Ke={path:at,name:Tt,type:ue,prop:Q,sanitizer:se};Q=ae.call(se,Ke)}}return Q}}return O.getFieldType=S.cq,O}(),Z=100,te=E(54660),L=E(56489),re=E(8997),Le=E(31590),_e=E(32578),Ce=E(18413),Me=E(57679),J=E(47672),ee=E(91698),ce=E(64252),me=E(49388),Se=E(68560)},52976:(a,V,E)=>{"use strict";E.d(V,{S:()=>P,_0:()=>l,hj:()=>c,m5:()=>R});var R="",P="https://browser.events.data.microsoft.com/OneCollector/1.0/",N="pluginVersionString",k=N+"Arr",c="version",l="properties"},59091:(a,V,E)=>{"use strict";E.d(V,{Aq:()=>re,EO:()=>q,F2:()=>_e,Go:()=>Y,H$:()=>Ce,Hh:()=>j,P$:()=>D,Ri:()=>G,Rx:()=>u,TC:()=>K,TV:()=>X,UM:()=>C,WB:()=>A,WD:()=>ne,X$:()=>w,Yj:()=>M,cq:()=>L,g8:()=>x,gj:()=>o,h3:()=>H,jS:()=>Le,m0:()=>U,u9:()=>te,wJ:()=>Z,xE:()=>f,yD:()=>z});var R=E(44180),P=E(12497),N=E(91698),k=E(32578),c=E(47672),l=E(18413),h=E(57679),p=E(75148),_=E(52976),b,u="3.2.9",f="1DS-Web-JS-"+u,m="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",g="withCredentials",v="timeout",T=(b={},b[0]=0,b[2]=6,b[1]=1,b[3]=7,b[4096|2]=6,b[4096|1]=1,b[4096|3]=7,b),S=null,x=Boolean((0,R.YE)()),D=Boolean((0,R.zk)());function z(Me){return!(Me===_.m5||(0,P.hX)(Me))}function q(Me){if(Me){var J=Me.indexOf("-");if(J>-1)return Me.substring(0,J)}return _.m5}function H(){return S===null&&(S=!(0,P.b0)(Uint8Array)&&!B()&&!(0,R.lV)()),S}function j(Me){return!!(Me&&(0,P.Et)(Me)&&Me>=1&&Me<=4)}function K(Me,J,ee){if(!J&&!z(J)||typeof Me!="string")return null;var ce=typeof J;if(ce==="string"||ce==="number"||ce==="boolean"||(0,P.cy)(J))J={value:J};else if(ce==="object"&&!c.J$.call(J,"value"))J={value:ee?JSON.stringify(J):J};else if((0,P.hX)(J.value)||J.value===_.m5||!(0,P.Kg)(J.value)&&!(0,P.Et)(J.value)&&!(0,P.Lm)(J.value)&&!(0,P.cy)(J.value))return null;if((0,P.cy)(J.value)&&!Z(J.value))return null;if(!(0,P.hX)(J.kind)){if((0,P.cy)(J.value)||!U(J.kind))return null;J.value=J.value.toString()}return J}function Y(Me,J,ee){var ce=-1;if(!(0,P.b0)(Me))if(J>0&&(J===32?ce=1<<13:J<=13&&(ce=J<<5)),$(ee))ce===-1&&(ce=0),ce|=ee;else{var me=T[L(Me)]||-1;ce!==-1&&me!==-1?ce|=me:me===6&&(ce=me)}return ce}function ne(){(0,N.um)(null).setEnabled(!1)}function X(Me,J,ee){(0,N.gi)(null)&&(0,N.um)(null).set(Me,J,ee*86400,null,"/")}function M(Me){(0,N.gi)(null)&&(0,N.um)(null).del(Me)}function G(Me){return(0,N.gi)(null)?C((0,N.um)(null),Me):_.m5}function C(Me,J,ee){ee===void 0&&(ee=!0);var ce;return Me&&(ce=Me.get(J),ee&&ce&&decodeURIComponent&&(ce=decodeURIComponent(ce))),ce||_.m5}function o(Me){Me===void 0&&(Me="D");var J=(0,k.aq)();return Me==="B"?J="{"+J+"}":Me==="P"?J="("+J+")":Me==="N"&&(J=J.replace(/-/g,_.m5)),J}function w(Me,J,ee,ce,me){var Se={},O=!1,I=0,se=arguments.length,ve=Object[c.vR],we=arguments;for(ve.toString.call(we[0])==="[object Boolean]"&&(O=we[0],I++);I<se;I++){var Me=we[I];(0,P.z)(Me,function(xe,Ge){O&&Ge&&(0,P.Gv)(Ge)?(0,P.cy)(Ge)?(Se[xe]=Se[xe]||[],(0,P.Iu)(Ge,function(ze,Et){ze&&(0,P.Gv)(ze)?Se[xe][Et]=w(!0,Se[xe][Et],ze):Se[xe][Et]=ze})):Se[xe]=w(!0,Se[xe],Ge):Se[xe]=Ge})}return Se}var A=k.UU;function U(Me){return Me===0||Me>0&&Me<=13||Me===32}function $(Me){return Me>=0&&Me<=9}function B(){var Me=(0,R.w3)();if(!(0,P.b0)(Me)&&Me.userAgent){var J=Me.userAgent.toLowerCase();if((J.indexOf("safari")>=0||J.indexOf("firefox")>=0)&&J.indexOf("chrome")<0)return!0}return!1}function Z(Me){return Me.length>0}function te(Me,J){var ee=Me;ee.timings=ee.timings||{},ee.timings.processTelemetryStart=ee.timings.processTelemetryStart||{},ee.timings.processTelemetryStart[J]=A()}function L(Me){var J=0;if(Me!=null){var ee=typeof Me;ee==="string"?J=1:ee==="number"?J=2:ee==="boolean"?J=3:ee===c._1&&(J=4,(0,P.cy)(Me)?(J=4096,Me.length>0&&(J|=L(Me[0]))):c.J$.call(Me,"value")&&(J=8192|L(Me.value)))}return J}var re={Version:u,FullVersionString:f,strUndefined:c.bA,strObject:c._1,Undefined:c.bA,arrForEach:P.Iu,arrIndexOf:P.rD,arrMap:P.W$,arrReduce:P.KT,objKeys:P.cG,toISOString:P._u,isReactNative:R.lV,isString:P.Kg,isNumber:P.Et,isBoolean:P.Lm,isFunction:P.Tn,isArray:P.cy,isObject:P.Gv,strTrim:P.EH,isDocumentObjectAvailable:x,isWindowObjectAvailable:D,isValueAssigned:z,getTenantId:q,isBeaconsSupported:R.Uf,isUint8ArrayAvailable:H,isLatency:j,sanitizeProperty:K,getISOString:P._u,useXDomainRequest:R.PV,getCommonSchemaMetaData:Y,cookieAvailable:N.gi,disallowsSameSiteNone:N.It,setCookie:X,deleteCookie:M,getCookie:G,createGuid:o,extend:w,getTime:A,isValueKind:U,isArrayValid:Z,objDefineAccessors:P.r,addPageUnloadEventListener:l.ee,setProcessTelemetryTimings:te,addEventHandler:l.So,getFieldValueType:L,strEndsWith:P.Cv,objForEachKey:P.z},Le={_canUseCookies:void 0,isTypeof:P.Ed,isUndefined:P.b0,isNullOrUndefined:P.hX,hasOwnProperty:P.mQ,isFunction:P.Tn,isObject:P.Gv,isDate:P.$P,isArray:P.cy,isError:P.bJ,isString:P.Kg,isNumber:P.Et,isBoolean:P.Lm,toISOString:P._u,arrForEach:P.Iu,arrIndexOf:P.rD,arrMap:P.W$,arrReduce:P.KT,strTrim:P.EH,objCreate:p.AQ,objKeys:P.cG,objDefineAccessors:P.r,addEventHandler:l.So,dateNow:P.x3,isIE:R.lT,disableCookies:ne,newGuid:k.aq,perfNow:k.UU,newId:h.Si,randomValue:h.Z1,random32:h.VN,mwcRandomSeed:h.yc,mwcRandom32:h.k5,generateW3CId:k.cL};function _e(){return!!(0,R.EH)("chrome")}function Ce(Me,J,ee,ce,me,Se){ce===void 0&&(ce=!1),me===void 0&&(me=!1);function O(se,ve,we){try{se[ve]=we}catch(ge){}}var I=new XMLHttpRequest;return ce&&O(I,m,ce),ee&&O(I,g,ee),I.open(Me,J,!me),ee&&O(I,g,ee),!me&&Se&&O(I,v,Se),I}},28643:(a,V,E)=>{"use strict";E.r(V),E.d(V,{BE_PROFILE:()=>g,NRT_PROFILE:()=>m,PostChannel:()=>Ut,RT_PROFILE:()=>f});var R=E(8747),P=E(92457),N=E(5204),k=E(18413),c=E(64252),l=E(59091),h=E(12497),p=E(44180),_=E(31590),b=E(99015),u=E(56489),f="REAL_TIME",m="NEAR_REAL_TIME",g="BEST_EFFORT",v="",T="POST",S="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",x="drop",D="send",z="requeue",q="rspFail",H="oth",j="no-cache, no-store",K="application/x-json-stream",Y="cache-control",ne="content-type",X="kill-tokens",M="kill-duration",G="kill-duration-seconds",C="time-delta-millis",o="client-version",w="client-id",A="time-delta-to-apply-millis",U="upload-time",$="apikey",B="AuthMsaDeviceTicket",Z="AuthXToken",te="sdk-version",L="NoResponseBody",re="msfpc",Le="trace",_e="user";function Ce(Ft){var pt=(Ft.ext||{}).intweb;return pt&&(0,l.yD)(pt[re])?pt[re]:null}function Me(Ft){for(var pt=null,St=0;pt===null&&St<Ft.length;St++)pt=Ce(Ft[St]);return pt}var J=function(){function Ft(pt,St){var Mt=St?[].concat(St):[],mi=this,ii=Me(Mt);mi.iKey=function(){return pt},mi.Msfpc=function(){return ii||v},mi.count=function(){return Mt.length},mi.events=function(){return Mt},mi.addEvent=function(Lt){return Lt?(Mt.push(Lt),ii||(ii=Ce(Lt)),!0):!1},mi.split=function(Lt,ai){var gi;if(Lt<Mt.length){var Mi=Mt.length-Lt;(0,h.hX)(ai)||(Mi=ai<Mi?ai:Mi),gi=Mt.splice(Lt,Mi),ii=Me(Mt)}return new Ft(pt,gi)}}return Ft.create=function(pt,St){return new Ft(pt,St)},Ft}(),ee=function(){function Ft(){var pt=!0,St=!0,Mt=!0,mi="use-collector-delta",ii=!1;(0,P.A)(Ft,this,function(Lt){Lt.allowRequestSending=function(){return pt},Lt.firstRequestSent=function(){Mt&&(Mt=!1,ii||(pt=!1))},Lt.shouldAddClockSkewHeaders=function(){return St},Lt.getClockSkewHeaderValue=function(){return mi},Lt.setClockSkew=function(ai){ii||(ai?(mi=ai,St=!0,ii=!0):St=!1,pt=!0)}})}return Ft.__ieDyn=1,Ft}();const ce=ee;var me=1e3,Se=function(){function Ft(){var pt={};function St(Mt){var mi=[];return Mt&&(0,h.Iu)(Mt,function(ii){mi.push((0,h.EH)(ii))}),mi}(0,P.A)(Ft,this,function(Mt){Mt.setKillSwitchTenants=function(mi,ii){if(mi&&ii)try{var Lt=St(mi.split(","));if(ii==="this-request-only")return Lt;for(var ai=parseInt(ii,10)*me,gi=0;gi<Lt.length;++gi)pt[Lt[gi]]=(0,h.x3)()+ai}catch(Mi){return[]}return[]},Mt.isTenantKilled=function(mi){var ii=pt,Lt=(0,h.EH)(mi);return ii[Lt]!==void 0&&ii[Lt]>(0,h.x3)()?!0:(delete ii[Lt],!1)}})}return Ft.__ieDyn=1,Ft}();const O=Se;var I=E(47672),se=.8,ve=1.2,we=3e3,ge=6e5;function xe(Ft){return!(Ft>=300&&Ft<500&&Ft!=408&&Ft!=429||Ft==501||Ft==505)}function Ge(Ft){var pt=0,St=we*se,Mt=we*ve,mi=Math.floor(Math.random()*(Mt-St))+St;return pt=Math.pow(2,Ft)*mi,Math.min(pt,ge)}var ze=20,Et=3984588,tt=65e3,at=2e6,Tt=Math.min(at,tt),ue="metadata",Q="f",ae=/\./,be=function(){function Ft(pt,St,Mt,mi){var ii="data",Lt="baseData",ai="ext",gi=!!mi,Mi=!0,xi=St,Wi={};(0,P.A)(Ft,this,function(Ui){Ui.createPayload=function(Vt,ri,Ri,Hi,bi,Ai){return{apiKeys:[],payloadBlob:v,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Vt,isTeardown:ri,isSync:Ri,isBeacon:Hi,sendType:Ai,sendReason:bi}},Ui.appendPayload=function(Vt,ri,Ri){var Hi=Vt&&ri&&!Vt.overflow;return Hi&&(0,N.r2)(pt,function(){return"Serializer:appendPayload"},function(){for(var bi=ri.events(),Ai=Vt.payloadBlob,$i=Vt.numEvents,sn=!1,Bi=[],_n=[],Pn=Vt.isBeacon,rn=Pn?tt:Et,Rn=Pn?Tt:at,on=0,hn=0;on<bi.length;){var Si=bi[on];if(Si){if($i>=Ri){Vt.overflow=ri.split(on);break}var wi=Ui.getEventBlob(Si);if(wi&&wi.length<=Rn){var An=wi.length,Ar=Ai.length;if(Ar+An>rn){Vt.overflow=ri.split(on);break}Ai&&(Ai+=`
`),Ai+=wi,hn++,hn>ze&&(Ai.substr(0,1),hn=0),sn=!0,$i++}else wi?Bi.push(Si):_n.push(Si),bi.splice(on,1),on--}on++}if(Bi&&Bi.length>0&&Vt.sizeExceed.push(J.create(ri.iKey(),Bi)),_n&&_n.length>0&&Vt.failedEvts.push(J.create(ri.iKey(),_n)),sn){Vt.batches.push(ri),Vt.payloadBlob=Ai,Vt.numEvents=$i;var zn=ri.iKey();(0,h.rD)(Vt.apiKeys,zn)===-1&&Vt.apiKeys.push(zn)}},function(){return{payload:Vt,theBatch:{iKey:ri.iKey(),evts:ri.events()},max:Ri}}),Hi},Ui.getEventBlob=function(Vt){try{return(0,N.r2)(pt,function(){return"Serializer.getEventBlob"},function(){var ri={};ri.name=Vt.name,ri.time=Vt.time,ri.ver=Vt.ver,ri.iKey="o:"+(0,l.EO)(Vt.iKey);var Ri={},Hi=Vt[ai];Hi&&(ri[ai]=Ri,(0,h.z)(Hi,function($i,sn){var Bi=Ri[$i]={};Oi(sn,Bi,"ext."+$i,!0,null,null,!0)}));var bi=ri[ii]={};bi.baseType=Vt.baseType;var Ai=bi[Lt]={};return Oi(Vt.baseData,Ai,Lt,!1,[Lt],function($i,sn,Bi){De(Ri,$i,sn,Bi)},Mi),Oi(Vt.data,bi,ii,!1,[],function($i,sn,Bi){De(Ri,$i,sn,Bi)},Mi),JSON.stringify(ri)},function(){return{item:Vt}})}catch(ri){return null}};function Ni(Vt,ri){var Ri=Wi[Vt];return Ri===void 0&&(Vt.length>=7&&(Ri=(0,h.tG)(Vt,"ext.metadata")||(0,h.tG)(Vt,"ext.web")),Wi[Vt]=Ri),Ri}function Oi(Vt,ri,Ri,Hi,bi,Ai,$i){(0,h.z)(Vt,function(sn,Bi){var _n=null;if(Bi||(0,l.yD)(Bi)){var Pn=Ri,rn=sn,Rn=bi,on=ri;if(gi&&!Hi&&ae.test(sn)){var hn=sn.split("."),Si=hn.length;if(Si>1){Rn&&(Rn=Rn.slice());for(var wi=0;wi<Si-1;wi++){var An=hn[wi];on=on[An]=on[An]||{},Pn+="."+An,Rn&&Rn.push(An)}rn=hn[Si-1]}}var Ar=Hi&&Ni(Pn,rn);if(!Ar&&xi&&xi.handleField(Pn,rn)?_n=xi.value(Pn,rn,Bi,Mt):_n=(0,l.TC)(rn,Bi,Mt),_n){var zn=_n.value;if(on[rn]=zn,Ai&&Ai(Rn,rn,_n),$i&&typeof zn=="object"&&!(0,h.cy)(zn)){var xr=Rn;xr&&(xr=xr.slice(),xr.push(rn)),Oi(Bi,zn,Pn+"."+rn,Hi,xr,Ai,$i)}}}})}})}return Ft.__ieDyn=1,Ft}();function De(Ft,pt,St,Mt){if(Mt&&Ft){var mi=(0,l.Go)(Mt.value,Mt.kind,Mt.propertyType);if(mi>-1){var ii=Ft[ue];ii||(ii=Ft[ue]={f:{}});var Lt=ii[Q];if(Lt||(Lt=ii[Q]={}),pt)for(var ai=0;ai<pt.length;ai++){var gi=pt[ai];Lt[gi]||(Lt[gi]={f:{}});var Mi=Lt[gi][Q];Mi||(Mi=Lt[gi][Q]={}),Lt=Mi}Lt=Lt[St]={},(0,h.cy)(Mt.value)?Lt.a={t:mi}:Lt.t=mi}}}var Ke,Ue="sendAttempt",et="&"+L+"=true",qt=(Ke={},Ke[1]=z,Ke[100]=z,Ke[200]="sent",Ke[8004]=x,Ke[8003]=x,Ke),ot={},ut={};function bt(Ft,pt,St){ot[Ft]=pt,St!==!1&&(ut[pt]=Ft)}bt(B,B,!1),bt(o,o),bt(w,"Client-Id"),bt($,$),bt(A,A),bt(U,U),bt(Z,Z);function Xe(Ft){try{return Ft.responseText}catch(pt){}return v}function _t(Ft,pt){var St=!1;if(Ft&&pt){var Mt=(0,h.cG)(Ft);if(Mt&&Mt.length>0)for(var mi=pt.toLowerCase(),ii=0;ii<Mt.length;ii++){var Lt=Mt[ii];if(Lt&&(0,h.mQ)(pt,Lt)&&Lt.toLowerCase()===mi){St=!0;break}}}return St}function vi(Ft,pt,St,Mt){pt&&St&&St.length>0&&(Mt&&ot[pt]?(Ft.hdrs[ot[pt]]=St,Ft.useHdrs=!0):Ft.url+="&"+pt+"="+St)}function kt(Ft,pt){return pt&&((0,h.Et)(pt)?Ft=[pt].concat(Ft):(0,h.cy)(pt)&&(Ft=pt.concat(Ft))),Ft}var Nt=function(){function Ft(pt,St,Mt,mi,ii){this._responseHandlers=[];var Lt="?cors=true&"+ne.toLowerCase()+"="+K,ai=new O,gi=!1,Mi=new ce,xi=!1,Wi=0,Ui,Ni,Oi,Vt,ri=!0,Ri=[],Hi={},bi=[],Ai=null,$i=!1,sn,Bi=!1,_n=!1,Pn,rn,Rn,on,hn;(0,P.A)(Ft,this,function(Si){var wi=!0;Si.initialize=function($e,ht,vt,Rt,nt){var pi;nt||(nt={}),Lt=$e+Lt,_n=(0,h.b0)(nt.avoidOptions)?!0:!nt.avoidOptions,Vt=ht,sn=ht.getCookieMgr(),$i=!Vt.config.disableEventTimings;var fi=!!Vt.config.enableCompoundKey;Ui=vt,Ni=Ui.diagLog();var Ye=nt.valueSanitizer,dt=nt.stringifyObjects;(0,h.b0)(nt.enableCompoundKey)||(fi=!!nt.enableCompoundKey),Pn=nt.xhrTimeout,rn=!!nt.disableXhrSync,Rn=!!nt.disableFetchKeepAlive,hn=nt.addNoResponse!==!1,xi=!(0,p.lV)(),Ai=new be(Vt,Ye,dt,fi),(0,h.hX)(nt.useSendBeacon)||(xi=!!nt.useSendBeacon);var Ze=Rt,Dt=nt.alwaysUseXhrOverride?Rt:null,Qt=nt.alwaysUseXhrOverride?Rt:null,ci=[3,2];if(!Rt){ri=!1;var Jt=(0,p.g$)();Jt&&Jt.protocol&&Jt.protocol.toLowerCase()==="file:"&&(wi=!1);var he=[];(0,p.lV)()?(he=[2,1],ci=[2,1,3]):he=[1,2,3],he=kt(he,nt.transports),Rt=An(he,!1),Rt||(0,b.OG)(Ni,"No available transport to send events"),Ze=An(he,!0)}Dt||(ci=kt(ci,nt.unloadTransports),Dt=An(ci,!0)),on=!ri&&(xi&&(0,p.Uf)()||!Rn&&(0,p.R7)(!0)),Oi=(pi={},pi[0]=Rt,pi[1]=Ze||An([1,2,3],!0),pi[2]=Dt||Ze||An([1],!0),pi[3]=Qt||An([2,3],!0)||Ze||An([1],!0),pi)};function An($e,ht){for(var vt=0,Rt=null,nt=0;Rt==null&&nt<$e.length;)vt=$e[nt],vt===1?(0,p.PV)()?Rt=Ar:(0,p.xk)()&&(Rt=xr):vt===2&&(0,p.R7)(ht)&&(!ht||ht&&!Rn)?Rt=zn:xi&&vt===3&&(0,p.Uf)()&&(Rt=Lr),nt++;return Rt?{_transport:vt,_isSync:ht,sendPOST:Rt}:null}Si._getDbgPlgTargets=function(){return[Oi[0],ai,Ai,Oi]};function Ar($e,ht,vt){var Rt=new XDomainRequest;Rt.open(T,$e.urlString),$e.timeout&&(Rt.timeout=$e.timeout),Rt.onload=function(){var nt=Xe(Rt);Yn(ht,200,{},nt),jr(nt)},Rt.onerror=function(){Yn(ht,400,{})},Rt.ontimeout=function(){Yn(ht,500,{})},Rt.onprogress=function(){},vt?Rt.send($e.data):ii.set(function(){Rt.send($e.data)},0)}function zn($e,ht,vt){var Rt,nt=$e.urlString,pi=!1,fi=!1,Ye=(Rt={body:$e.data,method:T},Rt[S]=!0,Rt);vt&&(Ye.keepalive=!0,$e._sendReason===2&&(pi=!0,hn&&(nt+=et))),wi&&(Ye.credentials="include"),$e.headers&&(0,h.cG)($e.headers).length>0&&(Ye.headers=$e.headers),fetch(nt,Ye).then(function(dt){var Ze={},Dt=v,Qt=dt.headers;Qt&&Qt.forEach(function(ci,Jt){Ze[Jt]=ci}),dt.body&&dt.text().then(function(ci){Dt=ci}),fi||(fi=!0,Yn(ht,dt.status,Ze,Dt),jr(Dt))}).catch(function(dt){fi||(fi=!0,Yn(ht,0,{}))}),pi&&!fi&&(fi=!0,Yn(ht,200,{})),!fi&&$e.timeout>0&&ii.set(function(){fi||(fi=!0,Yn(ht,500,{}))},$e.timeout)}function xr($e,ht,vt){var Rt=$e.urlString;function nt(dt,Ze,Dt){if(!dt[Dt]&&Ze&&Ze.getResponseHeader){var Qt=Ze.getResponseHeader(Dt);Qt&&(dt[Dt]=(0,h.EH)(Qt))}return dt}function pi(dt){var Ze={};return dt.getAllResponseHeaders?Ze=yn(dt.getAllResponseHeaders()):(Ze=nt(Ze,dt,C),Ze=nt(Ze,dt,M),Ze=nt(Ze,dt,G)),Ze}function fi(dt,Ze){Yn(ht,dt.status,pi(dt),Ze)}vt&&$e.disableXhrSync&&(vt=!1);var Ye=(0,l.H$)(T,Rt,wi,!0,vt,$e.timeout);(0,h.z)($e.headers,function(dt,Ze){Ye.setRequestHeader(dt,Ze)}),Ye.onload=function(){var dt=Xe(Ye);fi(Ye,dt),jr(dt)},Ye.onerror=function(){fi(Ye)},Ye.ontimeout=function(){fi(Ye)},Ye.send($e.data)}function Yn($e,ht,vt,Rt){try{$e(ht,vt,Rt)}catch(nt){(0,b.ZP)(Ni,2,518,(0,p.mm)(nt))}}function Lr($e,ht,vt){var Rt=$e,nt=200,pi=Rt._thePayload,fi=$e.urlString+(hn?et:v);try{var Ye=(0,p.w3)();if(!Ye.sendBeacon(fi,$e.data))if(pi){var dt=[];(0,h.Iu)(pi.batches,function(Ze){if(dt&&Ze&&Ze.count()>0){for(var Dt=Ze.events(),Qt=0;Qt<Dt.length;Qt++)if(!Ye.sendBeacon(fi,Ai.getEventBlob(Dt[Qt]))){dt.push(Ze.split(Qt));break}}else dt.push(Ze.split(0))}),kn(dt,8003,pi.sendType,!0)}else nt=0}catch(Ze){(0,b.OG)(Ni,"Failed to send telemetry using sendBeacon API. Ex:"+(0,p.mm)(Ze)),nt=0}finally{Yn(ht,nt,{},v)}}function kr($e){return $e===2||$e===3}function pn($e){return Bi&&kr($e)&&($e=2),$e}Si.addQueryStringParameter=function($e,ht){for(var vt=0;vt<Ri.length;vt++)if(Ri[vt].name===$e){Ri[vt].value=ht;return}Ri.push({name:$e,value:ht})},Si.addHeader=function($e,ht){Hi[$e]=ht},Si.canSendRequest=function(){return Wn()&&Mi.allowRequestSending()},Si.sendQueuedRequests=function($e,ht){(0,h.b0)($e)&&($e=0),Bi&&($e=pn($e),ht=2),Un(bi,$e,0)&&xn(Jn(),0,!1,$e,ht||0)},Si.isCompletelyIdle=function(){return!gi&&Wi===0&&bi.length===0},Si.setUnloading=function($e){Bi=$e},Si.addBatch=function($e){if($e&&$e.count()>0){if(ai.isTenantKilled($e.iKey()))return!1;bi.push($e)}return!0},Si.teardown=function(){bi.length>0&&xn(Jn(),0,!0,2,2)},Si.pause=function(){gi=!0},Si.resume=function(){gi=!1,Si.sendQueuedRequests(0,4)},Si.sendSynchronousBatch=function($e,ht,vt){$e&&$e.count()>0&&((0,h.hX)(ht)&&(ht=1),Bi&&(ht=pn(ht),vt=2),xn([$e],0,!1,ht,vt||0))};function Wn(){return!gi&&Wi<St}function Jn(){var $e=bi;return bi=[],$e}function Un($e,ht,vt){var Rt=!1;return $e&&$e.length>0&&!gi&&Oi[ht]&&Ai&&(Rt=ht!==0||Wn()&&(vt>0||Mi.allowRequestSending())),Rt}function Ki($e){var ht={};return $e&&(0,h.Iu)($e,function(vt,Rt){ht[Rt]={iKey:vt.iKey(),evts:vt.events()}}),ht}function xn($e,ht,vt,Rt,nt){if(!(!$e||$e.length===0)){if(gi){kn($e,1,Rt);return}Rt=pn(Rt);try{var pi=$e,fi=Rt!==0;(0,N.r2)(Vt,function(){return"HttpManager:_sendBatches"},function(Ye){Ye&&($e=$e.slice(0));for(var dt=[],Ze=null,Dt=(0,l.WB)(),Qt=Oi[Rt]||(fi?Oi[1]:Oi[0]),ci=Qt&&Qt._transport,Jt=on&&(Bi||kr(Rt)||ci===3||Qt._isSync&&ci===2);Un($e,Rt,ht);){var he=$e.shift();he&&he.count()>0&&(ai.isTenantKilled(he.iKey())?dt.push(he):(Ze=Ze||Ai.createPayload(ht,vt,fi,Jt,nt,Rt),Ai.appendPayload(Ze,he,pt)?Ze.overflow!==null&&($e=[Ze.overflow].concat($e),Ze.overflow=null,nr(Ze,Dt,(0,l.WB)(),nt),Dt=(0,l.WB)(),Ze=null):(nr(Ze,Dt,(0,l.WB)(),nt),Dt=(0,l.WB)(),$e=[he].concat($e),Ze=null)))}Ze&&nr(Ze,Dt,(0,l.WB)(),nt),$e.length>0&&(bi=$e.concat(bi)),kn(dt,8004,Rt)},function(){return{batches:Ki(pi),retryCount:ht,isTeardown:vt,isSynchronous:fi,sendReason:nt,useSendBeacon:kr(Rt),sendType:Rt}},!fi)}catch(Ye){(0,b.ZP)(Ni,2,48,"Unexpected Exception sending batch: "+(0,p.mm)(Ye))}}}function Gi($e,ht){var vt={url:Lt,hdrs:{},useHdrs:!1};ht?(vt.hdrs=(0,l.X$)(vt.hdrs,Hi),vt.useHdrs=(0,h.cG)(vt.hdrs).length>0):(0,h.z)(Hi,function(Ye,dt){ut[Ye]?vi(vt,ut[Ye],dt,!1):(vt.hdrs[Ye]=dt,vt.useHdrs=!0)}),vi(vt,w,"NO_AUTH",ht),vi(vt,o,l.xE,ht);var Rt=v;(0,h.Iu)($e.apiKeys,function(Ye){Rt.length>0&&(Rt+=","),Rt+=Ye}),vi(vt,$,Rt,ht),vi(vt,U,(0,h.x3)().toString(),ht);var nt=Ur($e);if((0,l.yD)(nt)&&(vt.url+="&ext.intweb.msfpc="+nt),Mi.shouldAddClockSkewHeaders()&&vi(vt,A,Mi.getClockSkewHeaderValue(),ht),Vt.getWParam){var pi=Vt.getWParam();pi>=0&&(vt.url+="&w="+pi)}for(var fi=0;fi<Ri.length;fi++)vt.url+="&"+Ri[fi].name+"="+Ri[fi].value;return vt}function Xi($e,ht,vt){$e[ht]=$e[ht]||{},$e[ht][Ui.identifier]=vt}function nr($e,ht,vt,Rt){if($e&&$e.payloadBlob&&$e.payloadBlob.length>0){var nt=!!Si.sendHook,pi=Oi[$e.sendType];!kr($e.sendType)&&$e.isBeacon&&$e.sendReason===2&&(pi=Oi[2]||Oi[3]||pi);var fi=_n;($e.isBeacon||pi._transport===3)&&(fi=!1);var Ye=Gi($e,fi);fi=fi||Ye.useHdrs;var dt=(0,l.WB)();(0,N.r2)(Vt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ze=0;Ze<$e.batches.length;Ze++)for(var Dt=$e.batches[Ze],Qt=Dt.events(),ci=0;ci<Qt.length;ci++){var Jt=Qt[ci];if($i){var he=Jt.timings=Jt.timings||{};Xi(he,"sendEventStart",dt),Xi(he,"serializationStart",ht),Xi(he,"serializationCompleted",vt)}Jt[Ue]>0?Jt[Ue]++:Jt[Ue]=1}kn($e.batches,1e3+(Rt||0),$e.sendType,!0);var pe={data:$e.payloadBlob,urlString:Ye.url,headers:Ye.hdrs,_thePayload:$e,_sendReason:Rt,timeout:Pn,disableXhrSync:rn,disableFetchKeepAlive:Rn};fi&&(_t(pe.headers,Y)||(pe.headers[Y]=j),_t(pe.headers,ne)||(pe.headers[ne]=K));var Ne=null;pi&&(Ne=function(Ae){Mi.firstRequestSent();var Be=function(Qe,yt){ta(Qe,yt,$e,Rt)},je=$e.isTeardown||$e.isSync;try{pi.sendPOST(Ae,Be,je),Si.sendListener&&Si.sendListener(pe,Ae,je,$e.isBeacon)}catch(Qe){(0,b.OG)(Ni,"Unexpected exception sending payload. Ex:"+(0,p.mm)(Qe)),Yn(Be,0,{})}}),(0,N.r2)(Vt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Ne)if($e.sendType===0&&Wi++,nt&&!$e.isBeacon&&pi._transport!==3){var Ae={data:pe.data,urlString:pe.urlString,headers:(0,l.X$)({},pe.headers),timeout:pe.timeout,disableXhrSync:pe.disableXhrSync,disableFetchKeepAlive:pe.disableFetchKeepAlive},Be=!1;(0,N.r2)(Vt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Si.sendHook(Ae,function(je){Be=!0,!ri&&!je._thePayload&&(je._thePayload=je._thePayload||pe._thePayload,je._sendReason=je._sendReason||pe._sendReason),Ne(je)},$e.isSync||$e.isTeardown)}catch(je){Be||Ne(pe)}})}else Ne(pe)})},function(){return{thePayload:$e,serializationStart:ht,serializationCompleted:vt,sendReason:Rt}},$e.isSync)}$e.sizeExceed&&$e.sizeExceed.length>0&&kn($e.sizeExceed,8003,$e.sendType),$e.failedEvts&&$e.failedEvts.length>0&&kn($e.failedEvts,8002,$e.sendType)}function Sr($e,ht){$i&&(0,h.Iu)($e,function(vt){var Rt=vt.timings=vt.timings||{};Xi(Rt,"sendEventCompleted",ht)})}function ta($e,ht,vt,Rt){var nt=9e3,pi=null,fi=!1,Ye=!1;try{var dt=!0;if(typeof $e!==I.bA){if(ht){Mi.setClockSkew(ht[C]);var Ze=ht[M]||ht["kill-duration-seconds"];(0,h.Iu)(ai.setKillSwitchTenants(ht[X],Ze),function(Qt){(0,h.Iu)(vt.batches,function(ci){if(ci.iKey()===Qt){pi=pi||[];var Jt=ci.split(0);vt.numEvents-=Jt.count(),pi.push(Jt)}})})}if($e==200||$e==204){nt=200;return}(!xe($e)||vt.numEvents<=0)&&(dt=!1),nt=9e3+$e%1e3}if(dt){nt=100;var Dt=vt.retryCnt;vt.sendType===0&&(Dt<Mt?(fi=!0,Rr(function(){vt.sendType===0&&Wi--,xn(vt.batches,Dt+1,vt.isTeardown,Bi?2:vt.sendType,5)},Bi,Ge(Dt))):(Ye=!0,Bi&&(nt=8001)))}}finally{fi||(Mi.setClockSkew(),bn(vt,nt,Rt,Ye)),kn(pi,8004,vt.sendType)}}function bn($e,ht,vt,Rt){try{Rt&&Ui._backOffTransmission(),ht===200&&(!Rt&&!$e.isSync&&Ui._clearBackOff(),fa($e.batches)),kn($e.batches,ht,$e.sendType,!0)}finally{$e.sendType===0&&(Wi--,vt!==5&&Si.sendQueuedRequests($e.sendType,vt))}}function fa($e){if($i){var ht=(0,l.WB)();(0,h.Iu)($e,function(vt){vt&&vt.count()>0&&Sr(vt.events(),ht)})}}function Rr($e,ht,vt){ht?$e():ii.set($e,vt)}function yn($e){var ht={};if((0,h.Kg)($e)){var vt=(0,h.EH)($e).split(/[\r\n]+/);(0,h.Iu)(vt,function(Rt){if(Rt){var nt=Rt.indexOf(": ");if(nt!==-1){var pi=(0,h.EH)(Rt.substring(0,nt)).toLowerCase(),fi=(0,h.EH)(Rt.substring(nt+1));ht[pi]=fi}else ht[(0,h.EH)(Rt)]=1}})}return ht}function Ur($e){for(var ht=0;ht<$e.batches.length;ht++){var vt=$e.batches[ht].Msfpc();if(vt)return encodeURIComponent(vt)}return v}function jr($e){var ht=Si._responseHandlers;try{for(var vt=0;vt<ht.length;vt++)try{ht[vt]($e)}catch(nt){(0,b.ZP)(Ni,1,519,"Response handler failed: "+nt)}if($e){var Rt=JSON.parse($e);(0,l.yD)(Rt.webResult)&&(0,l.yD)(Rt.webResult[re])&&sn.set("MSFPC",Rt.webResult[re],365*86400)}}catch(nt){}}function kn($e,ht,vt,Rt){if($e&&$e.length>0&&mi){var nt=mi[lr(ht)];if(nt){var pi=vt!==0;(0,N.r2)(Vt,function(){return"HttpManager:_sendBatchesNotification"},function(){Rr(function(){try{nt.call(mi,$e,ht,pi,vt)}catch(fi){(0,b.ZP)(Ni,1,74,"send request notification failed: "+fi)}},Rt||pi,0)},function(){return{batches:Ki($e),reason:ht,isSync:pi,sendSync:Rt,sendType:vt}},!pi)}}}function lr($e){var ht=qt[$e];return(0,l.yD)(ht)||(ht=H,$e>=9e3&&$e<=9999?ht=q:$e>=8e3&&$e<=8999?ht=x:$e>=1e3&&$e<=1999&&(ht=D)),ht}})}return Ft.__ieDyn=1,Ft}();function zi(Ft,pt){for(var St=[],Mt=2;Mt<arguments.length;Mt++)St[Mt-2]=arguments[Mt];return setTimeout(Ft,pt,St)}function It(Ft){clearTimeout(Ft)}function Ht(Ft,pt){return{set:Ft||zi,clear:pt||It}}var jn=.25,Yt=500,jt=20,Ln=6,Kt=2,Zt=4,Ji=2,Oe=1,We="eventsDiscarded",wt="overrideInstrumentationKey",ct="maxEventRetryAttempts",gt="maxUnloadEventRetryAttempts",si="addUnloadCb",xt=function(Ft){(0,R.qU)(pt,Ft);function pt(){var St=Ft.call(this)||this;St.identifier="PostChannel",St.priority=1011,St.version="3.2.9";var Mt,mi=!1,ii=[],Lt=null,ai=!1,gi=0,Mi=500,xi=0,Wi=1e4,Ui={},Ni=f,Oi=null,Vt=null,ri=0,Ri=0,Hi,bi,Ai={},$i,sn,Bi=-1,_n,Pn=!0,rn=!1,Rn=Ln,on=Kt,hn,Si;return(0,P.A)(pt,St,function(wi,An){Wn(),wi._getDbgPlgTargets=function(){return[bi]},wi.initialize=function(Ye,dt,Ze){(0,N.r2)(dt,function(){return"PostChannel:initialize"},function(){var Dt=dt;An.initialize(Ye,dt,Ze);try{var Qt=!!dt[si];hn=(0,k.Hm)((0,c.Z)(wi.identifier),dt.evtNamespace&&dt.evtNamespace());var ci=wi._getTelCtx();Ye.extensionConfig[wi.identifier]=Ye.extensionConfig[wi.identifier]||{},Mt=ci.getExtCfg(wi.identifier),Si=Ht(Mt.setTimeoutOverride,Mt.clearTimeoutOverride),Pn=!Mt.disableOptimizeObj&&(0,l.F2)(),Ar(Dt),Mt.eventsLimitInMem>0&&(Wi=Mt.eventsLimitInMem),Mt.immediateEventLimit>0&&(Mi=Mt.immediateEventLimit),Mt.autoFlushEventsLimit>0&&($i=Mt.autoFlushEventsLimit),(0,h.Et)(Mt[ct])&&(Rn=Mt[ct]),(0,h.Et)(Mt[gt])&&(on=Mt[gt]),fi(),Mt.httpXHROverride&&Mt.httpXHROverride.sendPOST&&(Hi=Mt.httpXHROverride),(0,l.yD)(Ye.anonCookieName)&&bi.addQueryStringParameter("anoncknm",Ye.anonCookieName),bi.sendHook=Mt.payloadPreprocessor,bi.sendListener=Mt.payloadListener;var Jt=Mt.overrideEndpointUrl?Mt.overrideEndpointUrl:Ye.endpointUrl;wi._notificationManager=dt.getNotifyMgr(),bi.initialize(Jt,wi.core,wi,Hi,Mt);var he=Ye.disablePageUnloadEvents||[];(0,k.ee)(zn,he,hn),(0,k.Fc)(zn,he,hn),(0,k.oS)(xr,Ye.disablePageShowEvents,hn)}catch(pe){throw wi.setInitialized(!1),pe}},function(){return{coreConfig:Ye,core:dt,extensions:Ze}})},wi.processTelemetry=function(Ye,dt){(0,l.u9)(Ye,wi.identifier),dt=wi._getTelCtx(dt);var Ze=dt.getExtCfg(wi.identifier),Dt=!!Mt.disableTelemetry;Ze&&(Dt=Dt||!!Ze.disableTelemetry);var Qt=Ye;!Dt&&!mi&&(Mt[wt]&&(Qt.iKey=Mt[wt]),Ze&&Ze[wt]&&(Qt.iKey=Ze[wt]),Yn(Qt,!0),rn?Ki(2,2):pn()),wi.processNext(Qt,dt)},wi._doTeardown=function(Ye,dt){Ki(2,2),mi=!0,bi.teardown(),(0,k.Ds)(null,hn),(0,k.sq)(null,hn),(0,k.vF)(null,hn),Wn()};function Ar(Ye){var dt=Ye.getWParam;Ye.getWParam=function(){var Ze=0;return Mt.ignoreMc1Ms0CookieProcessing&&(Ze=Ze|2),Ze|dt()}}function zn(Ye){var dt=Ye||(0,p.zk)().event;dt.type!=="beforeunload"&&(rn=!0,bi.setUnloading(rn)),Ki(2,2)}function xr(Ye){rn=!1,bi.setUnloading(rn)}function Yn(Ye,dt){if(Ye.sendAttempt||(Ye.sendAttempt=0),Ye.latency||(Ye.latency=1),Ye.ext&&Ye.ext[Le]&&delete Ye.ext[Le],Ye.ext&&Ye.ext[_e]&&Ye.ext[_e].id&&delete Ye.ext[_e].id,Pn&&(l.u9,Ye.ext=(0,h.hW)(Ye.ext),Ye.baseData&&(Ye.baseData=(0,h.hW)(Ye.baseData)),Ye.data&&(Ye.data=(0,h.hW)(Ye.data))),Ye.sync){if(ri||ai)Ye.latency=3,Ye.sync=!1;else if(bi){Pn&&(Ye=(0,h.hW)(Ye)),bi.sendSynchronousBatch(J.create(Ye.iKey,[Ye]),Ye.sync===!0?1:Ye.sync,3);return}}var Ze=Ye.latency,Dt=xi,Qt=Wi;Ze===4&&(Dt=gi,Qt=Mi);var ci=!1;if(Dt<Qt)ci=!nr(Ye,dt);else{var Jt=1,he=jt;Ze===4&&(Jt=4,he=1),ci=!0,Sr(Ye.iKey,Ye.latency,Jt,he)&&(ci=!nr(Ye,dt))}ci&&lr(We,[Ye],_.x.QueueFull)}wi.setEventQueueLimits=function(Ye,dt){Wi=Ye>0?Ye:1e4,$i=dt>0?dt:0,fi();var Ze=xi>Ye;if(!Ze&&sn>0)for(var Dt=1;!Ze&&Dt<=3;Dt++){var Qt=Ai[Dt];Qt&&Qt.batches&&(0,h.Iu)(Qt.batches,function(ci){ci&&ci.count()>=sn&&(Ze=!0)})}Xi(!0,Ze)},wi.pause=function(){Un(),ai=!0,bi.pause()},wi.resume=function(){ai=!1,bi.resume(),pn()},wi.addResponseHandler=function(Ye){bi._responseHandlers.push(Ye)},wi._loadTransmitProfiles=function(Ye){yn(),(0,h.z)(Ye,function(dt,Ze){var Dt=Ze.length;if(Dt>=2){var Qt=Dt>2?Ze[2]:0;if(Ze.splice(0,Dt-2),Ze[1]<0&&(Ze[0]=-1),Ze[1]>0&&Ze[0]>0){var ci=Ze[0]/Ze[1];Ze[0]=Math.ceil(ci)*Ze[1]}Qt>=0&&Ze[1]>=0&&Qt>Ze[1]&&(Qt=Ze[1]),Ze.push(Qt),Ui[dt]=Ze}})},wi.flush=function(Ye,dt,Ze){if(Ye===void 0&&(Ye=!0),!ai)if(Ze=Ze||1,Ye)Lt==null?(Un(),bn(1,0,Ze),Lt=Jn(function(){Lt=null,fa(dt,Ze)},0)):ii.push(dt);else{var Dt=Un();Lr(1,1,Ze),dt!=null&&dt(),Dt&&pn()}},wi.setMsaAuthTicket=function(Ye){bi.addHeader(B,Ye)},wi.hasEvents=kr,wi._setTransmitProfile=function(Ye){Ni!==Ye&&Ui[Ye]!==void 0&&(Un(),Ni=Ye,pn())};function Lr(Ye,dt,Ze){var Dt=bn(Ye,dt,Ze);return bi.sendQueuedRequests(dt,Ze),Dt}function kr(){return xi>0}function pn(){if(Bi>=0&&bn(Bi,0,_n)&&bi.sendQueuedRequests(0,_n),gi>0&&!Vt&&!ai){var Ye=Ui[Ni][2];Ye>=0&&(Vt=Jn(function(){Vt=null,Lr(4,0,1),pn()},Ye))}var dt=Ui[Ni][1];!Oi&&!Lt&&dt>=0&&!ai&&(kr()?Oi=Jn(function(){Oi=null,Lr(Ri===0?3:1,0,1),Ri++,Ri%=2,pn()},dt):Ri=0)}wi._backOffTransmission=function(){ri<Zt&&(ri++,Un(),pn())},wi._clearBackOff=function(){ri&&(ri=0,Un(),pn())};function Wn(){Mt=null,mi=!1,ii=[],Lt=null,ai=!1,gi=0,Mi=500,xi=0,Wi=1e4,Ui={},Ni=f,Oi=null,Vt=null,ri=0,Ri=0,Hi=null,Ai={},$i=void 0,sn=0,Bi=-1,_n=null,Pn=!0,rn=!1,Rn=Ln,on=Kt,hn=null,Si=Ht(),bi=new Nt(Yt,Ji,Oe,{requeue:jr,send:ht,sent:vt,drop:Rt,rspFail:nt,oth:pi},Si),Ur(),xn(),fi()}function Jn(Ye,dt){dt===0&&ri&&(dt=1);var Ze=1e3;return ri&&(Ze=Ge(ri-1)),Si.set(Ye,dt*Ze)}function Un(){return Oi!==null?(Si.clear(Oi),Oi=null,Ri=0,!0):!1}function Ki(Ye,dt){Un(),Lt&&(Si.clear(Lt),Lt=null),ai||Lr(1,Ye,dt)}function xn(){Ai[4]={batches:[],iKeyMap:{}},Ai[3]={batches:[],iKeyMap:{}},Ai[2]={batches:[],iKeyMap:{}},Ai[1]={batches:[],iKeyMap:{}}}function Gi(Ye,dt,Ze){var Dt=Ai[dt];Dt||(dt=1,Dt=Ai[dt]);var Qt=Dt.iKeyMap[Ye];return!Qt&&Ze&&(Qt=J.create(Ye),Dt.batches.push(Qt),Dt.iKeyMap[Ye]=Qt),Qt}function Xi(Ye,dt){bi.canSendRequest()&&!ri&&($i>0&&xi>$i&&(dt=!0),dt&&Lt==null&&wi.flush(Ye,null,20))}function nr(Ye,dt){Pn&&(Ye=(0,h.hW)(Ye));var Ze=Ye.latency,Dt=Gi(Ye.iKey,Ze,!0);return Dt.addEvent(Ye)?(Ze!==4?(xi++,dt&&Ye.sendAttempt===0&&Xi(!Ye.sync,sn>0&&Dt.count()>=sn)):gi++,!0):!1}function Sr(Ye,dt,Ze,Dt){for(;Ze<=dt;){var Qt=Gi(Ye,dt,!0);if(Qt&&Qt.count()>0){var ci=Qt.split(0,Dt),Jt=ci.count();if(Jt>0)return Ze===4?gi-=Jt:xi-=Jt,$e(We,[ci],_.x.QueueFull),!0}Ze++}return ta(),!1}function ta(){for(var Ye=0,dt=0,Ze=function(Qt){var ci=Ai[Qt];ci&&ci.batches&&(0,h.Iu)(ci.batches,function(Jt){Qt===4?Ye+=Jt.count():dt+=Jt.count()})},Dt=1;Dt<=4;Dt++)Ze(Dt);xi=dt,gi=Ye}function bn(Ye,dt,Ze){var Dt=!1,Qt=dt===0;return!Qt||bi.canSendRequest()?(0,N.r2)(wi.core,function(){return"PostChannel._queueBatches"},function(){for(var ci=[],Jt=4;Jt>=Ye;){var he=Ai[Jt];he&&he.batches&&he.batches.length>0&&((0,h.Iu)(he.batches,function(pe){bi.addBatch(pe)?Dt=Dt||pe&&pe.count()>0:ci=ci.concat(pe.events()),Jt===4?gi-=pe.count():xi-=pe.count()}),he.batches=[],he.iKeyMap={}),Jt--}ci.length>0&&lr(We,ci,_.x.KillSwitch),Dt&&Bi>=Ye&&(Bi=-1,_n=0)},function(){return{latency:Ye,sendType:dt,sendReason:Ze}},!Qt):(Bi=Bi>=0?Math.min(Bi,Ye):Ye,_n=Math.max(_n,Ze)),Dt}function fa(Ye,dt){Lr(1,0,dt),ta(),Rr(function(){Ye&&Ye(),ii.length>0?Lt=Jn(function(){Lt=null,fa(ii.shift(),dt)},0):(Lt=null,pn())})}function Rr(Ye){bi.isCompletelyIdle()?Ye():Lt=Jn(function(){Lt=null,Rr(Ye)},jn)}function yn(){Un(),Ur(),Ni=f,pn()}function Ur(){Ui={},Ui[f]=[2,1,0],Ui[m]=[6,3,0],Ui[g]=[18,9,0]}function jr(Ye,dt){var Ze=[],Dt=Rn;rn&&(Dt=on),(0,h.Iu)(Ye,function(Qt){Qt&&Qt.count()>0&&(0,h.Iu)(Qt.events(),function(ci){ci&&(ci.sync&&(ci.latency=4,ci.sync=!1),ci.sendAttempt<Dt?((0,l.u9)(ci,wi.identifier),Yn(ci,!1)):Ze.push(ci))})}),Ze.length>0&&lr(We,Ze,_.x.NonRetryableStatus),rn&&Ki(2,2)}function kn(Ye,dt){var Ze=wi._notificationManager||{},Dt=Ze[Ye];if(Dt)try{Dt.apply(Ze,dt)}catch(Qt){(0,b.ZP)(wi.diagLog(),1,74,Ye+" notification failed: "+Qt)}}function lr(Ye,dt){for(var Ze=[],Dt=2;Dt<arguments.length;Dt++)Ze[Dt-2]=arguments[Dt];dt&&dt.length>0&&kn(Ye,[dt].concat(Ze))}function $e(Ye,dt){for(var Ze=[],Dt=2;Dt<arguments.length;Dt++)Ze[Dt-2]=arguments[Dt];dt&&dt.length>0&&(0,h.Iu)(dt,function(Qt){Qt&&Qt.count()>0&&kn(Ye,[Qt.events()].concat(Ze))})}function ht(Ye,dt,Ze){Ye&&Ye.length>0&&kn("eventsSendRequest",[dt>=1e3&&dt<=1999?dt-1e3:0,Ze!==!0])}function vt(Ye,dt){$e("eventsSent",Ye,dt),pn()}function Rt(Ye,dt){$e(We,Ye,dt>=8e3&&dt<=8999?dt-8e3:_.x.Unknown)}function nt(Ye){$e(We,Ye,_.x.NonRetryableStatus),pn()}function pi(Ye,dt){$e(We,Ye,_.x.Unknown),pn()}function fi(){!Mt||!Mt.disableAutoBatchFlushLimit?sn=Math.max(Yt*(Ji+1),Wi/6):sn=0}(0,h.r)(wi,"_setTimeoutOverride",function(){return Si.set},function(Ye){Si=Ht(Ye,Si.clear)}),(0,h.r)(wi,"_clearTimeoutOverride",function(){return Si.clear},function(Ye){Si=Ht(Si.set,Ye)})}),St}return pt.__ieDyn=1,pt}(u.s);const Ut=xt},96434:(a,V,E)=>{"use strict";E.d(V,{Hj:()=>P,oP:()=>k});var R=E(12497);function P(c){var l={};return(0,R.z)(c,function(h,p){l[h]=p,l[p]=h}),(0,R.ol)(l)}function N(c){var l={};return objForEachKey(c,function(h,p){l[h]=h,l[p]=h}),deepFreeze(l)}function k(c){var l={};return(0,R.z)(c,function(h,p){l[h]=p[1],l[p[0]]=p[1]}),(0,R.ol)(l)}},31590:(a,V,E)=>{"use strict";E.d(V,{x:()=>P});var R=E(96434),P=(0,R.Hj)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},83897:(a,V,E)=>{"use strict";E.d(V,{$:()=>D,b:()=>x});var R=E(96434),P,N="Failed",k=N+"MonitorAjax",c="Track",l="Start",h="Stop",p="Event",_="AuthContext",b="Exception",u="Local",f="Session",m="Storage",g="Browser",v="Cannot",T="Buffer",S="InstrumentationKey",x=(0,R.Hj)({CRITICAL:1,WARNING:2}),D=(0,R.Hj)((P={},P[g+"DoesNotSupport"+u+m]=0,P[g+v+"Read"+u+m]=1,P[g+v+"Read"+f+m]=2,P[g+v+"Write"+u+m]=3,P[g+v+"Write"+f+m]=4,P[g+N+"RemovalFrom"+u+m]=5,P[g+N+"RemovalFrom"+f+m]=6,P[v+"SendEmptyTelemetry"]=7,P.ClientPerformanceMathError=8,P["ErrorParsingAI"+f+"Cookie"]=9,P.ErrorPVCalc=10,P[b+"WhileLoggingError"]=11,P[N+"AddingTelemetryTo"+T]=12,P[k+"Abort"]=13,P[k+"Dur"]=14,P[k+"Open"]=15,P[k+"RSC"]=16,P[k+"Send"]=17,P[k+"GetCorrelationHeader"]=18,P[N+"ToAddHandlerForOnBeforeUnload"]=19,P[N+"ToSendQueuedTelemetry"]=20,P[N+"ToReportDataLoss"]=21,P["Flush"+N]=22,P.MessageLimitPerPVExceeded=23,P.MissingRequiredFieldSpecification=24,P.NavigationTimingNotSupported=25,P.OnError=26,P[f+"RenewalDateIsZero"]=27,P.SenderNotInitialized=28,P[l+c+p+N]=29,P[h+c+p+N]=30,P[l+c+N]=31,P[h+c+N]=32,P.TelemetrySampledAndNotSent=33,P[c+p+N]=34,P[c+b+N]=35,P[c+"Metric"+N]=36,P[c+"PV"+N]=37,P[c+"PV"+N+"Calc"]=38,P[c+"Trace"+N]=39,P["Transmission"+N]=40,P[N+"ToSet"+m+T]=41,P[N+"ToRestore"+m+T]=42,P.InvalidBackendResponse=43,P[N+"ToFixDepricatedValues"]=44,P.InvalidDurationValue=45,P.TelemetryEnvelopeInvalid=46,P.CreateEnvelopeError=47,P[v+"SerializeObject"]=48,P[v+"SerializeObjectNonSerializable"]=49,P.CircularReferenceDetected=50,P["Clear"+_+N]=51,P[b+"Truncated"]=52,P.IllegalCharsInName=53,P.ItemNotInArray=54,P.MaxAjaxPerPVExceeded=55,P.MessageTruncated=56,P.NameTooLong=57,P.SampleRateOutOfRange=58,P["Set"+_+N]=59,P["Set"+_+N+"AccountName"]=60,P.StringValueTooLong=61,P.StartCalledMoreThanOnce=62,P.StopCalledWithoutStart=63,P["TelemetryInitializer"+N]=64,P.TrackArgumentsNotSpecified=65,P.UrlTooLong=66,P[f+m+T+"Full"]=67,P[v+"AccessCookie"]=68,P.IdTooLong=69,P.InvalidEvent=70,P[k+"SetRequestHeader"]=71,P["Send"+g+"InfoOnUserInit"]=72,P["Plugin"+b]=73,P["Notification"+b]=74,P.SnippetScriptLoadFailure=99,P["Invalid"+S]=100,P[v+"ParseAiBlobValue"]=101,P.InvalidContentBlob=102,P[c+"PageAction"+p+N]=103,P[N+"AddingCustomDefinedRequestContext"]=104,P["InMemory"+m+T+"Full"]=105,P[S+"Deprecation"]=106,P))},12235:(a,V,E)=>{"use strict";E.d(V,{_:()=>b});var R=E(8747),P=E(92457),N=E(60830),k=E(34082),c=E(99015),l=E(12497),h=E(1972),p=E(54660),_=E(5204),b=function(u){(0,R.qU)(f,u);function f(){var m=u.call(this)||this;return(0,P.A)(f,m,function(g,v){g[N.mE]=function(x,D,z,q){v[N.mE](x,D,z||new c.wq(x),q||new p.h(x))},g.track=function(x){(0,_.r2)(g[h.kI](),function(){return"AppInsightsCore:track"},function(){x===null&&(S(x),(0,l.$8)("Invalid telemetry item")),T(x),v.track(x)},function(){return{item:x}},!x.sync)};function T(x){(0,l.hX)(x[N.RS])&&(S(x),(0,l.$8)("telemetry name required"))}function S(x){var D=g[N.RF]();D&&D[h.Yp]([x],2)}}),m}return f.__ieDyn=1,f}(k.F)},34082:(a,V,E)=>{"use strict";E.d(V,{F:()=>w});var R=E(8747),P=E(92457),N=E(75148),k=E(60830),c=E(12497),l=E(1972),h=E(8997),p=E(33540),_=500,b="Channel has invalid priority - ";function u(A,U,$){U&&(0,c.cy)(U)&&U[k.oI]>0&&(U=U.sort(function(B,Z){return B[l.Vo]-Z[l.Vo]}),(0,c.Iu)(U,function(B){B[l.Vo]<_&&(0,c.$8)(b+B[k.Ju])}),A[k.y5]({queue:(0,c.N6)(U),chain:(0,h.PV)(U,$[k.GA],$)}))}function f(A,U){function $(){return(0,h.i8)(null,U[k.GA],U,null)}function B(_e,Ce,Me,J){var ee=_e?_e[k.oI]+1:1;function ce(){ee--,ee===0&&(J&&J(),J=null)}ee>0&&(0,c.Iu)(_e,function(me){if(me&&me.queue[k.oI]>0){var Se=me.chain,O=Ce[k.$o](Se);O[k.by](ce),Me(O)}else ee--}),ce()}function Z(_e,Ce){var Me=Ce||{reason:0};return B(A,_e,function(J){J[k.$5](Me)},function(){_e[k.$5](Me)}),!0}function te(_e,Ce){var Me=Ce||{reason:0,isAsync:!1};return B(A,_e,function(J){J[k.$5](Me)},function(){_e[k.$5](Me),re=!1}),!0}function L(_e){var Ce=null;return A&&A[k.oI]>0&&(0,c.Iu)(A,function(Me){if(Me&&Me.queue[k.oI]>0&&((0,c.Iu)(Me.queue,function(J){if(J[k.Ju]===_e)return Ce=J,-1}),Ce))return-1}),Ce}var re=!1,Le={identifier:"ChannelControllerPlugin",priority:_,initialize:function(_e,Ce,Me,J){re=!0,(0,c.Iu)(A,function(ee){ee&&ee.queue[k.oI]>0&&(0,p.pI)((0,h.i8)(ee.chain,_e,Ce),Me)})},isInitialized:function(){return re},processTelemetry:function(_e,Ce){B(A,Ce||$(),function(Me){Me[k.$5](_e)},function(){Ce[k.$5](_e)})},update:Z,pause:function(){B(A,$(),function(_e){_e.iterate(function(Ce){Ce.pause&&Ce.pause()})},null)},resume:function(){B(A,$(),function(_e){_e.iterate(function(Ce){Ce.resume&&Ce.resume()})},null)},teardown:te,getChannel:L,flush:function(_e,Ce,Me,J){var ee=1,ce=!1,me=null;J=J||5e3;function Se(){ee--,ce&&ee===0&&(me&&(clearTimeout(me),me=null),Ce&&Ce(ce),Ce=null)}return B(A,$(),function(O){O.iterate(function(I){if(I[k.EX]){ee++;var se=!1;I[k.EX](_e,function(){se=!0,Se()},Me)||se||(_e&&me==null?me=setTimeout(function(){me=null,Se()},J):Se())}})},function(){ce=!0,Se()}),!0},_setQueue:function(_e){A=_e}};return Le}function m(A,U,$){var B=[];if(A&&(0,c.Iu)(A,function(te){return u(B,te,$)}),U){var Z=[];(0,c.Iu)(U,function(te){te[l.Vo]>_&&Z[k.y5](te)}),u(B,Z,$)}return B}var g=E(91698),v=E(64252),T=E(95331),S=E(99015),x=E(5204),D=E(56489),z=E(44180),q=function(A){(0,R.qU)(U,A);function U(){var $=A.call(this)||this;$.identifier="TelemetryInitializerPlugin",$.priority=199;var B,Z;te(),(0,P.A)(U,$,function(L,re){L.addTelemetryInitializer=function(Le){var _e={id:B++,fn:Le};Z[k.y5](_e);var Ce={remove:function(){(0,c.Iu)(Z,function(Me,J){if(Me.id===_e.id)return Z[k.Ic](J,1),-1})}};return Ce},L[l.qT]=function(Le,_e){for(var Ce=!1,Me=Z[k.oI],J=0;J<Me;++J){var ee=Z[J];if(ee)try{if(ee.fn[k.y9](null,[Le])===!1){Ce=!0;break}}catch(ce){(0,S.ZP)(_e[k.e4](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,c.lL)(ce),{exception:(0,z.mm)(ce)},!0)}}Ce||L[k.$5](Le,_e)},L[k.tn]=function(){te()}});function te(){B=0,Z=[]}return $}return U.__ieDyn=1,U}(D.s),H=E(49388),j="Plugins must provide initialize method",K="_notificationManager",Y="SDK is still unloading...",ne="SDK is not initialized",X={loggingLevelConsole:1};function M(A,U){return new x.NS(U)}function G(A,U,$){var B,Z=[],te={};return(0,c.Iu)($,function(L){((0,c.hX)(L)||(0,c.hX)(L[k.mE]))&&(0,c.$8)(j);var re=L[l.Vo],Le=L[k.Ju];L&&re&&((0,c.hX)(te[re])?te[re]=Le:(0,S.OG)(A,"Two extensions have same priority #"+re+" - "+te[re]+", "+Le)),(!re||re<U)&&Z[k.y5](L)}),B={all:$},B[l.eT]=Z,B}function C(A,U){var $=!1;return(0,c.Iu)(U,function(B){if(B===A)return $=!0,-1}),$}function o(){var A;return(0,N.AQ)((A={},A[k.vR]=function(U){},A[k.TP]=function(U){},A[l.fc]=function(U){},A[l.Yp]=function(U,$){},A[l.dI]=function(U,$){},A))}var w=function(){function A(){var U,$,B,Z,te,L,re,Le,_e,Ce,Me,J,ee,ce,me,Se,O,I,se,ve,we=0;(0,P.A)(A,this,function(ge){xe(),ge[k.tZ]=function(){return $},ge[k.mE]=function(Ue,et,qt,ot){ce&&(0,c.$8)(Y),ge[k.tZ]()&&(0,c.$8)("Core should not be initialized more than once"),U=Ue||{},ge[k.GA]=U,(0,c.hX)(Ue[k.sl])&&(0,c.$8)("Please provide instrumentation key"),Z=ot,ge[K]=ot,Q(),ae(),be(),qt&&(ge[k.Uw]=qt);var ut=(0,c.c2)(U,l.jy,[]);_e=[],_e[k.y5].apply(_e,(0,R.vz)((0,R.vz)([],et,!1),ut,!1)),J=(0,c.c2)(U,l.LZ,[]),ze(null),(!ee||ee[k.oI]===0)&&(0,c.$8)("No "+l.LZ+" available"),$=!0,ge.releaseQueue()},ge.getTransmissionControls=function(){var Ue=[];return ee&&(0,c.Iu)(ee,function(et){Ue[k.y5](et.queue)}),(0,c.N6)(Ue)},ge.track=function(Ue){Ue.iKey=Ue.iKey||U[k.sl],Ue[k.fA]=Ue[k.fA]||(0,c._u)(new Date),Ue.ver=Ue.ver||"4.0",!ce&&ge[k.tZ]()?Ge()[k.$5](Ue):B[k.y5](Ue)},ge[k.ps]=Ge,ge[k.RF]=function(){return Z||(Z=o(),ge[K]=Z),Z},ge[k.vR]=function(Ue){Z&&Z[k.vR](Ue)},ge[k.TP]=function(Ue){Z&&Z[k.TP](Ue)},ge.getCookieMgr=function(){return re||(re=(0,g.xN)(U,ge[k.Uw])),re},ge.setCookieMgr=function(Ue){re=Ue},ge[l.kI]=function(){if(!te&&!L&&(0,c.SA)(U.enablePerfMgr)){var Ue=(0,c.SA)(U[l.Yd]);(0,c.Tn)(Ue)&&(L=Ue(ge,ge[k.RF]()))}return te||L||(0,x.Z4)()},ge.setPerfMgr=function(Ue){te=Ue},ge.eventCnt=function(){return B[k.oI]},ge.releaseQueue=function(){if($&&B[k.oI]>0){var Ue=B;B=[],(0,c.Iu)(Ue,function(et){Ge()[k.$5](et)})}},ge.pollInternalLogs=function(Ue){Se=Ue||null;var et=(0,c.SA)(U.diagnosticLogInterval);return(!et||!(et>0))&&(et=1e4),we&&clearInterval(we),we=setInterval(function(){Tt()},et),we},ge[k.Di]=function(){we&&(clearInterval(we),we=0,Tt())},(0,c.o$)(ge,function(){return me},["addTelemetryInitializer"]),ge.unload=function(Ue,et,qt){var ot;Ue===void 0&&(Ue=!0),$||(0,c.$8)(ne),ce&&(0,c.$8)(Y);var ut=(ot={reason:50},ot[k.tI]=Ue,ot.flushComplete=!1,ot),bt=(0,h.tS)(tt(),ge);bt[k.by](function(){xe(),et&&et(ut)},ge);function Xe(_t){ut.flushComplete=_t,ce=!0,I.run(bt,ut),ge[k.Di](),bt[k.$5](ut)}ue(Ue,Xe,6,qt)||Xe(!1)},ge[k.AP]=Et,ge.addPlugin=function(Ue,et,qt,ot){if(!Ue){ot&&ot(!1),Ke(j);return}var ut=Et(Ue[k.Ju]);if(ut&&!et){ot&&ot(!1),Ke("Plugin ["+Ue[k.Ju]+"] is already loaded!");return}var bt={reason:16};function Xe(kt){_e[k.y5](Ue),bt.added=[Ue],ze(bt),ot&&ot(!0)}if(ut){var _t=[ut.plugin],vi={reason:2,isAsync:!!qt};at(_t,vi,function(kt){kt?(bt.removed=_t,bt.reason|=32,Xe(!0)):ot&&ot(!1)})}else Xe(!1)},ge.evtNamespace=function(){return O},ge[k.EX]=ue,ge.getTraceCtx=function(Ue){return ve||(ve=(0,p.u7)()),ve},ge.setTraceCtx=function(Ue){ve=Ue||null},(0,c.RF)(ge,"addUnloadCb",function(){return I},"add");function xe(){$=!1,U=(0,c.CP)(!0,{},X),ge[k.GA]=U,ge[k.Uw]=new S.wq(U),ge[k.H7]=[],me=new q,B=[],Z=null,te=null,L=null,re=null,Le=null,Ce=null,_e=[],Me=null,J=null,ee=null,ce=!1,Se=null,O=(0,v.Z)("AIBaseCore",!0),I=(0,H.P)(),ve=null}function Ge(){return(0,h.i8)(tt(),U,ge)}function ze(Ue){var et=G(ge[k.Uw],_,_e);Ce=et[l.eT],Le=null;var qt=et.all;if(ee=(0,c.N6)(m(J,qt,ge)),Me){var ot=(0,c.rD)(qt,Me);ot!==-1&&qt[k.Ic](ot,1),ot=(0,c.rD)(Ce,Me),ot!==-1&&Ce[k.Ic](ot,1),Me._setQueue(ee)}else Me=f(ee,ge);qt[k.y5](Me),Ce[k.y5](Me),ge[k.H7]=(0,p.Xc)(qt),Me[k.mE](U,ge,qt),(0,p.pI)(Ge(),qt),ge[k.H7]=(0,c.N6)((0,p.Xc)(Ce||[])).slice(),Ue&&De(Ue)}function Et(Ue){var et,qt=null,ot=null;return(0,c.Iu)(ge[k.H7],function(ut){if(ut[k.Ju]===Ue&&ut!==Me&&ut!==me)return ot=ut,-1}),!ot&&Me&&(ot=Me.getChannel(Ue)),ot&&(qt=(et={plugin:ot},et[k.kt]=function(ut){(0,p.Cr)(ot)[l.Hr]=!ut},et.isEnabled=function(){var ut=(0,p.Cr)(ot);return!ut[k.Ik]&&!ut[l.Hr]},et.remove=function(ut,bt){var Xe;ut===void 0&&(ut=!0);var _t=[ot],vi=(Xe={reason:1},Xe[k.tI]=ut,Xe);at(_t,vi,function(kt){kt&&ze({reason:32,removed:_t}),bt&&bt(kt)})},et)),qt}function tt(){if(!Le){var Ue=(Ce||[]).slice();(0,c.rD)(Ue,me)===-1&&Ue[k.y5](me),Le=(0,h.PV)((0,p.Xc)(Ue),U,ge)}return Le}function at(Ue,et,qt){if(Ue&&Ue[k.oI]>0){var ot=(0,h.PV)(Ue,U,ge),ut=(0,h.tS)(ot,ge);ut[k.by](function(){var bt=!1,Xe=[];(0,c.Iu)(_e,function(vi,kt){C(vi,Ue)?bt=!0:Xe[k.y5](vi)}),_e=Xe;var _t=[];J&&((0,c.Iu)(J,function(vi,kt){var Nt=[];(0,c.Iu)(vi,function(zi){C(zi,Ue)?bt=!0:Nt[k.y5](zi)}),_t[k.y5](Nt)}),J=_t),qt&&qt(bt)}),ut[k.$5](et)}else qt(!1)}function Tt(){var Ue=ge[k.Uw]?ge[k.Uw].queue:[];Ue&&((0,c.Iu)(Ue,function(et){var qt,ot=(qt={},qt[k.RS]=Se||"InternalMessageId: "+et[k.JR],qt.iKey=(0,c.SA)(U[k.sl]),qt.time=(0,c._u)(new Date),qt.baseType=S.WD.dataType,qt.baseData={message:et[k.pM]},qt);ge.track(ot)}),Ue[k.oI]=0)}function ue(Ue,et,qt,ot){return Me?Me[k.EX](Ue,et,qt||6,ot):(et&&et(!1),!0)}function Q(){var Ue=(0,c.SA)(U.disableDbgExt);Ue===!0&&se&&(Z[k.TP](se),se=null),Z&&!se&&Ue!==!0&&(se=(0,T.M)(U),Z[k.vR](se))}function ae(){var Ue=(0,c.SA)(U.enablePerfMgr);!Ue&&L&&(L=null),Ue&&(0,c.c2)(U,l.Yd,M)}function be(){var Ue=(0,c.c2)(U,l.Bw,{});Ue.NotificationManager=Z}function De(Ue){var et=(0,h.nU)(tt(),ge);(!ge._updateHook||ge._updateHook(et,Ue)!==!0)&&et[k.$5](Ue)}function Ke(Ue){var et=ge[k.Uw];et?(0,S.ZP)(et,2,73,Ue):(0,c.$8)(Ue)}})}return A.__ieDyn=1,A}()},56489:(a,V,E)=>{"use strict";E.d(V,{s:()=>p});var R=E(92457),P=E(60830),N=E(12497),k=E(1972),c=E(8997),l=E(49388),h="getPlugin",p=function(){function _(){var b=this,u,f,m,g,v;x(),(0,R.A)(_,b,function(D){D[P.mE]=function(z,q,H,j){S(z,q,j),u=!0},D[P.Ik]=function(z,q){var H,j=D[k.eT];if(!j||z&&j!==z[k.eT]())return;var K,Y=!1,ne=z||(0,c.tS)(null,j,m&&m[h]?m[h]():m),X=q||(H={reason:0},H[P.tI]=!1,H);function M(){if(!Y){Y=!0,g.run(ne,q);var G=v;v=[],(0,N.Iu)(G,function(C){C.rm()}),K===!0&&ne[P.$5](X),x()}}return!D[P.tn]||D[P.tn](ne,X,M)!==!0?M():K=!0,K},D[P.HC]=function(z,q){var H=D[k.eT];if(!H||z&&H!==z[k.eT]())return;var j,K=!1,Y=z||(0,c.nU)(null,H,m&&m[h]?m[h]():m),ne=q||{reason:0};function X(){K||(K=!0,S(Y.getCfg(),Y.core(),Y[P.uR]()))}return!D._doUpdate||D._doUpdate(Y,ne,X)!==!0?X():j=!0,j},D._addHook=function(z){z&&((0,N.cy)(z)?v=v.concat(z):v[P.y5](z))},(0,N.RF)(D,"_addUnloadCb",function(){return g},"add")}),b[P.e4]=function(D){return T(D)[P.e4]()},b[P.tZ]=function(){return u},b.setInitialized=function(D){u=D},b[P.YH]=function(D){m=D},b[P.$5]=function(D,z){z?z[P.$5](D):m&&(0,N.Tn)(m[k.qT])&&m[k.qT](D,null)},b._getTelCtx=T;function T(D){D===void 0&&(D=null);var z=D;if(!z){var q=f||(0,c.i8)(null,{},b[k.eT]);m&&m[h]?z=q[P.$o](null,m[h]):z=q[P.$o](null,m)}return z}function S(D,z,q){D&&(0,N.KY)(D,k.Bw,[],null,N.hX),!q&&z&&(q=z[P.ps]()[P.uR]());var H=m;m&&m[h]&&(H=m[h]()),b[k.eT]=z,f=(0,c.i8)(q,D,z,H)}function x(){u=!1,b[k.eT]=null,f=null,m=null,v=[],g=(0,l.P)()}}return _.__ieDyn=1,_}()},91698:(a,V,E)=>{"use strict";E.d(V,{It:()=>A,d5:()=>z,gi:()=>X,um:()=>Y,xN:()=>ne});var R=E(60830),P=E(99015),N=E(44180),k=E(12497),c=E(1972),l="toGMTString",h="toUTCString",p="cookie",_="expires",b="enabled",u="isCookieUseDisabled",f="disableCookiesUsage",m="_ckMgr",g=null,v=null,T=null,S=(0,N.YE)(),x={},D={};function z(U,$){var B=ne[m]||D[m];return B||(B=ne[m]=ne(U,$),D[m]=B),B}function q(U){return U?U.isEnabled():!0}function H(U){var $=U[R.lK]=U[R.lK]||{};if((0,k.KY)($,"domain",U.cookieDomain,k.Gh,k.hX),(0,k.KY)($,"path",U.cookiePath||"/",null,k.hX),(0,k.hX)($[b])){var B=void 0;(0,k.b0)(U[u])||(B=!U[u]),(0,k.b0)(U[f])||(B=!U[f]),$[b]=B}return $}function j(U,$){return $&&U&&(0,k.cy)(U.ignoreCookies)?U.ignoreCookies[R.Sj]($)!==-1:!1}function K(U,$){return $&&U&&(0,k.cy)(U.blockedCookies)&&U.blockedCookies[R.Sj]($)!==-1?!0:j(U,$)}function Y(U,$){var B;if(U)B=U.getCookieMgr();else if($){var Z=$[R.lK];Z[m]?B=Z[m]:B=ne($)}return B||(B=z($,(U||{})[R.Uw])),B}function ne(U,$){var B,Z=H(U||D),te=Z.path||"/",L=Z.domain,re=Z[b]!==!1,Le=(B={isEnabled:function(){var _e=re&&X($),Ce=D[m];return _e&&Ce&&Le!==Ce&&(_e=q(Ce)),_e}},B[R.kt]=function(_e){re=_e!==!1},B.set=function(_e,Ce,Me,J,ee){var ce=!1;if(q(Le)&&!K(Z,_e)){var me={},Se=(0,k.EH)(Ce||c.m5),O=Se[R.Sj](";");if(O!==-1&&(Se=(0,k.EH)(Ce[R.Re](0,O)),me=M(Ce[R.Re](O+1))),(0,k.KY)(me,"domain",J||L,k.zz,k.b0),!(0,k.hX)(Me)){var I=(0,N.lT)();if((0,k.b0)(me[_])){var se=(0,k.x3)(),ve=se+Me*1e3;if(ve>0){var we=new Date;we.setTime(ve),(0,k.KY)(me,_,G(we,I?l:h)||G(we,I?l:h)||c.m5,k.zz)}}I||(0,k.KY)(me,"max-age",c.m5+Me,null,k.b0)}var ge=(0,N.g$)();ge&&ge.protocol==="https:"&&((0,k.KY)(me,"secure",null,null,k.b0),v===null&&(v=!A(((0,N.w3)()||{})[R.tX])),v&&(0,k.KY)(me,"SameSite","None",null,k.b0)),(0,k.KY)(me,"path",ee||te,null,k.b0);var xe=Z.setCookie||w;xe(_e,C(Se,me)),ce=!0}return ce},B.get=function(_e){var Ce=c.m5;return q(Le)&&!j(Z,_e)&&(Ce=(Z.getCookie||o)(_e)),Ce},B.del=function(_e,Ce){var Me=!1;return q(Le)&&(Me=Le.purge(_e,Ce)),Me},B.purge=function(_e,Ce){var Me,J=!1;if(X($)){var ee=(Me={},Me.path=Ce||"/",Me[_]="Thu, 01 Jan 1970 00:00:01 GMT",Me);(0,N.lT)()||(ee["max-age"]="0");var ce=Z.delCookie||w;ce(_e,C(c.m5,ee)),J=!0}return J},B);return Le[m]=Le,Le}function X(U){if(g===null){g=!1;try{var $=S||{};g=$[p]!==void 0}catch(B){(0,P.ZP)(U,2,68,"Cannot access document.cookie - "+(0,k.lL)(B),{exception:(0,N.mm)(B)})}}return g}function M(U){var $={};if(U&&U[R.oI]){var B=(0,k.EH)(U)[R.sY](";");(0,k.Iu)(B,function(Z){if(Z=(0,k.EH)(Z||c.m5),Z){var te=Z[R.Sj]("=");te===-1?$[Z]=null:$[(0,k.EH)(Z[R.Re](0,te))]=(0,k.EH)(Z[R.Re](te+1))}})}return $}function G(U,$){return(0,k.Tn)(U[$])?U[$]():null}function C(U,$){var B=U||c.m5;return(0,k.z)($,function(Z,te){B+="; "+Z+((0,k.hX)(te)?c.m5:"="+te)}),B}function o(U){var $=c.m5;if(S){var B=S[p]||c.m5;T!==B&&(x=M(B),T=B),$=(0,k.EH)(x[U]||c.m5)}return $}function w(U,$){S&&(S[p]=U+"="+$)}function A(U){return(0,k.Kg)(U)?!!((0,k.Ju)(U,"CPU iPhone OS 12")||(0,k.Ju)(U,"iPad; CPU OS 12")||(0,k.Ju)(U,"Macintosh; Intel Mac OS X 10_14")&&(0,k.Ju)(U,"Version/")&&(0,k.Ju)(U,"Safari")||(0,k.Ju)(U,"Macintosh; Intel Mac OS X 10_14")&&(0,k.Cv)(U,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,k.Ju)(U,"Chrome/5")||(0,k.Ju)(U,"Chrome/6")||(0,k.Ju)(U,"UnrealEngine")&&!(0,k.Ju)(U,"Chrome")||(0,k.Ju)(U,"UCBrowser/12")||(0,k.Ju)(U,"UCBrowser/11")):!1}},32578:(a,V,E)=>{"use strict";E.d(V,{Ri:()=>H,TV:()=>j,UU:()=>m,WD:()=>z,Yj:()=>K,aq:()=>f,cL:()=>v,fs:()=>x,ht:()=>q,jS:()=>T});var R=E(75148),P=E(60830),N=E(91698),k=E(44180),c=E(18413),l=E(12497),h=E(1972),p=E(57679),_=null,b,u=null;function f(){var Y=v();return Y[P.Re](0,8)+"-"+Y[P.Re](8,12)+"-"+Y[P.Re](12,16)+"-"+Y[P.Re](16,20)+"-"+Y[P.Re](20)}function m(){var Y=(0,k.FJ)();return Y&&Y.now?Y.now():(0,l.x3)()}function g(Y,ne){if(Y&&ne){var X=Y[_DYN_LENGTH],M=X-ne[_DYN_LENGTH];return Y[_DYN_SUBSTRING](M>=0?M:0,X)===ne}return!1}function v(){for(var Y=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ne=h.m5,X,M=0;M<4;M++)X=(0,p.VN)(),ne+=Y[X&15]+Y[X>>4&15]+Y[X>>8&15]+Y[X>>12&15]+Y[X>>16&15]+Y[X>>20&15]+Y[X>>24&15]+Y[X>>28&15];var G=Y[8+((0,p.VN)()&3)|0];return ne[P.$4](0,8)+ne[P.$4](9,4)+"4"+ne[P.$4](13,3)+G+ne[P.$4](16,3)+ne[P.$4](19,12)}var T={_canUseCookies:void 0,isTypeof:l.Ed,isUndefined:l.b0,isNullOrUndefined:l.hX,hasOwnProperty:l.mQ,isFunction:l.Tn,isObject:l.Gv,isDate:l.$P,isArray:l.cy,isError:l.bJ,isString:l.Kg,isNumber:l.Et,isBoolean:l.Lm,toISOString:l._u,arrForEach:l.Iu,arrIndexOf:l.rD,arrMap:l.W$,arrReduce:l.KT,strTrim:l.EH,objCreate:R.AQ,objKeys:l.cG,objDefineAccessors:l.r,addEventHandler:c.So,dateNow:l.x3,isIE:k.lT,disableCookies:z,newGuid:f,perfNow:m,newId:p.Si,randomValue:p.Z1,random32:p.VN,mwcRandomSeed:p.yc,mwcRandom32:p.k5,generateW3CId:v},S=/[xy]/g,x={Attach:c.Q3,AttachEvent:c.Q3,Detach:c.Ym,DetachEvent:c.Ym};function D(Y,ne){var X=(0,N.d5)(Y,ne),M=T._canUseCookies;return _===null&&(_=[],b=M,(0,l.r)(T,"_canUseCookies",function(){return b},function(G){b=G,(0,l.Iu)(_,function(C){C[P.kt](G)})})),(0,l.rD)(_,X)===-1&&_[P.y5](X),(0,l.Lm)(M)&&X[P.kt](M),(0,l.Lm)(b)&&X[P.kt](b),X}function z(){D()[P.kt](!1)}function q(Y){return D(null,Y).isEnabled()}function H(Y,ne){return D(null,Y).get(ne)}function j(Y,ne,X,M){D(null,Y).set(ne,X,null,M)}function K(Y,ne){return D(null,Y).del(ne)}},64252:(a,V,E)=>{"use strict";E.d(V,{T:()=>g,Z:()=>m});var R=E(47672),P=E(60830),N=E(12497),k=E(1972),c=E(57679),l=R.KU,h="2.8.10",p="."+(0,c.Si)(6),_=0;function b(v,T,S){if(l)try{return l(v,T,{value:S,enumerable:!1,configurable:!0}),!0}catch(x){}return!1}function u(v){return v[P.re]===1||v[P.re]===9||!+v[P.re]}function f(v,T){var S=T[v.id];if(!S){S={};try{u(T)&&(b(T,v.id,S)||(T[v.id]=S))}catch(x){}}return S}function m(v,T){return T===void 0&&(T=!1),(0,N.cH)(v+_+++(T?"."+h:k.m5)+p)}function g(v){var T={id:m("_aiData-"+(v||k.m5)+"."+h),accept:function(S){return u(S)},get:function(S,x,D,z){var q=S[T.id];return q?q[(0,N.cH)(x)]:(z&&(q=f(T,S),q[(0,N.cH)(x)]=D),D)},kill:function(S,x){if(S&&S[x])try{delete S[x]}catch(D){}}};return T}},95331:(a,V,E)=>{"use strict";E.d(V,{$:()=>p,M:()=>_});var R=E(60830),P=E(44180),N=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],k=null,c;function l(b,u){return function(){var f=arguments,m=p(u);if(m){var g=m.listener;g&&g[b]&&g[b][R.y9](g,f)}}}function h(){var b=(0,P.EH)("Microsoft");return b&&(k=b.ApplicationInsights),k}function p(b){var u=k;return!u&&b.disableDbgExt!==!0&&(u=k||h()),u?u.ChromeDbgExt:null}function _(b){if(!c){c={};for(var u=0;u<N[R.oI];u++)c[N[u]]=l(N[u],b)}return c}},99015:(a,V,E)=>{"use strict";E.d(V,{OG:()=>S,Oc:()=>x,WD:()=>f,ZP:()=>T,wq:()=>g,y0:()=>m});var R=E(92457),P=E(60830),N=E(95331),k=E(44180),c=E(12497),l=E(1972),h="AI (Internal): ",p="AI: ",_="AITR_";function b(D){return D?'"'+D[P.W7](/\"/g,l.m5)+'"':l.m5}function u(D,z){var q=(0,k.U5)();if(q){var H="log";q[D]&&(H=D),(0,c.Tn)(q[H])&&q[H](z)}}var f=function(){function D(z,q,H,j){H===void 0&&(H=!1);var K=this;K[P.JR]=z,K[P.pM]=(H?p:h)+z;var Y=l.m5;(0,k.Z)()&&(Y=(0,k.hm)().stringify(j));var ne=(q?" message:"+b(q):l.m5)+(j?" props:"+b(Y):l.m5);K[P.pM]+=ne}return D.dataType="MessageData",D}();function m(D,z){return(D||{})[P.Uw]||new g(z)}var g=function(){function D(z){this.identifier="DiagnosticLogger",this.queue=[];var q=0,H={},j,K,Y,ne;(0,R.A)(D,this,function(X){G(z||{}),X.consoleLoggingLevel=function(){return j},X.telemetryLoggingLevel=function(){return K},X.maxInternalMessageLimit=function(){return Y},X[P.a$]=function(){return ne},X.throwInternal=function(w,A,U,$,B){B===void 0&&(B=!1);var Z=new f(A,U,B,$);if(ne)throw(0,k.mm)(Z);var te=w===1?l.Zi:l.Tj;if((0,c.b0)(Z[P.pM]))o("throw"+(w===1?"Critical":"Warning"),Z);else{if(B){var L=+Z[P.JR];!H[L]&&j>=w&&(X[te](Z[P.pM]),H[L]=!0)}else j>=w&&X[te](Z[P.pM]);M(w,Z)}},X[l.Tj]=function(w){u("warn",w),o("warning",w)},X[l.Zi]=function(w){u("error",w),o("error",w)},X.resetInternalMessageCount=function(){q=0,H={}},X[P.sx]=M;function M(w,A){if(!C()){var U=!0,$=_+A[P.JR];if(H[$]?U=!1:H[$]=!0,U&&(w<=K&&(X.queue[P.y5](A),q++,o(w===1?"error":"warn",A)),q===Y)){var B="Internal events throttle limit per PageView reached for this app.",Z=new f(23,B,!1);X.queue[P.y5](Z),w===1?X[l.Zi](B):X[l.Tj](B)}}}function G(w){j=(0,c.SA)(w.loggingLevelConsole,0),K=(0,c.SA)(w.loggingLevelTelemetry,1),Y=(0,c.SA)(w.maxMessageLimit,25),ne=(0,c.SA)(w[P.a$],!1)}function C(){return q>=Y}function o(w,A){var U=(0,N.$)(z||{});U&&U[P.e4]&&U[P.e4](w,A)}})}return D.__ieDyn=1,D}();function v(D){return D||new g}function T(D,z,q,H,j,K){K===void 0&&(K=!1),v(D).throwInternal(z,q,H,j,K)}function S(D,z){v(D)[l.Tj](z)}function x(D,z,q){v(D)[P.sx](z,q)}},44180:(a,V,E)=>{"use strict";E.d(V,{$Z:()=>we,EH:()=>M,FJ:()=>L,Iu:()=>ge,JK:()=>B,L0:()=>ee,MY:()=>_e,PV:()=>I,R7:()=>O,U5:()=>te,Uf:()=>Se,Vd:()=>G,Wt:()=>o,YE:()=>w,Z:()=>re,cU:()=>X,g$:()=>Z,hm:()=>Le,iN:()=>Ce,lT:()=>J,lV:()=>Me,mm:()=>ce,tw:()=>$,w3:()=>U,w9:()=>A,xk:()=>se,zk:()=>C});var R=E(47672),P=E(75148),N=E(60830),k=E(12497),c=E(1972),l="window",h="document",p="documentMode",_="navigator",b="history",u="location",f="console",m="performance",g="JSON",v="crypto",T="msCrypto",S="ReactNative",x="msie",D="trident/",z="XMLHttpRequest",q=null,H=null,j=!1,K=null,Y=null;function ne(xe,Ge){var ze=!1;if(xe){try{if(ze=Ge in xe,!ze){var Et=xe[R.vR];Et&&(ze=Ge in Et)}}catch(at){}if(!ze)try{var tt=new xe;ze=!(0,k.b0)(tt[Ge])}catch(at){}}return ze}function X(xe){j=xe}function M(xe){var Ge=(0,P.mS)();return Ge&&Ge[xe]?Ge[xe]:xe===l&&G()?window:null}function G(){return Boolean(typeof window===R._1&&window)}function C(){return G()?window:M(l)}function o(){return Boolean(typeof document===R._1&&document)}function w(){return o()?document:M(h)}function A(){return Boolean(typeof navigator===R._1&&navigator)}function U(){return A()?navigator:M(_)}function $(){return Boolean(typeof history===R._1&&history)}function B(){return $()?history:M(b)}function Z(xe){if(xe&&j){var Ge=M("__mockLocation");if(Ge)return Ge}return typeof location===R._1&&location?location:M(u)}function te(){return typeof console!==R.bA?console:M(f)}function L(){return M(m)}function re(){return Boolean(typeof JSON===R._1&&JSON||M(g)!==null)}function Le(){return re()?JSON||M(g):null}function _e(){return M(v)}function Ce(){return M(T)}function Me(){var xe=U();return xe&&xe.product?xe.product===S:!1}function J(){var xe=U();if(xe&&(xe[N.tX]!==H||q===null)){H=xe[N.tX];var Ge=(H||c.m5)[N.OL]();q=(0,k.Ju)(Ge,x)||(0,k.Ju)(Ge,D)}return q}function ee(xe){if(xe===void 0&&(xe=null),!xe){var Ge=U()||{};xe=Ge?(Ge[N.tX]||c.m5)[N.OL]():c.m5}var ze=(xe||c.m5)[N.OL]();if((0,k.Ju)(ze,x)){var Et=w()||{};return Math.max(parseInt(ze[N.sY](x)[1]),Et[p]||0)}else if((0,k.Ju)(ze,D)){var tt=parseInt(ze[N.sY](D)[1]);if(tt)return tt+4}return null}function ce(xe){var Ge=Object[R.vR].toString[N.Ek](xe),ze=c.m5;return Ge==="[object Error]"?ze="{ stack: '"+xe.stack+"', message: '"+xe.message+"', name: '"+xe[N.RS]+"'":re()&&(ze=Le().stringify(xe)),Ge+ze}function me(xe){if(!xe||!isString(xe)){var Ge=U()||{};xe=Ge?(Ge[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var ze=(xe||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return ze[_DYN_INDEX_OF]("safari")>=0}function Se(){return Y===null&&(Y=A()&&Boolean(U().sendBeacon)),Y}function O(xe){var Ge=!1;try{Ge=!!M("fetch");var ze=M("Request");Ge&&xe&&ze&&(Ge=ne(ze,"keepalive"))}catch(Et){}return Ge}function I(){return K===null&&(K=typeof XDomainRequest!==R.bA,K&&se()&&(K=K&&!ne(M(z),"withCredentials"))),K}function se(){var xe=!1;try{var Ge=M(z);xe=!!Ge}catch(ze){}return xe}function ve(xe,Ge){if(xe)for(var ze=0;ze<xe[N.oI];ze++){var Et=xe[ze];if(Et[N.RS]&&Et[N.RS]===Ge)return Et}return{}}function we(xe){var Ge=w();return Ge&&xe?ve(Ge.querySelectorAll("meta"),xe).content:null}function ge(xe){var Ge,ze=L();if(ze){var Et=ze.getEntriesByType("navigation")||[];Ge=ve((Et[N.oI]>0?Et[0]:{}).serverTiming,xe).description}return Ge}},18413:(a,V,E)=>{"use strict";E.d(V,{Ds:()=>Ce,El:()=>ne,Fc:()=>Me,Hm:()=>w,ML:()=>U,Q3:()=>$,So:()=>Z,Wg:()=>Le,Ym:()=>B,ee:()=>_e,lQ:()=>re,mB:()=>A,oS:()=>ee,sq:()=>J,vF:()=>ce,zh:()=>te});var R=E(60830),P=E(64252),N=E(44180),k=E(12497),c=E(1972),l="on",h="attachEvent",p="addEventListener",_="detachEvent",b="removeEventListener",u="events",f="visibilitychange",m="pagehide",g="pageshow",v="unload",T="beforeunload",S=(0,P.Z)("aiEvtPageHide"),x=(0,P.Z)("aiEvtPageShow"),D=/\.[\.]+/g,z=/[\.]+$/,q=1,H=(0,P.T)("events"),j=/^([^.]*)(?:\.(.+)|)/;function K(me){return me&&me[R.W7]?me[R.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,c.m5):me}function Y(me,Se){var O;if(Se){var I=c.m5;(0,k.cy)(Se)?(I=c.m5,(0,k.Iu)(Se,function(ve){ve=K(ve),ve&&(ve[0]!=="."&&(ve="."+ve),I+=ve)})):I=K(Se),I&&(I[0]!=="."&&(I="."+I),me=(me||c.m5)+I)}var se=j.exec(me||c.m5)||[];return O={},O[R.QM]=se[1],O.ns=(se[2]||c.m5).replace(D,".").replace(z,c.m5)[R.sY](".").sort().join("."),O}function ne(me,Se,O){var I=[],se=H.get(me,u,{},!1),ve=Y(Se,O);return(0,k.z)(se,function(we,ge){(0,k.Iu)(ge,function(xe){var Ge;(!ve[R.QM]||ve[R.QM]===xe.evtName[R.QM])&&(!ve.ns||ve.ns===ve.ns)&&I[R.y5]((Ge={},Ge[R.RS]=xe.evtName[R.QM]+(xe.evtName.ns?"."+xe.evtName.ns:c.m5),Ge.handler=xe[R.Yo],Ge))})}),I}function X(me,Se,O){O===void 0&&(O=!0);var I=H.get(me,u,{},O),se=I[Se];return se||(se=I[Se]=[]),se}function M(me,Se,O,I){me&&Se&&Se[R.QM]&&(me[b]?me[b](Se[R.QM],O,I):me[_]&&me[_](l+Se[R.QM],O))}function G(me,Se,O,I){var se=!1;return me&&Se&&Se[R.QM]&&O&&(me[p]?(me[p](Se[R.QM],O,I),se=!0):me[h]&&(me[h](l+Se[R.QM],O),se=!0)),se}function C(me,Se,O,I){for(var se=Se[R.oI];se--;){var ve=Se[se];ve&&(!O.ns||O.ns===ve.evtName.ns)&&(!I||I(ve))&&(M(me,ve.evtName,ve[R.Yo],ve.capture),Se[R.Ic](se,1))}}function o(me,Se,O){if(Se[R.QM])C(me,X(me,Se[R.QM]),Se,O);else{var I=H.get(me,u,{});(0,k.z)(I,function(se,ve){C(me,ve,Se,O)}),(0,k.cG)(I)[R.oI]===0&&H.kill(me,u)}}function w(me,Se){var O;return Se?((0,k.cy)(Se)?O=[me].concat(Se):O=[me,Se],O=Y("xx",O).ns[R.sY](".")):O=me,O}function A(me,Se,O,I,se){var ve;se===void 0&&(se=!1);var we=!1;if(me)try{var ge=Y(Se,I);if(we=G(me,ge,O,se),we&&H.accept(me)){var xe=(ve={guid:q++,evtName:ge},ve[R.Yo]=O,ve.capture=se,ve);X(me,ge.type)[R.y5](xe)}}catch(Ge){}return we}function U(me,Se,O,I,se){if(se===void 0&&(se=!1),me)try{var ve=Y(Se,I),we=!1;o(me,ve,function(ge){return ve.ns&&!O||ge[R.Yo]===O?(we=!0,!0):!1}),we||M(me,ve,O,se)}catch(ge){}}function $(me,Se,O,I){return I===void 0&&(I=!1),A(me,Se,O,null,I)}function B(me,Se,O,I){I===void 0&&(I=!1),U(me,Se,O,null,I)}function Z(me,Se,O){var I=!1,se=(0,N.zk)();se&&(I=A(se,me,Se,O),I=A(se.body,me,Se,O)||I);var ve=(0,N.YE)();return ve&&(I=A(ve,me,Se,O)||I),I}function te(me,Se,O){var I=(0,N.zk)();I&&(U(I,me,Se,O),U(I.body,me,Se,O));var se=(0,N.YE)();se&&U(se,me,Se,O)}function L(me,Se,O,I){var se=!1;return Se&&me&&me[R.oI]>0&&(0,k.Iu)(me,function(ve){ve&&(!O||(0,k.rD)(O,ve)===-1)&&(se=Z(ve,Se,I)||se)}),se}function re(me,Se,O,I){var se=!1;return Se&&me&&(0,k.cy)(me)&&(se=L(me,Se,O,I),!se&&O&&O[R.oI]>0&&(se=L(me,Se,null,I))),se}function Le(me,Se,O){me&&(0,k.cy)(me)&&(0,k.Iu)(me,function(I){I&&te(I,Se,O)})}function _e(me,Se,O){return re([T,v,m],me,Se,O)}function Ce(me,Se){Le([T,v,m],me,Se)}function Me(me,Se,O){function I(we){var ge=(0,N.YE)();me&&ge&&ge.visibilityState==="hidden"&&me(we)}var se=w(S,O),ve=L([m],me,Se,se);return(!Se||(0,k.rD)(Se,f)===-1)&&(ve=L([f],I,Se,se)||ve),!ve&&Se&&(ve=Me(me,null,O)),ve}function J(me,Se){var O=w(S,Se);Le([m],me,O),Le([f],null,O)}function ee(me,Se,O){function I(we){var ge=(0,N.YE)();me&&ge&&ge.visibilityState==="visible"&&me(we)}var se=w(x,O),ve=L([g],me,Se,se);return ve=L([f],I,Se,se)||ve,!ve&&Se&&(ve=ee(me,null,O)),ve}function ce(me,Se){var O=w(x,Se);Le([g],me,O),Le([f],null,O)}},12497:(a,V,E)=>{"use strict";E.d(V,{$8:()=>Ht,$P:()=>I,CP:()=>Ji,Cv:()=>ee,EH:()=>be,Ed:()=>$,Et:()=>xe,Gh:()=>L,Gv:()=>Le,Iu:()=>Tt,Ju:()=>O,KT:()=>ae,KY:()=>vi,Kg:()=>ge,Lm:()=>Ge,N6:()=>ut,RF:()=>jt,SA:()=>Nt,SZ:()=>Kt,Tn:()=>_e,W$:()=>Q,_u:()=>tt,b0:()=>B,bJ:()=>we,c2:()=>kt,cG:()=>Ue,cH:()=>Me,cy:()=>se,hW:()=>Zt,hX:()=>te,js:()=>bt,lL:()=>_t,mQ:()=>re,o$:()=>Ln,ol:()=>ot,qz:()=>Yt,r:()=>et,rD:()=>ue,tG:()=>me,wo:()=>zi,x3:()=>Xe,z:()=>J,zz:()=>It});var R=E(47672),P=E(75148),N=E(60830),k=E(1972),c="toISOString",l="endsWith",h="startsWith",p="indexOf",_="map",b="reduce",u="trim",f="toString",m="__proto__",g="constructor",v=R.KU,T=R.s6.freeze,S=R.s6.seal,x=R.s6.keys,D=String[R.vR],z=D[u],q=D[l],H=D[h],j=Date[R.vR],K=j[c],Y=Array.isArray,ne=R.Wy[f],X=R.J$[f],M=X[N.Ek](R.s6),G=/-([a-z])/g,C=/([^\w\d_$])/g,o=/^(\d+[\w\d_$])/,w=Object.getPrototypeOf;function A(Oe){if(Oe){if(w)return w(Oe);var We=Oe[m]||Oe[R.vR]||Oe[g];if(We)return We}return null}function U(Oe){return ne[_DYN_CALL](Oe)}function $(Oe,We){return typeof Oe===We}function B(Oe){return Oe===void 0||typeof Oe===R.bA}function Z(Oe){return!B(Oe)}function te(Oe){return Oe===null||B(Oe)}function L(Oe){return!te(Oe)}function re(Oe,We){return!!(Oe&&R.J$[N.Ek](Oe,We))}function Le(Oe){return!!(Oe&&typeof Oe===R._1)}function _e(Oe){return!!(Oe&&typeof Oe===R.hW)}function Ce(Oe){return Oe&&_e(Oe.then)}function Me(Oe){var We=Oe;return We&&ge(We)&&(We=We[N.W7](G,function(wt,ct){return ct.toUpperCase()}),We=We[N.W7](C,"_"),We=We[N.W7](o,function(wt,ct){return"_"+ct})),We}function J(Oe,We){if(Oe)for(var wt in Oe)R.J$[N.Ek](Oe,wt)&&We[N.Ek](Oe,wt,Oe[wt])}function ee(Oe,We){var wt=!1;return Oe&&We&&!(wt=Oe===We)&&(wt=q?Oe[l](We):ce(Oe,We)),wt}function ce(Oe,We){var wt=!1,ct=We?We[N.oI]:0,gt=Oe?Oe[N.oI]:0;if(ct&&gt&&gt>=ct&&!(wt=Oe===We)){for(var si=gt-1,xt=ct-1;xt>=0;xt--){if(Oe[si]!=We[xt])return!1;si--}wt=!0}return wt}function me(Oe,We){var wt=!1;return Oe&&We&&!(wt=Oe===We)&&(wt=H?Oe[h](We):Se(Oe,We)),wt}function Se(Oe,We){var wt=!1,ct=We?We[N.oI]:0;if(Oe&&ct&&Oe[N.oI]>=ct&&!(wt=Oe===We)){for(var gt=0;gt<ct;gt++)if(Oe[gt]!==We[gt])return!1;wt=!0}return wt}function O(Oe,We){return Oe&&We?Oe[N.Sj](We)!==-1:!1}function I(Oe){return!!(Oe&&ne[N.Ek](Oe)==="[object Date]")}var se=Y||ve;function ve(Oe){return!!(Oe&&ne[N.Ek](Oe)==="[object Array]")}function we(Oe){return!!(Oe&&ne[N.Ek](Oe)==="[object Error]")}function ge(Oe){return typeof Oe=="string"}function xe(Oe){return typeof Oe=="number"}function Ge(Oe){return typeof Oe=="boolean"}function ze(Oe){return typeof Oe=="symbol"}function Et(Oe){var We=!1;if(Oe&&typeof Oe=="object"){var wt=w?w(Oe):A(Oe);wt?(wt[g]&&R.J$[N.Ek](wt,g)&&(wt=wt[g]),We=typeof wt===R.hW&&X[N.Ek](wt)===M):We=!0}return We}function tt(Oe){if(Oe)return K?Oe[c]():at(Oe)}function at(Oe){if(Oe&&Oe.getUTCFullYear){var We=function(wt){var ct=String(wt);return ct[N.oI]===1&&(ct="0"+ct),ct};return Oe.getUTCFullYear()+"-"+We(Oe.getUTCMonth()+1)+"-"+We(Oe.getUTCDate())+"T"+We(Oe.getUTCHours())+":"+We(Oe.getUTCMinutes())+":"+We(Oe.getUTCSeconds())+"."+String((Oe.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Tt(Oe,We,wt){var ct=Oe[N.oI];try{for(var gt=0;gt<ct&&!(gt in Oe&&We[N.Ek](wt||Oe,Oe[gt],gt,Oe)===-1);gt++);}catch(si){}}function ue(Oe,We,wt){if(Oe){if(Oe[p])return Oe[p](We,wt);var ct=Oe[N.oI],gt=wt||0;try{for(var si=Math.max(gt>=0?gt:ct-Math.abs(gt),0);si<ct;si++)if(si in Oe&&Oe[si]===We)return si}catch(xt){}}return-1}function Q(Oe,We,wt){var ct;if(Oe){if(Oe[_])return Oe[_](We,wt);var gt=Oe[N.oI],si=wt||Oe;ct=new Array(gt);try{for(var xt=0;xt<gt;xt++)xt in Oe&&(ct[xt]=We[N.Ek](si,Oe[xt],Oe))}catch(Ut){}}return ct}function ae(Oe,We,wt){var ct;if(Oe){if(Oe[b])return Oe[b](We,wt);var gt=Oe[N.oI],si=0;if(arguments[N.oI]>=3)ct=arguments[2];else{for(;si<gt&&!(si in Oe);)si++;ct=Oe[si++]}for(;si<gt;)si in Oe&&(ct=We(ct,Oe[si],si,Oe)),si++}return ct}function be(Oe){return Oe&&(Oe=z&&Oe[u]?Oe[u]():Oe[N.W7]?Oe[N.W7](/^\s+|(?=\s)\s+$/g,k.m5):Oe),Oe}var De=!{toString:null}.propertyIsEnumerable("toString"),Ke=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ue(Oe){var We=typeof Oe;if(We!==R.hW&&(We!==R._1||Oe===null)&&(0,P.zk)("objKeys called on non-object"),!De&&x)return x(Oe);var wt=[];for(var ct in Oe)Oe&&R.J$[N.Ek](Oe,ct)&&wt[N.y5](ct);if(De)for(var gt=Ke[N.oI],si=0;si<gt;si++)Oe&&R.J$[N.Ek](Oe,Ke[si])&&wt[N.y5](Ke[si]);return wt}function et(Oe,We,wt,ct){if(v)try{var gt={enumerable:!0,configurable:!0};return wt&&(gt.get=wt),ct&&(gt.set=ct),v(Oe,We,gt),!0}catch(si){}return!1}function qt(Oe){return Oe}function ot(Oe){return T&&J(Oe,function(We,wt){(se(wt)||Le(wt))&&T(wt)}),ut(Oe)}var ut=T||qt,bt=S||qt;function Xe(){var Oe=Date;return Oe.now?Oe.now():new Oe().getTime()}function _t(Oe){return we(Oe)?Oe[N.RS]:k.m5}function vi(Oe,We,wt,ct,gt){var si=wt;return Oe&&(si=Oe[We],si!==wt&&(!gt||gt(si))&&(!ct||ct(wt))&&(si=wt,Oe[We]=si)),si}function kt(Oe,We,wt){var ct;return Oe?(ct=Oe[We],!ct&&te(ct)&&(ct=B(wt)?{}:wt,Oe[We]=ct)):ct=B(wt)?{}:wt,ct}function Nt(Oe,We){return te(Oe)?We:Oe}function zi(Oe){return!Oe}function It(Oe){return!!Oe}function Ht(Oe){throw new Error(Oe)}function jn(Oe,We){var wt=null,ct=null;return _e(Oe)?wt=Oe:ct=Oe,function(){var gt=arguments;if(wt&&(ct=wt()),ct)return ct[We][N.y9](ct,gt)}}function Yt(Oe,We,wt){if(Oe&&We&&Le(Oe)&&Le(We)){var ct=function(si){if(ge(si)){var xt=We[si];_e(xt)?(!wt||wt(si,!0,We,Oe))&&(Oe[si]=jn(We,si)):(!wt||wt(si,!1,We,Oe))&&(re(Oe,si)&&delete Oe[si],et(Oe,si,function(){return We[si]},function(Ut){We[si]=Ut})||(Oe[si]=xt))}};for(var gt in We)ct(gt)}return Oe}function jt(Oe,We,wt,ct,gt){Oe&&We&&wt&&(gt!==!1||B(Oe[We]))&&(Oe[We]=jn(wt,ct))}function Ln(Oe,We,wt,ct){return Oe&&We&&Le(Oe)&&se(wt)&&Tt(wt,function(gt){ge(gt)&&jt(Oe,gt,We,gt,ct)}),Oe}function Kt(Oe){return function(){function We(){var wt=this;Oe&&J(Oe,function(ct,gt){wt[ct]=gt})}return We}()}function Zt(Oe){return Oe&&R.zi&&(Oe=(0,R.s6)((0,R.zi)({},Oe))),Oe}function Ji(Oe,We,wt,ct,gt,si){var xt=arguments,Ut=xt[0]||{},Ft=xt[N.oI],pt=!1,St=1;for(Ft>0&&Ge(Ut)&&(pt=Ut,Ut=xt[St]||{},St++),Le(Ut)||(Ut={});St<Ft;St++){var Mt=xt[St],mi=se(Mt),ii=Le(Mt);for(var Lt in Mt){var ai=mi&&Lt in Mt||ii&&R.J$[N.Ek](Mt,Lt);if(!!ai){var gi=Mt[Lt],Mi=void 0;if(pt&&gi&&((Mi=se(gi))||Et(gi))){var xi=Ut[Lt];Mi?se(xi)||(xi=[]):Et(xi)||(xi={}),gi=Ji(pt,xi,gi)}gi!==void 0&&(Ut[Lt]=gi)}}}return Ut}},1972:(a,V,E)=>{"use strict";E.d(V,{Bw:()=>l,Hr:()=>c,LZ:()=>P,Tj:()=>v,Vo:()=>_,Yd:()=>k,Yp:()=>u,Zi:()=>g,dI:()=>f,eT:()=>N,fc:()=>b,jy:()=>h,kI:()=>T,l0:()=>m,m5:()=>R,qT:()=>p});var R="",P="channels",N="core",k="createPerfMgr",c="disabled",l="extensionConfig",h="extensions",p="processTelemetry",_="priority",b="eventsSent",u="eventsDiscarded",f="eventsSendRequest",m="perfEvent",g="errorToConsole",v="warnToConsole",T="getPerfMgr"},54660:(a,V,E)=>{"use strict";E.d(V,{h:()=>l});var R=E(92457),P=E(60830),N=E(12497),k=E(1972);function c(h,p,_,b){(0,N.Iu)(h,function(u){if(u&&u[p])if(_)setTimeout(function(){return b(u)},0);else try{b(u)}catch(f){}})}var l=function(){function h(p){this.listeners=[];var _=!!(p||{}).perfEvtsSendAll;(0,R.A)(h,this,function(b){b[P.vR]=function(u){b.listeners[P.y5](u)},b[P.TP]=function(u){for(var f=(0,N.rD)(b[P.lJ],u);f>-1;)b.listeners[P.Ic](f,1),f=(0,N.rD)(b[P.lJ],u)},b[k.fc]=function(u){c(b[P.lJ],k.fc,!0,function(f){f[k.fc](u)})},b[k.Yp]=function(u,f){c(b[P.lJ],k.Yp,!0,function(m){m[k.Yp](u,f)})},b[k.dI]=function(u,f){c(b[P.lJ],k.dI,f,function(m){m[k.dI](u,f)})},b[k.l0]=function(u){u&&(_||!u[P.Zu]())&&c(b[P.lJ],k.l0,!1,function(f){u[P.tI]?setTimeout(function(){return f[k.l0](u)},0):f[k.l0](u)})}})}return h.__ieDyn=1,h}()},5204:(a,V,E)=>{"use strict";E.d(V,{NS:()=>b,Q6:()=>_,Z4:()=>g,r2:()=>f});var R=E(92457),P=E(60830),N=E(12497),k=E(1972),c="ctx",l="ParentContextKey",h="ChildrenContextKey",p=null,_=function(){function v(T,S,x){var D=this,z=!1;if(D.start=(0,N.x3)(),D[P.RS]=T,D[P.tI]=x,D[P.Zu]=function(){return!1},(0,N.Tn)(S)){var q;z=(0,N.r)(D,"payload",function(){return!q&&(0,N.Tn)(S)&&(q=S(),S=null),q})}D[P.O_]=function(H){return H?H===v[l]||H===v[h]?D[H]:(D[c]||{})[H]:null},D[P.e_]=function(H,j){if(H)if(H===v[l])D[H]||(D[P.Zu]=function(){return!0}),D[H]=j;else if(H===v[h])D[H]=j;else{var K=D[c]=D[c]||{};K[H]=j}},D[P.Ru]=function(){var H=0,j=D[P.O_](v[h]);if((0,N.cy)(j))for(var K=0;K<j[P.oI];K++){var Y=j[K];Y&&(H+=Y[P.fA])}D[P.fA]=(0,N.x3)()-D.start,D.exTime=D[P.fA]-H,D[P.Ru]=function(){},!z&&(0,N.Tn)(S)&&(D.payload=S())}}return v.ParentContextKey="parent",v.ChildrenContextKey="childEvts",v}(),b=function(){function v(T){this.ctx={},(0,R.A)(v,this,function(S){S.create=function(x,D,z){return new _(x,D,z)},S.fire=function(x){x&&(x[P.Ru](),T&&(0,N.Tn)(T[k.l0])&&T[k.l0](x))},S[P.e_]=function(x,D){if(x){var z=S[c]=S[c]||{};z[x]=D}},S[P.O_]=function(x){return(S[c]||{})[x]}})}return v.__ieDyn=1,v}(),u="CoreUtils.doPerf";function f(v,T,S,x,D){if(v){var z=v;if(z[k.kI]&&(z=z[k.kI]()),z){var q=void 0,H=z[P.O_](u);try{if(q=z.create(T(),x,D),q){if(H&&q[P.e_]&&(q[P.e_](_[l],H),H[P.O_]&&H[P.e_])){var j=H[P.O_](_[h]);j||(j=[],H[P.e_](_[h],j)),j[P.y5](q)}return z[P.e_](u,q),S(q)}}catch(K){q&&q[P.e_]&&q[P.e_]("exception",K)}finally{q&&z.fire(q),z[P.e_](u,H)}}}return S()}function m(v){p=v}function g(){return p}},8997:(a,V,E)=>{"use strict";E.d(V,{PV:()=>S,W0:()=>D,i8:()=>g,nU:()=>T,tS:()=>v});var R=E(60830),P=E(99015),N=E(44180),k=E(12497),c=E(1972),l=E(5204),h=E(33540),p="TelemetryPluginChain",_="_hasRun",b="_getTelCtx",u=0;function f(z,q,H){for(;z;){if(z[R.AP]()===H)return z;z=z[R.uR]()}return S([H],q[R.GA]||{},q)}function m(z,q,H,j){var K=null,Y=[];j!==null&&(K=j?f(z,H,j):z);var ne={_next:M,ctx:{core:function(){return H},diagLog:function(){return(0,P.y0)(H,q)},getCfg:function(){return q},getExtCfg:G,getConfig:C,hasNext:function(){return!!K},getNext:function(){return K},setNext:function(w){K=w},iterate:o,onComplete:X}};function X(w,A){for(var U=[],$=2;$<arguments.length;$++)U[$-2]=arguments[$];w&&Y[R.y5]({func:w,self:(0,k.b0)(A)?ne.ctx:A,args:U})}function M(){var w=K;if(K=w?w[R.uR]():null,!w){var A=Y;A&&A[R.oI]>0&&((0,k.Iu)(A,function(U){try{U.func[R.Ek](U.self,U.args)}catch($){(0,P.ZP)(H[R.Uw],2,73,"Unexpected Exception during onComplete - "+(0,N.mm)($))}}),Y=[])}return w}function G(w,A,U){A===void 0&&(A={}),U===void 0&&(U=0);var $;if(q){var B=q[c.Bw];B&&w&&($=B[w])}if(!$)$=A;else if((0,k.Gv)(A)&&U!==0){var Z=(0,k.CP)(!0,A,$);q&&U===2&&(0,k.z)(A,function(te){if((0,k.hX)(Z[te])){var L=q[te];(0,k.hX)(L)||(Z[te]=L)}}),$=Z}return $}function C(w,A,U){U===void 0&&(U=!1);var $,B=G(w,null);return B&&!(0,k.hX)(B[A])?$=B[A]:q&&!(0,k.hX)(q[A])&&($=q[A]),(0,k.hX)($)?U:$}function o(w){for(var A;A=ne._next();){var U=A[R.AP]();U&&w(U)}}return ne}function g(z,q,H,j){var K=m(z,q,H,j),Y=K.ctx;function ne(M){var G=K._next();return G&&G[c.qT](M,Y),!G}function X(M,G){return M===void 0&&(M=null),(0,k.cy)(M)&&(M=S(M,q,H,G)),g(M||Y[R.uR](),q,H,G)}return Y[R.$5]=ne,Y[R.$o]=X,Y}function v(z,q,H){var j=q[R.GA]||{},K=m(z,j,q,H),Y=K.ctx;function ne(M){var G=K._next();return G&&G.unload(Y,M),!G}function X(M,G){return M===void 0&&(M=null),(0,k.cy)(M)&&(M=S(M,j,q,G)),v(M||Y[R.uR](),q,G)}return Y[R.$5]=ne,Y[R.$o]=X,Y}function T(z,q,H){var j=q[R.GA]||{},K=m(z,j,q,H),Y=K.ctx;function ne(M){return Y.iterate(function(G){(0,k.Tn)(G[R.HC])&&G[R.HC](Y,M)})}function X(M,G){return M===void 0&&(M=null),(0,k.cy)(M)&&(M=S(M,j,q,G)),T(M||Y[R.uR](),q,G)}return Y[R.$5]=ne,Y[R.$o]=X,Y}function S(z,q,H,j){var K=null,Y=!j;if((0,k.cy)(z)&&z[R.oI]>0){var ne=null;(0,k.Iu)(z,function(X){if(!Y&&j===X&&(Y=!0),Y&&X&&(0,k.Tn)(X[c.qT])){var M=x(X,q,H);K||(K=M),ne&&ne._setNext(M),ne=M}})}return j&&!K?S([j],q,H):K}function x(z,q,H){var j=null,K=(0,k.Tn)(z[c.qT]),Y=(0,k.Tn)(z[R.YH]),ne;z?ne=z[R.Ju]+"-"+z[c.Vo]+"-"+u++:ne="Unknown-0-"+u++;var X={getPlugin:function(){return z},getNext:function(){return j},processTelemetry:C,unload:o,update:w,_id:ne,_setNext:function(A){j=A}};function M(){var A;return z&&(0,k.Tn)(z[b])&&(A=z[b]()),A||(A=g(X,q,H)),A}function G(A,U,$,B,Z){var te=!1,L=z?z[R.Ju]:p,re=A[_];return re||(re=A[_]={}),A.setNext(j),z&&(0,l.r2)(A[c.eT](),function(){return L+":"+$},function(){re[ne]=!0;try{var Le=j?j._id:c.m5;Le&&(re[Le]=!1),te=U(A)}catch(Ce){var _e=j?re[j._id]:!0;_e&&(te=!0),(!j||!_e)&&(0,P.ZP)(A[R.e4](),1,73,"Plugin ["+L+"] failed during "+$+" - "+(0,N.mm)(Ce)+", run flags: "+(0,N.mm)(re))}},B,Z),te}function C(A,U){U=U||M();function $(B){if(!z||!K)return!1;var Z=(0,h.Cr)(z);return Z[R.Ik]||Z[c.Hr]?!1:(Y&&z[R.YH](j),z[c.qT](A,B),!0)}G(U,$,"processTelemetry",function(){return{item:A}},!A.sync)||U[R.$5](A)}function o(A,U){function $(){var B=!1;if(z){var Z=(0,h.Cr)(z),te=z[c.eT]||Z[c.eT];z&&(!te||te===A.core())&&!Z[R.Ik]&&(Z[c.eT]=null,Z[R.Ik]=!0,Z[R.tZ]=!1,z[R.Ik]&&z[R.Ik](A,U)===!0&&(B=!0))}return B}G(A,$,"unload",function(){},U[R.tI])||A[R.$5](U)}function w(A,U){function $(){var B=!1;if(z){var Z=(0,h.Cr)(z),te=z[c.eT]||Z[c.eT];z&&(!te||te===A.core())&&!Z[R.Ik]&&z[R.HC]&&z[R.HC](A,U)===!0&&(B=!0)}return B}G(A,$,"update",function(){},!1)||A[R.$5](U)}return(0,k.N6)(X)}var D=function(){function z(q,H,j,K){var Y=this,ne=g(q,H,j,K);(0,k.o$)(Y,ne,(0,k.cG)(ne))}return z}()},57679:(a,V,E)=>{"use strict";E.d(V,{Si:()=>T,VN:()=>m,Z1:()=>f,k5:()=>v,yc:()=>g});var R=E(60830),P=E(44180),N=E(12497),k=E(1972),c=4294967296,l=4294967295,h=!1,p=123456789,_=987654321;function b(S){S<0&&(S>>>=0),p=123456789+S&l,_=987654321-S&l,h=!0}function u(){try{var S=(0,N.x3)()&2147483647;b((Math.random()*c^S)+S)}catch(x){}}function f(S){return S>0?Math.floor(m()/l*(S+1))>>>0:0}function m(S){var x=0,D=(0,P.MY)()||(0,P.iN)();return D&&D.getRandomValues&&(x=D.getRandomValues(new Uint32Array(1))[0]&l),x===0&&(0,P.lT)()&&(h||u(),x=v()&l),x===0&&(x=Math.floor(c*Math.random()|0)),S||(x>>>=0),x}function g(S){S?b(S):u()}function v(S){_=36969*(_&65535)+(_>>16)&l,p=18e3*(p&65535)+(p>>16)&l;var x=(_<<16)+(p&65535)>>>0&l|0;return S||(x>>>=0),x}function T(S){S===void 0&&(S=22);for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=m()>>>0,z=0,q=k.m5;q[R.oI]<S;)z++,q+=x.charAt(D&63),D>>>=6,z===5&&(D=(m()<<2&4294967295|D&3)>>>0,z=0);return q}},33540:(a,V,E)=>{"use strict";E.d(V,{Cr:()=>h,Xc:()=>_,pI:()=>p,u7:()=>u});var R=E(60830),P=E(64252),N=E(12497),k=E(1972),c=E(68560),l=(0,P.T)("plugin");function h(f){return l.get(f,"state",{},!0)}function p(f,m){for(var g=[],v=null,T=f[R.uR](),S;T;){var x=T[R.AP]();if(x){v&&(0,N.Tn)(v[R.YH])&&(0,N.Tn)(x[k.qT])&&v[R.YH](x);var D=!1;(0,N.Tn)(x[R.tZ])?D=x[R.tZ]():(S=h(x),D=S[R.tZ]),D||g[R.y5](x),v=x,T=T[R.uR]()}}(0,N.Iu)(g,function(z){var q=f[k.eT]();z[R.mE](f.getCfg(),q,m,f[R.uR]()),S=h(z),!z[k.eT]&&!S[k.eT]&&(S[k.eT]=q),S[R.tZ]=!0,delete S[R.Ik]})}function _(f){return f.sort(function(m,g){var v=0;if(g){var T=(0,N.Tn)(g[k.qT]);(0,N.Tn)(m[k.qT])?v=T?m[k.Vo]-g[k.Vo]:1:T&&(v=-1)}else v=m?1:-1;return v})}function b(f,m,g,v){var T=0;function S(){for(;T<f[_DYN_LENGTH];){var x=f[T++];if(x){var D=x._doUnload||x[_DYN__DO_TEARDOWN];if(isFunction(D)&&D[_DYN_CALL](x,m,g,S)===!0)return!0}}}return S()}function u(f){var m={};return{getName:function(){return m[R.RS]},setName:function(g){f&&f.setName(g),m[R.RS]=g},getTraceId:function(){return m[R.P5]},setTraceId:function(g){f&&f.setTraceId(g),(0,c.hX)(g)&&(m[R.P5]=g)},getSpanId:function(){return m[R.wi]},setSpanId:function(g){f&&f.setSpanId(g),(0,c.wN)(g)&&(m[R.wi]=g)},getTraceFlags:function(){return m[R.Rr]},setTraceFlags:function(g){f&&f.setTraceFlags(g),m[R.Rr]=g}}}},49388:(a,V,E)=>{"use strict";E.d(V,{P:()=>c});var R=E(60830),P=E(99015),N=E(44180),k=E(12497);function c(){var l=[];function h(_){_&&l[R.y5](_)}function p(_,b){(0,k.Iu)(l,function(u){try{u(_,b)}catch(f){(0,P.ZP)(_[R.e4](),2,73,"Unexpected error calling unload handler - "+(0,N.mm)(f))}}),l=[]}return{add:h,run:p}}},68560:(a,V,E)=>{"use strict";E.d(V,{L0:()=>z,N7:()=>D,ZI:()=>v,ef:()=>q,hX:()=>T,mJ:()=>x,wN:()=>S,wk:()=>g});var R=E(60830),P=E(32578),N=E(44180),k=E(12497),c=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,l="00",h="ff",p="00000000000000000000000000000000",_="0000000000000000",b=1;function u(H,j,K){return H&&H[R.oI]===j&&H!==K?!!H.match(/^[\da-f]*$/):!1}function f(H,j,K){return u(H,j)?H:K}function m(H){(isNaN(H)||H<0||H>255)&&(H=1);for(var j=H.toString(16);j[R.oI]<2;)j="0"+j;return j}function g(H,j,K,Y){var ne;return ne={},ne[R.s]=u(Y,2,h)?Y:l,ne[R.P5]=T(H)?H:(0,P.cL)(),ne.spanId=S(j)?j:(0,P.cL)()[R.$4](0,16),ne.traceFlags=K>=0&&K<=255?K:1,ne}function v(H){var j;if(!H||((0,k.cy)(H)&&(H=H[0]||""),!H||!(0,k.Kg)(H)||H[R.oI]>8192))return null;var K=c.exec((0,k.EH)(H));return!K||K[1]===h||K[2]===p||K[3]===_?null:(j={},j[R.s]=K[1],j[R.P5]=K[2],j[R.wi]=K[3],j[R.Rr]=parseInt(K[4],16),j)}function T(H){return u(H,32,p)}function S(H){return u(H,16,_)}function x(H){return!(!H||!u(H[R.s],2,h)||!u(H[R.P5],32,p)||!u(H[R.wi],16,_)||!u(m(H[R.Rr]),2))}function D(H){return x(H)?(H[R.Rr]&b)===b:!1}function z(H){if(H){var j=m(H[R.Rr]);u(j,2)||(j="01");var K=H[R.s]||l;return K!=="00"&&K!=="ff"&&(K=l),"".concat(K,"-").concat(f(H.traceId,32,p),"-").concat(f(H.spanId,16,_),"-").concat(j)}return""}function q(){var H="traceparent",j=v((0,N.$Z)(H));return j||(j=v((0,N.Iu)(H))),j}},60830:(a,V,E)=>{"use strict";E.d(V,{$4:()=>te,$5:()=>f,$o:()=>o,AP:()=>x,Di:()=>T,EX:()=>D,Ek:()=>J,GA:()=>h,H7:()=>z,HC:()=>X,Ic:()=>q,Ik:()=>H,JR:()=>j,Ju:()=>k,OL:()=>Me,O_:()=>O,P5:()=>ve,QM:()=>ee,RF:()=>N,RS:()=>P,Re:()=>U,Rr:()=>ge,Ru:()=>se,Sj:()=>A,TP:()=>v,Uw:()=>_,W7:()=>Le,YH:()=>C,Yo:()=>ce,Zu:()=>Se,a$:()=>_e,by:()=>S,e4:()=>G,e_:()=>I,fA:()=>u,kt:()=>Z,lJ:()=>me,lK:()=>w,mE:()=>R,oI:()=>b,pM:()=>K,ps:()=>m,re:()=>L,s:()=>xe,sY:()=>B,sl:()=>p,sx:()=>Ce,tI:()=>Y,tX:()=>$,tZ:()=>l,tn:()=>ne,uR:()=>M,vR:()=>g,wi:()=>we,y5:()=>c,y9:()=>re});var R="initialize",P="name",N="getNotifyMgr",k="identifier",c="push",l="isInitialized",h="config",p="instrumentationKey",_="logger",b="length",u="time",f="processNext",m="getProcessTelContext",g="addNotificationListener",v="removeNotificationListener",T="stopPollingInternalLogs",S="onComplete",x="getPlugin",D="flush",z="_extensions",q="splice",H="teardown",j="messageId",K="message",Y="isAsync",ne="_doTeardown",X="update",M="getNext",G="diagLog",C="setNextPlugin",o="createNew",w="cookieCfg",A="indexOf",U="substring",$="userAgent",B="split",Z="setEnabled",te="substr",L="nodeType",re="apply",Le="replace",_e="enableDebugExceptions",Ce="logInternalMessage",Me="toLowerCase",J="call",ee="type",ce="handler",me="listeners",Se="isChildEvt",O="getCtx",I="setCtx",se="complete",ve="traceId",we="spanId",ge="traceFlags",xe="version"},47672:(a,V,E)=>{"use strict";E.d(V,{J$:()=>f,KU:()=>u,OR:()=>b,QV:()=>c,Wy:()=>p,_1:()=>P,bA:()=>N,hW:()=>R,s6:()=>h,vR:()=>k,zi:()=>_});var R="function",P="object",N="undefined",k="prototype",c="hasOwnProperty",l="default",h=Object,p=h[k],_=h.assign,b=h.create,u=h.defineProperty,f=p[c]},75148:(a,V,E)=>{"use strict";E.d(V,{AQ:()=>c,mS:()=>N,zk:()=>k});var R=E(47672),P=null;function N(l){l===void 0&&(l=!0);var h=l===!1?null:P;return h||(typeof globalThis!==R.bA&&(h=globalThis),!h&&typeof self!==R.bA&&(h=self),!h&&typeof window!==R.bA&&(h=window),!h&&typeof E.g!==R.bA&&(h=E.g),P=h),h}function k(l){throw new TypeError(l)}function c(l){var h=R.OR;if(h)return h(l);if(l==null)return{};var p=typeof l;p!==R._1&&p!==R.hW&&k("Object prototype may only be an Object:"+l);function _(){}return _[R.vR]=l,new _}},8747:(a,V,E)=>{"use strict";E.d(V,{Im:()=>f,qU:()=>g,vz:()=>K});var R=E(47672),P=E(75148),N=((0,P.mS)()||{}).Symbol,k=((0,P.mS)()||{}).Reflect,c=!!N,l=!!k,h="decorate",p="metadata",_="getOwnPropertySymbols",b="iterator",u=function(M){for(var G,C=1,o=arguments.length;C<o;C++){G=arguments[C];for(var w in G)R.Wy[R.QV].call(G,w)&&(M[w]=G[w])}return M},f=R.zi||u,m=function(M,G){return m=R.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,o){C.__proto__=o}||function(C,o){for(var w in o)o[R.QV](w)&&(C[w]=o[w])},m(M,G)};function g(M,G){typeof G!==R.hW&&G!==null&&(0,P.zk)("Class extends value "+String(G)+" is not a constructor or null"),m(M,G);function C(){this.constructor=M}M[R.vR]=G===null?(0,P.AQ)(G):(C[R.vR]=G[R.vR],new C)}function v(M,G){var C={};for(var o in M)ObjHasOwnProperty.call(M,o)&&G.indexOf(o)<0&&(C[o]=M[o]);if(M!=null&&typeof ObjClass[_]===strShimFunction)for(var w=0,A=ObjClass[_](M);w<A.length;w++)G.indexOf(A[w])<0&&ObjProto.propertyIsEnumerable.call(M,A[w])&&(C[A[w]]=M[A[w]]);return C}function T(M,G,C,o){var w=arguments.length,A=w<3?G:o===null?o=ObjClass.getOwnPropertyDescriptor(G,C):o,U;if(l&&typeof k[h]===strShimFunction)A=k[h](M,G,C,o);else for(var $=M.length-1;$>=0;$--)(U=M[$])&&(A=(w<3?U(A):w>3?U(G,C,A):U(G,C))||A);return w>3&&A&&ObjDefineProperty(G,C,A),A}function S(M,G){return function(C,o){G(C,o,M)}}function x(M,G){if(l&&k[p]===strShimFunction)return k[p](M,G)}function D(M,G){for(var C in M)C!==strDefault&&!ObjHasOwnProperty.call(G,C)&&z(G,M,C)}function z(M,G,C,o){o===void 0&&(o=C),ObjCreate?ObjDefineProperty(M,o,{enumerable:!0,get:function(){return G[C]}}):M[o]=G[C]}function q(M){var G=typeof N===strShimFunction&&N[b],C=G&&M[G],o=0;if(C)return C.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&o>=M.length&&(M=void 0),{value:M&&M[o++],done:!M}}};throwTypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(M,G){var C=typeof N===strShimFunction&&M[N[b]];if(!C)return M;var o=C.call(M),w,A=[],U;try{for(;(G===void 0||G-- >0)&&!(w=o.next()).done;)A.push(w.value)}catch($){U={error:$}}finally{try{w&&!w.done&&(C=o.return)&&C.call(o)}finally{if(U)throw U.error}}return A}function j(){for(var M=arguments,G=0,C=0,o=M.length;C<o;C++)G+=M[C].length;for(var w=Array(G),A=0,C=0;C<o;C++)for(var U=M[C],$=0,B=U.length;$<B;$++,A++)w[A]=U[$];return w}function K(M,G){for(var C=0,o=G.length,w=M.length;C<o;C++,w++)M[w]=G[C];return M}function Y(M,G){return ObjDefineProperty?ObjDefineProperty(M,"raw",{value:G}):M.raw=G,M}function ne(M){if(M&&M.__esModule)return M;var G={};if(M!=null)for(var C in M)C!==strDefault&&Object.prototype.hasOwnProperty.call(M,C)&&z(G,M,C);return ObjCreate?ObjDefineProperty(G,strDefault,{enumerable:!0,value:M}):G[strDefault]=M,G}function X(M){return M&&M.__esModule?M:{strDefault:M}}},94731:(a,V,E)=>{"use strict";E.r(V),E.d(V,{AppInsightsCore:()=>_l._,ApplicationInsights:()=>As,CoreUtils:()=>ii.jS,Sender:()=>yl,SeverityLevel:()=>pa,_InternalMessageId:()=>ss.$,arrForEach:()=>we.Iu,isNullOrUndefined:()=>we.hX,proxyFunctions:()=>we.o$,throwError:()=>we.$8});var R=E(92457),P=E(8747),N="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",k="sampleRate",c="ProcessLegacy",l="http.method",h="https://dc.services.visualstudio.com",p="/v2/track",_="not_specified",b="iKey",u="split",f="length",m="toLowerCase",g="ingestionendpoint",v="toString",T="removeItem",S="name",x="message",D="count",z="preTriggerDate",q="disabled",H="interval",j="daysOfMonth",K="date",Y="getUTCDate",ne="stringify",X="pathname",M="correlationHeaderExcludePatterns",G="indexOf",C="extensionConfig",o="exceptions",w="parsedStack",A="properties",U="measurements",$="sizeInBytes",B="typeName",Z="severityLevel",te="problemGroup",L="isManual",re="CreateFromInterface",Le="hasFullStack",_e="level",Ce="method",Me="assembly",J="fileName",ee="line",ce="duration",me="receivedResponse",Se="substring",O="sanitizeKeyAndAddUniqueness",I="sanitizeException",se="sanitizeProperties",ve="sanitizeMeasurements",we=E(12497),ge=E(99015),xe=E(44180),Ge;function ze(Re,fe,Ee){var Pe=fe[f],Ve=Et(Re,fe);if(Ve[f]!==Pe){for(var Je=0,rt=Ve;Ee[rt]!==void 0;)Je++,rt=Ve[Se](0,150-3)+Ke(Je);Ve=rt}return Ve}function Et(Re,fe){var Ee;return fe&&(fe=(0,we.EH)(fe[v]()),fe[f]>150&&(Ee=fe[Se](0,150),(0,ge.ZP)(Re,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:fe},!0))),Ee||fe}function tt(Re,fe,Ee){Ee===void 0&&(Ee=1024);var Pe;return fe&&(Ee=Ee||1024,fe=(0,we.EH)(fe),fe.toString()[f]>Ee&&(Pe=fe[v]()[Se](0,Ee),(0,ge.ZP)(Re,2,61,"string value is too long. It has been truncated to "+Ee+" characters.",{value:fe},!0))),Pe||fe}function at(Re,fe){return De(Re,fe,2048,66)}function Tt(Re,fe){var Ee;return fe&&fe[f]>32768&&(Ee=fe[Se](0,32768),(0,ge.ZP)(Re,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:fe},!0)),Ee||fe}function ue(Re,fe){var Ee;if(fe){var Pe=""+fe;Pe[f]>32768&&(Ee=Pe[Se](0,32768),(0,ge.ZP)(Re,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:fe},!0))}return Ee||fe}function Q(Re,fe){if(fe){var Ee={};(0,we.z)(fe,function(Pe,Ve){if((0,we.Gv)(Ve)&&(0,xe.Z)())try{Ve=(0,xe.hm)()[ne](Ve)}catch(Je){(0,ge.ZP)(Re,2,49,"custom property is not valid",{exception:Je},!0)}Ve=tt(Re,Ve,8192),Pe=ze(Re,Pe,Ee),Ee[Pe]=Ve}),fe=Ee}return fe}function ae(Re,fe){if(fe){var Ee={};(0,we.z)(fe,function(Pe,Ve){Pe=ze(Re,Pe,Ee),Ee[Pe]=Ve}),fe=Ee}return fe}function be(Re,fe){return fe&&De(Re,fe,128,69)[v]()}function De(Re,fe,Ee,Pe){var Ve;return fe&&(fe=(0,we.EH)(fe),fe[f]>Ee&&(Ve=fe[Se](0,Ee),(0,ge.ZP)(Re,2,Pe,"input is too long, it has been truncated to "+Ee+" characters.",{data:fe},!0))),Ve||fe}function Ke(Re){var fe="00"+Re;return fe.substr(fe[f]-3)}var Ue=(Ge={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Ge[O]=ze,Ge.sanitizeKey=Et,Ge.sanitizeString=tt,Ge.sanitizeUrl=at,Ge.sanitizeMessage=Tt,Ge[I]=ue,Ge[se]=Q,Ge[ve]=ae,Ge.sanitizeId=be,Ge.sanitizeInput=De,Ge.padNumber=Ke,Ge.trim=we.EH,Ge),et=function(){function Re(fe,Ee,Pe,Ve){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Je=this;Je.ver=2,Je[S]=tt(fe,Ee)||_,Je[A]=Q(fe,Pe),Je[U]=ae(fe,Ve)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Re.dataType="EventData",Re}(),qt=function(){function Re(fe,Ee,Pe,Ve,Je){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var rt=this;rt.ver=2,Ee=Ee||_,rt[x]=Tt(fe,Ee),rt[A]=Q(fe,Ve),rt[U]=ae(fe,Je),Pe&&(rt[Z]=Pe)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Re.dataType="MessageData",Re}(),ot="";function ut(Re,fe){return fe===void 0&&(fe=!1),Re==null?fe:Re.toString()[m]()==="true"}function bt(Re){(isNaN(Re)||Re<0)&&(Re=0),Re=Math.round(Re);var fe=ot+Re%1e3,Ee=ot+Math.floor(Re/1e3)%60,Pe=ot+Math.floor(Re/(1e3*60))%60,Ve=ot+Math.floor(Re/(1e3*60*60))%24,Je=Math.floor(Re/(1e3*60*60*24));return fe=fe[f]===1?"00"+fe:fe[f]===2?"0"+fe:fe,Ee=Ee[f]<2?"0"+Ee:Ee,Pe=Pe[f]<2?"0"+Pe:Pe,Ve=Ve[f]<2?"0"+Ve:Ve,(Je>0?Je+".":ot)+Ve+":"+Pe+":"+Ee+"."+fe}function Xe(Re,fe){var Ee=null;return(0,we.Iu)(Re,function(Pe){if(Pe.identifier===fe)return Ee=Pe,-1}),Ee}function _t(Re,fe,Ee,Pe,Ve){return!Ve&&(0,we.Kg)(Re)&&(Re==="Script error."||Re==="Script error")}var vi=function(){function Re(fe,Ee,Pe,Ve,Je,rt,ft){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var $t=this;$t.ver=2,$t.id=be(fe,ft),$t.url=at(fe,Pe),$t[S]=tt(fe,Ee)||_,isNaN(Ve)||($t[ce]=bt(Ve)),$t[A]=Q(fe,Je),$t[U]=ae(fe,rt)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Re.dataType="PageviewData",Re}(),kt=function(){function Re(fe,Ee,Pe,Ve,Je,rt,ft){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var $t=this;$t.ver=2,$t.url=at(fe,Pe),$t[S]=tt(fe,Ee)||_,$t[A]=Q(fe,Je),$t[U]=ae(fe,rt),ft&&($t.domProcessing=ft.domProcessing,$t[ce]=ft[ce],$t.networkConnect=ft.networkConnect,$t.perfTotal=ft.perfTotal,$t[me]=ft[me],$t.sentRequest=ft.sentRequest)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Re.dataType="PageviewPerformanceData",Re}(),Nt="<no_method>",zi="error",It="stack",Ht="stackDetails",jn="errorSrc",Yt="message",jt="description";function Ln(Re,fe){var Ee=Re;return Ee&&!(0,we.Kg)(Ee)&&(JSON&&JSON[ne]?(Ee=JSON[ne](Re),fe&&(!Ee||Ee==="{}")&&((0,we.Tn)(Re[v])?Ee=Re[v]():Ee=""+Re)):Ee=""+Re+" - (Missing JSON.stringify)"),Ee||""}function Kt(Re,fe){var Ee=Re;return Re&&(Ee&&!(0,we.Kg)(Ee)&&(Ee=Re[Yt]||Re[jt]||Ee),Ee&&!(0,we.Kg)(Ee)&&(Ee=Ln(Ee,!0)),Re.filename&&(Ee=Ee+" @"+(Re.filename||"")+":"+(Re.lineno||"?")+":"+(Re.colno||"?"))),fe&&fe!=="String"&&fe!=="Object"&&fe!=="Error"&&(Ee||"")[G](fe)===-1&&(Ee=fe+": "+Ee),Ee||""}function Zt(Re){try{if((0,we.Gv)(Re))return"hasFullStack"in Re&&"typeName"in Re}catch(fe){}return!1}function Ji(Re){try{if((0,we.Gv)(Re))return"ver"in Re&&"exceptions"in Re&&"properties"in Re}catch(fe){}return!1}function Oe(Re){return Re&&Re.src&&(0,we.Kg)(Re.src)&&Re.obj&&(0,we.cy)(Re.obj)}function We(Re){var fe=Re||"";(0,we.Kg)(fe)||((0,we.Kg)(fe[It])?fe=fe[It]:fe=""+fe);var Ee=fe[u](`
`);return{src:fe,obj:Ee}}function wt(Re){for(var fe=[],Ee=Re[u](`
`),Pe=0;Pe<Ee[f];Pe++){var Ve=Ee[Pe];Ee[Pe+1]&&(Ve+="@"+Ee[Pe+1],Pe++),fe.push(Ve)}return{src:Re,obj:fe}}function ct(Re){var fe=null;if(Re)try{if(Re[It])fe=We(Re[It]);else if(Re[zi]&&Re[zi][It])fe=We(Re[zi][It]);else if(Re.exception&&Re.exception[It])fe=We(Re.exception[It]);else if(Oe(Re))fe=Re;else if(Oe(Re[Ht]))fe=Re[Ht];else if(window&&window.opera&&Re[Yt])fe=wt(Re[x]);else if(Re.reason&&Re.reason[It])fe=We(Re.reason[It]);else if((0,we.Kg)(Re))fe=We(Re);else{var Ee=Re[Yt]||Re[jt]||"";(0,we.Kg)(Re[jn])&&(Ee&&(Ee+=`
`),Ee+=" from "+Re[jn]),Ee&&(fe=We(Ee))}}catch(Pe){fe=We(Pe)}return fe||{src:"",obj:null}}function gt(Re){var fe="";return Re&&(Re.obj?(0,we.Iu)(Re.obj,function(Ee){fe+=Ee+`
`}):fe=Re.src||""),fe}function si(Re){var fe,Ee=Re.obj;if(Ee&&Ee[f]>0){fe=[];var Pe=0,Ve=0;(0,we.Iu)(Ee,function(Qi){var Fi=Qi[v]();if(St.regex.test(Fi)){var st=new St(Fi,Pe++);Ve+=st[$],fe.push(st)}});var Je=32*1024;if(Ve>Je)for(var rt=0,ft=fe[f]-1,$t=0,Wt=rt,ti=ft;rt<ft;){var Ci=fe[rt][$],Li=fe[ft][$];if($t+=Ci+Li,$t>Je){var Ti=ti-Wt+1;fe.splice(Wt,Ti);break}Wt=rt,ti=ft,rt++,ft--}}return fe}function xt(Re){var fe="";if(Re&&(fe=Re.typeName||Re[S]||"",!fe))try{var Ee=/function (.{1,200})\(/,Pe=Ee.exec(Re.constructor[v]());fe=Pe&&Pe[f]>1?Pe[1]:""}catch(Ve){}return fe}function Ut(Re){if(Re)try{if(!(0,we.Kg)(Re)){var fe=xt(Re),Ee=Ln(Re,!1);return(!Ee||Ee==="{}")&&(Re[zi]&&(Re=Re[zi],fe=xt(Re)),Ee=Ln(Re,!0)),Ee[G](fe)!==0&&fe!=="String"?fe+":"+Ee:Ee}}catch(Pe){}return""+(Re||"")}var Ft=function(){function Re(fe,Ee,Pe,Ve,Je,rt){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ft=this;ft.ver=2,Ji(Ee)?(ft[o]=Ee[o]||[],ft[A]=Ee[A],ft[U]=Ee[U],Ee[Z]&&(ft[Z]=Ee[Z]),Ee.id&&(ft.id=Ee.id),Ee[te]&&(ft[te]=Ee[te]),(0,we.hX)(Ee[L])||(ft[L]=Ee[L])):(Pe||(Pe={}),ft[o]=[new pt(fe,Ee,Pe)],ft[A]=Q(fe,Pe),ft[U]=ae(fe,Ve),Je&&(ft[Z]=Je),rt&&(ft.id=rt))}return Re.CreateAutoException=function(fe,Ee,Pe,Ve,Je,rt,ft,$t){var Wt,ti=xt(Je||rt||fe);return Wt={},Wt[x]=Kt(fe,ti),Wt.url=Ee,Wt.lineNumber=Pe,Wt.columnNumber=Ve,Wt.error=Ut(Je||rt||fe),Wt.evt=Ut(rt||fe),Wt[B]=ti,Wt.stackDetails=ct(ft||Je||rt),Wt.errorSrc=$t,Wt},Re.CreateFromInterface=function(fe,Ee,Pe,Ve){var Je=Ee[o]&&(0,we.W$)(Ee[o],function(ft){return pt[re](fe,ft)}),rt=new Re(fe,(0,P.Im)((0,P.Im)({},Ee),{exceptions:Je}),Pe,Ve);return rt},Re.prototype.toInterface=function(){var fe,Ee=this,Pe=Ee.exceptions,Ve=Ee.properties,Je=Ee.measurements,rt=Ee.severityLevel,ft=Ee.problemGroup,$t=Ee.id,Wt=Ee.isManual,ti=Pe instanceof Array&&(0,we.W$)(Pe,function(Ci){return Ci.toInterface()})||void 0;return fe={ver:"4.0"},fe[o]=ti,fe.severityLevel=rt,fe.properties=Ve,fe.measurements=Je,fe.problemGroup=ft,fe.id=$t,fe.isManual=Wt,fe},Re.CreateSimpleException=function(fe,Ee,Pe,Ve,Je,rt){var ft;return{exceptions:[(ft={},ft[Le]=!0,ft.message=fe,ft.stack=Je,ft.typeName=Ee,ft)]}},Re.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Re.dataType="ExceptionData",Re.formatError=Ut,Re}(),pt=function(){function Re(fe,Ee,Pe){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var Ve=this;if(Zt(Ee))Ve[B]=Ee[B],Ve[x]=Ee[x],Ve[It]=Ee[It],Ve[w]=Ee[w]||[],Ve[Le]=Ee[Le];else{var Je=Ee,rt=Je&&Je.evt;(0,we.bJ)(Je)||(Je=Je[zi]||rt||Je),Ve[B]=tt(fe,xt(Je))||_,Ve[x]=Tt(fe,Kt(Ee||Je,Ve[B]))||_;var ft=Ee[Ht]||ct(Ee);Ve[w]=si(ft),Ve[It]=ue(fe,gt(ft)),Ve.hasFullStack=(0,we.cy)(Ve.parsedStack)&&Ve.parsedStack[f]>0,Pe&&(Pe[B]=Pe[B]||Ve[B])}}return Re.prototype.toInterface=function(){var fe,Ee=this,Pe=Ee[w]instanceof Array&&(0,we.W$)(Ee[w],function(Je){return Je.toInterface()}),Ve=(fe={id:Ee.id,outerId:Ee.outerId,typeName:Ee[B],message:Ee[x],hasFullStack:Ee[Le],stack:Ee[It]},fe[w]=Pe||void 0,fe);return Ve},Re.CreateFromInterface=function(fe,Ee){var Pe=Ee[w]instanceof Array&&(0,we.W$)(Ee[w],function(Je){return St[re](Je)})||Ee[w],Ve=new Re(fe,(0,P.Im)((0,P.Im)({},Ee),{parsedStack:Pe}));return Ve},Re}(),St=function(){function Re(fe,Ee){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Pe=this;if(Pe[$]=0,typeof fe=="string"){var Ve=fe;Pe[_e]=Ee,Pe[Ce]=Nt,Pe[Me]=(0,we.EH)(Ve),Pe[J]="",Pe[ee]=0;var Je=Ve.match(Re.regex);Je&&Je[f]>=5&&(Pe[Ce]=(0,we.EH)(Je[2])||Pe[Ce],Pe[J]=(0,we.EH)(Je[4]),Pe[ee]=parseInt(Je[5])||0)}else Pe[_e]=fe[_e],Pe[Ce]=fe[Ce],Pe[Me]=fe[Me],Pe[J]=fe[J],Pe[ee]=fe[ee],Pe[$]=0;Pe.sizeInBytes+=Pe.method[f],Pe.sizeInBytes+=Pe.fileName[f],Pe.sizeInBytes+=Pe.assembly[f],Pe[$]+=Re.baseSize,Pe.sizeInBytes+=Pe.level.toString()[f],Pe.sizeInBytes+=Pe.line.toString()[f]}return Re.CreateFromInterface=function(fe){return new Re(fe,null)},Re.prototype.toInterface=function(){var fe=this;return{level:fe[_e],method:fe[Ce],assembly:fe[Me],fileName:fe[J],line:fe[ee]}},Re.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,Re.baseSize=58,Re}(),Mt=function(){function Re(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return Re}(),mi=function(){function Re(fe,Ee,Pe,Ve,Je,rt,ft,$t,Wt){this.aiDataContract={ver:1,metrics:1,properties:0};var ti=this;ti.ver=2;var Ci=new Mt;Ci[D]=Ve>0?Ve:void 0,Ci.max=isNaN(rt)||rt===null?void 0:rt,Ci.min=isNaN(Je)||Je===null?void 0:Je,Ci[S]=tt(fe,Ee)||_,Ci.value=Pe,Ci.stdDev=isNaN(ft)||ft===null?void 0:ft,ti.metrics=[Ci],ti[A]=Q(fe,$t),ti[U]=ae(fe,Wt)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Re.dataType="MetricData",Re}(),ii=E(32578),Lt=E(91698),ai=E(57679),gi=E(18413);function Mi(Re){var fe=null;if((0,we.Tn)(Event))fe=new Event(Re);else{var Ee=(0,xe.YE)();Ee&&Ee.createEvent&&(fe=Ee.createEvent("Event"),fe.initEvent(Re,!0,!0))}return fe}var xi=E(96434),Wi=(0,xi.oP)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Ui=E(75148),Ni=(0,xi.Hj)({LocalStorage:0,SessionStorage:1}),Oi=(0,xi.Hj)({AI:0,AI_AND_W3C:1,W3C:2}),Vt=void 0,ri=void 0;function Ri(){return sn()?Hi(Ni.LocalStorage):null}function Hi(Re){try{if((0,we.hX)((0,Ui.mS)()))return null;var fe=new Date()[v](),Ee=(0,xe.EH)(Re===Ni.LocalStorage?"localStorage":"sessionStorage");Ee.setItem(fe,fe);var Pe=Ee.getItem(fe)!==fe;if(Ee[T](fe),!Pe)return Ee}catch(Ve){}return null}function bi(){return rn()?Hi(Ni.SessionStorage):null}function Ai(){Vt=!1,ri=!1}function $i(){Vt=sn(!0),ri=rn(!0)}function sn(Re){return(Re||Vt===void 0)&&(Vt=!!Hi(Ni.LocalStorage)),Vt}function Bi(Re,fe){var Ee=Ri();if(Ee!==null)try{return Ee.getItem(fe)}catch(Pe){Vt=!1,(0,ge.ZP)(Re,2,1,"Browser failed read of local storage. "+(0,we.lL)(Pe),{exception:(0,xe.mm)(Pe)})}return null}function _n(Re,fe,Ee){var Pe=Ri();if(Pe!==null)try{return Pe.setItem(fe,Ee),!0}catch(Ve){Vt=!1,(0,ge.ZP)(Re,2,3,"Browser failed write to local storage. "+(0,we.lL)(Ve),{exception:(0,xe.mm)(Ve)})}return!1}function Pn(Re,fe){var Ee=Ri();if(Ee!==null)try{return Ee[T](fe),!0}catch(Pe){Vt=!1,(0,ge.ZP)(Re,2,5,"Browser failed removal of local storage item. "+(0,we.lL)(Pe),{exception:(0,xe.mm)(Pe)})}return!1}function rn(Re){return(Re||ri===void 0)&&(ri=!!Hi(Ni.SessionStorage)),ri}function Rn(){var Re=[];return rn()&&(0,we.z)((0,xe.EH)("sessionStorage"),function(fe){Re.push(fe)}),Re}function on(Re,fe){var Ee=bi();if(Ee!==null)try{return Ee.getItem(fe)}catch(Pe){ri=!1,(0,ge.ZP)(Re,2,2,"Browser failed read of session storage. "+(0,we.lL)(Pe),{exception:(0,xe.mm)(Pe)})}return null}function hn(Re,fe,Ee){var Pe=bi();if(Pe!==null)try{return Pe.setItem(fe,Ee),!0}catch(Ve){ri=!1,(0,ge.ZP)(Re,2,4,"Browser failed write to session storage. "+(0,we.lL)(Ve),{exception:(0,xe.mm)(Ve)})}return!1}function Si(Re,fe){var Ee=bi();if(Ee!==null)try{return Ee[T](fe),!0}catch(Pe){ri=!1,(0,ge.ZP)(Re,2,6,"Browser failed removal of session storage item. "+(0,we.lL)(Pe),{exception:(0,xe.mm)(Pe)})}return!1}var wi=(0,xe.YE)()||{},An=0,Ar=[null,null,null,null,null];function zn(Re){var fe=An,Ee=Ar,Pe=Ee[fe];return wi.createElement?Ee[fe]||(Pe=Ee[fe]=wi.createElement("a")):Pe={host:kr(Re,!0)},Pe.href=Re,fe++,fe>=Ee[f]&&(fe=0),An=fe,Pe}function xr(Re){var fe,Ee=zn(Re);return Ee&&(fe=Ee.href),fe}function Yn(Re){var fe,Ee=zn(Re);return Ee&&(fe=Ee[X]),fe}function Lr(Re,fe){return Re?Re.toUpperCase()+" "+fe:fe}function kr(Re,fe){var Ee=pn(Re,fe)||"";if(Ee){var Pe=Ee.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Pe!=null&&Pe[f]>3&&(0,we.Kg)(Pe[2])&&Pe[2][f]>0)return Pe[2]+(Pe[3]||"")}return Ee}function pn(Re,fe){var Ee=null;if(Re){var Pe=Re.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Pe!=null&&Pe[f]>2&&(0,we.Kg)(Pe[2])&&Pe[2][f]>0&&(Ee=Pe[2]||"",fe&&Pe[f]>2)){var Ve=(Pe[1]||"")[m](),Je=Pe[3]||"";(Ve==="http"&&Je===":80"||Ve==="https"&&Je===":443")&&(Je=""),Ee+=Je}}return Ee}var Wn=[h+p,"https://breeze.aimon.applicationinsights.io"+p,"https://dc-int.services.visualstudio.com"+p];function Jn(Re){return(0,we.rD)(Wn,Re[m]())!==-1}var Un={NotSpecified:_,createDomEvent:Mi,disableStorage:Ai,isInternalApplicationInsightsEndpoint:Jn,canUseLocalStorage:sn,getStorage:Bi,setStorage:_n,removeStorage:Pn,canUseSessionStorage:rn,getSessionStorageKeys:Rn,getSessionStorage:on,setSessionStorage:hn,removeSessionStorage:Si,disableCookies:ii.WD,canUseCookies:ii.ht,disallowsSameSiteNone:Lt.It,setCookie:ii.TV,stringToBoolOrDefault:ut,getCookie:ii.Ri,deleteCookie:ii.Yj,trim:we.EH,newId:ai.Si,random32:function(){return(0,ai.VN)(!0)},generateW3CId:ii.cL,isArray:we.cy,isError:we.bJ,isDate:we.$P,toISOStringForIE8:we._u,getIEVersion:xe.L0,msToTimeSpan:bt,isCrossOriginError:_t,dump:xe.mm,getExceptionName:we.lL,addEventHandler:gi.Q3,IsBeaconApiSupported:xe.Uf,getExtension:Xe},Ki={parseUrl:zn,getAbsoluteUrl:xr,getPathName:Yn,getCompleteUrl:Lr,parseHost:kr,parseFullHost:pn},xn={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(Re,fe,Ee){if(!fe||Re&&Re.disableCorrelationHeaders)return!1;if(Re&&Re[M]){for(var Pe=0;Pe<Re.correlationHeaderExcludePatterns[f];Pe++)if(Re[M][Pe].test(fe))return!1}var Ve=zn(fe).host[m]();if(Ve&&(Ve[G](":443")!==-1||Ve[G](":80")!==-1)&&(Ve=(pn(fe,!0)||"")[m]()),(!Re||!Re.enableCorsCorrelation)&&Ve&&Ve!==Ee)return!1;var Je=Re&&Re.correlationHeaderDomains;if(Je){var rt;if((0,we.Iu)(Je,function(Wt){var ti=new RegExp(Wt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));rt=rt||ti.test(Ve)}),!rt)return!1}var ft=Re&&Re.correlationHeaderExcludedDomains;if(!ft||ft[f]===0)return!0;for(var Pe=0;Pe<ft[f];Pe++){var $t=new RegExp(ft[Pe].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if($t.test(Ve))return!1}return Ve&&Ve[f]>0},getCorrelationContext:function(Re){if(Re){var fe=xn.getCorrelationContextValue(Re,Wi[1]);if(fe&&fe!==xn.correlationIdPrefix)return fe}},getCorrelationContextValue:function(Re,fe){if(Re)for(var Ee=Re[u](","),Pe=0;Pe<Ee[f];++Pe){var Ve=Ee[Pe][u]("=");if(Ve[f]===2&&Ve[0]===fe)return Ve[1]}}};function Gi(Re,fe,Ee,Pe){var Ve,Je=Pe,rt=Pe;if(fe&&fe[f]>0){var ft=zn(fe);if(Ve=ft.host,!Je)if(ft[X]!=null){var $t=ft.pathname[f]===0?"/":ft[X];$t.charAt(0)!=="/"&&($t="/"+$t),rt=ft[X],Je=tt(Re,Ee?Ee+" "+$t:$t)}else Je=tt(Re,fe)}else Ve=Pe,Je=Pe;return{target:Ve,name:Je,data:rt}}function Xi(){var Re=(0,xe.FJ)();if(Re&&Re.now&&Re.timing){var fe=Re.now()+Re.timing.navigationStart;if(fe>0)return fe}return(0,we.x3)()}function nr(Re,fe){var Ee=null;return Re!==0&&fe!==0&&!(0,we.hX)(Re)&&!(0,we.hX)(fe)&&(Ee=fe-Re),Ee}var Sr={Now:Xi,GetDuration:nr};function ta(Re,fe){var Ee=Re||{};return{getName:function(){return Ee[_DYN_NAME]},setName:function(Pe){fe&&fe.setName(Pe),Ee[_DYN_NAME]=Pe},getTraceId:function(){return Ee.traceID},setTraceId:function(Pe){fe&&fe.setTraceId(Pe),isValidTraceId(Pe)&&(Ee.traceID=Pe)},getSpanId:function(){return Ee.parentID},setSpanId:function(Pe){fe&&fe.setSpanId(Pe),isValidSpanId(Pe)&&(Ee.parentID=Pe)},getTraceFlags:function(){return Ee.traceFlags},setTraceFlags:function(Pe){fe&&fe.setTraceFlags(Pe),Ee.traceFlags=Pe}}}var bn=function(){function Re(fe,Ee,Pe,Ve,Je,rt,ft,$t,Wt,ti,Ci,Li){Wt===void 0&&(Wt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ti=this;Ti.ver=2,Ti.id=Ee,Ti[ce]=bt(Je),Ti.success=rt,Ti.resultCode=ft+"",Ti.type=tt(fe,Wt);var Qi=Gi(fe,Pe,$t,Ve);Ti.data=at(fe,Ve)||Qi.data,Ti.target=tt(fe,Qi.target),ti&&(Ti.target="".concat(Ti.target," | ").concat(ti)),Ti[S]=tt(fe,Qi[S]),Ti[A]=Q(fe,Ci),Ti[U]=ae(fe,Li)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Re.dataType="RemoteDependencyData",Re}(),fa="AppInsightsPropertiesPlugin",Rr="AppInsightsChannelPlugin",yn="ApplicationInsightsAnalytics",Ur=E(64252),jr=E(56489);function kn(Re){var fe="ai."+Re+".";return function(Ee){return fe+Ee}}var lr=kn("application"),$e=kn("device"),ht=kn("location"),vt=kn("operation"),Rt=kn("session"),nt=kn("user"),pi=kn("cloud"),fi=kn("internal"),Ye=function(Re){(0,P.qU)(fe,Re);function fe(){return Re.call(this)||this}return fe}((0,we.SZ)({applicationVersion:lr("ver"),applicationBuild:lr("build"),applicationTypeId:lr("typeId"),applicationId:lr("applicationId"),applicationLayer:lr("layer"),deviceId:$e("id"),deviceIp:$e("ip"),deviceLanguage:$e("language"),deviceLocale:$e("locale"),deviceModel:$e("model"),deviceFriendlyName:$e("friendlyName"),deviceNetwork:$e("network"),deviceNetworkName:$e("networkName"),deviceOEMName:$e("oemName"),deviceOS:$e("os"),deviceOSVersion:$e("osVersion"),deviceRoleInstance:$e("roleInstance"),deviceRoleName:$e("roleName"),deviceScreenResolution:$e("screenResolution"),deviceType:$e("type"),deviceMachineName:$e("machineName"),deviceVMName:$e("vmName"),deviceBrowser:$e("browser"),deviceBrowserVersion:$e("browserVersion"),locationIp:ht("ip"),locationCountry:ht("country"),locationProvince:ht("province"),locationCity:ht("city"),operationId:vt("id"),operationName:vt("name"),operationParentId:vt("parentId"),operationRootId:vt("rootId"),operationSyntheticSource:vt("syntheticSource"),operationCorrelationVector:vt("correlationVector"),sessionId:Rt("id"),sessionIsFirst:Rt("isFirst"),sessionIsNew:Rt("isNew"),userAccountAcquisitionDate:nt("accountAcquisitionDate"),userAccountId:nt("accountId"),userAgent:nt("userAgent"),userId:nt("id"),userStoreRegion:nt("storeRegion"),userAuthUserId:nt("authUserId"),userAnonymousUserAcquisitionDate:nt("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:nt("authUserAcquisitionDate"),cloudName:pi("name"),cloudRole:pi("role"),cloudRoleVer:pi("roleVer"),cloudRoleInstance:pi("roleInstance"),cloudEnvironment:pi("environment"),cloudLocation:pi("location"),cloudDeploymentUnit:pi("deploymentUnit"),internalNodeName:fi("nodeName"),internalSdkVersion:fi("sdkVersion"),internalAgentVersion:fi("agentVersion"),internalSnippet:fi("snippet"),internalSdkSrc:fi("sdkSrc")})),dt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ze=new Ye,Dt=function(){function Re(fe,Ee,Pe){var Ve=this,Je=this;Je.ver=1,Je.sampleRate=100,Je.tags={},Je[S]=tt(fe,Pe)||_,Je.data=Ee,Je.time=(0,we._u)(new Date),Je.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return Ve.sampleRate===100?4:1},tags:1,data:1}}return Re}(),Qt=function(){function Re(fe,Ee){this.aiDataContract={baseType:1,baseData:1},this.baseType=fe,this.baseData=Ee}return Re}(),ci="duration",Jt="tags",he="deviceType",pe="data",Ne="name",Ae="traceID",Be="length",je="stringify",Qe="measurements",yt="dataType",ei="envelopeType",Ot="toString",zt="onLine",hi="enqueue",un="count",mn="push",_i="emitLineDelimitedJson",Ii="clear",di="batchPayloads",Nn="markAsSent",Dn="clearSent",qi="BUFFER_KEY",En="SENT_BUFFER_KEY",ur="MAX_BUFFER_SIZE",cn="namePrefix",wr="maxBatchSizeInBytes",zr="triggerSend",In="diagLog",ln="onunloadDisableBeacon",ki="isBeaconApiDisabled",Ta="_sender",vn="_senderConfig",qa="_buffer",cl="enableSessionStorageBuffer",po="samplingPercentage",Er="instrumentationKey",Zi="endpointUrl",Es="customHeaders",Tr="disableXhr",At="onunloadDisableFetch",Ts="disableTelemetry",dl="baseType",vo="sampleRate",Au="convertUndefined",ha="_xhrReadyStateChange",Kn="_onError",fl="_onPartialSuccess",go="_onSuccess",is="itemsAccepted",xu="itemsReceived",Cs="isRetryDisabled",ns="setRequestHeader",rs="maxBatchInterval",Du="eventsSendRequest",Iu="disableInstrumentationKeyValidation",Fu="getSamplingScore",Md="getHashCodeScore",hl="baseType",Tn="baseData",Xn="properties",Ou="true";function dn(Re,fe,Ee){return(0,we.KY)(Re,fe,Ee,we.zz)}function ml(Re,fe,Ee){var Pe=Ee[Jt]=Ee[Jt]||{},Ve=fe.ext=fe.ext||{},Je=fe[Jt]=fe[Jt]||[],rt=Ve.user;rt&&(dn(Pe,Ze.userAuthUserId,rt.authId),dn(Pe,Ze.userId,rt.id||rt.localId));var ft=Ve.app;ft&&dn(Pe,Ze.sessionId,ft.sesId);var $t=Ve.device;$t&&(dn(Pe,Ze.deviceId,$t.id||$t.localId),dn(Pe,Ze[he],$t.deviceClass),dn(Pe,Ze.deviceIp,$t.ip),dn(Pe,Ze.deviceModel,$t.model),dn(Pe,Ze[he],$t[he]));var Wt=fe.ext.web;if(Wt){dn(Pe,Ze.deviceLanguage,Wt.browserLang),dn(Pe,Ze.deviceBrowserVersion,Wt.browserVer),dn(Pe,Ze.deviceBrowser,Wt.browser);var ti=Ee[pe]=Ee[pe]||{},Ci=ti[Tn]=ti[Tn]||{},Li=Ci[Xn]=Ci[Xn]||{};dn(Li,"domain",Wt.domain),dn(Li,"isManual",Wt.isManual?Ou:null),dn(Li,"screenRes",Wt.screenRes),dn(Li,"userConsent",Wt.userConsent?Ou:null)}var Ti=Ve.os;Ti&&dn(Pe,Ze.deviceOS,Ti[Ne]);var Qi=Ve.trace;Qi&&(dn(Pe,Ze.operationParentId,Qi.parentID),dn(Pe,Ze.operationName,tt(Re,Qi[Ne])),dn(Pe,Ze.operationId,Qi[Ae]));for(var Fi={},st=Je[Be]-1;st>=0;st--){var Fn=Je[st];(0,we.z)(Fn,function(na,$a){Fi[na]=$a}),Je.splice(st,1)}(0,we.z)(Je,function(na,$a){Fi[na]=$a});var Cr=(0,P.Im)((0,P.Im)({},Pe),Fi);Cr[Ze.internalSdkVersion]||(Cr[Ze.internalSdkVersion]="javascript:".concat(en.Version)),Ee[Jt]=(0,we.hW)(Cr)}function Wr(Re,fe,Ee){(0,we.hX)(Re)||(0,we.z)(Re,function(Pe,Ve){(0,we.Et)(Ve)?Ee[Pe]=Ve:(0,we.Kg)(Ve)?fe[Pe]=Ve:(0,xe.Z)()&&(fe[Pe]=(0,xe.hm)()[je](Ve))})}function ma(Re,fe){(0,we.hX)(Re)||(0,we.z)(Re,function(Ee,Pe){Re[Ee]=Pe||fe})}function Ca(Re,fe,Ee,Pe){var Ve=new Dt(Re,Pe,fe);dn(Ve,"sampleRate",Ee[k]),(Ee[Tn]||{}).startTime&&(Ve.time=(0,we._u)(Ee[Tn].startTime)),Ve.iKey=Ee.iKey;var Je=Ee.iKey.replace(/-/g,"");return Ve[Ne]=Ve[Ne].replace("{0}",Je),ml(Re,Ee,Ve),Ee[Jt]=Ee[Jt]||[],(0,we.hW)(Ve)}function Cn(Re,fe){(0,we.hX)(fe[Tn])&&(0,ge.ZP)(Re,1,46,"telemetryItem.baseData cannot be null.")}var en={Version:"2.8.10"};function pl(Re,fe,Ee){Cn(Re,fe);var Pe=fe[Tn][Qe]||{},Ve=fe[Tn][Xn]||{};Wr(fe[pe],Ve,Pe),(0,we.hX)(Ee)||ma(Ve,Ee);var Je=fe[Tn];if((0,we.hX)(Je))return(0,ge.OG)(Re,"Invalid input for dependency data"),null;var rt=Je[Xn]&&Je[Xn][l]?Je[Xn][l]:"GET",ft=new bn(Re,Je.id,Je.target,Je[Ne],Je[ci],Je.success,Je.responseCode,rt,Je.type,Je.correlationContext,Ve,Pe),$t=new Qt(bn[yt],ft);return Ca(Re,bn[ei],fe,$t)}function bo(Re,fe,Ee){Cn(Re,fe);var Pe={},Ve={};fe[hl]!==et[yt]&&(Pe.baseTypeSource=fe[hl]),fe[hl]===et[yt]?(Pe=fe[Tn][Xn]||{},Ve=fe[Tn][Qe]||{}):fe[Tn]&&Wr(fe[Tn],Pe,Ve),Wr(fe[pe],Pe,Ve),(0,we.hX)(Ee)||ma(Pe,Ee);var Je=fe[Tn][Ne],rt=new et(Re,Je,Pe,Ve),ft=new Qt(et[yt],rt);return Ca(Re,et[ei],fe,ft)}function Pd(Re,fe,Ee){Cn(Re,fe);var Pe=fe[Tn][Qe]||{},Ve=fe[Tn][Xn]||{};Wr(fe[pe],Ve,Pe),(0,we.hX)(Ee)||ma(Ve,Ee);var Je=fe[Tn],rt=Ft.CreateFromInterface(Re,Je,Ve,Pe),ft=new Qt(Ft[yt],rt);return Ca(Re,Ft[ei],fe,ft)}function Ad(Re,fe,Ee){Cn(Re,fe);var Pe=fe[Tn],Ve=Pe[Xn]||{},Je=Pe[Qe]||{};Wr(fe[pe],Ve,Je),(0,we.hX)(Ee)||ma(Ve,Ee);var rt=new mi(Re,Pe[Ne],Pe.average,Pe.sampleCount,Pe.min,Pe.max,Pe.stdDev,Ve,Je),ft=new Qt(mi[yt],rt);return Ca(Re,mi[ei],fe,ft)}function Lu(Re,fe,Ee){Cn(Re,fe);var Pe,Ve=fe[Tn];!(0,we.hX)(Ve)&&!(0,we.hX)(Ve[Xn])&&!(0,we.hX)(Ve[Xn][ci])?(Pe=Ve[Xn][ci],delete Ve[Xn][ci]):!(0,we.hX)(fe[pe])&&!(0,we.hX)(fe[pe][ci])&&(Pe=fe[pe][ci],delete fe[pe][ci]);var Je=fe[Tn],rt;((fe.ext||{}).trace||{})[Ae]&&(rt=fe.ext.trace[Ae]);var ft=Je.id||rt,$t=Je[Ne],Wt=Je.uri,ti=Je[Xn]||{},Ci=Je[Qe]||{};if((0,we.hX)(Je.refUri)||(ti.refUri=Je.refUri),(0,we.hX)(Je.pageType)||(ti.pageType=Je.pageType),(0,we.hX)(Je.isLoggedIn)||(ti.isLoggedIn=Je.isLoggedIn[Ot]()),!(0,we.hX)(Je[Xn])){var Li=Je[Xn];(0,we.z)(Li,function(Fi,st){ti[Fi]=st})}Wr(fe[pe],ti,Ci),(0,we.hX)(Ee)||ma(ti,Ee);var Ti=new vi(Re,$t,Wt,Pe,ti,Ci,ft),Qi=new Qt(vi[yt],Ti);return Ca(Re,vi[ei],fe,Qi)}function Uu(Re,fe,Ee){Cn(Re,fe);var Pe=fe[Tn],Ve=Pe[Ne],Je=Pe.uri||Pe.url,rt=Pe[Xn]||{},ft=Pe[Qe]||{};Wr(fe[pe],rt,ft),(0,we.hX)(Ee)||ma(rt,Ee);var $t=new kt(Re,Ve,Je,void 0,rt,ft,Pe),Wt=new Qt(kt[yt],$t);return Ca(Re,kt[ei],fe,Wt)}function vl(Re,fe,Ee){Cn(Re,fe);var Pe=fe[Tn].message,Ve=fe[Tn].severityLevel,Je=fe[Tn][Xn]||{},rt=fe[Tn][Qe]||{};Wr(fe[pe],Je,rt),(0,we.hX)(Ee)||ma(Je,Ee);var ft=new qt(Re,Pe,Ve,Je,rt),$t=new Qt(qt[yt],ft);return Ca(Re,qt[ei],fe,$t)}function yo(Re,fe){(0,gi.ML)(Re,null,null,fe)}function Bu(Re){var fe=(0,xe.YE)(),Ee=(0,xe.w3)(),Pe=!1,Ve=!0,Je=(0,gi.Hm)((0,Ur.Z)("OfflineListener"),Re);try{if(ft((0,xe.zk)())&&(Pe=!0),fe){var rt=fe.body||fe;rt.ononline&&ft(rt)&&(Pe=!0)}Pe&&Ee&&!(0,we.hX)(Ee[zt])&&(Ve=Ee[zt])}catch(Li){Pe=!1}function ft(Li){var Ti=!1;return Li&&(Ti=(0,gi.mB)(Li,"online",$t,Je),Ti&&(0,gi.mB)(Li,"offline",Wt,Je)),Ti}function $t(){Ve=!0}function Wt(){Ve=!1}function ti(){var Li=!0;return Pe?Li=Ve:Ee&&!(0,we.hX)(Ee[zt])&&(Li=Ee[zt]),Li}function Ci(){var Li=(0,xe.zk)();if(Li&&Pe){if(yo(Li,Je),fe){var Ti=fe.body||fe;(0,we.b0)(Ti.ononline)||yo(Ti,Je)}Pe=!1}}return{isOnline:ti,isListening:function(){return Pe},unload:Ci}}var Ns=function(){function Re(fe,Ee){var Pe=[],Ve=!1;this._get=function(){return Pe},this._set=function(Je){return Pe=Je,Pe},(0,R.A)(Re,this,function(Je){Je[hi]=function(rt){if(Je[un]()>=Ee.eventsLimitInMem()){Ve||((0,ge.ZP)(fe,2,105,"Maximum in-memory buffer size reached: "+Je[un](),!0),Ve=!0);return}Pe[mn](rt)},Je[un]=function(){return Pe[Be]},Je.size=function(){for(var rt=Pe[Be],ft=0;ft<Pe[Be];ft++)rt+=Pe[ft][Be];return Ee[_i]()||(rt+=2),rt},Je[Ii]=function(){Pe=[],Ve=!1},Je.getItems=function(){return Pe.slice(0)},Je[di]=function(rt){if(rt&&rt[Be]>0){var ft=Ee[_i]()?rt.join(`
`):"["+rt.join(",")+"]";return ft}return null}})}return Re.__ieDyn=1,Re}(),Br=function(Re){(0,P.qU)(fe,Re);function fe(Ee,Pe){var Ve=Re.call(this,Ee,Pe)||this;return(0,R.A)(fe,Ve,function(Je,rt){Je[Nn]=function(ft){rt[Ii]()},Je[Dn]=function(ft){}}),Ve}return fe.__ieDyn=1,fe}(Ns),wo=function(Re){(0,P.qU)(fe,Re);function fe(Ee,Pe){var Ve=Re.call(this,Ee,Pe)||this,Je=!1;return(0,R.A)(fe,Ve,function(rt,ft){var $t=Li(fe[qi]),Wt=Li(fe[En]),ti=rt._set($t.concat(Wt));ti[Be]>fe[ur]&&(ti[Be]=fe[ur]),Ti(fe[En],[]),Ti(fe[qi],ti),rt[hi]=function(Qi){if(rt[un]()>=fe[ur]){Je||((0,ge.ZP)(Ee,2,67,"Maximum buffer size reached: "+rt[un](),!0),Je=!0);return}ft[hi](Qi),Ti(fe[qi],rt._get())},rt[Ii]=function(){ft[Ii](),Ti(fe[qi],rt._get()),Ti(fe[En],[]),Je=!1},rt[Nn]=function(Qi){Ti(fe[qi],rt._set(Ci(Qi,rt._get())));var Fi=Li(fe[En]);Fi instanceof Array&&Qi instanceof Array&&(Fi=Fi.concat(Qi),Fi[Be]>fe[ur]&&((0,ge.ZP)(Ee,1,67,"Sent buffer reached its maximum size: "+Fi[Be],!0),Fi[Be]=fe[ur]),Ti(fe[En],Fi))},rt[Dn]=function(Qi){var Fi=Li(fe[En]);Fi=Ci(Qi,Fi),Ti(fe[En],Fi)};function Ci(Qi,Fi){var st=[];return(0,we.Iu)(Fi,function(Fn){!(0,we.Tn)(Fn)&&(0,we.rD)(Qi,Fn)===-1&&st[mn](Fn)}),st}function Li(Qi){var Fi=Qi;try{Fi=Pe[cn]&&Pe[cn]()?Pe[cn]()+"_"+Fi:Fi;var st=on(Ee,Fi);if(st){var Fn=(0,xe.hm)().parse(st);if((0,we.Kg)(Fn)&&(Fn=(0,xe.hm)().parse(Fn)),Fn&&(0,we.cy)(Fn))return Fn}}catch(Cr){(0,ge.ZP)(Ee,1,42," storage key: "+Fi+", "+(0,we.lL)(Cr),{exception:(0,xe.mm)(Cr)})}return[]}function Ti(Qi,Fi){var st=Qi;try{st=Pe[cn]&&Pe[cn]()?Pe[cn]()+"_"+st:st;var Fn=JSON[je](Fi);hn(Ee,st,Fn)}catch(Cr){hn(Ee,st,JSON[je]([])),(0,ge.ZP)(Ee,2,41," storage key: "+st+", "+(0,we.lL)(Cr)+". Buffer cleared",{exception:(0,xe.mm)(Cr)})}}}),Ve}return fe.BUFFER_KEY="AI_buffer",fe.SENT_BUFFER_KEY="AI_sentBuffer",fe.MAX_BUFFER_SIZE=2e3,fe}(Ns),gl=function(){function Re(fe){(0,R.A)(Re,this,function(Ee){Ee.serialize=function(rt){var ft=Pe(rt,"root");try{return(0,xe.hm)()[je](ft)}catch($t){(0,ge.ZP)(fe,1,48,$t&&(0,we.Tn)($t[Ot])?$t[Ot]():"Error serializing object",null,!0)}};function Pe(rt,ft){var $t="__aiCircularRefCheck",Wt={};if(!rt)return(0,ge.ZP)(fe,1,48,"cannot serialize object because it is null or undefined",{name:ft},!0),Wt;if(rt[$t])return(0,ge.ZP)(fe,2,50,"Circular reference detected while serializing object",{name:ft},!0),Wt;if(!rt.aiDataContract){if(ft==="measurements")Wt=Je(rt,"number",ft);else if(ft==="properties")Wt=Je(rt,"string",ft);else if(ft==="tags")Wt=Je(rt,"string",ft);else if((0,we.cy)(rt))Wt=Ve(rt,ft);else{(0,ge.ZP)(fe,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:ft},!0);try{(0,xe.hm)()[je](rt),Wt=rt}catch(ti){(0,ge.ZP)(fe,1,48,ti&&(0,we.Tn)(ti[Ot])?ti[Ot]():"Error serializing object",null,!0)}}return Wt}return rt[$t]=!0,(0,we.z)(rt.aiDataContract,function(ti,Ci){var Li=(0,we.Tn)(Ci)?Ci()&1:Ci&1,Ti=(0,we.Tn)(Ci)?Ci()&4:Ci&4,Qi=Ci&2,Fi=rt[ti]!==void 0,st=(0,we.Gv)(rt[ti])&&rt[ti]!==null;if(Li&&!Fi&&!Qi)(0,ge.ZP)(fe,1,24,"Missing required field specification. The field is required but not present on source",{field:ti,name:ft});else if(!Ti){var Fn=void 0;st?Qi?Fn=Ve(rt[ti],ti):Fn=Pe(rt[ti],ti):Fn=rt[ti],Fn!==void 0&&(Wt[ti]=Fn)}}),delete rt[$t],Wt}function Ve(rt,ft){var $t;if(rt)if(!(0,we.cy)(rt))(0,ge.ZP)(fe,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:ft},!0);else{$t=[];for(var Wt=0;Wt<rt[Be];Wt++){var ti=rt[Wt],Ci=Pe(ti,ft+"["+Wt+"]");$t[mn](Ci)}}return $t}function Je(rt,ft,$t){var Wt;return rt&&(Wt={},(0,we.z)(rt,function(ti,Ci){if(ft==="string")Ci===void 0?Wt[ti]="undefined":Ci===null?Wt[ti]="null":Ci[Ot]?Wt[ti]=Ci[Ot]():Wt[ti]="invalid field: toString() is not defined.";else if(ft==="number")if(Ci===void 0)Wt[ti]="undefined";else if(Ci===null)Wt[ti]="null";else{var Li=parseFloat(Ci);isNaN(Li)?Wt[ti]="NaN":Wt[ti]=Li}else Wt[ti]="invalid field: "+$t+" is of unknown type.",(0,ge.ZP)(fe,1,Wt[ti],null,!0)})),Wt}})}return Re.__ieDyn=1,Re}(),xd=8,qu=function(){function Re(){}return Re.prototype.getHashCodeScore=function(fe){var Ee=this.getHashCode(fe)/Re.INT_MAX_VALUE;return Ee*100},Re.prototype.getHashCode=function(fe){if(fe==="")return 0;for(;fe[Be]<xd;)fe=fe.concat(fe);for(var Ee=5381,Pe=0;Pe<fe[Be];++Pe)Ee=(Ee<<5)+Ee+fe.charCodeAt(Pe),Ee=Ee&Ee;return Math.abs(Ee)},Re.INT_MAX_VALUE=2147483647,Re}(),Dd=function(){function Re(){var fe=this,Ee=new qu,Pe=new Ye;fe[Fu]=function(Ve){var Je=0;return Ve[Jt]&&Ve[Jt][Pe.userId]?Je=Ee.getHashCodeScore(Ve[Jt][Pe.userId]):Ve.ext&&Ve.ext.user&&Ve.ext.user.id?Je=Ee[Md](Ve.ext.user.id):Ve[Jt]&&Ve[Jt][Pe.operationId]?Je=Ee.getHashCodeScore(Ve[Jt][Pe.operationId]):Ve.ext&&Ve.ext.telemetryTrace&&Ve.ext.telemetryTrace[Ae]?Je=Ee.getHashCodeScore(Ve.ext.telemetryTrace[Ae]):Je=Math.random()*100,Je}}return Re}(),Id=function(){function Re(fe,Ee){this.INT_MAX_VALUE=2147483647;var Pe=Ee||(0,ge.y0)(null);(fe>100||fe<0)&&(Pe.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:fe},!0),fe=100),this[vo]=fe,this.samplingScoreGenerator=new Dd}return Re.prototype.isSampledIn=function(fe){var Ee=this[vo],Pe=!1;return Ee==null||Ee>=100||fe.baseType===mi[yt]?!0:(Pe=this.samplingScoreGenerator[Fu](fe)<Ee,Pe)},Re}(),ia,Hu=65e3;function Ms(Re){try{return Re.responseText}catch(fe){}return null}function bl(){var Re,fe,Ee;return Re={endpointUrl:function(){return h+p}},Re[_i]=function(){return!1},Re[rs]=function(){return 15e3},Re[wr]=function(){return 102400},Re[Ts]=function(){return!1},Re[cl]=function(){return!0},Re[Cs]=function(){return!1},Re[ki]=function(){return!0},Re[Tr]=function(){return!1},Re[At]=function(){return!1},Re[ln]=function(){return!1},Re[Er]=function(){return fe},Re[cn]=function(){return fe},Re[po]=function(){return 100},Re[Es]=function(){return Ee},Re[Au]=function(){return fe},Re.eventsLimitInMem=function(){return 1e4},Re}var $u=(ia={},ia[et.dataType]=bo,ia[qt.dataType]=vl,ia[vi.dataType]=Lu,ia[kt.dataType]=Uu,ia[Ft.dataType]=Pd,ia[mi.dataType]=Ad,ia[bn.dataType]=pl,ia),yl=function(Re){(0,P.qU)(fe,Re);function fe(){var Ee=Re.call(this)||this;Ee.priority=1001,Ee.identifier=Rr,Ee._senderConfig=bl();var Pe,Ve,Je,rt,ft,$t,Wt,ti,Ci=0,Li,Ti,Qi,Fi;return(0,R.A)(fe,Ee,function(st,Fn){El(),st.pause=function(){So(),rt=!0},st.resume=function(){rt&&(rt=!1,Ve=null,st._buffer.size()>st._senderConfig[wr]()&&st[zr](!0,null,10),Is())},st.flush=function(it,Bt,Xt){if(it===void 0&&(it=!0),!rt){So();try{st[zr](it,null,Xt||1)}catch(yi){(0,ge.ZP)(st[In](),1,22,"flush failed, telemetry will not be collected: "+(0,we.lL)(yi),{exception:(0,xe.mm)(yi)})}}},st.onunloadFlush=function(){if(!rt)if((st._senderConfig[ln]()===!1||st[vn][ki]()===!1)&&(0,xe.Uf)())try{st[zr](!0,ju,2)}catch(it){(0,ge.ZP)(st[In](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,we.lL)(it),{exception:(0,xe.mm)(it)})}else st.flush()},st.addHeader=function(it,Bt){ti[it]=Bt},st.initialize=function(it,Bt,Xt,yi){st.isInitialized()&&(0,ge.ZP)(st[In](),1,28,"Sender is already initialized"),Fn.initialize(it,Bt,Xt,yi);var ji=st._getTelCtx(),an=st.identifier;$t=new gl(Bt.logger),Pe=0,Ve=null,Je=0,st[Ta]=null,Wt=0;var tn=st[In]();Fi=(0,gi.Hm)((0,Ur.Z)("Sender"),Bt.evtNamespace&&Bt.evtNamespace()),Qi=Bu(Fi);var Zn=bl();(0,we.z)(Zn,function(cr,Kr){st[vn][cr]=function(){var Bn=ji.getConfig(an,cr,Kr());return!Bn&&cr==="endpointUrl"&&(Bn=Kr()),Bn}}),st._buffer=st[vn][cl]()&&rn()?new wo(tn,st[vn]):new Br(tn,st[vn]),st._sample=new Id(st[vn][po](),tn),Wu(it)||(0,ge.ZP)(tn,1,100,"Invalid Instrumentation key "+it[Er]),!Jn(st._senderConfig.endpointUrl())&&st._senderConfig.customHeaders()&&st._senderConfig.customHeaders()[Be]>0&&(0,we.Iu)(st[vn][Es](),function(cr){Ee.addHeader(cr.header,cr.value)});var $n=st[vn],Qn=null;!$n[Tr]()&&(0,xe.PV)()?Qn=Eo:!$n[Tr]()&&(0,xe.xk)()&&(Qn=Ga),!Qn&&(0,xe.R7)()&&(Qn=kl),Li=Qn||Ga,!$n[ki]()&&(0,xe.Uf)()&&(Qn=Na),st[Ta]=Qn||Ga,!$n[At]()&&(0,xe.R7)(!0)?Ti=Fd:(0,xe.Uf)()?Ti=Na:!$n[Tr]()&&(0,xe.PV)()?Ti=Eo:!$n[Tr]()&&(0,xe.xk)()?Ti=Ga:Ti=Li},st.processTelemetry=function(it,Bt){Bt=st._getTelCtx(Bt);var Xt=Bt[In]();try{if(st[vn][Ts]())return;if(!it){(0,ge.ZP)(Xt,1,7,"Cannot send empty telemetry");return}if(it.baseData&&!it[dl]){(0,ge.ZP)(Xt,1,70,"Cannot send telemetry without baseData and baseType");return}if(it[dl]||(it[dl]="EventData"),!st[Ta]){(0,ge.ZP)(Xt,1,28,"Sender was not initialized");return}if(Cr(it))it[k]=st._sample[vo];else{(0,ge.ZP)(Xt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:st._sample[vo]});return}var yi=st[vn][Au]()||void 0,ji=it.iKey||st[vn][Er](),an=fe.constructEnvelope(it,ji,Xt,yi);if(!an){(0,ge.ZP)(Xt,1,47,"Unable to create an AppInsights envelope");return}var tn=!1;if(it[Jt]&&it[Jt][c]&&((0,we.Iu)(it[Jt][c],function(cr){try{cr&&cr(an)===!1&&(tn=!0,(0,ge.OG)(Xt,"Telemetry processor check returns false"))}catch(Kr){(0,ge.ZP)(Xt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,we.lL)(Kr),{exception:(0,xe.mm)(Kr)},!0)}}),delete it[Jt][c]),tn)return;var Zn=$t.serialize(an),$n=st[qa],Qn=$n.size();Qn+Zn[Be]>st[vn][wr]()&&st[zr](!0,null,10),$n[hi](Zn),Is()}catch(cr){(0,ge.ZP)(Xt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,we.lL)(cr),{exception:(0,xe.mm)(cr)})}st.processNext(it,Bt)},st[ha]=function(it,Bt,Xt){it.readyState===4&&na(it.status,Bt,it.responseURL,Xt,Ro(it),Ms(it)||it.response)},st[zr]=function(it,Bt,Xt){if(it===void 0&&(it=!0),!rt)try{var yi=st[qa];if(st[vn][Ts]())yi[Ii]();else{if(yi[un]()>0){var ji=yi.getItems();zu(Xt||0,it),Bt?Bt.call(Ee,ji,it):st[Ta](ji,it)}Je=+new Date}So()}catch(tn){var an=(0,xe.L0)();(!an||an>9)&&(0,ge.ZP)(st[In](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,we.lL)(tn),{exception:(0,xe.mm)(tn)})}},st._doTeardown=function(it,Bt){st.onunloadFlush(),Qi.unload(),El()},st[Kn]=function(it,Bt,Xt){(0,ge.ZP)(st[In](),2,26,"Failed to send telemetry.",{message:Bt}),st._buffer[Dn](it)},st[fl]=function(it,Bt){for(var Xt=[],yi=[],ji=Bt.errors.reverse(),an=0,tn=ji;an<tn.length;an++){var Zn=tn[an],$n=it.splice(Zn.index,1)[0];Rl(Zn.statusCode)?yi[mn]($n):Xt[mn]($n)}it[Be]>0&&st[go](it,Bt[is]),Xt[Be]>0&&st[Kn](Xt,Ro(null,["partial success",Bt[is],"of",Bt.itemsReceived].join(" "))),yi[Be]>0&&(Va(yi),(0,ge.ZP)(st[In](),2,40,"Partial success. Delivered: "+it[Be]+", Failed: "+Xt[Be]+". Will retry to send "+yi[Be]+" our of "+Bt[xu]+" items"))},st[go]=function(it,Bt){st._buffer[Dn](it)},st._xdrOnLoad=function(it,Bt){var Xt=Ms(it);if(it&&(Xt+""=="200"||Xt===""))Pe=0,st[go](Bt,0);else{var yi=Ds(Xt);yi&&yi.itemsReceived&&yi.itemsReceived>yi[is]&&!st[vn][Cs]()?st[fl](Bt,yi):st[Kn](Bt,To(it))}};function Cr(it){return st._sample.isSampledIn(it)}function na(it,Bt,Xt,yi,ji,an){var tn=null;if(st._appId||(tn=Ds(an),tn&&tn.appId&&(st._appId=tn.appId)),(it<200||it>=300)&&it!==0){if((it===301||it===307||it===308)&&!$a(Xt)){st[Kn](Bt,ji);return}!st[vn][Cs]()&&Rl(it)?(Va(Bt),(0,ge.ZP)(st[In](),2,40,". Response code "+it+". Will retry to send "+Bt[Be]+" items.")):st[Kn](Bt,ji)}else if(Qi&&!Qi.isOnline()){if(!st[vn][Cs]()){var Zn=10;Va(Bt,Zn),(0,ge.ZP)(st[In](),2,40,". Offline - Response Code: ".concat(it,". Offline status: ").concat(!Qi.isOnline(),". Will retry to send ").concat(Bt.length," items."))}}else $a(Xt),it===206?(tn||(tn=Ds(an)),tn&&!st[vn][Cs]()?st[fl](Bt,tn):st[Kn](Bt,ji)):(Pe=0,st[go](Bt,yi))}function $a(it){return Wt>=10?!1:!(0,we.hX)(it)&&it!==""&&it!==st[vn][Zi]()?(st[vn][Zi]=function(){return it},++Wt,!0):!1}function ju(it,Bt){Ti?Ti(it,!1):Na(it,Bt)}function xs(it){var Bt=(0,xe.w3)(),Xt=st[qa],yi=st[vn][Zi](),ji=st._buffer[di](it),an=new Blob([ji],{type:"text/plain;charset=UTF-8"}),tn=Bt.sendBeacon(yi,an);return tn&&(Xt[Nn](it),st._onSuccess(it,it[Be])),tn}function Na(it,Bt){if((0,we.cy)(it)&&it[Be]>0&&!xs(it)){for(var Xt=[],yi=0;yi<it[Be];yi++){var ji=it[yi];xs([ji])||Xt[mn](ji)}Xt[Be]>0&&(Li&&Li(Xt,!0),(0,ge.ZP)(st[In](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Ga(it,Bt){var Xt=new XMLHttpRequest,yi=st[vn][Zi]();try{Xt[N]=!0}catch(an){}Xt.open("POST",yi,Bt),Xt[ns]("Content-type","application/json"),Jn(yi)&&Xt[ns](Wi[6],Wi[7]),(0,we.Iu)((0,we.cG)(ti),function(an){Xt[ns](an,ti[an])}),Xt.onreadystatechange=function(){return st._xhrReadyStateChange(Xt,it,it[Be])},Xt.onerror=function(an){return st[Kn](it,Ro(Xt),an)};var ji=st._buffer[di](it);Xt.send(ji),st._buffer[Nn](it)}function Fd(it,Bt){if((0,we.cy)(it)){for(var Xt=it[Be],yi=0;yi<it[Be];yi++)Xt+=it[yi][Be];Ci+Xt<=Hu?Sl(it,!1):(0,xe.Uf)()?Na(it,Bt):(Li&&Li(it,!0),(0,ge.ZP)(st[In](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function kl(it,Bt){Sl(it,!0)}function Sl(it,Bt){var Xt,yi=st[vn][Zi](),ji=st._buffer[di](it),an=new Blob([ji],{type:"application/json"}),tn=new Headers,Zn=ji[Be],$n=!1,Qn=!1;Jn(yi)&&tn.append(Wi[6],Wi[7]),(0,we.Iu)((0,we.cG)(ti),function(Bn){tn.append(Bn,ti[Bn])});var cr=(Xt={method:"POST",headers:tn,body:an},Xt[N]=!0,Xt);Bt||(cr.keepalive=!0,$n=!0,Ci+=Zn);var Kr=new Request(yi,cr);try{Kr[N]=!0}catch(Bn){}st._buffer[Nn](it);try{fetch(Kr).then(function(Bn){Bt||(Ci-=Zn,Zn=0),Qn||(Qn=!0,Bn.ok?Bn.text().then(function(Ma){na(Bn.status,it,Bn.url,it[Be],Bn.statusText,Ma)}):st[Kn](it,Bn.statusText))}).catch(function(Bn){Bt||(Ci-=Zn,Zn=0),Qn||(Qn=!0,st[Kn](it,Bn.message))})}catch(Bn){Qn||st[Kn](it,(0,xe.mm)(Bn))}$n&&!Qn&&(Qn=!0,st._onSuccess(it,it[Be]))}function Ds(it){try{if(it&&it!==""){var Bt=(0,xe.hm)().parse(it);if(Bt&&Bt.itemsReceived&&Bt.itemsReceived>=Bt[is]&&Bt.itemsReceived-Bt.itemsAccepted===Bt.errors[Be])return Bt}}catch(Xt){(0,ge.ZP)(st[In](),1,43,"Cannot parse the response. "+(0,we.lL)(Xt),{response:it})}return null}function Va(it,Bt){if(Bt===void 0&&(Bt=1),!(!it||it[Be]===0)){var Xt=st[qa];Xt[Dn](it),Pe++;for(var yi=0,ji=it;yi<ji.length;yi++){var an=ji[yi];Xt[hi](an)}ko(Bt),Is()}}function ko(it){var Bt=10,Xt;if(Pe<=1)Xt=Bt;else{var yi=(Math.pow(2,Pe)-1)/2,ji=Math.floor(Math.random()*yi*Bt)+1;ji=it*ji,Xt=Math.max(Math.min(ji,3600),Bt)}var an=(0,we.x3)()+Xt*1e3;Ve=an}function Is(){if(!ft&&!rt){var it=Ve?Math.max(0,Ve-(0,we.x3)()):0,Bt=Math.max(st[vn][rs](),it);ft=setTimeout(function(){ft=null,st[zr](!0,null,1)},Bt)}}function So(){clearTimeout(ft),ft=null,Ve=null}function Rl(it){return it===401||it===403||it===408||it===429||it===500||it===502||it===503||it===504}function Ro(it,Bt){return it?"XMLHttpRequest,Status:"+it.status+",Response:"+Ms(it)||0||0:Bt}function Eo(it,Bt){var Xt=st[qa],yi=(0,xe.zk)(),ji=new XDomainRequest;ji.onload=function(){return st._xdrOnLoad(ji,it)},ji.onerror=function($n){return st[Kn](it,To(ji),$n)};var an=yi&&yi.location&&yi.location.protocol||"";if(st[vn][Zi]().lastIndexOf(an,0)!==0){(0,ge.ZP)(st[In](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Xt[Ii]();return}var tn=st[vn][Zi]().replace(/^(https?:)/,"");ji.open("POST",tn);var Zn=Xt[di](it);ji.send(Zn),Xt[Nn](it)}function To(it,Bt){return it?"XDomainRequest,Response:"+Ms(it)||0:Bt}function Od(){var it="getNotifyMgr";return st.core[it]?st.core[it]():st.core._notificationManager}function zu(it,Bt){var Xt=Od();if(Xt&&Xt[Du])try{Xt[Du](it,Bt)}catch(yi){(0,ge.ZP)(st[In](),1,74,"send request notification failed: "+(0,we.lL)(yi),{exception:(0,xe.mm)(yi)})}}function Wu(it){var Bt=(0,we.hX)(it[Iu])?!1:it[Iu];if(Bt)return!0;var Xt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",yi=new RegExp(Xt);return yi.test(it[Er])}function El(){st[Ta]=null,st[qa]=null,st._appId=null,st._sample=null,ti={},Qi=null,Pe=0,Ve=null,Je=null,rt=!1,ft=null,$t=null,Wt=0,Ci=0,Li=null,Ti=null,Fi=null}}),Ee}return fe.constructEnvelope=function(Ee,Pe,Ve,Je){var rt;Pe!==Ee.iKey&&!(0,we.hX)(Pe)?rt=(0,P.Im)((0,P.Im)({},Ee),{iKey:Pe}):rt=Ee;var ft=$u[rt.baseType]||bo;return ft(Ve,rt,Je)},fe}(jr.s),Gu=";",Vu="=";function wl(Re){if(!Re)return{};var fe=Re[u](Gu),Ee=(0,we.KT)(fe,function(Ve,Je){var rt=Je[u](Vu);if(rt[f]===2){var ft=rt[0][m](),$t=rt[1];Ve[ft]=$t}return Ve},{});if((0,we.cG)(Ee)[f]>0){if(Ee.endpointsuffix){var Pe=Ee.location?Ee.location+".":"";Ee[g]=Ee[g]||"https://"+Pe+"dc."+Ee.endpointsuffix}Ee[g]=Ee[g]||h}return Ee}var as={parse:wl},_l=E(12235),_o="instrumentationKey",Ps="connectionString",Ha="diagnosticLogInterval",ss=E(83897),pa=(0,xi.Hj)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),As=function(){function Re(fe){var Ee=new _l._;((0,we.hX)(fe)||(0,we.hX)(fe[_o])&&(0,we.hX)(fe[Ps]))&&(0,we.$8)("Invalid input configuration"),(0,R.A)(Re,this,function(Pe){if(fe[Ps]){var Ve=wl(fe[Ps]),Je=Ve.ingestionendpoint;fe.endpointUrl=Je?Je+p:fe.endpointUrl,fe[_o]=Ve.instrumentationkey||fe[_o]}Pe.config=fe,rt(),Pe.initialize=rt,Pe.getSKUDefaults=function(){Pe.config[Ha]=Pe.config[Ha]&&Pe.config[Ha]>0?Pe.config[Ha]:1e4},Pe.getSKUDefaults(),(0,we.o$)(Pe,Ee,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function rt(){Ee.initialize(Pe.config,[new yl]),Ee.pollInternalLogs()}})}return Re.__ieDyn=1,Re}()},92457:(a,V,E)=>{"use strict";E.d(V,{A:()=>Le});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var R,P="undefined",N="constructor",k="prototype",c="function",l="_dynInstFuncs",h="_isDynProxy",p="_dynClass",_="_dynCls$",b="_dynInstChk",u=b,f="_dfOpts",m="_unknown_",g="__proto__",v="_dyn"+g,T="__dynProto$Gbl",S="_dynInstProto",x="useBaseInst",D="setInstFuncs",z=Object,q=z.getPrototypeOf,H=z.getOwnPropertyNames;function j(){var _e;return typeof globalThis!==P&&(_e=globalThis),!_e&&typeof self!==P&&(_e=self),!_e&&typeof window!==P&&(_e=window),!_e&&typeof E.g!==P&&(_e=E.g),_e||{}}var K=j(),Y=K[T]||(K[T]={o:(R={},R[D]=!0,R[x]=!0,R),n:1e3});function ne(_e,Ce){return _e&&z[k].hasOwnProperty.call(_e,Ce)}function X(_e){return _e&&(_e===z[k]||_e===Array[k])}function M(_e){return X(_e)||_e===Function[k]}function G(_e){var Ce;if(_e){if(q)return q(_e);var Me=_e[g]||_e[k]||(_e[N]?_e[N][k]:null);Ce=_e[v]||Me,ne(_e,v)||(delete _e[S],Ce=_e[v]=_e[S]||_e[v],_e[S]=Me)}return Ce}function C(_e,Ce){var Me=[];if(H)Me=H(_e);else for(var J in _e)typeof J=="string"&&ne(_e,J)&&Me.push(J);if(Me&&Me.length>0)for(var ee=0;ee<Me.length;ee++)Ce(Me[ee])}function o(_e,Ce,Me){return Ce!==N&&typeof _e[Ce]===c&&(Me||ne(_e,Ce))}function w(_e){throw new TypeError("DynamicProto: "+_e)}function A(_e){var Ce={};return C(_e,function(Me){!Ce[Me]&&o(_e,Me,!1)&&(Ce[Me]=_e[Me])}),Ce}function U(_e,Ce){for(var Me=_e.length-1;Me>=0;Me--)if(_e[Me]===Ce)return!0;return!1}function $(_e,Ce,Me,J){function ee(O,I,se){var ve=I[se];if(ve[h]&&J){var we=O[l]||{};we[u]!==!1&&(ve=(we[I[p]]||{})[se]||ve)}return function(){return ve.apply(O,arguments)}}var ce={};C(Me,function(O){ce[O]=ee(Ce,Me,O)});for(var me=G(_e),Se=[];me&&!M(me)&&!U(Se,me);)C(me,function(O){!ce[O]&&o(me,O,!q)&&(ce[O]=ee(Ce,me,O))}),Se.push(me),me=G(me);return ce}function B(_e,Ce,Me,J){var ee=null;if(_e&&ne(Me,p)){var ce=_e[l]||{};if(ee=(ce[Me[p]]||{})[Ce],ee||w("Missing ["+Ce+"] "+c),!ee[b]&&ce[u]!==!1){for(var me=!ne(_e,Ce),Se=G(_e),O=[];me&&Se&&!M(Se)&&!U(O,Se);){var I=Se[Ce];if(I){me=I===J;break}O.push(Se),Se=G(Se)}try{me&&(_e[Ce]=ee),ee[b]=1}catch(se){ce[u]=!1}}}return ee}function Z(_e,Ce,Me){var J=Ce[_e];return J===Me&&(J=G(Ce)[_e]),typeof J!==c&&w("["+_e+"] is not a "+c),J}function te(_e,Ce,Me,J,ee){function ce(O,I){var se=function(){var ve=B(this,I,O,se)||Z(I,O,se);return ve.apply(this,arguments)};return se[h]=1,se}if(!X(_e)){var me=Me[l]=Me[l]||{},Se=me[Ce]=me[Ce]||{};me[u]!==!1&&(me[u]=!!ee),C(Me,function(O){o(Me,O,!1)&&Me[O]!==J[O]&&(Se[O]=Me[O],delete Me[O],(!ne(_e,O)||_e[O]&&!_e[O][h])&&(_e[O]=ce(_e,O)))})}}function L(_e,Ce){if(q){for(var Me=[],J=G(Ce);J&&!M(J)&&!U(Me,J);){if(J===_e)return!0;Me.push(J),J=G(J)}return!1}return!0}function re(_e,Ce){return ne(_e,k)?_e.name||Ce||m:((_e||{})[N]||{}).name||Ce||m}function Le(_e,Ce,Me,J){ne(_e,k)||w("theClass is an invalid class definition.");var ee=_e[k];L(ee,Ce)||w("["+re(_e)+"] not in hierarchy of ["+re(Ce)+"]");var ce=null;ne(ee,p)?ce=ee[p]:(ce=_+re(_e,"_")+"$"+Y.n,Y.n++,ee[p]=ce);var me=Le[f],Se=!!me[x];Se&&J&&J[x]!==void 0&&(Se=!!J[x]);var O=A(Ce),I=$(ee,Ce,O,Se);Me(Ce,I);var se=!!q&&!!me[D];se&&J&&(se=!!J[D]),te(ee,ce,Ce,O,se!==!1)}Le[f]=Y.o},46925:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.HTMLTracer=void 0;const R=E(12111),P=E(49138);class N{constructor(){Gt(this,"traceData");Gt(this,"epochs",[])}addRenderEpoch(f){this.epochs.push(f)}includeInEpoch(f){this.epochs[this.epochs.length-1].elements.push(f)}didMaterializeTree(f){this.traceData=f}async serveHTML(){return c.create({epochs:this.epochs,traceData:b(this.traceData)})}serveRouter(f){return new k({baseAddress:f,epochs:this.epochs,traceData:b(this.traceData)})}}V.HTMLTracer=N;class k{constructor(f){Gt(this,"opts");Gt(this,"serverToken",crypto.randomUUID());this.opts=f}route(f,m){const g=f,v=m,T=new URL(g.url||"/","http://localhost"),S=`/${this.serverToken}`;switch(T.pathname){case S:case`${S}/`:this.onRoot(T,g,v);break;case`${S}/regen`:this.onRegen(T,g,v);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){const{traceData:f,epochs:m}=this.opts;return`<body>
			<style>${R.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(f.budget)};
				const EPOCHS = ${JSON.stringify(m)};
				const DEFAULT_MODEL = ${JSON.stringify(await l(f.tokenizer,f.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${R.tracerSrc}
			</script>
		</body>`}async onRegen(f,m,g){const{traceData:v}=this.opts,T=Number(f.searchParams.get("n")||v.budget),S=await v.renderTree(T),x=await l(v.tokenizer,S),D=JSON.stringify(x);g.setHeader("Content-Type","application/json"),g.setHeader("Content-Length",Buffer.byteLength(D)),g.end(D)}onRoot(f,m,g){this.getHTML().then(v=>{g.setHeader("Content-Type","text/html"),g.setHeader("Content-Length",Buffer.byteLength(v)),g.end(v)})}}class c extends k{constructor(f,m){super(f);Gt(this,"server");this.server=m}static async create(f){const{createServer:m}=await Promise.resolve().then(()=>E(11568)),g=m((S,x)=>{try{T.route(S,x)||(x.statusCode=404,x.end("Not Found"))}catch(D){x.statusCode=500,x.end(String(D))}}),v=await new Promise((S,x)=>{g.listen(0,"127.0.0.1",()=>S(g.address().port)).on("error",x)}),T=new c({...f,baseAddress:`http://127.0.0.1:${v}`},g);return T}dispose(){this.server.closeAllConnections(),this.server.close()}}async function l(u,f){return{container:await h(u,f.container,!1),removed:f.removed,budget:f.budget}}async function h(u,f,m){const g={metadata:f.metadata.map(_),priority:f.priority};if(f instanceof P.MaterializedChatMessageTextChunk)return{...g,type:2,value:f.text,tokens:await f.upperBoundTokenCount(u)};{const v={...g,id:f.id,name:f.name,children:await Promise.all(f.children.map(T=>h(u,T,m||f instanceof P.MaterializedChatMessage))),tokens:m?await f.upperBoundTokenCount(u):await f.tokenCount(u)};if(f instanceof P.MaterializedContainer)return{...v,type:0};if(f instanceof P.MaterializedChatMessage)return{...v,type:1,role:f.role,text:f.text}}p(f)}function p(u){throw new Error("unreachable")}function _(u){return{name:u.constructor.name,value:JSON.stringify(u)}}const b=u=>{if(u===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return u}},12111:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.tracerCss=V.tracerSrc=void 0,V.tracerSrc='"use strict";(()=>{var $,m,se,ze,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function I(t){return t.children}function B(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,C,x=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,x),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:x[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=C}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(I,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=N(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,C,x,h,v,H,M,P,F,oe,U,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?x=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,C)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),U=0;U<i._sb.length;U++)i.__h.push(i._sb[U]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(C=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===I&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),x&&(i.__E=i.__=null)}catch(z){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(z,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,C,x=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)x===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),x=n.props||D,!a&&_!=null)for(x={},s=0;s<t.attributes.length;s++)x[(d=t.attributes[s]).name]=d.value;for(s in x)if(d=x[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?C=d:a&&typeof d!="function"||x[s]===d||A(t,s,d,x[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&N(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==x[s])&&A(t,s,b,x[s],r),s="checked",C!==void 0&&C!==t[s]&&A(t,s,C,x[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(I,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,ze=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=I,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,xe=y.diffed,Ce=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ie,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ie(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ne(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){xe&&xe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),Ce&&Ce(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ie(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(I,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var Ue=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(Ue,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(Ue,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n',V.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`},60937:function(a,V,E){"use strict";var R=this&&this.__createBinding||(Object.create?function(m,g,v,T){T===void 0&&(T=v);var S=Object.getOwnPropertyDescriptor(g,v);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(m,T,S)}:function(m,g,v,T){T===void 0&&(T=v),m[T]=g[v]}),P=this&&this.__exportStar||function(m,g){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&R(g,m,v)};Object.defineProperty(V,"__esModule",{value:!0}),V.contentType=V.PromptRenderer=V.MetadataMap=V.PromptElement=V.ToolResult=V.UserMessage=V.ToolMessage=V.TextChunk=V.SystemMessage=V.PrioritizedList=V.LegacyPrioritization=V.FunctionMessage=V.Chunk=V.AssistantMessage=V.ChatRole=V.JSONTree=void 0,V.renderPrompt=b,V.renderElementJSON=u,V.toVsCodeChatMessages=f;const N=E(96423),k=E(79420),c=E(82990);P(E(46925),V),V.JSONTree=E(8150);var l=E(96423);Object.defineProperty(V,"ChatRole",{enumerable:!0,get:function(){return l.ChatRole}}),P(E(52727),V),P(E(3804),V),P(E(63479),V),P(E(68504),V);var h=E(75234);Object.defineProperty(V,"AssistantMessage",{enumerable:!0,get:function(){return h.AssistantMessage}}),Object.defineProperty(V,"Chunk",{enumerable:!0,get:function(){return h.Chunk}}),Object.defineProperty(V,"FunctionMessage",{enumerable:!0,get:function(){return h.FunctionMessage}}),Object.defineProperty(V,"LegacyPrioritization",{enumerable:!0,get:function(){return h.LegacyPrioritization}}),Object.defineProperty(V,"PrioritizedList",{enumerable:!0,get:function(){return h.PrioritizedList}}),Object.defineProperty(V,"SystemMessage",{enumerable:!0,get:function(){return h.SystemMessage}}),Object.defineProperty(V,"TextChunk",{enumerable:!0,get:function(){return h.TextChunk}}),Object.defineProperty(V,"ToolMessage",{enumerable:!0,get:function(){return h.ToolMessage}}),Object.defineProperty(V,"UserMessage",{enumerable:!0,get:function(){return h.UserMessage}}),Object.defineProperty(V,"ToolResult",{enumerable:!0,get:function(){return h.ToolResult}});var p=E(3575);Object.defineProperty(V,"PromptElement",{enumerable:!0,get:function(){return p.PromptElement}});var _=E(79420);Object.defineProperty(V,"MetadataMap",{enumerable:!0,get:function(){return _.MetadataMap}}),Object.defineProperty(V,"PromptRenderer",{enumerable:!0,get:function(){return _.PromptRenderer}});async function b(m,g,v,T,S,x,D="vscode"){let z="countTokens"in T?new c.AnyTokenizer((X,M)=>T.countTokens(X,M)):T;const q=new k.PromptRenderer(v,m,g,z);let{messages:H,tokenCount:j,references:K,metadata:Y}=await q.render(S,x);const ne=q.getUsedContext();return D==="vscode"&&(H=f(H)),{messages:H,tokenCount:j,metadatas:Y,usedContext:ne,references:K}}V.contentType="application/vnd.codechat.prompt+json.1";function u(m,g,v,T){var x;return new k.PromptRenderer({modelMaxPromptTokens:(x=v==null?void 0:v.tokenBudget)!=null?x:Number.MAX_SAFE_INTEGER},m,g,{countMessageTokens(D){throw new Error("Tools may only return text, not messages.")},tokenLength(D,z){var q;return Promise.resolve((q=v==null?void 0:v.countTokens(D,z))!=null?q:Promise.resolve(1))}}).renderElementJSON(T)}function f(m){const g=E(91398);return m.map(v=>{switch(v.role){case N.ChatRole.Assistant:const T=g.LanguageModelChatMessage.Assistant(v.content,v.name);return v.tool_calls&&(T.content=[new g.LanguageModelTextPart(v.content),...v.tool_calls.map(S=>new g.LanguageModelToolCallPart(S.id,S.function.name,S.function.arguments))]),T;case N.ChatRole.User:return g.LanguageModelChatMessage.User(v.content,v.name);case N.ChatRole.Function:{const S=g.LanguageModelChatMessage.User("");return S.content=[new g.LanguageModelToolResultPart(v.name,[new g.LanguageModelTextPart(v.content)])],S}case N.ChatRole.Tool:{const S=g.LanguageModelChatMessage.User("");return S.content=[new g.LanguageModelToolResultPart(v.tool_call_id,[new g.LanguageModelTextPart(v.content)])],S}default:throw new Error(`Converting chat message with role ${v.role} to VS Code chat message is not supported.`)}})}},8150:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.forEachNode=E;function E(R,P){if(P(R),R.type===1)for(const N of R.children)E(N,P)}},49138:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MaterializedChatMessage=V.MaterializedChatMessageTextChunk=V.MaterializedContainer=void 0;const R=E(54548),P=E(96423);class N{constructor(v,T,S,x,D,z){Gt(this,"id");Gt(this,"name");Gt(this,"priority");Gt(this,"children");Gt(this,"metadata");Gt(this,"flags");this.id=v,this.name=T,this.priority=S,this.children=x,this.metadata=D,this.flags=z}has(v){return!!(this.flags&v)}async tokenCount(v){let T=0;return await Promise.all(this.children.map(async S=>{h(S),T+=await S.tokenCount(v)})),T}async upperBoundTokenCount(v){let T=0;return await Promise.all(this.children.map(async S=>{T+=await S.upperBoundTokenCount(v)})),T}replaceNode(v,T){return m(v,this.children,T)}allMetadata(){return f(this)}*toChatMessages(){for(const v of this.children)h(v),v instanceof N?yield*v.toChatMessages():v.isEmpty||(yield v.toChatMessage())}removeLowestPriorityChild(){this.has(1)?_(this):b(this)}}V.MaterializedContainer=N;class k{constructor(v,T,S=[],x){Gt(this,"text");Gt(this,"priority");Gt(this,"metadata");Gt(this,"lineBreakBefore");Gt(this,"_upperBound",(0,R.once)(async v=>await v.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0)));this.text=v,this.priority=T,this.metadata=S,this.lineBreakBefore=x}upperBoundTokenCount(v){return this._upperBound(v)}}V.MaterializedChatMessageTextChunk=k;class c{constructor(v,T,S,x,D,z,q,H){Gt(this,"id");Gt(this,"role");Gt(this,"name");Gt(this,"toolCalls");Gt(this,"toolCallId");Gt(this,"priority");Gt(this,"metadata");Gt(this,"children");Gt(this,"_tokenCount",(0,R.once)(async v=>v.countMessageTokens(this.toChatMessage())));Gt(this,"_upperBound",(0,R.once)(async v=>{let T=await this._baseMessageTokenCount(v);return await Promise.all(this.children.map(async S=>{T+=await S.upperBoundTokenCount(v)})),T}));Gt(this,"_baseMessageTokenCount",(0,R.once)(v=>v.countMessageTokens({...this.toChatMessage(),content:""})));Gt(this,"_text",(0,R.once)(()=>{let v="";for(const{text:T,isTextSibling:S}of p(this))(T.lineBreakBefore===1||T.lineBreakBefore===2&&!S)&&v.length&&!v.endsWith(`
`)&&(v+=`
`),v+=T.text;return v.trim()}));this.id=v,this.role=T,this.name=S,this.toolCalls=x,this.toolCallId=D,this.priority=z,this.metadata=q,this.children=H}async tokenCount(v){return this._tokenCount(v)}async upperBoundTokenCount(v){return this._upperBound(v)}get text(){return this._text()}get isEmpty(){var v;return!/\S/.test(this.text)&&!((v=this.toolCalls)==null?void 0:v.length)&&!this.toolCallId}replaceNode(v,T){const S=m(v,this.children,T);return S&&this.onChunksChange(),S}removeLowestPriorityChild(){b(this)}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear()}toChatMessage(){return this.role===P.ChatRole.System?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===P.ChatRole.Assistant?{role:this.role,content:this.text,...this.toolCalls?{tool_calls:this.toolCalls}:{},...this.name?{name:this.name}:{}}:this.role===P.ChatRole.User?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===P.ChatRole.Tool?{role:this.role,content:this.text,tool_call_id:this.toolCallId}:{role:this.role,content:this.text,name:this.name}}}V.MaterializedChatMessage=c;function l(g){return!(g instanceof k)}function h(g){if(!(g instanceof N)&&!(g instanceof c))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${g.text}"`)}function*p(g,v=!1){for(const T of g.children)T instanceof k?(yield{text:T,isTextSibling:v},v=!0):(yield*p(T,v),v=!1)}function _(g){let v;function T(D,z){if(D instanceof k)(!v||D.priority<v.node.priority)&&(v={chain:z.slice(),node:D});else{z.push(D);for(const q of D.children)T(q,z);z.pop()}}if(T(g,[]),!v)throw new Error("No lowest priority node found");let S=v.node,x=v.chain.length-1;for(;x>=0;x--){const D=v.chain[x];if(D.children.splice(D.children.indexOf(S),1),D instanceof c&&D.onChunksChange(),D.children.length>0)break;S=D}for(;x>=0;x--){const D=v.chain[x];D instanceof c&&D.onChunksChange()}}function b(g){var x;let v;const T=g.children.map((D,z)=>({chain:[g],index:z}));for(let D=0;D<T.length;D++){const{chain:z,index:q}=T[D],H=z[z.length-1].children[q];if(H instanceof N&&H.has(4)){const j=[...z,H];T.splice(D+1,0,...H.children.map((K,Y)=>({chain:j,index:Y})))}else if(!v||H.priority<v.value.priority)v={chain:z,index:q,value:H};else if(H.priority===v.value.priority){(x=v.lowestNested)!=null||(v.lowestNested=u(v.value));const j=u(H);j<v.lowestNested&&(v={chain:z,index:q,value:H,lowestNested:j})}}if(!v)throw new Error("No lowest priority node found");const S=v.chain[v.chain.length-1].children;v.value instanceof k||v.value instanceof N&&v.value.has(2)||l(v.value)&&!v.value.children.length?S.splice(v.index,1):(v.value.removeLowestPriorityChild(),v.value.children.length===0&&S.splice(v.index,1));for(const D of v.chain)D instanceof c&&D.onChunksChange()}function u(g){if(!l(g))return-1;let v=Number.MAX_SAFE_INTEGER;for(const T of g.children)v=Math.min(v,T.priority);return v}function*f(g){yield*g.metadata;for(const v of g.children)l(v)?yield*f(v):yield*v.metadata}function m(g,v,T){for(let S=0;S<v.length;S++){const x=v[S];if(l(x)){if(x.id===g){const z=v[S];return v[S]=T,z}const D=x.replaceNode(g,T);if(D)return D}}}},54548:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.once=E;function E(R){let P,N=!1;const k=(...c)=>(N||(P=R(...c),N=!0),P);return k.clear=()=>{N=!1},k}},96423:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.BaseTokensPerName=V.BaseTokensPerMessage=V.BaseTokensPerCompletion=V.ChatRole=void 0;var E;(function(R){R.System="system",R.User="user",R.Assistant="assistant",R.Function="function",R.Tool="tool"})(E||(V.ChatRole=E={})),V.BaseTokensPerCompletion=3,V.BaseTokensPerMessage=3,V.BaseTokensPerName=1},3575:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptElement=void 0,E(10818);class R{constructor(N){Gt(this,"props");this.props=N}get priority(){var N;return(N=this.props.priority)!=null?N:Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}}V.PromptElement=R},75234:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.Expandable=V.Chunk=V.LegacyPrioritization=V.ToolResult=V.PrioritizedList=V.TextChunk=V.ToolMessage=V.FunctionMessage=V.AssistantMessage=V.UserMessage=V.SystemMessage=V.BaseChatMessage=void 0,V.isChatMessagePromptElement=N;const R=E(96423),P=E(3575);function N(x){return x instanceof c||x instanceof l||x instanceof h}class k extends P.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.BaseChatMessage=k;class c extends k{constructor(D){D.role=R.ChatRole.System,super(D)}}V.SystemMessage=c;class l extends k{constructor(D){D.role=R.ChatRole.User,super(D)}}V.UserMessage=l;class h extends k{constructor(D){D.role=R.ChatRole.Assistant,super(D)}}V.AssistantMessage=h;const p=/\s+/g;class _ extends k{constructor(D){D.role=R.ChatRole.Function,super(D)}}V.FunctionMessage=_;class b extends k{constructor(D){D.role=R.ChatRole.Tool,super(D)}}V.ToolMessage=b;class u extends P.PromptElement{async prepare(D,z,q){const H=this.props.breakOnWhitespace?p:this.props.breakOn;if(!H)return vscpp(vscppf,null,this.props.children);let j="";const K=[];for(const ne of this.props.children||[])if(ne&&typeof ne=="object"){if(typeof ne.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");ne.ctor==="br"?j+=`
`:K.push(ne)}else ne!=null&&(j+=ne);const Y=await f(D,H,j,q);return vscpp(vscppf,null,K,Y)}render(D){return D}}V.TextChunk=u;async function f(x,D,z,q){var K,Y;if(D instanceof RegExp){if(!D.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${D})`);D.lastIndex=0}let H="",j=-1;for(;j<z.length;){let ne;typeof D=="string"?ne=z.indexOf(D,j===-1?0:j+D.length):ne=(Y=(K=D.exec(z))==null?void 0:K.index)!=null?Y:-1,ne===-1&&(ne=z.length);const X=H+z.slice(Math.max(0,j),ne);if(await x.countTokens(X,q)>x.tokenBudget)return H;H=X,j=ne}return H}class m extends P.PromptElement{render(){const D=this.props.children;if(!!D)return vscpp(vscppf,null,D.map((z,q)=>{var j;if(!z)return;const H=this.props.descending?this.props.priority-q:this.props.priority-D.length+q;return typeof z!="object"?vscpp(u,{priority:H},z):((j=z.props)!=null||(z.props={}),z.props.priority=H,z)}))}}V.PrioritizedList=m;class g extends P.PromptElement{render(){const D=E(91398);return vscpp(vscppf,null,this.props.data.content.map(z=>{if(z instanceof D.LanguageModelTextPart)return z.value;if(z instanceof D.LanguageModelPromptTsxPart)return vscpp("elementJSON",{data:z.value})}))}}V.ToolResult=g;class v extends P.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.LegacyPrioritization=v;class T extends P.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.Chunk=T;class S extends P.PromptElement{async render(D,z){return vscpp(vscppf,null,await this.props.value(z))}}V.Expandable=S},79420:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptRenderer=V.MetadataMap=void 0;const R=E(49138),P=E(75234),N=E(52727);var k;(function(q){q.empty={get:()=>{},getAll:()=>[]}})(k||(V.MetadataMap=k={}));class c{constructor(H,j,K,Y){Gt(this,"_endpoint");Gt(this,"_ctor");Gt(this,"_props");Gt(this,"_tokenizer");Gt(this,"_usedContext",[]);Gt(this,"_ignoredFiles",[]);Gt(this,"_growables",[]);Gt(this,"_root",new m(null,0));Gt(this,"tracer");this._endpoint=H,this._ctor=j,this._props=K,this._tokenizer=Y}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(H){return new H.ctor(H.props)}async _processPromptPieces(H,j,K,Y){var G,C,o,w,A,U,$;const ne=new Map;for(const[B,Z]of j.entries()){if(Array.isArray(Z.children)&&(Z.props=(G=Z.props)!=null?G:{},Z.props.children=Z.children),!Z.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");const te=this.createElement(Z);Z.node.setObj(te);const L=(C=Z.props.flexGrow)!=null?C:Infinity;let re=ne.get(L);re||(re=[],ne.set(L,re)),re.push({element:Z,promptElementInstance:te})}if(ne.size===0)return;const X=[...ne.entries()].sort(([B],[Z])=>Z-B).map(([B,Z])=>Z),M=B=>{let Z=0;for(let te=B+1;te<X.length;te++)for(const{element:L}of X[te]){if(!L.props.flexReserve)continue;Z+=typeof L.props.flexReserve=="string"?Math.floor(H.remainingTokenBudget/Number(L.props.flexReserve.slice(1))):L.props.flexReserve}return H.consume(Z),Z};for(const[B,Z]of X.entries()){const te=M(B);let L=0;for(const{element:_e}of Z)L+=(o=_e.props.flex||_e.props.flexBasis)!=null?o:1;const re=Z.map(_e=>{var Me;const Ce=((Me=_e.element.props.flexBasis)!=null?Me:1)/L;return{tokenBudget:Math.floor(H.remainingTokenBudget*Ce),endpoint:H.endpoint,countTokens:(J,ee)=>this._tokenizer.tokenLength(J,ee)}});H.consume(-te),($=(w=this.tracer)==null?void 0:w.addRenderEpoch)==null||$.call(w,{inNode:(A=Z[0].element.node.parent)==null?void 0:A.id,flexValue:(U=Z[0].element.props.flexGrow)!=null?U:0,tokenBudget:H.remainingTokenBudget,reservedTokens:te,elements:Z.map((_e,Ce)=>({id:_e.element.node.id,tokenBudget:re[Ce].tokenBudget}))}),await Promise.all(Z.map(async({element:_e,promptElementInstance:Ce},Me)=>{var ee;const J=await((ee=Ce.prepare)==null?void 0:ee.call(Ce,re[Me],K,Y));_e.node.setState(J)}));const Le=await Promise.all(Z.map(async({element:_e,promptElementInstance:Ce},Me)=>{const J=re[Me];return await Ce.render(_e.node.getState(),J,K,Y)}));for(const[_e,{element:Ce,promptElementInstance:Me}]of Z.entries()){const J=re[_e],ee=Le[_e];if(!ee)continue;const ce=await this._processPromptRenderPiece(new f(J.tokenBudget,this._endpoint),Ce,Me,ee,K,Y);Me instanceof P.Expandable&&this._growables.push({initialConsume:ce,elem:Ce.node}),H.consume(ce)}}}async _processPromptRenderPiece(H,j,K,Y,ne,X){const M=h(Y),G=new f(H.tokenBudget,this._endpoint),{tokensConsumed:C}=await l(this._tokenizer,j,K,M);return G.consume(C),await this._handlePromptChildren(j,M,G,ne,X),G.consumed}async renderElementJSON(H){return await this._processPromptPieces(new f(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,H),{node:this._root.toJSON()}}async render(H,j){var A,U;await this._processPromptPieces(new f(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],H,j);const{container:K,allMetadata:Y,removed:ne}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,j);(U=(A=this.tracer)==null?void 0:A.didMaterializeTree)==null||U.call(A,{budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:K,removed:ne,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:$=>this._getFinalElementTree($,void 0).then(B=>({...B,budget:$}))});const X=[...K.toChatMessages()],M=await K.tokenCount(this._tokenizer),G=[...K.allMetadata()],C=new Set,o=G.map($=>{if(!($ instanceof D))return;const B=$.reference,Z="variableName"in B.anchor;if(Z&&!C.has(B.anchor.variableName))return C.add(B.anchor.variableName),B;if(!Z)return B}).filter(S),w=Y.map($=>{if(!($ instanceof D)||G.includes($))return;const B=$.reference,Z="variableName"in B.anchor;if(Z&&!C.has(B.anchor.variableName))return C.add(B.anchor.variableName),B;if(!Z)return B}).filter(S);return{metadata:{get:$=>G.find(B=>B instanceof $),getAll:$=>G.filter(B=>B instanceof $)},messages:X,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:M,references:o,omittedReferences:w}}async _getFinalElementTree(H,j){const K=this._root.materialize(),Y=await K.tokenCount(this._tokenizer);if(Y<H&&!await this._grow(K,Y,H,j))return{container:K,allMetadata:[...K.allMetadata()],removed:0};const ne=[...K.allMetadata()];let X=0;for(;await K.upperBoundTokenCount(this._tokenizer)>H&&await K.tokenCount(this._tokenizer)>H;)K.removeLowestPriorityChild(),X++;return{container:K,allMetadata:ne,removed:X}}async _grow(H,j,K,Y){if(!this._growables.length)return!1;for(const ne of this._growables){const X=ne.elem.getObj();if(!(X instanceof P.Expandable))throw new Error("unreachable: expected growable");const M=new m(null,0,ne.elem.id),G=new f(K-j+ne.initialConsume,this._endpoint),C=await this._processPromptRenderPiece(G,{node:M,ctor:this._ctor,props:{},children:[]},X,await X.render(void 0,{tokenBudget:G.tokenBudget,endpoint:this._endpoint,countTokens:(A,U)=>this._tokenizer.tokenLength(A,U)}),void 0,Y),o=M.materialize();if(!H.replaceNode(ne.elem.id,o))throw new Error("unreachable: could not find old element to replace");if(j-=ne.initialConsume,j+=C,j>=K)break}return!0}_handlePromptChildren(H,j,K,Y,ne){var M,G;if(H.ctor===P.TextChunk){this._handleExtrinsicTextChunkChildren(H.node,H.node,H.props,j);return}let X=[];for(const C of j){if(C.kind==="literal"){H.node.appendStringChild(C.value,(M=H.props.priority)!=null?M:Number.MAX_SAFE_INTEGER);continue}if(C.kind==="intrinsic"){this._handleIntrinsic(H.node,C.name,{priority:(G=H.props.priority)!=null?G:Number.MAX_SAFE_INTEGER,...C.props},p(C.children));continue}const o=H.node.createChild();X.push({node:o,ctor:C.ctor,props:{priority:H.props.priority,...C.props},children:C.children})}return this._processPromptPieces(K,X,Y,ne)}_handleIntrinsic(H,j,K,Y,ne){switch(j){case"meta":return this._handleIntrinsicMeta(H,K,Y);case"br":return this._handleIntrinsicLineBreak(H,K,Y,K.priority,ne);case"usedContext":return this._handleIntrinsicUsedContext(H,K,Y);case"references":return this._handleIntrinsicReferences(H,K,Y);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(H,K,Y);case"elementJSON":return this._handleIntrinsicElementJSON(H,K.data)}throw new Error(`Unknown intrinsic element ${j}!`)}_handleIntrinsicMeta(H,j,K){if(K.length>0)throw new Error("<meta /> must not have children!");j.local?H.addMetadata(j.value):this._root.addMetadata(j.value)}_handleIntrinsicLineBreak(H,j,K,Y,ne){if(K.length>0)throw new Error("<br /> must not have children!");H.appendLineBreak(Y!=null?Y:Number.MAX_SAFE_INTEGER,ne)}_handleIntrinsicElementJSON(H,j){var Y;const K=H.appendPieceJSON(j.node);if((Y=this.tracer)==null?void 0:Y.includeInEpoch)for(const ne of K.elements())this.tracer.includeInEpoch({id:ne.id,tokenBudget:0})}_handleIntrinsicUsedContext(H,j,K){if(K.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...j.value)}_handleIntrinsicReferences(H,j,K){if(K.length>0)throw new Error("<reference /> must not have children!");for(const Y of j.value)H.addMetadata(new D(Y))}_handleIntrinsicIgnoredFiles(H,j,K){if(K.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...j.value)}_handleExtrinsicTextChunkChildren(H,j,K,Y){var M;const ne=[],X=[];for(const G of Y){if(G.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(G.kind==="literal"&&ne.push(G.value),G.kind==="intrinsic")if(G.name==="br")ne.push(`
`);else if(G.name==="references")for(const C of G.props.value)X.push(new D(C));else this._handleIntrinsic(H,G.name,G.props,p(G.children),j.childIndex)}H.appendStringChild(ne.join(""),(M=K==null?void 0:K.priority)!=null?M:Number.MAX_SAFE_INTEGER,X,j.childIndex,!0)}}V.PromptRenderer=c;async function l(q,H,j,K){let Y=0;(0,P.isChatMessagePromptElement)(j)&&(Y+=await q.countMessageTokens({role:H.props.role,content:"",...H.props.name?{name:H.props.name}:void 0}));for(const ne of K)ne.kind==="literal"&&(Y+=await q.tokenLength(ne.value));return{tokensConsumed:Y}}function h(q){return typeof q=="undefined"||typeof q=="boolean"?[]:typeof q=="string"||typeof q=="number"?[new u(String(q))]:v(q)?[...p(q.children)]:typeof q.ctor=="string"?[new _(q.ctor,q.props,q.children)]:[new b(q.ctor,q.props,q.children)]}function p(q){return(q!=null?q:[]).reduce((H,j)=>(H.push(...h(j)),H),[])}class _{constructor(H,j,K){Gt(this,"name");Gt(this,"props");Gt(this,"children");Gt(this,"kind","intrinsic");this.name=H,this.props=j,this.children=K}}class b{constructor(H,j,K){Gt(this,"ctor");Gt(this,"props");Gt(this,"children");Gt(this,"kind","extrinsic");this.ctor=H,this.props=j,this.children=K}}class u{constructor(H,j){Gt(this,"value");Gt(this,"priority");Gt(this,"kind","literal");this.value=H,this.priority=j}}class f{constructor(H,j){Gt(this,"tokenBudget");Gt(this,"endpoint");Gt(this,"_consumed",0);this.tokenBudget=H,this.endpoint=j}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(H){this._consumed+=H}}const z=class{constructor(H=null,j,K=z._nextId++){Gt(this,"parent");Gt(this,"childIndex");Gt(this,"id");Gt(this,"kind",1);Gt(this,"_obj",null);Gt(this,"_state");Gt(this,"_children",[]);Gt(this,"_metadata",[]);this.parent=H,this.childIndex=j,this.id=K}static fromJSON(H,j){var Y,ne;const K=new z(null,H);switch(K._metadata=(ne=(Y=j.references)==null?void 0:Y.map(X=>new D(N.PromptReference.fromJSON(X))))!=null?ne:[],K._children=j.children.map((X,M)=>{switch(X.type){case 1:return z.fromJSON(M,X);case 2:return g.fromJSON(K,M,X);default:T(X)}}).filter(S),j.ctor){case 1:K._obj=new P.BaseChatMessage(j.props);break;case 2:break;default:T(j.ctor)}return K}setObj(H){this._obj=H}getObj(){return this._obj}setState(H){this._state=H}getState(){return this._state}createChild(){const H=new z(this,this._children.length);return this._children.push(H),H}appendPieceJSON(H){const j=z.fromJSON(this._children.length,H);return this._children.push(j),j}appendStringChild(H,j,K,Y=this._children.length,ne=!1){this._children.push(new g(this,Y,H,j,K,ne))}appendLineBreak(H,j=this._children.length){this._children.push(new g(this,j,`
`,H))}toJSON(){var j;const H={type:1,ctor:2,children:this._children.slice().sort((K,Y)=>K.childIndex-Y.childIndex).map(K=>K.toJSON()),priority:(j=this._obj)==null?void 0:j.props.priority,references:this._metadata.filter(K=>K instanceof D).map(K=>K.reference.toJSON())};return this._obj instanceof P.BaseChatMessage&&(H.ctor=1,H.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId}),H}materialize(){var H,j,K,Y,ne,X;if(this._children.sort((M,G)=>M.childIndex-G.childIndex),this._obj instanceof P.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new R.MaterializedChatMessage(this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof P.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof P.ToolMessage?this._obj.props.toolCallId:void 0,(H=this._obj.props.priority)!=null?H:Number.MAX_SAFE_INTEGER,this._metadata,this._children.map(G=>G.materialize()))}else{let M=0;return this._obj instanceof P.LegacyPrioritization&&(M|=1),this._obj instanceof P.Chunk&&(M|=2),((j=this._obj)==null?void 0:j.props.passPriority)&&(M|=4),new R.MaterializedContainer(this.id,(K=this._obj)==null?void 0:K.constructor.name,(X=(Y=this._obj)==null?void 0:Y.props.priority)!=null?X:((ne=this._obj)==null?void 0:ne.props.passPriority)?0:Number.MAX_SAFE_INTEGER,this._children.map(G=>G.materialize()),this._metadata,M)}}addMetadata(H){this._metadata.push(H)}*elements(){yield this;for(const H of this._children)H instanceof z&&(yield*H.elements())}};let m=z;Gt(m,"_nextId",0);class g{constructor(H,j,K,Y,ne,X=!1){Gt(this,"parent");Gt(this,"childIndex");Gt(this,"text");Gt(this,"priority");Gt(this,"metadata");Gt(this,"lineBreakBefore");Gt(this,"kind",2);this.parent=H,this.childIndex=j,this.text=K,this.priority=Y,this.metadata=ne,this.lineBreakBefore=X}static fromJSON(H,j,K){var Y;return new g(H,j,K.text,K.priority,(Y=K.references)==null?void 0:Y.map(ne=>new D(N.PromptReference.fromJSON(ne))),K.lineBreakBefore)}collectLeafs(H){H.push(this)}materialize(){var j;const H=this.lineBreakBefore?1:this.childIndex===0?2:0;return new R.MaterializedChatMessageTextChunk(this.text,(j=this.priority)!=null?j:Number.MAX_SAFE_INTEGER,this.metadata||[],H)}toJSON(){var H;return{type:2,priority:this.priority,text:this.text,references:(H=this.metadata)==null?void 0:H.filter(j=>j instanceof D).map(j=>j.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}}function v(q){var H;return(H=typeof q.ctor=="function"&&q.ctor.isFragment)!=null?H:!1}function T(q){}function S(q){return q!==void 0}class x extends N.PromptMetadata{}class D extends x{constructor(H){super();Gt(this,"reference");this.reference=H}}},52727:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptReference=V.ChatResponseReferencePartStatusKind=V.PromptMetadata=void 0;const R=E(84326);class P{constructor(){Gt(this,"_marker")}toString(){return Object.getPrototypeOf(this).constructor.name}}V.PromptMetadata=P;var N;(function(c){c[c.Complete=1]="Complete",c[c.Partial=2]="Partial",c[c.Omitted=3]="Omitted"})(N||(V.ChatResponseReferencePartStatusKind=N={}));class k{constructor(l,h,p){Gt(this,"anchor");Gt(this,"iconPath");Gt(this,"options");this.anchor=l,this.iconPath=h,this.options=p}static fromJSON(l){const h=p=>"scheme"in p?R.URI.from(p):{uri:R.URI.from(p.uri),range:p.range};return new k("variableName"in l.anchor?{variableName:l.anchor.variableName,value:l.anchor.value&&h(l.anchor.value)}:h(l.anchor),l.iconPath&&("scheme"in l.iconPath?R.URI.from(l.iconPath):"light"in l.iconPath?{light:R.URI.from(l.iconPath.light),dark:R.URI.from(l.iconPath.dark)}:l.iconPath),l.options)}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}}V.PromptReference=k},82990:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.AnyTokenizer=void 0;const R=E(96423);class P{constructor(k){Gt(this,"countTokens");this.countTokens=k}async tokenLength(k,c){return this.countTokens(k,c)}async countMessageTokens(k){const c=await Promise.resolve().then(()=>E(91398));return this.countTokens({role:this.toChatRole(k.role),content:[new c.LanguageModelTextPart(k.content)],name:"name"in k?k.name:void 0})}toChatRole(k){switch(k){case R.ChatRole.User:return 1;case R.ChatRole.Assistant:return 2;case R.ChatRole.System:return 1;case R.ChatRole.Function:return 1;case R.ChatRole.Tool:return 1}}}V.AnyTokenizer=P},3804:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},63479:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},10818:()=>{"use strict";function a(E,R,...P){return{ctor:E,props:R,children:P.flat()}}function V(){throw new Error("This should not be invoked!")}V.isFragment=!0,globalThis.vscpp=a,globalThis.vscppf=V},68504:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},22177:(a,V,E)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.delimiter=V.sep=V.toNamespacedPath=V.parse=V.format=V.extname=V.basename=V.dirname=V.relative=V.resolve=V.join=V.isAbsolute=V.normalize=V.posix=V.win32=void 0;const R=E(13),P=65,N=97,k=90,c=122,l=46,h=47,p=92,_=58,b=63;class u extends Error{constructor(H,j,K){Gt(this,"code");let Y;typeof j=="string"&&j.indexOf("not ")===0?(Y="must not be",j=j.replace(/^not /,"")):Y="must be";const ne=H.indexOf(".")!==-1?"property":"argument";let X=`The "${H}" ${ne} ${Y} of type ${j}`;X+=`. Received type ${typeof K}`,super(X),this.code="ERR_INVALID_ARG_TYPE"}}function f(q,H){if(q===null||typeof q!="object")throw new u(H,"Object",q)}function m(q,H){if(typeof q!="string")throw new u(H,"string",q)}const g=R.platform==="win32";function v(q){return q===h||q===p}function T(q){return q===h}function S(q){return q>=P&&q<=k||q>=N&&q<=c}function x(q,H,j,K){let Y="",ne=0,X=-1,M=0,G=0;for(let C=0;C<=q.length;++C){if(C<q.length)G=q.charCodeAt(C);else{if(K(G))break;G=h}if(K(G)){if(!(X===C-1||M===1))if(M===2){if(Y.length<2||ne!==2||Y.charCodeAt(Y.length-1)!==l||Y.charCodeAt(Y.length-2)!==l){if(Y.length>2){const o=Y.lastIndexOf(j);o===-1?(Y="",ne=0):(Y=Y.slice(0,o),ne=Y.length-1-Y.lastIndexOf(j)),X=C,M=0;continue}else if(Y.length!==0){Y="",ne=0,X=C,M=0;continue}}H&&(Y+=Y.length>0?`${j}..`:"..",ne=2)}else Y.length>0?Y+=`${j}${q.slice(X+1,C)}`:Y=q.slice(X+1,C),ne=C-X-1;X=C,M=0}else G===l&&M!==-1?++M:M=-1}return Y}function D(q,H){f(H,"pathObject");const j=H.dir||H.root,K=H.base||`${H.name||""}${H.ext||""}`;return j?j===H.root?`${j}${K}`:`${j}${q}${K}`:K}V.win32={resolve(...q){let H="",j="",K=!1;for(let Y=q.length-1;Y>=-1;Y--){let ne;if(Y>=0){if(ne=q[Y],m(ne,"path"),ne.length===0)continue}else H.length===0?ne=R.cwd():(ne=R.env[`=${H}`]||R.cwd(),(ne===void 0||ne.slice(0,2).toLowerCase()!==H.toLowerCase()&&ne.charCodeAt(2)===p)&&(ne=`${H}\\`));const X=ne.length;let M=0,G="",C=!1;const o=ne.charCodeAt(0);if(X===1)v(o)&&(M=1,C=!0);else if(v(o))if(C=!0,v(ne.charCodeAt(1))){let w=2,A=w;for(;w<X&&!v(ne.charCodeAt(w));)w++;if(w<X&&w!==A){const U=ne.slice(A,w);for(A=w;w<X&&v(ne.charCodeAt(w));)w++;if(w<X&&w!==A){for(A=w;w<X&&!v(ne.charCodeAt(w));)w++;(w===X||w!==A)&&(G=`\\\\${U}\\${ne.slice(A,w)}`,M=w)}}}else M=1;else S(o)&&ne.charCodeAt(1)===_&&(G=ne.slice(0,2),M=2,X>2&&v(ne.charCodeAt(2))&&(C=!0,M=3));if(G.length>0)if(H.length>0){if(G.toLowerCase()!==H.toLowerCase())continue}else H=G;if(K){if(H.length>0)break}else if(j=`${ne.slice(M)}\\${j}`,K=C,C&&H.length>0)break}return j=x(j,!K,"\\",v),K?`${H}\\${j}`:`${H}${j}`||"."},normalize(q){m(q,"path");const H=q.length;if(H===0)return".";let j=0,K,Y=!1;const ne=q.charCodeAt(0);if(H===1)return T(ne)?"\\":q;if(v(ne))if(Y=!0,v(q.charCodeAt(1))){let M=2,G=M;for(;M<H&&!v(q.charCodeAt(M));)M++;if(M<H&&M!==G){const C=q.slice(G,M);for(G=M;M<H&&v(q.charCodeAt(M));)M++;if(M<H&&M!==G){for(G=M;M<H&&!v(q.charCodeAt(M));)M++;if(M===H)return`\\\\${C}\\${q.slice(G)}\\`;M!==G&&(K=`\\\\${C}\\${q.slice(G,M)}`,j=M)}}}else j=1;else S(ne)&&q.charCodeAt(1)===_&&(K=q.slice(0,2),j=2,H>2&&v(q.charCodeAt(2))&&(Y=!0,j=3));let X=j<H?x(q.slice(j),!Y,"\\",v):"";return X.length===0&&!Y&&(X="."),X.length>0&&v(q.charCodeAt(H-1))&&(X+="\\"),K===void 0?Y?`\\${X}`:X:Y?`${K}\\${X}`:`${K}${X}`},isAbsolute(q){m(q,"path");const H=q.length;if(H===0)return!1;const j=q.charCodeAt(0);return v(j)||H>2&&S(j)&&q.charCodeAt(1)===_&&v(q.charCodeAt(2))},join(...q){if(q.length===0)return".";let H,j;for(let ne=0;ne<q.length;++ne){const X=q[ne];m(X,"path"),X.length>0&&(H===void 0?H=j=X:H+=`\\${X}`)}if(H===void 0)return".";let K=!0,Y=0;if(typeof j=="string"&&v(j.charCodeAt(0))){++Y;const ne=j.length;ne>1&&v(j.charCodeAt(1))&&(++Y,ne>2&&(v(j.charCodeAt(2))?++Y:K=!1))}if(K){for(;Y<H.length&&v(H.charCodeAt(Y));)Y++;Y>=2&&(H=`\\${H.slice(Y)}`)}return V.win32.normalize(H)},relative(q,H){if(m(q,"from"),m(H,"to"),q===H)return"";const j=V.win32.resolve(q),K=V.win32.resolve(H);if(j===K||(q=j.toLowerCase(),H=K.toLowerCase(),q===H))return"";let Y=0;for(;Y<q.length&&q.charCodeAt(Y)===p;)Y++;let ne=q.length;for(;ne-1>Y&&q.charCodeAt(ne-1)===p;)ne--;const X=ne-Y;let M=0;for(;M<H.length&&H.charCodeAt(M)===p;)M++;let G=H.length;for(;G-1>M&&H.charCodeAt(G-1)===p;)G--;const C=G-M,o=X<C?X:C;let w=-1,A=0;for(;A<o;A++){const $=q.charCodeAt(Y+A);if($!==H.charCodeAt(M+A))break;$===p&&(w=A)}if(A!==o){if(w===-1)return K}else{if(C>o){if(H.charCodeAt(M+A)===p)return K.slice(M+A+1);if(A===2)return K.slice(M+A)}X>o&&(q.charCodeAt(Y+A)===p?w=A:A===2&&(w=3)),w===-1&&(w=0)}let U="";for(A=Y+w+1;A<=ne;++A)(A===ne||q.charCodeAt(A)===p)&&(U+=U.length===0?"..":"\\..");return M+=w,U.length>0?`${U}${K.slice(M,G)}`:(K.charCodeAt(M)===p&&++M,K.slice(M,G))},toNamespacedPath(q){if(typeof q!="string"||q.length===0)return q;const H=V.win32.resolve(q);if(H.length<=2)return q;if(H.charCodeAt(0)===p){if(H.charCodeAt(1)===p){const j=H.charCodeAt(2);if(j!==b&&j!==l)return`\\\\?\\UNC\\${H.slice(2)}`}}else if(S(H.charCodeAt(0))&&H.charCodeAt(1)===_&&H.charCodeAt(2)===p)return`\\\\?\\${H}`;return q},dirname(q){m(q,"path");const H=q.length;if(H===0)return".";let j=-1,K=0;const Y=q.charCodeAt(0);if(H===1)return v(Y)?q:".";if(v(Y)){if(j=K=1,v(q.charCodeAt(1))){let M=2,G=M;for(;M<H&&!v(q.charCodeAt(M));)M++;if(M<H&&M!==G){for(G=M;M<H&&v(q.charCodeAt(M));)M++;if(M<H&&M!==G){for(G=M;M<H&&!v(q.charCodeAt(M));)M++;if(M===H)return q;M!==G&&(j=K=M+1)}}}}else S(Y)&&q.charCodeAt(1)===_&&(j=H>2&&v(q.charCodeAt(2))?3:2,K=j);let ne=-1,X=!0;for(let M=H-1;M>=K;--M)if(v(q.charCodeAt(M))){if(!X){ne=M;break}}else X=!1;if(ne===-1){if(j===-1)return".";ne=j}return q.slice(0,ne)},basename(q,H){H!==void 0&&m(H,"ext"),m(q,"path");let j=0,K=-1,Y=!0,ne;if(q.length>=2&&S(q.charCodeAt(0))&&q.charCodeAt(1)===_&&(j=2),H!==void 0&&H.length>0&&H.length<=q.length){if(H===q)return"";let X=H.length-1,M=-1;for(ne=q.length-1;ne>=j;--ne){const G=q.charCodeAt(ne);if(v(G)){if(!Y){j=ne+1;break}}else M===-1&&(Y=!1,M=ne+1),X>=0&&(G===H.charCodeAt(X)?--X==-1&&(K=ne):(X=-1,K=M))}return j===K?K=M:K===-1&&(K=q.length),q.slice(j,K)}for(ne=q.length-1;ne>=j;--ne)if(v(q.charCodeAt(ne))){if(!Y){j=ne+1;break}}else K===-1&&(Y=!1,K=ne+1);return K===-1?"":q.slice(j,K)},extname(q){m(q,"path");let H=0,j=-1,K=0,Y=-1,ne=!0,X=0;q.length>=2&&q.charCodeAt(1)===_&&S(q.charCodeAt(0))&&(H=K=2);for(let M=q.length-1;M>=H;--M){const G=q.charCodeAt(M);if(v(G)){if(!ne){K=M+1;break}continue}Y===-1&&(ne=!1,Y=M+1),G===l?j===-1?j=M:X!==1&&(X=1):j!==-1&&(X=-1)}return j===-1||Y===-1||X===0||X===1&&j===Y-1&&j===K+1?"":q.slice(j,Y)},format:D.bind(null,"\\"),parse(q){m(q,"path");const H={root:"",dir:"",base:"",ext:"",name:""};if(q.length===0)return H;const j=q.length;let K=0,Y=q.charCodeAt(0);if(j===1)return v(Y)?(H.root=H.dir=q,H):(H.base=H.name=q,H);if(v(Y)){if(K=1,v(q.charCodeAt(1))){let w=2,A=w;for(;w<j&&!v(q.charCodeAt(w));)w++;if(w<j&&w!==A){for(A=w;w<j&&v(q.charCodeAt(w));)w++;if(w<j&&w!==A){for(A=w;w<j&&!v(q.charCodeAt(w));)w++;w===j?K=w:w!==A&&(K=w+1)}}}}else if(S(Y)&&q.charCodeAt(1)===_){if(j<=2)return H.root=H.dir=q,H;if(K=2,v(q.charCodeAt(2))){if(j===3)return H.root=H.dir=q,H;K=3}}K>0&&(H.root=q.slice(0,K));let ne=-1,X=K,M=-1,G=!0,C=q.length-1,o=0;for(;C>=K;--C){if(Y=q.charCodeAt(C),v(Y)){if(!G){X=C+1;break}continue}M===-1&&(G=!1,M=C+1),Y===l?ne===-1?ne=C:o!==1&&(o=1):ne!==-1&&(o=-1)}return M!==-1&&(ne===-1||o===0||o===1&&ne===M-1&&ne===X+1?H.base=H.name=q.slice(X,M):(H.name=q.slice(X,ne),H.base=q.slice(X,M),H.ext=q.slice(ne,M))),X>0&&X!==K?H.dir=q.slice(0,X-1):H.dir=H.root,H},sep:"\\",delimiter:";",win32:null,posix:null};const z=(()=>{if(g){const q=/\\/g;return()=>{const H=R.cwd().replace(q,"/");return H.slice(H.indexOf("/"))}}return()=>R.cwd()})();V.posix={resolve(...q){let H="",j=!1;for(let K=q.length-1;K>=-1&&!j;K--){const Y=K>=0?q[K]:z();m(Y,"path"),Y.length!==0&&(H=`${Y}/${H}`,j=Y.charCodeAt(0)===h)}return H=x(H,!j,"/",T),j?`/${H}`:H.length>0?H:"."},normalize(q){if(m(q,"path"),q.length===0)return".";const H=q.charCodeAt(0)===h,j=q.charCodeAt(q.length-1)===h;return q=x(q,!H,"/",T),q.length===0?H?"/":j?"./":".":(j&&(q+="/"),H?`/${q}`:q)},isAbsolute(q){return m(q,"path"),q.length>0&&q.charCodeAt(0)===h},join(...q){if(q.length===0)return".";let H;for(let j=0;j<q.length;++j){const K=q[j];m(K,"path"),K.length>0&&(H===void 0?H=K:H+=`/${K}`)}return H===void 0?".":V.posix.normalize(H)},relative(q,H){if(m(q,"from"),m(H,"to"),q===H||(q=V.posix.resolve(q),H=V.posix.resolve(H),q===H))return"";const j=1,K=q.length,Y=K-j,ne=1,X=H.length-ne,M=Y<X?Y:X;let G=-1,C=0;for(;C<M;C++){const w=q.charCodeAt(j+C);if(w!==H.charCodeAt(ne+C))break;w===h&&(G=C)}if(C===M)if(X>M){if(H.charCodeAt(ne+C)===h)return H.slice(ne+C+1);if(C===0)return H.slice(ne+C)}else Y>M&&(q.charCodeAt(j+C)===h?G=C:C===0&&(G=0));let o="";for(C=j+G+1;C<=K;++C)(C===K||q.charCodeAt(C)===h)&&(o+=o.length===0?"..":"/..");return`${o}${H.slice(ne+G)}`},toNamespacedPath(q){return q},dirname(q){if(m(q,"path"),q.length===0)return".";const H=q.charCodeAt(0)===h;let j=-1,K=!0;for(let Y=q.length-1;Y>=1;--Y)if(q.charCodeAt(Y)===h){if(!K){j=Y;break}}else K=!1;return j===-1?H?"/":".":H&&j===1?"//":q.slice(0,j)},basename(q,H){H!==void 0&&m(H,"ext"),m(q,"path");let j=0,K=-1,Y=!0,ne;if(H!==void 0&&H.length>0&&H.length<=q.length){if(H===q)return"";let X=H.length-1,M=-1;for(ne=q.length-1;ne>=0;--ne){const G=q.charCodeAt(ne);if(G===h){if(!Y){j=ne+1;break}}else M===-1&&(Y=!1,M=ne+1),X>=0&&(G===H.charCodeAt(X)?--X==-1&&(K=ne):(X=-1,K=M))}return j===K?K=M:K===-1&&(K=q.length),q.slice(j,K)}for(ne=q.length-1;ne>=0;--ne)if(q.charCodeAt(ne)===h){if(!Y){j=ne+1;break}}else K===-1&&(Y=!1,K=ne+1);return K===-1?"":q.slice(j,K)},extname(q){m(q,"path");let H=-1,j=0,K=-1,Y=!0,ne=0;for(let X=q.length-1;X>=0;--X){const M=q.charCodeAt(X);if(M===h){if(!Y){j=X+1;break}continue}K===-1&&(Y=!1,K=X+1),M===l?H===-1?H=X:ne!==1&&(ne=1):H!==-1&&(ne=-1)}return H===-1||K===-1||ne===0||ne===1&&H===K-1&&H===j+1?"":q.slice(H,K)},format:D.bind(null,"/"),parse(q){m(q,"path");const H={root:"",dir:"",base:"",ext:"",name:""};if(q.length===0)return H;const j=q.charCodeAt(0)===h;let K;j?(H.root="/",K=1):K=0;let Y=-1,ne=0,X=-1,M=!0,G=q.length-1,C=0;for(;G>=K;--G){const o=q.charCodeAt(G);if(o===h){if(!M){ne=G+1;break}continue}X===-1&&(M=!1,X=G+1),o===l?Y===-1?Y=G:C!==1&&(C=1):Y!==-1&&(C=-1)}if(X!==-1){const o=ne===0&&j?1:ne;Y===-1||C===0||C===1&&Y===X-1&&Y===ne+1?H.base=H.name=q.slice(o,X):(H.name=q.slice(o,Y),H.base=q.slice(o,X),H.ext=q.slice(Y,X))}return ne>0?H.dir=q.slice(0,ne-1):j&&(H.dir="/"),H},sep:"/",delimiter:":",win32:null,posix:null},V.posix.win32=V.win32.win32=V.win32,V.posix.posix=V.win32.posix=V.posix,V.normalize=g?V.win32.normalize:V.posix.normalize,V.isAbsolute=g?V.win32.isAbsolute:V.posix.isAbsolute,V.join=g?V.win32.join:V.posix.join,V.resolve=g?V.win32.resolve:V.posix.resolve,V.relative=g?V.win32.relative:V.posix.relative,V.dirname=g?V.win32.dirname:V.posix.dirname,V.basename=g?V.win32.basename:V.posix.basename,V.extname=g?V.win32.extname:V.posix.extname,V.format=g?V.win32.format:V.posix.format,V.parse=g?V.win32.parse:V.posix.parse,V.toNamespacedPath=g?V.win32.toNamespacedPath:V.posix.toNamespacedPath,V.sep=g?V.win32.sep:V.posix.sep,V.delimiter=g?V.win32.delimiter:V.posix.delimiter},821:(a,V,E)=>{var G;"use strict";var R=E(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.isAndroid=V.isEdge=V.isSafari=V.isFirefox=V.isChrome=V.OS=V.setTimeout0=V.setTimeout0IsFaster=V.translationsConfigFile=V.platformLocale=V.locale=V.Language=V.language=V.userAgent=V.platform=V.isCI=V.isMobile=V.isIOS=V.webWorkerOrigin=V.isWebWorker=V.isWeb=V.isElectron=V.isNative=V.isLinuxSnap=V.isLinux=V.isMacintosh=V.isWindows=V.LANGUAGE_DEFAULT=void 0,V.PlatformToString=H,V.isLittleEndian=X,V.isBigSurOrNewer=M;const P=E(69175);V.LANGUAGE_DEFAULT="en";let N=!1,k=!1,c=!1,l=!1,h=!1,p=!1,_=!1,b=!1,u=!1,f=!1,m,g=V.LANGUAGE_DEFAULT,v=V.LANGUAGE_DEFAULT,T,S;const x=globalThis;let D;typeof x.vscode!="undefined"&&typeof x.vscode.process!="undefined"?D=x.vscode.process:typeof R!="undefined"&&(D=R);const z=typeof((G=D==null?void 0:D.versions)==null?void 0:G.electron)=="string",q=z&&(D==null?void 0:D.type)==="renderer";if(typeof D=="object"){N=D.platform==="win32",k=D.platform==="darwin",c=D.platform==="linux",l=c&&!!D.env.SNAP&&!!D.env.SNAP_REVISION,_=z,u=!!D.env.CI||!!D.env.BUILD_ARTIFACTSTAGINGDIRECTORY,m=V.LANGUAGE_DEFAULT,g=V.LANGUAGE_DEFAULT;const C=D.env.VSCODE_NLS_CONFIG;if(C)try{const o=JSON.parse(C),w=o.availableLanguages["*"];m=o.locale,v=o.osLocale,g=w||V.LANGUAGE_DEFAULT,T=o._translationsConfigFile}catch(o){}h=!0}else typeof navigator=="object"&&!q?(S=navigator.userAgent,N=S.indexOf("Windows")>=0,k=S.indexOf("Macintosh")>=0,b=(S.indexOf("Macintosh")>=0||S.indexOf("iPad")>=0||S.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,c=S.indexOf("Linux")>=0,f=(S==null?void 0:S.indexOf("Mobi"))>=0,p=!0,m=P.getConfiguredDefaultLocale(P.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||V.LANGUAGE_DEFAULT,g=m,v=navigator.language):console.error("Unable to resolve platform.");function H(C){switch(C){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}let j=0;k?j=1:N?j=3:c&&(j=2),V.isWindows=N,V.isMacintosh=k,V.isLinux=c,V.isLinuxSnap=l,V.isNative=h,V.isElectron=_,V.isWeb=p,V.isWebWorker=p&&typeof x.importScripts=="function",V.webWorkerOrigin=V.isWebWorker?x.origin:void 0,V.isIOS=b,V.isMobile=f,V.isCI=u,V.platform=j,V.userAgent=S,V.language=g;var K;(function(C){function o(){return V.language}C.value=o;function w(){return V.language.length===2?V.language==="en":V.language.length>=3?V.language[0]==="e"&&V.language[1]==="n"&&V.language[2]==="-":!1}C.isDefaultVariant=w;function A(){return V.language==="en"}C.isDefault=A})(K||(V.Language=K={})),V.locale=m,V.platformLocale=v,V.translationsConfigFile=T,V.setTimeout0IsFaster=typeof x.postMessage=="function"&&!x.importScripts,V.setTimeout0=(()=>{if(V.setTimeout0IsFaster){const C=[];x.addEventListener("message",w=>{if(w.data&&w.data.vscodeScheduleAsyncWork)for(let A=0,U=C.length;A<U;A++){const $=C[A];if($.id===w.data.vscodeScheduleAsyncWork){C.splice(A,1),$.callback();return}}});let o=0;return w=>{const A=++o;C.push({id:A,callback:w}),x.postMessage({vscodeScheduleAsyncWork:A},"*")}}return C=>setTimeout(C)})(),V.OS=k||b?2:N?1:3;let Y=!0,ne=!1;function X(){if(!ne){ne=!0;const C=new Uint8Array(2);C[0]=1,C[1]=2,Y=new Uint16Array(C.buffer)[0]===(2<<8)+1}return Y}V.isChrome=!!(V.userAgent&&V.userAgent.indexOf("Chrome")>=0),V.isFirefox=!!(V.userAgent&&V.userAgent.indexOf("Firefox")>=0),V.isSafari=!!(!V.isChrome&&V.userAgent&&V.userAgent.indexOf("Safari")>=0),V.isEdge=!!(V.userAgent&&V.userAgent.indexOf("Edg/")>=0),V.isAndroid=!!(V.userAgent&&V.userAgent.indexOf("Android")>=0);function M(C){return parseFloat(C)>=20}},13:(a,V,E)=>{"use strict";var R=E(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.arch=V.platform=V.env=V.cwd=void 0;const P=E(821);let N;const k=globalThis.vscode;if(typeof k!="undefined"&&typeof k.process!="undefined"){const c=k.process;N={get platform(){return c.platform},get arch(){return c.arch},get env(){return c.env},cwd(){return c.cwd()}}}else typeof R!="undefined"?N={get platform(){return R.platform},get arch(){return R.arch},get env(){return R.env},cwd(){return R.env.VSCODE_CWD||R.cwd()}}:N={get platform(){return P.isWindows?"win32":P.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};V.cwd=N.cwd,V.env=N.env,V.platform=N.platform,V.arch=N.arch},84326:(a,V,E)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.URI=void 0,V.isUriComponents=m,V.uriToFsPath=D;const R=E(22177),P=E(821),N=/^\w[\w\d+.-]*$/,k=/^\//,c=/^\/\//;function l(K,Y){if(!K.scheme&&Y)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${K.authority}", path: "${K.path}", query: "${K.query}", fragment: "${K.fragment}"}`);if(K.scheme&&!N.test(K.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(K.path){if(K.authority){if(!k.test(K.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(K.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function h(K,Y){return!K&&!Y?"file":K}function p(K,Y){switch(K){case"https":case"http":case"file":Y?Y[0]!==b&&(Y=b+Y):Y=b;break}return Y}const _="",b="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{constructor(Y,ne,X,M,G,C=!1){Gt(this,"scheme");Gt(this,"authority");Gt(this,"path");Gt(this,"query");Gt(this,"fragment");typeof Y=="object"?(this.scheme=Y.scheme||_,this.authority=Y.authority||_,this.path=Y.path||_,this.query=Y.query||_,this.fragment=Y.fragment||_):(this.scheme=h(Y,C),this.authority=ne||_,this.path=p(this.scheme,X||_),this.query=M||_,this.fragment=G||_,l(this,C))}static isUri(Y){return Y instanceof f?!0:Y?typeof Y.authority=="string"&&typeof Y.fragment=="string"&&typeof Y.path=="string"&&typeof Y.query=="string"&&typeof Y.scheme=="string"&&typeof Y.fsPath=="string"&&typeof Y.with=="function"&&typeof Y.toString=="function":!1}get fsPath(){return D(this,!1)}with(Y){if(!Y)return this;let{scheme:ne,authority:X,path:M,query:G,fragment:C}=Y;return ne===void 0?ne=this.scheme:ne===null&&(ne=_),X===void 0?X=this.authority:X===null&&(X=_),M===void 0?M=this.path:M===null&&(M=_),G===void 0?G=this.query:G===null&&(G=_),C===void 0?C=this.fragment:C===null&&(C=_),ne===this.scheme&&X===this.authority&&M===this.path&&G===this.query&&C===this.fragment?this:new v(ne,X,M,G,C)}static parse(Y,ne=!1){const X=u.exec(Y);return X?new v(X[2]||_,j(X[4]||_),j(X[5]||_),j(X[7]||_),j(X[9]||_),ne):new v(_,_,_,_,_)}static file(Y){let ne=_;if(P.isWindows&&(Y=Y.replace(/\\/g,b)),Y[0]===b&&Y[1]===b){const X=Y.indexOf(b,2);X===-1?(ne=Y.substring(2),Y=b):(ne=Y.substring(2,X),Y=Y.substring(X)||b)}return new v("file",ne,Y,_,_)}static from(Y,ne){return new v(Y.scheme,Y.authority,Y.path,Y.query,Y.fragment,ne)}static joinPath(Y,...ne){if(!Y.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let X;return P.isWindows&&Y.scheme==="file"?X=f.file(R.win32.join(D(Y,!0),...ne)).path:X=R.posix.join(Y.path,...ne),Y.with({path:X})}toString(Y=!1){return z(this,Y)}toJSON(){return this}static revive(Y){var ne,X;if(Y){if(Y instanceof f)return Y;{const M=new v(Y);return M._formatted=(ne=Y.external)!=null?ne:null,M._fsPath=Y._sep===g&&(X=Y.fsPath)!=null?X:null,M}}else return Y}}V.URI=f;function m(K){return!K||typeof K!="object"?!1:typeof K.scheme=="string"&&(typeof K.authority=="string"||typeof K.authority=="undefined")&&(typeof K.path=="string"||typeof K.path=="undefined")&&(typeof K.query=="string"||typeof K.query=="undefined")&&(typeof K.fragment=="string"||typeof K.fragment=="undefined")}const g=P.isWindows?1:void 0;class v extends f{constructor(){super(...arguments);Gt(this,"_formatted",null);Gt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=D(this,!1)),this._fsPath}toString(Y=!1){return Y?z(this,!0):(this._formatted||(this._formatted=z(this,!1)),this._formatted)}toJSON(){const Y={$mid:1};return this._fsPath&&(Y.fsPath=this._fsPath,Y._sep=g),this._formatted&&(Y.external=this._formatted),this.path&&(Y.path=this.path),this.scheme&&(Y.scheme=this.scheme),this.authority&&(Y.authority=this.authority),this.query&&(Y.query=this.query),this.fragment&&(Y.fragment=this.fragment),Y}}const T={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function S(K,Y,ne){let X,M=-1;for(let G=0;G<K.length;G++){const C=K.charCodeAt(G);if(C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===45||C===46||C===95||C===126||Y&&C===47||ne&&C===91||ne&&C===93||ne&&C===58)M!==-1&&(X+=encodeURIComponent(K.substring(M,G)),M=-1),X!==void 0&&(X+=K.charAt(G));else{X===void 0&&(X=K.substr(0,G));const o=T[C];o!==void 0?(M!==-1&&(X+=encodeURIComponent(K.substring(M,G)),M=-1),X+=o):M===-1&&(M=G)}}return M!==-1&&(X+=encodeURIComponent(K.substring(M))),X!==void 0?X:K}function x(K){let Y;for(let ne=0;ne<K.length;ne++){const X=K.charCodeAt(ne);X===35||X===63?(Y===void 0&&(Y=K.substr(0,ne)),Y+=T[X]):Y!==void 0&&(Y+=K[ne])}return Y!==void 0?Y:K}function D(K,Y){let ne;return K.authority&&K.path.length>1&&K.scheme==="file"?ne=`//${K.authority}${K.path}`:K.path.charCodeAt(0)===47&&(K.path.charCodeAt(1)>=65&&K.path.charCodeAt(1)<=90||K.path.charCodeAt(1)>=97&&K.path.charCodeAt(1)<=122)&&K.path.charCodeAt(2)===58?Y?ne=K.path.substr(1):ne=K.path[1].toLowerCase()+K.path.substr(2):ne=K.path,P.isWindows&&(ne=ne.replace(/\//g,"\\")),ne}function z(K,Y){const ne=Y?x:S;let X="",{scheme:M,authority:G,path:C,query:o,fragment:w}=K;if(M&&(X+=M,X+=":"),(G||M==="file")&&(X+=b,X+=b),G){let A=G.indexOf("@");if(A!==-1){const U=G.substr(0,A);G=G.substr(A+1),A=U.lastIndexOf(":"),A===-1?X+=ne(U,!1,!1):(X+=ne(U.substr(0,A),!1,!1),X+=":",X+=ne(U.substr(A+1),!1,!0)),X+="@"}G=G.toLowerCase(),A=G.lastIndexOf(":"),A===-1?X+=ne(G,!1,!0):(X+=ne(G.substr(0,A),!1,!0),X+=G.substr(A))}if(C){if(C.length>=3&&C.charCodeAt(0)===47&&C.charCodeAt(2)===58){const A=C.charCodeAt(1);A>=65&&A<=90&&(C=`/${String.fromCharCode(A+32)}:${C.substr(3)}`)}else if(C.length>=2&&C.charCodeAt(1)===58){const A=C.charCodeAt(0);A>=65&&A<=90&&(C=`${String.fromCharCode(A+32)}:${C.substr(2)}`)}X+=ne(C,!0,!1)}return o&&(X+="?",X+=ne(o,!1,!1)),w&&(X+="#",X+=Y?w:S(w,!1,!1)),X}function q(K){try{return decodeURIComponent(K)}catch{return K.length>3?K.substr(0,3)+q(K.substr(3)):K}}const H=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function j(K){return K.match(H)?K.replace(H,Y=>q(Y)):K}},69175:(a,V)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.localize=R,V.localize2=P,V.getConfiguredDefaultLocale=N;function E(k,c){let l;return c.length===0?l=k:l=k.replace(/\{(\d+)\}/g,function(h,p){const _=p[0];return typeof c[_]!="undefined"?c[_]:h}),l}function R(k,c,...l){return E(c,l)}function P(k,c,...l){const h=E(c,l);return{original:h,value:h}}function N(k){}},87568:(a,V,E)=>{"use strict";const R=V;R.bignum=E(39404),R.define=E(47363).define,R.base=E(9673),R.constants=E(22153),R.decoders=E(22853),R.encoders=E(24669)},47363:(a,V,E)=>{"use strict";const R=E(24669),P=E(22853),N=E(56698),k=V;k.define=function(h,p){return new c(h,p)};function c(l,h){this.name=l,this.body=h,this.decoders={},this.encoders={}}c.prototype._createNamed=function(h){const p=this.name;function _(b){this._initNamed(b,p)}return N(_,h),_.prototype._initNamed=function(u,f){h.call(this,u,f)},new _(this)},c.prototype._getDecoder=function(h){return h=h||"der",this.decoders.hasOwnProperty(h)||(this.decoders[h]=this._createNamed(P[h])),this.decoders[h]},c.prototype.decode=function(h,p,_){return this._getDecoder(p).decode(h,_)},c.prototype._getEncoder=function(h){return h=h||"der",this.encoders.hasOwnProperty(h)||(this.encoders[h]=this._createNamed(R[h])),this.encoders[h]},c.prototype.encode=function(h,p,_){return this._getEncoder(p).encode(h,_)}},47227:(a,V,E)=>{"use strict";const R=E(56698),P=E(89220).a,N=E(54774).Buffer;function k(l,h){if(P.call(this,h),!N.isBuffer(l)){this.error("Input not Buffer");return}this.base=l,this.offset=0,this.length=l.length}R(k,P),V.t=k,k.isDecoderBuffer=function(h){return h instanceof k?!0:typeof h=="object"&&N.isBuffer(h.base)&&h.constructor.name==="DecoderBuffer"&&typeof h.offset=="number"&&typeof h.length=="number"&&typeof h.save=="function"&&typeof h.restore=="function"&&typeof h.isEmpty=="function"&&typeof h.readUInt8=="function"&&typeof h.skip=="function"&&typeof h.raw=="function"},k.prototype.save=function(){return{offset:this.offset,reporter:P.prototype.save.call(this)}},k.prototype.restore=function(h){const p=new k(this.base);return p.offset=h.offset,p.length=this.offset,this.offset=h.offset,P.prototype.restore.call(this,h.reporter),p},k.prototype.isEmpty=function(){return this.offset===this.length},k.prototype.readUInt8=function(h){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(h||"DecoderBuffer overrun")},k.prototype.skip=function(h,p){if(!(this.offset+h<=this.length))return this.error(p||"DecoderBuffer overrun");const _=new k(this.base);return _._reporterState=this._reporterState,_.offset=this.offset,_.length=this.offset+h,this.offset+=h,_},k.prototype.raw=function(h){return this.base.slice(h?h.offset:this.offset,this.length)};function c(l,h){if(Array.isArray(l))this.length=0,this.value=l.map(function(p){return c.isEncoderBuffer(p)||(p=new c(p,h)),this.length+=p.length,p},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return h.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=N.byteLength(l);else if(N.isBuffer(l))this.value=l,this.length=l.length;else return h.error("Unsupported type: "+typeof l)}V.d=c,c.isEncoderBuffer=function(h){return h instanceof c?!0:typeof h=="object"&&h.constructor.name==="EncoderBuffer"&&typeof h.length=="number"&&typeof h.join=="function"},c.prototype.join=function(h,p){return h||(h=N.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(_){_.join(h,p),p+=_.length}):(typeof this.value=="number"?h[p]=this.value:typeof this.value=="string"?h.write(this.value,p):N.isBuffer(this.value)&&this.value.copy(h,p),p+=this.length)),h}},9673:(a,V,E)=>{"use strict";const R=V;R.Reporter=E(89220).a,R.DecoderBuffer=E(47227).t,R.EncoderBuffer=E(47227).d,R.Node=E(90993)},90993:(a,V,E)=>{"use strict";const R=E(89220).a,P=E(47227).d,N=E(47227).t,k=E(43349),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c),h=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function p(b,u,f){const m={};this._baseState=m,m.name=f,m.enc=b,m.parent=u||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}a.exports=p;const _=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const u=this._baseState,f={};_.forEach(function(g){f[g]=u[g]});const m=new this.constructor(f.parent);return m._baseState=f,m},p.prototype._wrap=function(){const u=this._baseState;l.forEach(function(f){this[f]=function(){const g=new this.constructor(this);return u.children.push(g),g[f].apply(g,arguments)}},this)},p.prototype._init=function(u){const f=this._baseState;k(f.parent===null),u.call(this),f.children=f.children.filter(function(m){return m._baseState.parent===this},this),k.equal(f.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(u){const f=this._baseState,m=u.filter(function(g){return g instanceof this.constructor},this);u=u.filter(function(g){return!(g instanceof this.constructor)},this),m.length!==0&&(k(f.children===null),f.children=m,m.forEach(function(g){g._baseState.parent=this},this)),u.length!==0&&(k(f.args===null),f.args=u,f.reverseArgs=u.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const v={};return Object.keys(g).forEach(function(T){T==(T|0)&&(T|=0);const S=g[T];v[S]=T}),v}))},h.forEach(function(b){p.prototype[b]=function(){const f=this._baseState;throw new Error(b+" not implemented for encoding: "+f.enc)}}),c.forEach(function(b){p.prototype[b]=function(){const f=this._baseState,m=Array.prototype.slice.call(arguments);return k(f.tag===null),f.tag=b,this._useArgs(m),this}}),p.prototype.use=function(u){k(u);const f=this._baseState;return k(f.use===null),f.use=u,this},p.prototype.optional=function(){const u=this._baseState;return u.optional=!0,this},p.prototype.def=function(u){const f=this._baseState;return k(f.default===null),f.default=u,f.optional=!0,this},p.prototype.explicit=function(u){const f=this._baseState;return k(f.explicit===null&&f.implicit===null),f.explicit=u,this},p.prototype.implicit=function(u){const f=this._baseState;return k(f.explicit===null&&f.implicit===null),f.implicit=u,this},p.prototype.obj=function(){const u=this._baseState,f=Array.prototype.slice.call(arguments);return u.obj=!0,f.length!==0&&this._useArgs(f),this},p.prototype.key=function(u){const f=this._baseState;return k(f.key===null),f.key=u,this},p.prototype.any=function(){const u=this._baseState;return u.any=!0,this},p.prototype.choice=function(u){const f=this._baseState;return k(f.choice===null),f.choice=u,this._useArgs(Object.keys(u).map(function(m){return u[m]})),this},p.prototype.contains=function(u){const f=this._baseState;return k(f.use===null),f.contains=u,this},p.prototype._decode=function(u,f){const m=this._baseState;if(m.parent===null)return u.wrapResult(m.children[0]._decode(u,f));let g=m.default,v=!0,T=null;if(m.key!==null&&(T=u.enterKey(m.key)),m.optional){let x=null;if(m.explicit!==null?x=m.explicit:m.implicit!==null?x=m.implicit:m.tag!==null&&(x=m.tag),x===null&&!m.any){const D=u.save();try{m.choice===null?this._decodeGeneric(m.tag,u,f):this._decodeChoice(u,f),v=!0}catch(z){v=!1}u.restore(D)}else if(v=this._peekTag(u,x,m.any),u.isError(v))return v}let S;if(m.obj&&v&&(S=u.enterObject()),v){if(m.explicit!==null){const D=this._decodeTag(u,m.explicit);if(u.isError(D))return D;u=D}const x=u.offset;if(m.use===null&&m.choice===null){let D;m.any&&(D=u.save());const z=this._decodeTag(u,m.implicit!==null?m.implicit:m.tag,m.any);if(u.isError(z))return z;m.any?g=u.raw(D):u=z}if(f&&f.track&&m.tag!==null&&f.track(u.path(),x,u.length,"tagged"),f&&f.track&&m.tag!==null&&f.track(u.path(),u.offset,u.length,"content"),m.any||(m.choice===null?g=this._decodeGeneric(m.tag,u,f):g=this._decodeChoice(u,f)),u.isError(g))return g;if(!m.any&&m.choice===null&&m.children!==null&&m.children.forEach(function(z){z._decode(u,f)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){const D=new N(g);g=this._getUse(m.contains,u._reporterState.obj)._decode(D,f)}}return m.obj&&v&&(g=u.leaveObject(S)),m.key!==null&&(g!==null||v===!0)?u.leaveKey(T,m.key,g):T!==null&&u.exitKey(T),g},p.prototype._decodeGeneric=function(u,f,m){const g=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(f,u,g.args[0],m):/str$/.test(u)?this._decodeStr(f,u,m):u==="objid"&&g.args?this._decodeObjid(f,g.args[0],g.args[1],m):u==="objid"?this._decodeObjid(f,null,null,m):u==="gentime"||u==="utctime"?this._decodeTime(f,u,m):u==="null_"?this._decodeNull(f,m):u==="bool"?this._decodeBool(f,m):u==="objDesc"?this._decodeStr(f,u,m):u==="int"||u==="enum"?this._decodeInt(f,g.args&&g.args[0],m):g.use!==null?this._getUse(g.use,f._reporterState.obj)._decode(f,m):f.error("unknown tag: "+u)},p.prototype._getUse=function(u,f){const m=this._baseState;return m.useDecoder=this._use(u,f),k(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},p.prototype._decodeChoice=function(u,f){const m=this._baseState;let g=null,v=!1;return Object.keys(m.choice).some(function(T){const S=u.save(),x=m.choice[T];try{const D=x._decode(u,f);if(u.isError(D))return!1;g={type:T,value:D},v=!0}catch(D){return u.restore(S),!1}return!0},this),v?g:u.error("Choice not matched")},p.prototype._createEncoderBuffer=function(u){return new P(u,this.reporter)},p.prototype._encode=function(u,f,m){const g=this._baseState;if(g.default!==null&&g.default===u)return;const v=this._encodeValue(u,f,m);if(v!==void 0&&!this._skipDefault(v,f,m))return v},p.prototype._encodeValue=function(u,f,m){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(u,f||new R);let v=null;if(this.reporter=f,g.optional&&u===void 0)if(g.default!==null)u=g.default;else return;let T=null,S=!1;if(g.any)v=this._createEncoderBuffer(u);else if(g.choice)v=this._encodeChoice(u,f);else if(g.contains)T=this._getUse(g.contains,m)._encode(u,f),S=!0;else if(g.children)T=g.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,f,u);if(x._baseState.key===null)return f.error("Child should have a key");const D=f.enterKey(x._baseState.key);if(typeof u!="object")return f.error("Child expected, but input is not object");const z=x._encode(u[x._baseState.key],f,u);return f.leaveKey(D),z},this).filter(function(x){return x}),T=this._createEncoderBuffer(T);else if(g.tag==="seqof"||g.tag==="setof"){if(!(g.args&&g.args.length===1))return f.error("Too many args for : "+g.tag);if(!Array.isArray(u))return f.error("seqof/setof, but data is not Array");const x=this.clone();x._baseState.implicit=null,T=this._createEncoderBuffer(u.map(function(D){const z=this._baseState;return this._getUse(z.args[0],u)._encode(D,f)},x))}else g.use!==null?v=this._getUse(g.use,m)._encode(u,f):(T=this._encodePrimitive(g.tag,u),S=!0);if(!g.any&&g.choice===null){const x=g.implicit!==null?g.implicit:g.tag,D=g.implicit===null?"universal":"context";x===null?g.use===null&&f.error("Tag could be omitted only for .use()"):g.use===null&&(v=this._encodeComposite(x,S,D,T))}return g.explicit!==null&&(v=this._encodeComposite(g.explicit,!1,"context",v)),v},p.prototype._encodeChoice=function(u,f){const m=this._baseState,g=m.choice[u.type];return g||k(!1,u.type+" not found in "+JSON.stringify(Object.keys(m.choice))),g._encode(u.value,f)},p.prototype._encodePrimitive=function(u,f){const m=this._baseState;if(/str$/.test(u))return this._encodeStr(f,u);if(u==="objid"&&m.args)return this._encodeObjid(f,m.reverseArgs[0],m.args[1]);if(u==="objid")return this._encodeObjid(f,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(f,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(f,m.args&&m.reverseArgs[0]);if(u==="bool")return this._encodeBool(f);if(u==="objDesc")return this._encodeStr(f,u);throw new Error("Unsupported tag: "+u)},p.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},p.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},89220:(a,V,E)=>{"use strict";const R=E(56698);function P(k){this._reporterState={obj:null,path:[],options:k||{},errors:[]}}V.a=P,P.prototype.isError=function(c){return c instanceof N},P.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},P.prototype.restore=function(c){const l=this._reporterState;l.obj=c.obj,l.path=l.path.slice(0,c.pathLen)},P.prototype.enterKey=function(c){return this._reporterState.path.push(c)},P.prototype.exitKey=function(c){const l=this._reporterState;l.path=l.path.slice(0,c-1)},P.prototype.leaveKey=function(c,l,h){const p=this._reporterState;this.exitKey(c),p.obj!==null&&(p.obj[l]=h)},P.prototype.path=function(){return this._reporterState.path.join("/")},P.prototype.enterObject=function(){const c=this._reporterState,l=c.obj;return c.obj={},l},P.prototype.leaveObject=function(c){const l=this._reporterState,h=l.obj;return l.obj=c,h},P.prototype.error=function(c){let l;const h=this._reporterState,p=c instanceof N;if(p?l=c:l=new N(h.path.map(function(_){return"["+JSON.stringify(_)+"]"}).join(""),c.message||c,c.stack),!h.options.partial)throw l;return p||h.errors.push(l),l},P.prototype.wrapResult=function(c){const l=this._reporterState;return l.options.partial?{result:this.isError(c)?null:c,errors:l.errors}:c};function N(k,c){this.path=k,this.rethrow(c)}R(N,Error),N.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,N),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},74598:(a,V)=>{"use strict";function E(R){const P={};return Object.keys(R).forEach(function(N){(N|0)==N&&(N=N|0);const k=R[N];P[k]=N}),P}V.tagClass={0:"universal",1:"application",2:"context",3:"private"},V.tagClassByName=E(V.tagClass),V.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},V.tagByName=E(V.tag)},22153:(a,V,E)=>{"use strict";const R=V;R._reverse=function(N){const k={};return Object.keys(N).forEach(function(c){(c|0)==c&&(c=c|0);const l=N[c];k[l]=c}),k},R.der=E(74598)},62010:(a,V,E)=>{"use strict";const R=E(56698),P=E(39404),N=E(47227).t,k=E(90993),c=E(74598);function l(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new h,this.tree._init(b.body)}a.exports=l,l.prototype.decode=function(u,f){return N.isDecoderBuffer(u)||(u=new N(u,f)),this.tree._decode(u,f)};function h(b){k.call(this,"der",b)}R(h,k),h.prototype._peekTag=function(u,f,m){if(u.isEmpty())return!1;const g=u.save(),v=p(u,'Failed to peek tag: "'+f+'"');return u.isError(v)?v:(u.restore(g),v.tag===f||v.tagStr===f||v.tagStr+"of"===f||m)},h.prototype._decodeTag=function(u,f,m){const g=p(u,'Failed to decode tag of "'+f+'"');if(u.isError(g))return g;let v=_(u,g.primitive,'Failed to get length of "'+f+'"');if(u.isError(v))return v;if(!m&&g.tag!==f&&g.tagStr!==f&&g.tagStr+"of"!==f)return u.error('Failed to match tag: "'+f+'"');if(g.primitive||v!==null)return u.skip(v,'Failed to match body of: "'+f+'"');const T=u.save(),S=this._skipUntilEnd(u,'Failed to skip indefinite length body: "'+this.tag+'"');return u.isError(S)?S:(v=u.offset-T.offset,u.restore(T),u.skip(v,'Failed to match body of: "'+f+'"'))},h.prototype._skipUntilEnd=function(u,f){for(;;){const m=p(u,f);if(u.isError(m))return m;const g=_(u,m.primitive,f);if(u.isError(g))return g;let v;if(m.primitive||g!==null?v=u.skip(g):v=this._skipUntilEnd(u,f),u.isError(v))return v;if(m.tagStr==="end")break}},h.prototype._decodeList=function(u,f,m,g){const v=[];for(;!u.isEmpty();){const T=this._peekTag(u,"end");if(u.isError(T))return T;const S=m.decode(u,"der",g);if(u.isError(S)&&T)break;v.push(S)}return v},h.prototype._decodeStr=function(u,f){if(f==="bitstr"){const m=u.readUInt8();return u.isError(m)?m:{unused:m,data:u.raw()}}else if(f==="bmpstr"){const m=u.raw();if(m.length%2==1)return u.error("Decoding of string type: bmpstr length mismatch");let g="";for(let v=0;v<m.length/2;v++)g+=String.fromCharCode(m.readUInt16BE(v*2));return g}else if(f==="numstr"){const m=u.raw().toString("ascii");return this._isNumstr(m)?m:u.error("Decoding of string type: numstr unsupported characters")}else{if(f==="octstr")return u.raw();if(f==="objDesc")return u.raw();if(f==="printstr"){const m=u.raw().toString("ascii");return this._isPrintstr(m)?m:u.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(f)?u.raw().toString():u.error("Decoding of string type: "+f+" unsupported")}},h.prototype._decodeObjid=function(u,f,m){let g;const v=[];let T=0,S=0;for(;!u.isEmpty();)S=u.readUInt8(),T<<=7,T|=S&127,(S&128)==0&&(v.push(T),T=0);S&128&&v.push(T);const x=v[0]/40|0,D=v[0]%40;if(m?g=v:g=[x,D].concat(v.slice(1)),f){let z=f[g.join(" ")];z===void 0&&(z=f[g.join(".")]),z!==void 0&&(g=z)}return g},h.prototype._decodeTime=function(u,f){const m=u.raw().toString();let g,v,T,S,x,D;if(f==="gentime")g=m.slice(0,4)|0,v=m.slice(4,6)|0,T=m.slice(6,8)|0,S=m.slice(8,10)|0,x=m.slice(10,12)|0,D=m.slice(12,14)|0;else if(f==="utctime")g=m.slice(0,2)|0,v=m.slice(2,4)|0,T=m.slice(4,6)|0,S=m.slice(6,8)|0,x=m.slice(8,10)|0,D=m.slice(10,12)|0,g<70?g=2e3+g:g=1900+g;else return u.error("Decoding "+f+" time is not supported yet");return Date.UTC(g,v-1,T,S,x,D,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(u){const f=u.readUInt8();return u.isError(f)?f:f!==0},h.prototype._decodeInt=function(u,f){const m=u.raw();let g=new P(m);return f&&(g=f[g.toString(10)]||g),g},h.prototype._use=function(u,f){return typeof u=="function"&&(u=u(f)),u._getDecoder("der").tree};function p(b,u){let f=b.readUInt8(u);if(b.isError(f))return f;const m=c.tagClass[f>>6],g=(f&32)==0;if((f&31)==31){let T=f;for(f=0;(T&128)==128;){if(T=b.readUInt8(u),b.isError(T))return T;f<<=7,f|=T&127}}else f&=31;const v=c.tag[f];return{cls:m,primitive:g,tag:f,tagStr:v}}function _(b,u,f){let m=b.readUInt8(f);if(b.isError(m))return m;if(!u&&m===128)return null;if((m&128)==0)return m;const g=m&127;if(g>4)return b.error("length octect is too long");m=0;for(let v=0;v<g;v++){m<<=8;const T=b.readUInt8(f);if(b.isError(T))return T;m|=T}return m}},22853:(a,V,E)=>{"use strict";const R=V;R.der=E(62010),R.pem=E(58903)},58903:(a,V,E)=>{"use strict";const R=E(56698),P=E(54774).Buffer,N=E(62010);function k(c){N.call(this,c),this.enc="pem"}R(k,N),a.exports=k,k.prototype.decode=function(l,h){const p=l.toString().split(/[\r\n]+/g),_=h.label.toUpperCase(),b=/^-----(BEGIN|END) ([^-]+)-----$/;let u=-1,f=-1;for(let v=0;v<p.length;v++){const T=p[v].match(b);if(T!==null&&T[2]===_)if(u===-1){if(T[1]!=="BEGIN")break;u=v}else{if(T[1]!=="END")break;f=v;break}}if(u===-1||f===-1)throw new Error("PEM section not found for: "+_);const m=p.slice(u+1,f).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const g=P.from(m,"base64");return N.prototype.decode.call(this,g,h)}},70082:(a,V,E)=>{"use strict";const R=E(56698),P=E(54774).Buffer,N=E(90993),k=E(74598);function c(_){this.enc="der",this.name=_.name,this.entity=_,this.tree=new l,this.tree._init(_.body)}a.exports=c,c.prototype.encode=function(b,u){return this.tree._encode(b,u).join()};function l(_){N.call(this,"der",_)}R(l,N),l.prototype._encodeComposite=function(b,u,f,m){const g=p(b,u,f,this.reporter);if(m.length<128){const S=P.alloc(2);return S[0]=g,S[1]=m.length,this._createEncoderBuffer([S,m])}let v=1;for(let S=m.length;S>=256;S>>=8)v++;const T=P.alloc(1+1+v);T[0]=g,T[1]=128|v;for(let S=1+v,x=m.length;x>0;S--,x>>=8)T[S]=x&255;return this._createEncoderBuffer([T,m])},l.prototype._encodeStr=function(b,u){if(u==="bitstr")return this._createEncoderBuffer([b.unused|0,b.data]);if(u==="bmpstr"){const f=P.alloc(b.length*2);for(let m=0;m<b.length;m++)f.writeUInt16BE(b.charCodeAt(m),m*2);return this._createEncoderBuffer(f)}else return u==="numstr"?this._isNumstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)?this._createEncoderBuffer(b):u==="objDesc"?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: "+u+" unsupported")},l.prototype._encodeObjid=function(b,u,f){if(typeof b=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(b))return this.reporter.error("objid not found in values map");b=u[b].split(/[\s.]+/g);for(let T=0;T<b.length;T++)b[T]|=0}else if(Array.isArray(b)){b=b.slice();for(let T=0;T<b.length;T++)b[T]|=0}if(!Array.isArray(b))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(b));if(!f){if(b[1]>=40)return this.reporter.error("Second objid identifier OOB");b.splice(0,2,b[0]*40+b[1])}let m=0;for(let T=0;T<b.length;T++){let S=b[T];for(m++;S>=128;S>>=7)m++}const g=P.alloc(m);let v=g.length-1;for(let T=b.length-1;T>=0;T--){let S=b[T];for(g[v--]=S&127;(S>>=7)>0;)g[v--]=128|S&127}return this._createEncoderBuffer(g)};function h(_){return _<10?"0"+_:_}l.prototype._encodeTime=function(b,u){let f;const m=new Date(b);return u==="gentime"?f=[h(m.getUTCFullYear()),h(m.getUTCMonth()+1),h(m.getUTCDate()),h(m.getUTCHours()),h(m.getUTCMinutes()),h(m.getUTCSeconds()),"Z"].join(""):u==="utctime"?f=[h(m.getUTCFullYear()%100),h(m.getUTCMonth()+1),h(m.getUTCDate()),h(m.getUTCHours()),h(m.getUTCMinutes()),h(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(f,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(b,u){if(typeof b=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(b))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(b));b=u[b]}if(typeof b!="number"&&!P.isBuffer(b)){const g=b.toArray();!b.sign&&g[0]&128&&g.unshift(0),b=P.from(g)}if(P.isBuffer(b)){let g=b.length;b.length===0&&g++;const v=P.alloc(g);return b.copy(v),b.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(b<128)return this._createEncoderBuffer(b);if(b<256)return this._createEncoderBuffer([0,b]);let f=1;for(let g=b;g>=256;g>>=8)f++;const m=new Array(f);for(let g=m.length-1;g>=0;g--)m[g]=b&255,b>>=8;return m[0]&128&&m.unshift(0),this._createEncoderBuffer(P.from(m))},l.prototype._encodeBool=function(b){return this._createEncoderBuffer(b?255:0)},l.prototype._use=function(b,u){return typeof b=="function"&&(b=b(u)),b._getEncoder("der").tree},l.prototype._skipDefault=function(b,u,f){const m=this._baseState;let g;if(m.default===null)return!1;const v=b.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,u,f).join()),v.length!==m.defaultBuffer.length)return!1;for(g=0;g<v.length;g++)if(v[g]!==m.defaultBuffer[g])return!1;return!0};function p(_,b,u,f){let m;if(_==="seqof"?_="seq":_==="setof"&&(_="set"),k.tagByName.hasOwnProperty(_))m=k.tagByName[_];else if(typeof _=="number"&&(_|0)===_)m=_;else return f.error("Unknown tag: "+_);return m>=31?f.error("Multi-octet tag encoding unsupported"):(b||(m|=32),m|=k.tagClassByName[u||"universal"]<<6,m)}},24669:(a,V,E)=>{"use strict";const R=V;R.der=E(70082),R.pem=E(90735)},90735:(a,V,E)=>{"use strict";const R=E(56698),P=E(70082);function N(k){P.call(this,k),this.enc="pem"}R(N,P),a.exports=N,N.prototype.encode=function(c,l){const p=P.prototype.encode.call(this,c).toString("base64"),_=["-----BEGIN "+l.label+"-----"];for(let b=0;b<p.length;b+=64)_.push(p.slice(b,b+64));return _.push("-----END "+l.label+"-----"),_.join(`
`)}},67526:(a,V)=>{"use strict";V.byteLength=h,V.toByteArray=_,V.fromByteArray=f;for(var E=[],R=[],P=typeof Uint8Array!="undefined"?Uint8Array:Array,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,c=N.length;k<c;++k)E[k]=N[k],R[N.charCodeAt(k)]=k;R["-".charCodeAt(0)]=62,R["_".charCodeAt(0)]=63;function l(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=m.indexOf("=");v===-1&&(v=g);var T=v===g?0:4-v%4;return[v,T]}function h(m){var g=l(m),v=g[0],T=g[1];return(v+T)*3/4-T}function p(m,g,v){return(g+v)*3/4-v}function _(m){var g,v=l(m),T=v[0],S=v[1],x=new P(p(m,T,S)),D=0,z=S>0?T-4:T,q;for(q=0;q<z;q+=4)g=R[m.charCodeAt(q)]<<18|R[m.charCodeAt(q+1)]<<12|R[m.charCodeAt(q+2)]<<6|R[m.charCodeAt(q+3)],x[D++]=g>>16&255,x[D++]=g>>8&255,x[D++]=g&255;return S===2&&(g=R[m.charCodeAt(q)]<<2|R[m.charCodeAt(q+1)]>>4,x[D++]=g&255),S===1&&(g=R[m.charCodeAt(q)]<<10|R[m.charCodeAt(q+1)]<<4|R[m.charCodeAt(q+2)]>>2,x[D++]=g>>8&255,x[D++]=g&255),x}function b(m){return E[m>>18&63]+E[m>>12&63]+E[m>>6&63]+E[m&63]}function u(m,g,v){for(var T,S=[],x=g;x<v;x+=3)T=(m[x]<<16&16711680)+(m[x+1]<<8&65280)+(m[x+2]&255),S.push(b(T));return S.join("")}function f(m){for(var g,v=m.length,T=v%3,S=[],x=16383,D=0,z=v-T;D<z;D+=x)S.push(u(m,D,D+x>z?z:D+x));return T===1?(g=m[v-1],S.push(E[g>>2]+E[g<<4&63]+"==")):T===2&&(g=(m[v-2]<<8)+m[v-1],S.push(E[g>>10]+E[g>>4&63]+E[g<<2&63]+"=")),S.join("")}},80811:(a,V,E)=>{var R=E(84346),P=E(21640),N=E(25447),k=Function.bind,c=k.bind(k);function l(u,f,m){var g=c(N,null).apply(null,m?[f,m]:[f]);u.api={remove:g},u.remove=g,["before","error","after","wrap"].forEach(function(v){var T=m?[f,v,m]:[f,v];u[v]=u.api[v]=c(P,null).apply(null,T)})}function h(){var u="h",f={registry:{}},m=R.bind(null,f,u);return l(m,f,u),m}function p(){var u={registry:{}},f=R.bind(null,u);return l(f,u),f}var _=!1;function b(){return _||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),_=!0),p()}b.Singular=h.bind(),b.Collection=p.bind(),a.exports=b,a.exports.Hook=b,a.exports.Singular=b.Singular,a.exports.Collection=b.Collection},21640:a=>{a.exports=V;function V(E,R,P,N){var k=N;E.registry[P]||(E.registry[P]=[]),R==="before"&&(N=function(c,l){return Promise.resolve().then(k.bind(null,l)).then(c.bind(null,l))}),R==="after"&&(N=function(c,l){var h;return Promise.resolve().then(c.bind(null,l)).then(function(p){return h=p,k(h,l)}).then(function(){return h})}),R==="error"&&(N=function(c,l){return Promise.resolve().then(c.bind(null,l)).catch(function(h){return k(h,l)})}),E.registry[P].push({hook:N,orig:k})}},84346:a=>{a.exports=V;function V(E,R,P,N){if(typeof P!="function")throw new Error("method for before hook must be a function");return N||(N={}),Array.isArray(R)?R.reverse().reduce(function(k,c){return V.bind(null,E,c,k,N)},P)():Promise.resolve().then(function(){return E.registry[R]?E.registry[R].reduce(function(k,c){return c.hook.bind(null,k,N)},P)():P(N)})}},25447:a=>{a.exports=V;function V(E,R,P){if(!!E.registry[R]){var N=E.registry[R].map(function(k){return k.orig}).indexOf(P);N!==-1&&E.registry[R].splice(N,1)}}},39404:function(a,V,E){a=E.nmd(a),function(R,P){"use strict";function N(X,M){if(!X)throw new Error(M||"Assertion failed")}function k(X,M){X.super_=M;var G=function(){};G.prototype=M.prototype,X.prototype=new G,X.prototype.constructor=X}function c(X,M,G){if(c.isBN(X))return X;this.negative=0,this.words=null,this.length=0,this.red=null,X!==null&&((M==="le"||M==="be")&&(G=M,M=10),this._init(X||0,M||10,G||"be"))}typeof R=="object"?R.exports=c:P.BN=c,c.BN=c,c.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=E(47790).Buffer}catch(X){}c.isBN=function(M){return M instanceof c?!0:M!==null&&typeof M=="object"&&M.constructor.wordSize===c.wordSize&&Array.isArray(M.words)},c.max=function(M,G){return M.cmp(G)>0?M:G},c.min=function(M,G){return M.cmp(G)<0?M:G},c.prototype._init=function(M,G,C){if(typeof M=="number")return this._initNumber(M,G,C);if(typeof M=="object")return this._initArray(M,G,C);G==="hex"&&(G=16),N(G===(G|0)&&G>=2&&G<=36),M=M.toString().replace(/\s+/g,"");var o=0;M[0]==="-"&&(o++,this.negative=1),o<M.length&&(G===16?this._parseHex(M,o,C):(this._parseBase(M,G,o),C==="le"&&this._initArray(this.toArray(),G,C)))},c.prototype._initNumber=function(M,G,C){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[M&67108863],this.length=1):M<4503599627370496?(this.words=[M&67108863,M/67108864&67108863],this.length=2):(N(M<9007199254740992),this.words=[M&67108863,M/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),G,C)},c.prototype._initArray=function(M,G,C){if(N(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var w,A,U=0;if(C==="be")for(o=M.length-1,w=0;o>=0;o-=3)A=M[o]|M[o-1]<<8|M[o-2]<<16,this.words[w]|=A<<U&67108863,this.words[w+1]=A>>>26-U&67108863,U+=24,U>=26&&(U-=26,w++);else if(C==="le")for(o=0,w=0;o<M.length;o+=3)A=M[o]|M[o+1]<<8|M[o+2]<<16,this.words[w]|=A<<U&67108863,this.words[w+1]=A>>>26-U&67108863,U+=24,U>=26&&(U-=26,w++);return this.strip()};function h(X,M){var G=X.charCodeAt(M);return G>=65&&G<=70?G-55:G>=97&&G<=102?G-87:G-48&15}function p(X,M,G){var C=h(X,G);return G-1>=M&&(C|=h(X,G-1)<<4),C}c.prototype._parseHex=function(M,G,C){this.length=Math.ceil((M.length-G)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var w=0,A=0,U;if(C==="be")for(o=M.length-1;o>=G;o-=2)U=p(M,G,o)<<w,this.words[A]|=U&67108863,w>=18?(w-=18,A+=1,this.words[A]|=U>>>26):w+=8;else{var $=M.length-G;for(o=$%2==0?G+1:G;o<M.length;o+=2)U=p(M,G,o)<<w,this.words[A]|=U&67108863,w>=18?(w-=18,A+=1,this.words[A]|=U>>>26):w+=8}this.strip()};function _(X,M,G,C){for(var o=0,w=Math.min(X.length,G),A=M;A<w;A++){var U=X.charCodeAt(A)-48;o*=C,U>=49?o+=U-49+10:U>=17?o+=U-17+10:o+=U}return o}c.prototype._parseBase=function(M,G,C){this.words=[0],this.length=1;for(var o=0,w=1;w<=67108863;w*=G)o++;o--,w=w/G|0;for(var A=M.length-C,U=A%o,$=Math.min(A,A-U)+C,B=0,Z=C;Z<$;Z+=o)B=_(M,Z,Z+o,G),this.imuln(w),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(U!==0){var te=1;for(B=_(M,Z,M.length,G),Z=0;Z<U;Z++)te*=G;this.imuln(te),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this.strip()},c.prototype.copy=function(M){M.words=new Array(this.length);for(var G=0;G<this.length;G++)M.words[G]=this.words[G];M.length=this.length,M.negative=this.negative,M.red=this.red},c.prototype.clone=function(){var M=new c(null);return this.copy(M),M},c.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(M,G){M=M||10,G=G|0||1;var C;if(M===16||M==="hex"){C="";for(var o=0,w=0,A=0;A<this.length;A++){var U=this.words[A],$=((U<<o|w)&16777215).toString(16);w=U>>>24-o&16777215,w!==0||A!==this.length-1?C=b[6-$.length]+$+C:C=$+C,o+=2,o>=26&&(o-=26,A--)}for(w!==0&&(C=w.toString(16)+C);C.length%G!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(M===(M|0)&&M>=2&&M<=36){var B=u[M],Z=f[M];C="";var te=this.clone();for(te.negative=0;!te.isZero();){var L=te.modn(Z).toString(M);te=te.idivn(Z),te.isZero()?C=L+C:C=b[B-L.length]+L+C}for(this.isZero()&&(C="0"+C);C.length%G!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}N(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=this.words[1]*67108864:this.length===3&&this.words[2]===1?M+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(M,G){return N(typeof l!="undefined"),this.toArrayLike(l,M,G)},c.prototype.toArray=function(M,G){return this.toArrayLike(Array,M,G)},c.prototype.toArrayLike=function(M,G,C){var o=this.byteLength(),w=C||Math.max(1,o);N(o<=w,"byte array longer than desired length"),N(w>0,"Requested array length <= 0"),this.strip();var A=G==="le",U=new M(w),$,B,Z=this.clone();if(A){for(B=0;!Z.isZero();B++)$=Z.andln(255),Z.iushrn(8),U[B]=$;for(;B<w;B++)U[B]=0}else{for(B=0;B<w-o;B++)U[B]=0;for(B=0;!Z.isZero();B++)$=Z.andln(255),Z.iushrn(8),U[w-B-1]=$}return U},Math.clz32?c.prototype._countBits=function(M){return 32-Math.clz32(M)}:c.prototype._countBits=function(M){var G=M,C=0;return G>=4096&&(C+=13,G>>>=13),G>=64&&(C+=7,G>>>=7),G>=8&&(C+=4,G>>>=4),G>=2&&(C+=2,G>>>=2),C+G},c.prototype._zeroBits=function(M){if(M===0)return 26;var G=M,C=0;return(G&8191)==0&&(C+=13,G>>>=13),(G&127)==0&&(C+=7,G>>>=7),(G&15)==0&&(C+=4,G>>>=4),(G&3)==0&&(C+=2,G>>>=2),(G&1)==0&&C++,C},c.prototype.bitLength=function(){var M=this.words[this.length-1],G=this._countBits(M);return(this.length-1)*26+G};function m(X){for(var M=new Array(X.bitLength()),G=0;G<M.length;G++){var C=G/26|0,o=G%26;M[G]=(X.words[C]&1<<o)>>>o}return M}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,G=0;G<this.length;G++){var C=this._zeroBits(this.words[G]);if(M+=C,C!==26)break}return M},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},c.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var G=0;G<M.length;G++)this.words[G]=this.words[G]|M.words[G];return this.strip()},c.prototype.ior=function(M){return N((this.negative|M.negative)==0),this.iuor(M)},c.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},c.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},c.prototype.iuand=function(M){var G;this.length>M.length?G=M:G=this;for(var C=0;C<G.length;C++)this.words[C]=this.words[C]&M.words[C];return this.length=G.length,this.strip()},c.prototype.iand=function(M){return N((this.negative|M.negative)==0),this.iuand(M)},c.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},c.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},c.prototype.iuxor=function(M){var G,C;this.length>M.length?(G=this,C=M):(G=M,C=this);for(var o=0;o<C.length;o++)this.words[o]=G.words[o]^C.words[o];if(this!==G)for(;o<G.length;o++)this.words[o]=G.words[o];return this.length=G.length,this.strip()},c.prototype.ixor=function(M){return N((this.negative|M.negative)==0),this.iuxor(M)},c.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},c.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},c.prototype.inotn=function(M){N(typeof M=="number"&&M>=0);var G=Math.ceil(M/26)|0,C=M%26;this._expand(G),C>0&&G--;for(var o=0;o<G;o++)this.words[o]=~this.words[o]&67108863;return C>0&&(this.words[o]=~this.words[o]&67108863>>26-C),this.strip()},c.prototype.notn=function(M){return this.clone().inotn(M)},c.prototype.setn=function(M,G){N(typeof M=="number"&&M>=0);var C=M/26|0,o=M%26;return this._expand(C+1),G?this.words[C]=this.words[C]|1<<o:this.words[C]=this.words[C]&~(1<<o),this.strip()},c.prototype.iadd=function(M){var G;if(this.negative!==0&&M.negative===0)return this.negative=0,G=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,G=this.isub(M),M.negative=1,G._normSign();var C,o;this.length>M.length?(C=this,o=M):(C=M,o=this);for(var w=0,A=0;A<o.length;A++)G=(C.words[A]|0)+(o.words[A]|0)+w,this.words[A]=G&67108863,w=G>>>26;for(;w!==0&&A<C.length;A++)G=(C.words[A]|0)+w,this.words[A]=G&67108863,w=G>>>26;if(this.length=C.length,w!==0)this.words[this.length]=w,this.length++;else if(C!==this)for(;A<C.length;A++)this.words[A]=C.words[A];return this},c.prototype.add=function(M){var G;return M.negative!==0&&this.negative===0?(M.negative=0,G=this.sub(M),M.negative^=1,G):M.negative===0&&this.negative!==0?(this.negative=0,G=M.sub(this),this.negative=1,G):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},c.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var G=this.iadd(M);return M.negative=1,G._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var C=this.cmp(M);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;var o,w;C>0?(o=this,w=M):(o=M,w=this);for(var A=0,U=0;U<w.length;U++)G=(o.words[U]|0)-(w.words[U]|0)+A,A=G>>26,this.words[U]=G&67108863;for(;A!==0&&U<o.length;U++)G=(o.words[U]|0)+A,A=G>>26,this.words[U]=G&67108863;if(A===0&&U<o.length&&o!==this)for(;U<o.length;U++)this.words[U]=o.words[U];return this.length=Math.max(this.length,U),o!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(M){return this.clone().isub(M)};function g(X,M,G){G.negative=M.negative^X.negative;var C=X.length+M.length|0;G.length=C,C=C-1|0;var o=X.words[0]|0,w=M.words[0]|0,A=o*w,U=A&67108863,$=A/67108864|0;G.words[0]=U;for(var B=1;B<C;B++){for(var Z=$>>>26,te=$&67108863,L=Math.min(B,M.length-1),re=Math.max(0,B-X.length+1);re<=L;re++){var Le=B-re|0;o=X.words[Le]|0,w=M.words[re]|0,A=o*w+te,Z+=A/67108864|0,te=A&67108863}G.words[B]=te|0,$=Z|0}return $!==0?G.words[B]=$|0:G.length--,G.strip()}var v=function(M,G,C){var o=M.words,w=G.words,A=C.words,U=0,$,B,Z,te=o[0]|0,L=te&8191,re=te>>>13,Le=o[1]|0,_e=Le&8191,Ce=Le>>>13,Me=o[2]|0,J=Me&8191,ee=Me>>>13,ce=o[3]|0,me=ce&8191,Se=ce>>>13,O=o[4]|0,I=O&8191,se=O>>>13,ve=o[5]|0,we=ve&8191,ge=ve>>>13,xe=o[6]|0,Ge=xe&8191,ze=xe>>>13,Et=o[7]|0,tt=Et&8191,at=Et>>>13,Tt=o[8]|0,ue=Tt&8191,Q=Tt>>>13,ae=o[9]|0,be=ae&8191,De=ae>>>13,Ke=w[0]|0,Ue=Ke&8191,et=Ke>>>13,qt=w[1]|0,ot=qt&8191,ut=qt>>>13,bt=w[2]|0,Xe=bt&8191,_t=bt>>>13,vi=w[3]|0,kt=vi&8191,Nt=vi>>>13,zi=w[4]|0,It=zi&8191,Ht=zi>>>13,jn=w[5]|0,Yt=jn&8191,jt=jn>>>13,Ln=w[6]|0,Kt=Ln&8191,Zt=Ln>>>13,Ji=w[7]|0,Oe=Ji&8191,We=Ji>>>13,wt=w[8]|0,ct=wt&8191,gt=wt>>>13,si=w[9]|0,xt=si&8191,Ut=si>>>13;C.negative=M.negative^G.negative,C.length=19,$=Math.imul(L,Ue),B=Math.imul(L,et),B=B+Math.imul(re,Ue)|0,Z=Math.imul(re,et);var Ft=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,$=Math.imul(_e,Ue),B=Math.imul(_e,et),B=B+Math.imul(Ce,Ue)|0,Z=Math.imul(Ce,et),$=$+Math.imul(L,ot)|0,B=B+Math.imul(L,ut)|0,B=B+Math.imul(re,ot)|0,Z=Z+Math.imul(re,ut)|0;var pt=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(pt>>>26)|0,pt&=67108863,$=Math.imul(J,Ue),B=Math.imul(J,et),B=B+Math.imul(ee,Ue)|0,Z=Math.imul(ee,et),$=$+Math.imul(_e,ot)|0,B=B+Math.imul(_e,ut)|0,B=B+Math.imul(Ce,ot)|0,Z=Z+Math.imul(Ce,ut)|0,$=$+Math.imul(L,Xe)|0,B=B+Math.imul(L,_t)|0,B=B+Math.imul(re,Xe)|0,Z=Z+Math.imul(re,_t)|0;var St=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(St>>>26)|0,St&=67108863,$=Math.imul(me,Ue),B=Math.imul(me,et),B=B+Math.imul(Se,Ue)|0,Z=Math.imul(Se,et),$=$+Math.imul(J,ot)|0,B=B+Math.imul(J,ut)|0,B=B+Math.imul(ee,ot)|0,Z=Z+Math.imul(ee,ut)|0,$=$+Math.imul(_e,Xe)|0,B=B+Math.imul(_e,_t)|0,B=B+Math.imul(Ce,Xe)|0,Z=Z+Math.imul(Ce,_t)|0,$=$+Math.imul(L,kt)|0,B=B+Math.imul(L,Nt)|0,B=B+Math.imul(re,kt)|0,Z=Z+Math.imul(re,Nt)|0;var Mt=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,$=Math.imul(I,Ue),B=Math.imul(I,et),B=B+Math.imul(se,Ue)|0,Z=Math.imul(se,et),$=$+Math.imul(me,ot)|0,B=B+Math.imul(me,ut)|0,B=B+Math.imul(Se,ot)|0,Z=Z+Math.imul(Se,ut)|0,$=$+Math.imul(J,Xe)|0,B=B+Math.imul(J,_t)|0,B=B+Math.imul(ee,Xe)|0,Z=Z+Math.imul(ee,_t)|0,$=$+Math.imul(_e,kt)|0,B=B+Math.imul(_e,Nt)|0,B=B+Math.imul(Ce,kt)|0,Z=Z+Math.imul(Ce,Nt)|0,$=$+Math.imul(L,It)|0,B=B+Math.imul(L,Ht)|0,B=B+Math.imul(re,It)|0,Z=Z+Math.imul(re,Ht)|0;var mi=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(mi>>>26)|0,mi&=67108863,$=Math.imul(we,Ue),B=Math.imul(we,et),B=B+Math.imul(ge,Ue)|0,Z=Math.imul(ge,et),$=$+Math.imul(I,ot)|0,B=B+Math.imul(I,ut)|0,B=B+Math.imul(se,ot)|0,Z=Z+Math.imul(se,ut)|0,$=$+Math.imul(me,Xe)|0,B=B+Math.imul(me,_t)|0,B=B+Math.imul(Se,Xe)|0,Z=Z+Math.imul(Se,_t)|0,$=$+Math.imul(J,kt)|0,B=B+Math.imul(J,Nt)|0,B=B+Math.imul(ee,kt)|0,Z=Z+Math.imul(ee,Nt)|0,$=$+Math.imul(_e,It)|0,B=B+Math.imul(_e,Ht)|0,B=B+Math.imul(Ce,It)|0,Z=Z+Math.imul(Ce,Ht)|0,$=$+Math.imul(L,Yt)|0,B=B+Math.imul(L,jt)|0,B=B+Math.imul(re,Yt)|0,Z=Z+Math.imul(re,jt)|0;var ii=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(ii>>>26)|0,ii&=67108863,$=Math.imul(Ge,Ue),B=Math.imul(Ge,et),B=B+Math.imul(ze,Ue)|0,Z=Math.imul(ze,et),$=$+Math.imul(we,ot)|0,B=B+Math.imul(we,ut)|0,B=B+Math.imul(ge,ot)|0,Z=Z+Math.imul(ge,ut)|0,$=$+Math.imul(I,Xe)|0,B=B+Math.imul(I,_t)|0,B=B+Math.imul(se,Xe)|0,Z=Z+Math.imul(se,_t)|0,$=$+Math.imul(me,kt)|0,B=B+Math.imul(me,Nt)|0,B=B+Math.imul(Se,kt)|0,Z=Z+Math.imul(Se,Nt)|0,$=$+Math.imul(J,It)|0,B=B+Math.imul(J,Ht)|0,B=B+Math.imul(ee,It)|0,Z=Z+Math.imul(ee,Ht)|0,$=$+Math.imul(_e,Yt)|0,B=B+Math.imul(_e,jt)|0,B=B+Math.imul(Ce,Yt)|0,Z=Z+Math.imul(Ce,jt)|0,$=$+Math.imul(L,Kt)|0,B=B+Math.imul(L,Zt)|0,B=B+Math.imul(re,Kt)|0,Z=Z+Math.imul(re,Zt)|0;var Lt=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,$=Math.imul(tt,Ue),B=Math.imul(tt,et),B=B+Math.imul(at,Ue)|0,Z=Math.imul(at,et),$=$+Math.imul(Ge,ot)|0,B=B+Math.imul(Ge,ut)|0,B=B+Math.imul(ze,ot)|0,Z=Z+Math.imul(ze,ut)|0,$=$+Math.imul(we,Xe)|0,B=B+Math.imul(we,_t)|0,B=B+Math.imul(ge,Xe)|0,Z=Z+Math.imul(ge,_t)|0,$=$+Math.imul(I,kt)|0,B=B+Math.imul(I,Nt)|0,B=B+Math.imul(se,kt)|0,Z=Z+Math.imul(se,Nt)|0,$=$+Math.imul(me,It)|0,B=B+Math.imul(me,Ht)|0,B=B+Math.imul(Se,It)|0,Z=Z+Math.imul(Se,Ht)|0,$=$+Math.imul(J,Yt)|0,B=B+Math.imul(J,jt)|0,B=B+Math.imul(ee,Yt)|0,Z=Z+Math.imul(ee,jt)|0,$=$+Math.imul(_e,Kt)|0,B=B+Math.imul(_e,Zt)|0,B=B+Math.imul(Ce,Kt)|0,Z=Z+Math.imul(Ce,Zt)|0,$=$+Math.imul(L,Oe)|0,B=B+Math.imul(L,We)|0,B=B+Math.imul(re,Oe)|0,Z=Z+Math.imul(re,We)|0;var ai=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(ai>>>26)|0,ai&=67108863,$=Math.imul(ue,Ue),B=Math.imul(ue,et),B=B+Math.imul(Q,Ue)|0,Z=Math.imul(Q,et),$=$+Math.imul(tt,ot)|0,B=B+Math.imul(tt,ut)|0,B=B+Math.imul(at,ot)|0,Z=Z+Math.imul(at,ut)|0,$=$+Math.imul(Ge,Xe)|0,B=B+Math.imul(Ge,_t)|0,B=B+Math.imul(ze,Xe)|0,Z=Z+Math.imul(ze,_t)|0,$=$+Math.imul(we,kt)|0,B=B+Math.imul(we,Nt)|0,B=B+Math.imul(ge,kt)|0,Z=Z+Math.imul(ge,Nt)|0,$=$+Math.imul(I,It)|0,B=B+Math.imul(I,Ht)|0,B=B+Math.imul(se,It)|0,Z=Z+Math.imul(se,Ht)|0,$=$+Math.imul(me,Yt)|0,B=B+Math.imul(me,jt)|0,B=B+Math.imul(Se,Yt)|0,Z=Z+Math.imul(Se,jt)|0,$=$+Math.imul(J,Kt)|0,B=B+Math.imul(J,Zt)|0,B=B+Math.imul(ee,Kt)|0,Z=Z+Math.imul(ee,Zt)|0,$=$+Math.imul(_e,Oe)|0,B=B+Math.imul(_e,We)|0,B=B+Math.imul(Ce,Oe)|0,Z=Z+Math.imul(Ce,We)|0,$=$+Math.imul(L,ct)|0,B=B+Math.imul(L,gt)|0,B=B+Math.imul(re,ct)|0,Z=Z+Math.imul(re,gt)|0;var gi=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(gi>>>26)|0,gi&=67108863,$=Math.imul(be,Ue),B=Math.imul(be,et),B=B+Math.imul(De,Ue)|0,Z=Math.imul(De,et),$=$+Math.imul(ue,ot)|0,B=B+Math.imul(ue,ut)|0,B=B+Math.imul(Q,ot)|0,Z=Z+Math.imul(Q,ut)|0,$=$+Math.imul(tt,Xe)|0,B=B+Math.imul(tt,_t)|0,B=B+Math.imul(at,Xe)|0,Z=Z+Math.imul(at,_t)|0,$=$+Math.imul(Ge,kt)|0,B=B+Math.imul(Ge,Nt)|0,B=B+Math.imul(ze,kt)|0,Z=Z+Math.imul(ze,Nt)|0,$=$+Math.imul(we,It)|0,B=B+Math.imul(we,Ht)|0,B=B+Math.imul(ge,It)|0,Z=Z+Math.imul(ge,Ht)|0,$=$+Math.imul(I,Yt)|0,B=B+Math.imul(I,jt)|0,B=B+Math.imul(se,Yt)|0,Z=Z+Math.imul(se,jt)|0,$=$+Math.imul(me,Kt)|0,B=B+Math.imul(me,Zt)|0,B=B+Math.imul(Se,Kt)|0,Z=Z+Math.imul(Se,Zt)|0,$=$+Math.imul(J,Oe)|0,B=B+Math.imul(J,We)|0,B=B+Math.imul(ee,Oe)|0,Z=Z+Math.imul(ee,We)|0,$=$+Math.imul(_e,ct)|0,B=B+Math.imul(_e,gt)|0,B=B+Math.imul(Ce,ct)|0,Z=Z+Math.imul(Ce,gt)|0,$=$+Math.imul(L,xt)|0,B=B+Math.imul(L,Ut)|0,B=B+Math.imul(re,xt)|0,Z=Z+Math.imul(re,Ut)|0;var Mi=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,$=Math.imul(be,ot),B=Math.imul(be,ut),B=B+Math.imul(De,ot)|0,Z=Math.imul(De,ut),$=$+Math.imul(ue,Xe)|0,B=B+Math.imul(ue,_t)|0,B=B+Math.imul(Q,Xe)|0,Z=Z+Math.imul(Q,_t)|0,$=$+Math.imul(tt,kt)|0,B=B+Math.imul(tt,Nt)|0,B=B+Math.imul(at,kt)|0,Z=Z+Math.imul(at,Nt)|0,$=$+Math.imul(Ge,It)|0,B=B+Math.imul(Ge,Ht)|0,B=B+Math.imul(ze,It)|0,Z=Z+Math.imul(ze,Ht)|0,$=$+Math.imul(we,Yt)|0,B=B+Math.imul(we,jt)|0,B=B+Math.imul(ge,Yt)|0,Z=Z+Math.imul(ge,jt)|0,$=$+Math.imul(I,Kt)|0,B=B+Math.imul(I,Zt)|0,B=B+Math.imul(se,Kt)|0,Z=Z+Math.imul(se,Zt)|0,$=$+Math.imul(me,Oe)|0,B=B+Math.imul(me,We)|0,B=B+Math.imul(Se,Oe)|0,Z=Z+Math.imul(Se,We)|0,$=$+Math.imul(J,ct)|0,B=B+Math.imul(J,gt)|0,B=B+Math.imul(ee,ct)|0,Z=Z+Math.imul(ee,gt)|0,$=$+Math.imul(_e,xt)|0,B=B+Math.imul(_e,Ut)|0,B=B+Math.imul(Ce,xt)|0,Z=Z+Math.imul(Ce,Ut)|0;var xi=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(xi>>>26)|0,xi&=67108863,$=Math.imul(be,Xe),B=Math.imul(be,_t),B=B+Math.imul(De,Xe)|0,Z=Math.imul(De,_t),$=$+Math.imul(ue,kt)|0,B=B+Math.imul(ue,Nt)|0,B=B+Math.imul(Q,kt)|0,Z=Z+Math.imul(Q,Nt)|0,$=$+Math.imul(tt,It)|0,B=B+Math.imul(tt,Ht)|0,B=B+Math.imul(at,It)|0,Z=Z+Math.imul(at,Ht)|0,$=$+Math.imul(Ge,Yt)|0,B=B+Math.imul(Ge,jt)|0,B=B+Math.imul(ze,Yt)|0,Z=Z+Math.imul(ze,jt)|0,$=$+Math.imul(we,Kt)|0,B=B+Math.imul(we,Zt)|0,B=B+Math.imul(ge,Kt)|0,Z=Z+Math.imul(ge,Zt)|0,$=$+Math.imul(I,Oe)|0,B=B+Math.imul(I,We)|0,B=B+Math.imul(se,Oe)|0,Z=Z+Math.imul(se,We)|0,$=$+Math.imul(me,ct)|0,B=B+Math.imul(me,gt)|0,B=B+Math.imul(Se,ct)|0,Z=Z+Math.imul(Se,gt)|0,$=$+Math.imul(J,xt)|0,B=B+Math.imul(J,Ut)|0,B=B+Math.imul(ee,xt)|0,Z=Z+Math.imul(ee,Ut)|0;var Wi=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,$=Math.imul(be,kt),B=Math.imul(be,Nt),B=B+Math.imul(De,kt)|0,Z=Math.imul(De,Nt),$=$+Math.imul(ue,It)|0,B=B+Math.imul(ue,Ht)|0,B=B+Math.imul(Q,It)|0,Z=Z+Math.imul(Q,Ht)|0,$=$+Math.imul(tt,Yt)|0,B=B+Math.imul(tt,jt)|0,B=B+Math.imul(at,Yt)|0,Z=Z+Math.imul(at,jt)|0,$=$+Math.imul(Ge,Kt)|0,B=B+Math.imul(Ge,Zt)|0,B=B+Math.imul(ze,Kt)|0,Z=Z+Math.imul(ze,Zt)|0,$=$+Math.imul(we,Oe)|0,B=B+Math.imul(we,We)|0,B=B+Math.imul(ge,Oe)|0,Z=Z+Math.imul(ge,We)|0,$=$+Math.imul(I,ct)|0,B=B+Math.imul(I,gt)|0,B=B+Math.imul(se,ct)|0,Z=Z+Math.imul(se,gt)|0,$=$+Math.imul(me,xt)|0,B=B+Math.imul(me,Ut)|0,B=B+Math.imul(Se,xt)|0,Z=Z+Math.imul(Se,Ut)|0;var Ui=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,$=Math.imul(be,It),B=Math.imul(be,Ht),B=B+Math.imul(De,It)|0,Z=Math.imul(De,Ht),$=$+Math.imul(ue,Yt)|0,B=B+Math.imul(ue,jt)|0,B=B+Math.imul(Q,Yt)|0,Z=Z+Math.imul(Q,jt)|0,$=$+Math.imul(tt,Kt)|0,B=B+Math.imul(tt,Zt)|0,B=B+Math.imul(at,Kt)|0,Z=Z+Math.imul(at,Zt)|0,$=$+Math.imul(Ge,Oe)|0,B=B+Math.imul(Ge,We)|0,B=B+Math.imul(ze,Oe)|0,Z=Z+Math.imul(ze,We)|0,$=$+Math.imul(we,ct)|0,B=B+Math.imul(we,gt)|0,B=B+Math.imul(ge,ct)|0,Z=Z+Math.imul(ge,gt)|0,$=$+Math.imul(I,xt)|0,B=B+Math.imul(I,Ut)|0,B=B+Math.imul(se,xt)|0,Z=Z+Math.imul(se,Ut)|0;var Ni=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,$=Math.imul(be,Yt),B=Math.imul(be,jt),B=B+Math.imul(De,Yt)|0,Z=Math.imul(De,jt),$=$+Math.imul(ue,Kt)|0,B=B+Math.imul(ue,Zt)|0,B=B+Math.imul(Q,Kt)|0,Z=Z+Math.imul(Q,Zt)|0,$=$+Math.imul(tt,Oe)|0,B=B+Math.imul(tt,We)|0,B=B+Math.imul(at,Oe)|0,Z=Z+Math.imul(at,We)|0,$=$+Math.imul(Ge,ct)|0,B=B+Math.imul(Ge,gt)|0,B=B+Math.imul(ze,ct)|0,Z=Z+Math.imul(ze,gt)|0,$=$+Math.imul(we,xt)|0,B=B+Math.imul(we,Ut)|0,B=B+Math.imul(ge,xt)|0,Z=Z+Math.imul(ge,Ut)|0;var Oi=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,$=Math.imul(be,Kt),B=Math.imul(be,Zt),B=B+Math.imul(De,Kt)|0,Z=Math.imul(De,Zt),$=$+Math.imul(ue,Oe)|0,B=B+Math.imul(ue,We)|0,B=B+Math.imul(Q,Oe)|0,Z=Z+Math.imul(Q,We)|0,$=$+Math.imul(tt,ct)|0,B=B+Math.imul(tt,gt)|0,B=B+Math.imul(at,ct)|0,Z=Z+Math.imul(at,gt)|0,$=$+Math.imul(Ge,xt)|0,B=B+Math.imul(Ge,Ut)|0,B=B+Math.imul(ze,xt)|0,Z=Z+Math.imul(ze,Ut)|0;var Vt=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,$=Math.imul(be,Oe),B=Math.imul(be,We),B=B+Math.imul(De,Oe)|0,Z=Math.imul(De,We),$=$+Math.imul(ue,ct)|0,B=B+Math.imul(ue,gt)|0,B=B+Math.imul(Q,ct)|0,Z=Z+Math.imul(Q,gt)|0,$=$+Math.imul(tt,xt)|0,B=B+Math.imul(tt,Ut)|0,B=B+Math.imul(at,xt)|0,Z=Z+Math.imul(at,Ut)|0;var ri=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(ri>>>26)|0,ri&=67108863,$=Math.imul(be,ct),B=Math.imul(be,gt),B=B+Math.imul(De,ct)|0,Z=Math.imul(De,gt),$=$+Math.imul(ue,xt)|0,B=B+Math.imul(ue,Ut)|0,B=B+Math.imul(Q,xt)|0,Z=Z+Math.imul(Q,Ut)|0;var Ri=(U+$|0)+((B&8191)<<13)|0;U=(Z+(B>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,$=Math.imul(be,xt),B=Math.imul(be,Ut),B=B+Math.imul(De,xt)|0,Z=Math.imul(De,Ut);var Hi=(U+$|0)+((B&8191)<<13)|0;return U=(Z+(B>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,A[0]=Ft,A[1]=pt,A[2]=St,A[3]=Mt,A[4]=mi,A[5]=ii,A[6]=Lt,A[7]=ai,A[8]=gi,A[9]=Mi,A[10]=xi,A[11]=Wi,A[12]=Ui,A[13]=Ni,A[14]=Oi,A[15]=Vt,A[16]=ri,A[17]=Ri,A[18]=Hi,U!==0&&(A[19]=U,C.length++),C};Math.imul||(v=g);function T(X,M,G){G.negative=M.negative^X.negative,G.length=X.length+M.length;for(var C=0,o=0,w=0;w<G.length-1;w++){var A=o;o=0;for(var U=C&67108863,$=Math.min(w,M.length-1),B=Math.max(0,w-X.length+1);B<=$;B++){var Z=w-B,te=X.words[Z]|0,L=M.words[B]|0,re=te*L,Le=re&67108863;A=A+(re/67108864|0)|0,Le=Le+U|0,U=Le&67108863,A=A+(Le>>>26)|0,o+=A>>>26,A&=67108863}G.words[w]=U,C=A,A=o}return C!==0?G.words[w]=C:G.length--,G.strip()}function S(X,M,G){var C=new x;return C.mulp(X,M,G)}c.prototype.mulTo=function(M,G){var C,o=this.length+M.length;return this.length===10&&M.length===10?C=v(this,M,G):o<63?C=g(this,M,G):o<1024?C=T(this,M,G):C=S(this,M,G),C};function x(X,M){this.x=X,this.y=M}x.prototype.makeRBT=function(M){for(var G=new Array(M),C=c.prototype._countBits(M)-1,o=0;o<M;o++)G[o]=this.revBin(o,C,M);return G},x.prototype.revBin=function(M,G,C){if(M===0||M===C-1)return M;for(var o=0,w=0;w<G;w++)o|=(M&1)<<G-w-1,M>>=1;return o},x.prototype.permute=function(M,G,C,o,w,A){for(var U=0;U<A;U++)o[U]=G[M[U]],w[U]=C[M[U]]},x.prototype.transform=function(M,G,C,o,w,A){this.permute(A,M,G,C,o,w);for(var U=1;U<w;U<<=1)for(var $=U<<1,B=Math.cos(2*Math.PI/$),Z=Math.sin(2*Math.PI/$),te=0;te<w;te+=$)for(var L=B,re=Z,Le=0;Le<U;Le++){var _e=C[te+Le],Ce=o[te+Le],Me=C[te+Le+U],J=o[te+Le+U],ee=L*Me-re*J;J=L*J+re*Me,Me=ee,C[te+Le]=_e+Me,o[te+Le]=Ce+J,C[te+Le+U]=_e-Me,o[te+Le+U]=Ce-J,Le!==$&&(ee=B*L-Z*re,re=B*re+Z*L,L=ee)}},x.prototype.guessLen13b=function(M,G){var C=Math.max(G,M)|1,o=C&1,w=0;for(C=C/2|0;C;C=C>>>1)w++;return 1<<w+1+o},x.prototype.conjugate=function(M,G,C){if(!(C<=1))for(var o=0;o<C/2;o++){var w=M[o];M[o]=M[C-o-1],M[C-o-1]=w,w=G[o],G[o]=-G[C-o-1],G[C-o-1]=-w}},x.prototype.normalize13b=function(M,G){for(var C=0,o=0;o<G/2;o++){var w=Math.round(M[2*o+1]/G)*8192+Math.round(M[2*o]/G)+C;M[o]=w&67108863,w<67108864?C=0:C=w/67108864|0}return M},x.prototype.convert13b=function(M,G,C,o){for(var w=0,A=0;A<G;A++)w=w+(M[A]|0),C[2*A]=w&8191,w=w>>>13,C[2*A+1]=w&8191,w=w>>>13;for(A=2*G;A<o;++A)C[A]=0;N(w===0),N((w&~8191)==0)},x.prototype.stub=function(M){for(var G=new Array(M),C=0;C<M;C++)G[C]=0;return G},x.prototype.mulp=function(M,G,C){var o=2*this.guessLen13b(M.length,G.length),w=this.makeRBT(o),A=this.stub(o),U=new Array(o),$=new Array(o),B=new Array(o),Z=new Array(o),te=new Array(o),L=new Array(o),re=C.words;re.length=o,this.convert13b(M.words,M.length,U,o),this.convert13b(G.words,G.length,Z,o),this.transform(U,A,$,B,o,w),this.transform(Z,A,te,L,o,w);for(var Le=0;Le<o;Le++){var _e=$[Le]*te[Le]-B[Le]*L[Le];B[Le]=$[Le]*L[Le]+B[Le]*te[Le],$[Le]=_e}return this.conjugate($,B,o),this.transform($,B,re,A,o,w),this.conjugate(re,A,o),this.normalize13b(re,o),C.negative=M.negative^G.negative,C.length=M.length+G.length,C.strip()},c.prototype.mul=function(M){var G=new c(null);return G.words=new Array(this.length+M.length),this.mulTo(M,G)},c.prototype.mulf=function(M){var G=new c(null);return G.words=new Array(this.length+M.length),S(this,M,G)},c.prototype.imul=function(M){return this.clone().mulTo(M,this)},c.prototype.imuln=function(M){N(typeof M=="number"),N(M<67108864);for(var G=0,C=0;C<this.length;C++){var o=(this.words[C]|0)*M,w=(o&67108863)+(G&67108863);G>>=26,G+=o/67108864|0,G+=w>>>26,this.words[C]=w&67108863}return G!==0&&(this.words[C]=G,this.length++),this},c.prototype.muln=function(M){return this.clone().imuln(M)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(M){var G=m(M);if(G.length===0)return new c(1);for(var C=this,o=0;o<G.length&&G[o]===0;o++,C=C.sqr());if(++o<G.length)for(var w=C.sqr();o<G.length;o++,w=w.sqr())G[o]!==0&&(C=C.mul(w));return C},c.prototype.iushln=function(M){N(typeof M=="number"&&M>=0);var G=M%26,C=(M-G)/26,o=67108863>>>26-G<<26-G,w;if(G!==0){var A=0;for(w=0;w<this.length;w++){var U=this.words[w]&o,$=(this.words[w]|0)-U<<G;this.words[w]=$|A,A=U>>>26-G}A&&(this.words[w]=A,this.length++)}if(C!==0){for(w=this.length-1;w>=0;w--)this.words[w+C]=this.words[w];for(w=0;w<C;w++)this.words[w]=0;this.length+=C}return this.strip()},c.prototype.ishln=function(M){return N(this.negative===0),this.iushln(M)},c.prototype.iushrn=function(M,G,C){N(typeof M=="number"&&M>=0);var o;G?o=(G-G%26)/26:o=0;var w=M%26,A=Math.min((M-w)/26,this.length),U=67108863^67108863>>>w<<w,$=C;if(o-=A,o=Math.max(0,o),$){for(var B=0;B<A;B++)$.words[B]=this.words[B];$.length=A}if(A!==0)if(this.length>A)for(this.length-=A,B=0;B<this.length;B++)this.words[B]=this.words[B+A];else this.words[0]=0,this.length=1;var Z=0;for(B=this.length-1;B>=0&&(Z!==0||B>=o);B--){var te=this.words[B]|0;this.words[B]=Z<<26-w|te>>>w,Z=te&U}return $&&Z!==0&&($.words[$.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(M,G,C){return N(this.negative===0),this.iushrn(M,G,C)},c.prototype.shln=function(M){return this.clone().ishln(M)},c.prototype.ushln=function(M){return this.clone().iushln(M)},c.prototype.shrn=function(M){return this.clone().ishrn(M)},c.prototype.ushrn=function(M){return this.clone().iushrn(M)},c.prototype.testn=function(M){N(typeof M=="number"&&M>=0);var G=M%26,C=(M-G)/26,o=1<<G;if(this.length<=C)return!1;var w=this.words[C];return!!(w&o)},c.prototype.imaskn=function(M){N(typeof M=="number"&&M>=0);var G=M%26,C=(M-G)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(G!==0&&C++,this.length=Math.min(C,this.length),G!==0){var o=67108863^67108863>>>G<<G;this.words[this.length-1]&=o}return this.strip()},c.prototype.maskn=function(M){return this.clone().imaskn(M)},c.prototype.iaddn=function(M){return N(typeof M=="number"),N(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(this.words[0]|0)<M?(this.words[0]=M-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},c.prototype._iaddn=function(M){this.words[0]+=M;for(var G=0;G<this.length&&this.words[G]>=67108864;G++)this.words[G]-=67108864,G===this.length-1?this.words[G+1]=1:this.words[G+1]++;return this.length=Math.max(this.length,G+1),this},c.prototype.isubn=function(M){if(N(typeof M=="number"),N(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var G=0;G<this.length&&this.words[G]<0;G++)this.words[G]+=67108864,this.words[G+1]-=1;return this.strip()},c.prototype.addn=function(M){return this.clone().iaddn(M)},c.prototype.subn=function(M){return this.clone().isubn(M)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(M,G,C){var o=M.length+C,w;this._expand(o);var A,U=0;for(w=0;w<M.length;w++){A=(this.words[w+C]|0)+U;var $=(M.words[w]|0)*G;A-=$&67108863,U=(A>>26)-($/67108864|0),this.words[w+C]=A&67108863}for(;w<this.length-C;w++)A=(this.words[w+C]|0)+U,U=A>>26,this.words[w+C]=A&67108863;if(U===0)return this.strip();for(N(U===-1),U=0,w=0;w<this.length;w++)A=-(this.words[w]|0)+U,U=A>>26,this.words[w]=A&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(M,G){var C=this.length-M.length,o=this.clone(),w=M,A=w.words[w.length-1]|0,U=this._countBits(A);C=26-U,C!==0&&(w=w.ushln(C),o.iushln(C),A=w.words[w.length-1]|0);var $=o.length-w.length,B;if(G!=="mod"){B=new c(null),B.length=$+1,B.words=new Array(B.length);for(var Z=0;Z<B.length;Z++)B.words[Z]=0}var te=o.clone()._ishlnsubmul(w,1,$);te.negative===0&&(o=te,B&&(B.words[$]=1));for(var L=$-1;L>=0;L--){var re=(o.words[w.length+L]|0)*67108864+(o.words[w.length+L-1]|0);for(re=Math.min(re/A|0,67108863),o._ishlnsubmul(w,re,L);o.negative!==0;)re--,o.negative=0,o._ishlnsubmul(w,1,L),o.isZero()||(o.negative^=1);B&&(B.words[L]=re)}return B&&B.strip(),o.strip(),G!=="div"&&C!==0&&o.iushrn(C),{div:B||null,mod:o}},c.prototype.divmod=function(M,G,C){if(N(!M.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var o,w,A;return this.negative!==0&&M.negative===0?(A=this.neg().divmod(M,G),G!=="mod"&&(o=A.div.neg()),G!=="div"&&(w=A.mod.neg(),C&&w.negative!==0&&w.iadd(M)),{div:o,mod:w}):this.negative===0&&M.negative!==0?(A=this.divmod(M.neg(),G),G!=="mod"&&(o=A.div.neg()),{div:o,mod:A.mod}):(this.negative&M.negative)!=0?(A=this.neg().divmod(M.neg(),G),G!=="div"&&(w=A.mod.neg(),C&&w.negative!==0&&w.isub(M)),{div:A.div,mod:w}):M.length>this.length||this.cmp(M)<0?{div:new c(0),mod:this}:M.length===1?G==="div"?{div:this.divn(M.words[0]),mod:null}:G==="mod"?{div:null,mod:new c(this.modn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new c(this.modn(M.words[0]))}:this._wordDiv(M,G)},c.prototype.div=function(M){return this.divmod(M,"div",!1).div},c.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},c.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},c.prototype.divRound=function(M){var G=this.divmod(M);if(G.mod.isZero())return G.div;var C=G.div.negative!==0?G.mod.isub(M):G.mod,o=M.ushrn(1),w=M.andln(1),A=C.cmp(o);return A<0||w===1&&A===0?G.div:G.div.negative!==0?G.div.isubn(1):G.div.iaddn(1)},c.prototype.modn=function(M){N(M<=67108863);for(var G=(1<<26)%M,C=0,o=this.length-1;o>=0;o--)C=(G*C+(this.words[o]|0))%M;return C},c.prototype.idivn=function(M){N(M<=67108863);for(var G=0,C=this.length-1;C>=0;C--){var o=(this.words[C]|0)+G*67108864;this.words[C]=o/M|0,G=o%M}return this.strip()},c.prototype.divn=function(M){return this.clone().idivn(M)},c.prototype.egcd=function(M){N(M.negative===0),N(!M.isZero());var G=this,C=M.clone();G.negative!==0?G=G.umod(M):G=G.clone();for(var o=new c(1),w=new c(0),A=new c(0),U=new c(1),$=0;G.isEven()&&C.isEven();)G.iushrn(1),C.iushrn(1),++$;for(var B=C.clone(),Z=G.clone();!G.isZero();){for(var te=0,L=1;(G.words[0]&L)==0&&te<26;++te,L<<=1);if(te>0)for(G.iushrn(te);te-- >0;)(o.isOdd()||w.isOdd())&&(o.iadd(B),w.isub(Z)),o.iushrn(1),w.iushrn(1);for(var re=0,Le=1;(C.words[0]&Le)==0&&re<26;++re,Le<<=1);if(re>0)for(C.iushrn(re);re-- >0;)(A.isOdd()||U.isOdd())&&(A.iadd(B),U.isub(Z)),A.iushrn(1),U.iushrn(1);G.cmp(C)>=0?(G.isub(C),o.isub(A),w.isub(U)):(C.isub(G),A.isub(o),U.isub(w))}return{a:A,b:U,gcd:C.iushln($)}},c.prototype._invmp=function(M){N(M.negative===0),N(!M.isZero());var G=this,C=M.clone();G.negative!==0?G=G.umod(M):G=G.clone();for(var o=new c(1),w=new c(0),A=C.clone();G.cmpn(1)>0&&C.cmpn(1)>0;){for(var U=0,$=1;(G.words[0]&$)==0&&U<26;++U,$<<=1);if(U>0)for(G.iushrn(U);U-- >0;)o.isOdd()&&o.iadd(A),o.iushrn(1);for(var B=0,Z=1;(C.words[0]&Z)==0&&B<26;++B,Z<<=1);if(B>0)for(C.iushrn(B);B-- >0;)w.isOdd()&&w.iadd(A),w.iushrn(1);G.cmp(C)>=0?(G.isub(C),o.isub(w)):(C.isub(G),w.isub(o))}var te;return G.cmpn(1)===0?te=o:te=w,te.cmpn(0)<0&&te.iadd(M),te},c.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var G=this.clone(),C=M.clone();G.negative=0,C.negative=0;for(var o=0;G.isEven()&&C.isEven();o++)G.iushrn(1),C.iushrn(1);do{for(;G.isEven();)G.iushrn(1);for(;C.isEven();)C.iushrn(1);var w=G.cmp(C);if(w<0){var A=G;G=C,C=A}else if(w===0||C.cmpn(1)===0)break;G.isub(C)}while(!0);return C.iushln(o)},c.prototype.invm=function(M){return this.egcd(M).a.umod(M)},c.prototype.isEven=function(){return(this.words[0]&1)==0},c.prototype.isOdd=function(){return(this.words[0]&1)==1},c.prototype.andln=function(M){return this.words[0]&M},c.prototype.bincn=function(M){N(typeof M=="number");var G=M%26,C=(M-G)/26,o=1<<G;if(this.length<=C)return this._expand(C+1),this.words[C]|=o,this;for(var w=o,A=C;w!==0&&A<this.length;A++){var U=this.words[A]|0;U+=w,w=U>>>26,U&=67108863,this.words[A]=U}return w!==0&&(this.words[A]=w,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(M){var G=M<0;if(this.negative!==0&&!G)return-1;if(this.negative===0&&G)return 1;this.strip();var C;if(this.length>1)C=1;else{G&&(M=-M),N(M<=67108863,"Number is too big");var o=this.words[0]|0;C=o===M?0:o<M?-1:1}return this.negative!==0?-C|0:C},c.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var G=this.ucmp(M);return this.negative!==0?-G|0:G},c.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var G=0,C=this.length-1;C>=0;C--){var o=this.words[C]|0,w=M.words[C]|0;if(o!==w){o<w?G=-1:o>w&&(G=1);break}}return G},c.prototype.gtn=function(M){return this.cmpn(M)===1},c.prototype.gt=function(M){return this.cmp(M)===1},c.prototype.gten=function(M){return this.cmpn(M)>=0},c.prototype.gte=function(M){return this.cmp(M)>=0},c.prototype.ltn=function(M){return this.cmpn(M)===-1},c.prototype.lt=function(M){return this.cmp(M)===-1},c.prototype.lten=function(M){return this.cmpn(M)<=0},c.prototype.lte=function(M){return this.cmp(M)<=0},c.prototype.eqn=function(M){return this.cmpn(M)===0},c.prototype.eq=function(M){return this.cmp(M)===0},c.red=function(M){return new Y(M)},c.prototype.toRed=function(M){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},c.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(M){return this.red=M,this},c.prototype.forceRed=function(M){return N(!this.red,"Already a number in reduction context"),this._forceRed(M)},c.prototype.redAdd=function(M){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},c.prototype.redIAdd=function(M){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},c.prototype.redSub=function(M){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},c.prototype.redISub=function(M){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},c.prototype.redShl=function(M){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},c.prototype.redMul=function(M){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},c.prototype.redIMul=function(M){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},c.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(M){return N(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var D={k256:null,p224:null,p192:null,p25519:null};function z(X,M){this.name=X,this.p=new c(M,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var M=new c(null);return M.words=new Array(Math.ceil(this.n/13)),M},z.prototype.ireduce=function(M){var G=M,C;do this.split(G,this.tmp),G=this.imulK(G),G=G.iadd(this.tmp),C=G.bitLength();while(C>this.n);var o=C<this.n?-1:G.ucmp(this.p);return o===0?(G.words[0]=0,G.length=1):o>0?G.isub(this.p):G.strip!==void 0?G.strip():G._strip(),G},z.prototype.split=function(M,G){M.iushrn(this.n,0,G)},z.prototype.imulK=function(M){return M.imul(this.k)};function q(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}k(q,z),q.prototype.split=function(M,G){for(var C=4194303,o=Math.min(M.length,9),w=0;w<o;w++)G.words[w]=M.words[w];if(G.length=o,M.length<=9){M.words[0]=0,M.length=1;return}var A=M.words[9];for(G.words[G.length++]=A&C,w=10;w<M.length;w++){var U=M.words[w]|0;M.words[w-10]=(U&C)<<4|A>>>22,A=U}A>>>=22,M.words[w-10]=A,A===0&&M.length>10?M.length-=10:M.length-=9},q.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var G=0,C=0;C<M.length;C++){var o=M.words[C]|0;G+=o*977,M.words[C]=G&67108863,G=o*64+(G/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M};function H(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}k(H,z);function j(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}k(j,z);function K(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}k(K,z),K.prototype.imulK=function(M){for(var G=0,C=0;C<M.length;C++){var o=(M.words[C]|0)*19+G,w=o&67108863;o>>>=26,M.words[C]=w,G=o}return G!==0&&(M.words[M.length++]=G),M},c._prime=function(M){if(D[M])return D[M];var G;if(M==="k256")G=new q;else if(M==="p224")G=new H;else if(M==="p192")G=new j;else if(M==="p25519")G=new K;else throw new Error("Unknown prime "+M);return D[M]=G,G};function Y(X){if(typeof X=="string"){var M=c._prime(X);this.m=M.p,this.prime=M}else N(X.gtn(1),"modulus must be greater than 1"),this.m=X,this.prime=null}Y.prototype._verify1=function(M){N(M.negative===0,"red works only with positives"),N(M.red,"red works only with red numbers")},Y.prototype._verify2=function(M,G){N((M.negative|G.negative)==0,"red works only with positives"),N(M.red&&M.red===G.red,"red works only with red numbers")},Y.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):M.umod(this.m)._forceRed(this)},Y.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},Y.prototype.add=function(M,G){this._verify2(M,G);var C=M.add(G);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},Y.prototype.iadd=function(M,G){this._verify2(M,G);var C=M.iadd(G);return C.cmp(this.m)>=0&&C.isub(this.m),C},Y.prototype.sub=function(M,G){this._verify2(M,G);var C=M.sub(G);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},Y.prototype.isub=function(M,G){this._verify2(M,G);var C=M.isub(G);return C.cmpn(0)<0&&C.iadd(this.m),C},Y.prototype.shl=function(M,G){return this._verify1(M),this.imod(M.ushln(G))},Y.prototype.imul=function(M,G){return this._verify2(M,G),this.imod(M.imul(G))},Y.prototype.mul=function(M,G){return this._verify2(M,G),this.imod(M.mul(G))},Y.prototype.isqr=function(M){return this.imul(M,M.clone())},Y.prototype.sqr=function(M){return this.mul(M,M)},Y.prototype.sqrt=function(M){if(M.isZero())return M.clone();var G=this.m.andln(3);if(N(G%2==1),G===3){var C=this.m.add(new c(1)).iushrn(2);return this.pow(M,C)}for(var o=this.m.subn(1),w=0;!o.isZero()&&o.andln(1)===0;)w++,o.iushrn(1);N(!o.isZero());var A=new c(1).toRed(this),U=A.redNeg(),$=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new c(2*B*B).toRed(this);this.pow(B,$).cmp(U)!==0;)B.redIAdd(U);for(var Z=this.pow(B,o),te=this.pow(M,o.addn(1).iushrn(1)),L=this.pow(M,o),re=w;L.cmp(A)!==0;){for(var Le=L,_e=0;Le.cmp(A)!==0;_e++)Le=Le.redSqr();N(_e<re);var Ce=this.pow(Z,new c(1).iushln(re-_e-1));te=te.redMul(Ce),Z=Ce.redSqr(),L=L.redMul(Z),re=_e}return te},Y.prototype.invm=function(M){var G=M._invmp(this.m);return G.negative!==0?(G.negative=0,this.imod(G).redNeg()):this.imod(G)},Y.prototype.pow=function(M,G){if(G.isZero())return new c(1).toRed(this);if(G.cmpn(1)===0)return M.clone();var C=4,o=new Array(1<<C);o[0]=new c(1).toRed(this),o[1]=M;for(var w=2;w<o.length;w++)o[w]=this.mul(o[w-1],M);var A=o[0],U=0,$=0,B=G.bitLength()%26;for(B===0&&(B=26),w=G.length-1;w>=0;w--){for(var Z=G.words[w],te=B-1;te>=0;te--){var L=Z>>te&1;if(A!==o[0]&&(A=this.sqr(A)),L===0&&U===0){$=0;continue}U<<=1,U|=L,$++,!($!==C&&(w!==0||te!==0))&&(A=this.mul(A,o[U]),$=0,U=0)}B=26}return A},Y.prototype.convertTo=function(M){var G=M.umod(this.m);return G===M?G.clone():G},Y.prototype.convertFrom=function(M){var G=M.clone();return G.red=null,G},c.mont=function(M){return new ne(M)};function ne(X){Y.call(this,X),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k(ne,Y),ne.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},ne.prototype.convertFrom=function(M){var G=this.imod(M.mul(this.rinv));return G.red=null,G},ne.prototype.imul=function(M,G){if(M.isZero()||G.isZero())return M.words[0]=0,M.length=1,M;var C=M.imul(G),o=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=C.isub(o).iushrn(this.shift),A=w;return w.cmp(this.m)>=0?A=w.isub(this.m):w.cmpn(0)<0&&(A=w.iadd(this.m)),A._forceRed(this)},ne.prototype.mul=function(M,G){if(M.isZero()||G.isZero())return new c(0)._forceRed(this);var C=M.mul(G),o=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=C.isub(o).iushrn(this.shift),A=w;return w.cmp(this.m)>=0?A=w.isub(this.m):w.cmpn(0)<0&&(A=w.iadd(this.m)),A._forceRed(this)},ne.prototype.invm=function(M){var G=this.imod(M._invmp(this.m).mul(this.r2));return G._forceRed(this)}}(a,this)},15037:(a,V,E)=>{var R;a.exports=function(c){return R||(R=new P(null)),R.generate(c)};function P(k){this.rand=k}if(a.exports.Rand=P,P.prototype.generate=function(c){return this._rand(c)},P.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var l=new Uint8Array(c),h=0;h<l.length;h++)l[h]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?P.prototype._rand=function(c){var l=new Uint8Array(c);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?P.prototype._rand=function(c){var l=new Uint8Array(c);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(P.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var N=E(73776);if(typeof N.randomBytes!="function")throw new Error("Not supported");P.prototype._rand=function(c){return N.randomBytes(c)}}catch(k){}},50462:(a,V,E)=>{var R=E(92861).Buffer;function P(p){R.isBuffer(p)||(p=R.from(p));for(var _=p.length/4|0,b=new Array(_),u=0;u<_;u++)b[u]=p.readUInt32BE(u*4);return b}function N(p){for(var _=0;_<p.length;p++)p[_]=0}function k(p,_,b,u,f){for(var m=b[0],g=b[1],v=b[2],T=b[3],S=p[0]^_[0],x=p[1]^_[1],D=p[2]^_[2],z=p[3]^_[3],q,H,j,K,Y=4,ne=1;ne<f;ne++)q=m[S>>>24]^g[x>>>16&255]^v[D>>>8&255]^T[z&255]^_[Y++],H=m[x>>>24]^g[D>>>16&255]^v[z>>>8&255]^T[S&255]^_[Y++],j=m[D>>>24]^g[z>>>16&255]^v[S>>>8&255]^T[x&255]^_[Y++],K=m[z>>>24]^g[S>>>16&255]^v[x>>>8&255]^T[D&255]^_[Y++],S=q,x=H,D=j,z=K;return q=(u[S>>>24]<<24|u[x>>>16&255]<<16|u[D>>>8&255]<<8|u[z&255])^_[Y++],H=(u[x>>>24]<<24|u[D>>>16&255]<<16|u[z>>>8&255]<<8|u[S&255])^_[Y++],j=(u[D>>>24]<<24|u[z>>>16&255]<<16|u[S>>>8&255]<<8|u[x&255])^_[Y++],K=(u[z>>>24]<<24|u[S>>>16&255]<<16|u[x>>>8&255]<<8|u[D&255])^_[Y++],q=q>>>0,H=H>>>0,j=j>>>0,K=K>>>0,[q,H,j,K]}var c=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var p=new Array(256),_=0;_<256;_++)_<128?p[_]=_<<1:p[_]=_<<1^283;for(var b=[],u=[],f=[[],[],[],[]],m=[[],[],[],[]],g=0,v=0,T=0;T<256;++T){var S=v^v<<1^v<<2^v<<3^v<<4;S=S>>>8^S&255^99,b[g]=S,u[S]=g;var x=p[g],D=p[x],z=p[D],q=p[S]*257^S*16843008;f[0][g]=q<<24|q>>>8,f[1][g]=q<<16|q>>>16,f[2][g]=q<<8|q>>>24,f[3][g]=q,q=z*16843009^D*65537^x*257^g*16843008,m[0][S]=q<<24|q>>>8,m[1][S]=q<<16|q>>>16,m[2][S]=q<<8|q>>>24,m[3][S]=q,g===0?g=v=1:(g=x^p[p[p[z^x]]],v^=p[p[v]])}return{SBOX:b,INV_SBOX:u,SUB_MIX:f,INV_SUB_MIX:m}}();function h(p){this._key=P(p),this._reset()}h.blockSize=4*4,h.keySize=256/8,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var p=this._key,_=p.length,b=_+6,u=(b+1)*4,f=[],m=0;m<_;m++)f[m]=p[m];for(m=_;m<u;m++){var g=f[m-1];m%_==0?(g=g<<8|g>>>24,g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[g&255],g^=c[m/_|0]<<24):_>6&&m%_==4&&(g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[g&255]),f[m]=f[m-_]^g}for(var v=[],T=0;T<u;T++){var S=u-T,x=f[S-(T%4?0:4)];T<4||S<=4?v[T]=x:v[T]=l.INV_SUB_MIX[0][l.SBOX[x>>>24]]^l.INV_SUB_MIX[1][l.SBOX[x>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[x>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[x&255]]}this._nRounds=b,this._keySchedule=f,this._invKeySchedule=v},h.prototype.encryptBlockRaw=function(p){return p=P(p),k(p,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},h.prototype.encryptBlock=function(p){var _=this.encryptBlockRaw(p),b=R.allocUnsafe(16);return b.writeUInt32BE(_[0],0),b.writeUInt32BE(_[1],4),b.writeUInt32BE(_[2],8),b.writeUInt32BE(_[3],12),b},h.prototype.decryptBlock=function(p){p=P(p);var _=p[1];p[1]=p[3],p[3]=_;var b=k(p,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),u=R.allocUnsafe(16);return u.writeUInt32BE(b[0],0),u.writeUInt32BE(b[3],4),u.writeUInt32BE(b[2],8),u.writeUInt32BE(b[1],12),u},h.prototype.scrub=function(){N(this._keySchedule),N(this._invKeySchedule),N(this._key)},a.exports.AES=h},92356:(a,V,E)=>{var R=E(50462),P=E(92861).Buffer,N=E(56168),k=E(56698),c=E(25892),l=E(30295),h=E(45122);function p(u,f){var m=0;u.length!==f.length&&m++;for(var g=Math.min(u.length,f.length),v=0;v<g;++v)m+=u[v]^f[v];return m}function _(u,f,m){if(f.length===12)return u._finID=P.concat([f,P.from([0,0,0,1])]),P.concat([f,P.from([0,0,0,2])]);var g=new c(m),v=f.length,T=v%16;g.update(f),T&&(T=16-T,g.update(P.alloc(T,0))),g.update(P.alloc(8,0));var S=v*8,x=P.alloc(8);x.writeUIntBE(S,0,8),g.update(x),u._finID=g.state;var D=P.from(u._finID);return h(D),D}function b(u,f,m,g){N.call(this);var v=P.alloc(4,0);this._cipher=new R.AES(f);var T=this._cipher.encryptBlock(v);this._ghash=new c(T),m=_(this,m,T),this._prev=P.from(m),this._cache=P.allocUnsafe(0),this._secCache=P.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}k(b,N),b.prototype._update=function(u){if(!this._called&&this._alen){var f=16-this._alen%16;f<16&&(f=P.alloc(f,0),this._ghash.update(f))}this._called=!0;var m=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(m),this._len+=u.length,m},b.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=l(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&p(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},b.prototype.getAuthTag=function(){if(this._decrypt||!P.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},b.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},b.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},a.exports=b},1241:(a,V,E)=>{var R=E(25799),P=E(36171),N=E(3219);function k(){return Object.keys(N)}V.createCipher=V.Cipher=R.createCipher,V.createCipheriv=V.Cipheriv=R.createCipheriv,V.createDecipher=V.Decipher=P.createDecipher,V.createDecipheriv=V.Decipheriv=P.createDecipheriv,V.listCiphers=V.getCiphers=k},36171:(a,V,E)=>{var R=E(92356),P=E(92861).Buffer,N=E(530),k=E(50650),c=E(56168),l=E(50462),h=E(68078),p=E(56698);function _(g,v,T){c.call(this),this._cache=new b,this._last=void 0,this._cipher=new l.AES(v),this._prev=P.from(T),this._mode=g,this._autopadding=!0}p(_,c),_.prototype._update=function(g){this._cache.add(g);for(var v,T,S=[];v=this._cache.get(this._autopadding);)T=this._mode.decrypt(this,v),S.push(T);return P.concat(S)},_.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return u(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function b(){this.cache=P.allocUnsafe(0)}b.prototype.add=function(g){this.cache=P.concat([this.cache,g])},b.prototype.get=function(g){var v;if(g){if(this.cache.length>16)return v=this.cache.slice(0,16),this.cache=this.cache.slice(16),v}else if(this.cache.length>=16)return v=this.cache.slice(0,16),this.cache=this.cache.slice(16),v;return null},b.prototype.flush=function(){if(this.cache.length)return this.cache};function u(g){var v=g[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var T=-1;++T<v;)if(g[T+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return g.slice(0,16-v)}function f(g,v,T){var S=N[g.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof T=="string"&&(T=P.from(T)),S.mode!=="GCM"&&T.length!==S.iv)throw new TypeError("invalid iv length "+T.length);if(typeof v=="string"&&(v=P.from(v)),v.length!==S.key/8)throw new TypeError("invalid key length "+v.length);return S.type==="stream"?new k(S.module,v,T,!0):S.type==="auth"?new R(S.module,v,T,!0):new _(S.module,v,T)}function m(g,v){var T=N[g.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var S=h(v,!1,T.key,T.iv);return f(g,S.key,S.iv)}V.createDecipher=m,V.createDecipheriv=f},25799:(a,V,E)=>{var R=E(530),P=E(92356),N=E(92861).Buffer,k=E(50650),c=E(56168),l=E(50462),h=E(68078),p=E(56698);function _(g,v,T){c.call(this),this._cache=new u,this._cipher=new l.AES(v),this._prev=N.from(T),this._mode=g,this._autopadding=!0}p(_,c),_.prototype._update=function(g){this._cache.add(g);for(var v,T,S=[];v=this._cache.get();)T=this._mode.encrypt(this,v),S.push(T);return N.concat(S)};var b=N.alloc(16,16);_.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(b))throw this._cipher.scrub(),new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function u(){this.cache=N.allocUnsafe(0)}u.prototype.add=function(g){this.cache=N.concat([this.cache,g])},u.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},u.prototype.flush=function(){for(var g=16-this.cache.length,v=N.allocUnsafe(g),T=-1;++T<g;)v.writeUInt8(g,T);return N.concat([this.cache,v])};function f(g,v,T){var S=R[g.toLowerCase()];if(!S)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=N.from(v)),v.length!==S.key/8)throw new TypeError("invalid key length "+v.length);if(typeof T=="string"&&(T=N.from(T)),S.mode!=="GCM"&&T.length!==S.iv)throw new TypeError("invalid iv length "+T.length);return S.type==="stream"?new k(S.module,v,T):S.type==="auth"?new P(S.module,v,T):new _(S.module,v,T)}function m(g,v){var T=R[g.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var S=h(v,!1,T.key,T.iv);return f(g,S.key,S.iv)}V.createCipheriv=f,V.createCipher=m},25892:(a,V,E)=>{var R=E(92861).Buffer,P=R.alloc(16,0);function N(l){return[l.readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)]}function k(l){var h=R.allocUnsafe(16);return h.writeUInt32BE(l[0]>>>0,0),h.writeUInt32BE(l[1]>>>0,4),h.writeUInt32BE(l[2]>>>0,8),h.writeUInt32BE(l[3]>>>0,12),h}function c(l){this.h=l,this.state=R.alloc(16,0),this.cache=R.allocUnsafe(0)}c.prototype.ghash=function(l){for(var h=-1;++h<l.length;)this.state[h]^=l[h];this._multiply()},c.prototype._multiply=function(){for(var l=N(this.h),h=[0,0,0,0],p,_,b,u=-1;++u<128;){for(_=(this.state[~~(u/8)]&1<<7-u%8)!=0,_&&(h[0]^=l[0],h[1]^=l[1],h[2]^=l[2],h[3]^=l[3]),b=(l[3]&1)!=0,p=3;p>0;p--)l[p]=l[p]>>>1|(l[p-1]&1)<<31;l[0]=l[0]>>>1,b&&(l[0]=l[0]^225<<24)}this.state=k(h)},c.prototype.update=function(l){this.cache=R.concat([this.cache,l]);for(var h;this.cache.length>=16;)h=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(h)},c.prototype.final=function(l,h){return this.cache.length&&this.ghash(R.concat([this.cache,P],16)),this.ghash(k([0,l,0,h])),this.state},a.exports=c},45122:a=>{function V(E){for(var R=E.length,P;R--;)if(P=E.readUInt8(R),P===255)E.writeUInt8(0,R);else{P++,E.writeUInt8(P,R);break}}a.exports=V},92884:(a,V,E)=>{var R=E(30295);V.encrypt=function(P,N){var k=R(N,P._prev);return P._prev=P._cipher.encryptBlock(k),P._prev},V.decrypt=function(P,N){var k=P._prev;P._prev=N;var c=P._cipher.decryptBlock(N);return R(c,k)}},46383:(a,V,E)=>{var R=E(92861).Buffer,P=E(30295);function N(k,c,l){var h=c.length,p=P(c,k._cache);return k._cache=k._cache.slice(h),k._prev=R.concat([k._prev,l?c:p]),p}V.encrypt=function(k,c,l){for(var h=R.allocUnsafe(0),p;c.length;)if(k._cache.length===0&&(k._cache=k._cipher.encryptBlock(k._prev),k._prev=R.allocUnsafe(0)),k._cache.length<=c.length)p=k._cache.length,h=R.concat([h,N(k,c.slice(0,p),l)]),c=c.slice(p);else{h=R.concat([h,N(k,c,l)]);break}return h}},55264:(a,V,E)=>{var R=E(92861).Buffer;function P(k,c,l){for(var h,p=-1,_=8,b=0,u,f;++p<_;)h=k._cipher.encryptBlock(k._prev),u=c&1<<7-p?128:0,f=h[0]^u,b+=(f&128)>>p%8,k._prev=N(k._prev,l?u:f);return b}function N(k,c){var l=k.length,h=-1,p=R.allocUnsafe(k.length);for(k=R.concat([k,R.from([c])]);++h<l;)p[h]=k[h]<<1|k[h+1]>>7;return p}V.encrypt=function(k,c,l){for(var h=c.length,p=R.allocUnsafe(h),_=-1;++_<h;)p[_]=P(k,c[_],l);return p}},86975:(a,V,E)=>{var R=E(92861).Buffer;function P(N,k,c){var l=N._cipher.encryptBlock(N._prev),h=l[0]^k;return N._prev=R.concat([N._prev.slice(1),R.from([c?k:h])]),h}V.encrypt=function(N,k,c){for(var l=k.length,h=R.allocUnsafe(l),p=-1;++p<l;)h[p]=P(N,k[p],c);return h}},63053:(a,V,E)=>{var R=E(30295),P=E(92861).Buffer,N=E(45122);function k(l){var h=l._cipher.encryptBlockRaw(l._prev);return N(l._prev),h}var c=16;V.encrypt=function(l,h){var p=Math.ceil(h.length/c),_=l._cache.length;l._cache=P.concat([l._cache,P.allocUnsafe(p*c)]);for(var b=0;b<p;b++){var u=k(l),f=_+b*c;l._cache.writeUInt32BE(u[0],f+0),l._cache.writeUInt32BE(u[1],f+4),l._cache.writeUInt32BE(u[2],f+8),l._cache.writeUInt32BE(u[3],f+12)}var m=l._cache.slice(0,h.length);return l._cache=l._cache.slice(h.length),R(h,m)}},52632:(a,V)=>{V.encrypt=function(E,R){return E._cipher.encryptBlock(R)},V.decrypt=function(E,R){return E._cipher.decryptBlock(R)}},530:(a,V,E)=>{var R={ECB:E(52632),CBC:E(92884),CFB:E(46383),CFB8:E(86975),CFB1:E(55264),OFB:E(46843),CTR:E(63053),GCM:E(63053)},P=E(3219);for(var N in P)P[N].module=R[P[N].mode];a.exports=P},46843:(a,V,E)=>{var R=E(30295);function P(N){return N._prev=N._cipher.encryptBlock(N._prev),N._prev}V.encrypt=function(N,k){for(;N._cache.length<k.length;)N._cache=Buffer.concat([N._cache,P(N)]);var c=N._cache.slice(0,k.length);return N._cache=N._cache.slice(k.length),R(k,c)}},50650:(a,V,E)=>{var R=E(50462),P=E(92861).Buffer,N=E(56168),k=E(56698);function c(l,h,p,_){N.call(this),this._cipher=new R.AES(h),this._prev=P.from(p),this._cache=P.allocUnsafe(0),this._secCache=P.allocUnsafe(0),this._decrypt=_,this._mode=l}k(c,N),c.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},a.exports=c},30125:(a,V,E)=>{var R=E(84050),P=E(1241),N=E(530),k=E(32438),c=E(68078);function l(u,f){u=u.toLowerCase();var m,g;if(N[u])m=N[u].key,g=N[u].iv;else if(k[u])m=k[u].key*8,g=k[u].iv;else throw new TypeError("invalid suite type");var v=c(f,!1,m,g);return p(u,v.key,v.iv)}function h(u,f){u=u.toLowerCase();var m,g;if(N[u])m=N[u].key,g=N[u].iv;else if(k[u])m=k[u].key*8,g=k[u].iv;else throw new TypeError("invalid suite type");var v=c(f,!1,m,g);return _(u,v.key,v.iv)}function p(u,f,m){if(u=u.toLowerCase(),N[u])return P.createCipheriv(u,f,m);if(k[u])return new R({key:f,iv:m,mode:u});throw new TypeError("invalid suite type")}function _(u,f,m){if(u=u.toLowerCase(),N[u])return P.createDecipheriv(u,f,m);if(k[u])return new R({key:f,iv:m,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}function b(){return Object.keys(k).concat(P.getCiphers())}V.createCipher=V.Cipher=l,V.createCipheriv=V.Cipheriv=p,V.createDecipher=V.Decipher=h,V.createDecipheriv=V.Decipheriv=_,V.listCiphers=V.getCiphers=b},84050:(a,V,E)=>{var R=E(56168),P=E(29560),N=E(56698),k=E(92861).Buffer,c={"des-ede3-cbc":P.CBC.instantiate(P.EDE),"des-ede3":P.EDE,"des-ede-cbc":P.CBC.instantiate(P.EDE),"des-ede":P.EDE,"des-cbc":P.CBC.instantiate(P.DES),"des-ecb":P.DES};c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],a.exports=l,N(l,R);function l(h){R.call(this);var p=h.mode.toLowerCase(),_=c[p],b;h.decrypt?b="decrypt":b="encrypt";var u=h.key;k.isBuffer(u)||(u=k.from(u)),(p==="des-ede"||p==="des-ede-cbc")&&(u=k.concat([u,u.slice(0,8)]));var f=h.iv;k.isBuffer(f)||(f=k.from(f)),this._des=_.create({key:u,iv:f,type:b})}l.prototype._update=function(h){return k.from(this._des.update(h))},l.prototype._final=function(){return k.from(this._des.final())}},32438:(a,V)=>{V["des-ecb"]={key:8,iv:0},V["des-cbc"]=V.des={key:8,iv:8},V["des-ede3-cbc"]=V.des3={key:24,iv:8},V["des-ede3"]={key:24,iv:0},V["des-ede-cbc"]={key:16,iv:8},V["des-ede"]={key:16,iv:0}},67332:(a,V,E)=>{var R=E(78893),P=E(53209);function N(l){var h=k(l),p=h.toRed(R.mont(l.modulus)).redPow(new R(l.publicExponent)).fromRed();return{blinder:p,unblinder:h.invm(l.modulus)}}function k(l){var h=l.modulus.byteLength(),p;do p=new R(P(h));while(p.cmp(l.modulus)>=0||!p.umod(l.prime1)||!p.umod(l.prime2));return p}function c(l,h){var p=N(h),_=h.modulus.byteLength(),b=new R(l).mul(p.blinder).umod(h.modulus),u=b.toRed(R.mont(h.prime1)),f=b.toRed(R.mont(h.prime2)),m=h.coefficient,g=h.prime1,v=h.prime2,T=u.redPow(h.exponent1).fromRed(),S=f.redPow(h.exponent2).fromRed(),x=T.isub(S).imul(m).umod(g).imul(v);return S.iadd(x).imul(p.unblinder).umod(h.modulus).toArrayLike(Buffer,"be",_)}c.getr=k,a.exports=c},78893:function(a,V,E){a=E.nmd(a),function(R,P){"use strict";function N(C,o){if(!C)throw new Error(o||"Assertion failed")}function k(C,o){C.super_=o;var w=function(){};w.prototype=o.prototype,C.prototype=new w,C.prototype.constructor=C}function c(C,o,w){if(c.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((o==="le"||o==="be")&&(w=o,o=10),this._init(C||0,o||10,w||"be"))}typeof R=="object"?R.exports=c:P.BN=c,c.BN=c,c.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=E(98285).Buffer}catch(C){}c.isBN=function(o){return o instanceof c?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===c.wordSize&&Array.isArray(o.words)},c.max=function(o,w){return o.cmp(w)>0?o:w},c.min=function(o,w){return o.cmp(w)<0?o:w},c.prototype._init=function(o,w,A){if(typeof o=="number")return this._initNumber(o,w,A);if(typeof o=="object")return this._initArray(o,w,A);w==="hex"&&(w=16),N(w===(w|0)&&w>=2&&w<=36),o=o.toString().replace(/\s+/g,"");var U=0;o[0]==="-"&&(U++,this.negative=1),U<o.length&&(w===16?this._parseHex(o,U,A):(this._parseBase(o,w,U),A==="le"&&this._initArray(this.toArray(),w,A)))},c.prototype._initNumber=function(o,w,A){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(N(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),w,A)},c.prototype._initArray=function(o,w,A){if(N(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var $,B,Z=0;if(A==="be")for(U=o.length-1,$=0;U>=0;U-=3)B=o[U]|o[U-1]<<8|o[U-2]<<16,this.words[$]|=B<<Z&67108863,this.words[$+1]=B>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,$++);else if(A==="le")for(U=0,$=0;U<o.length;U+=3)B=o[U]|o[U+1]<<8|o[U+2]<<16,this.words[$]|=B<<Z&67108863,this.words[$+1]=B>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,$++);return this._strip()};function h(C,o){var w=C.charCodeAt(o);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;N(!1,"Invalid character in "+C)}function p(C,o,w){var A=h(C,w);return w-1>=o&&(A|=h(C,w-1)<<4),A}c.prototype._parseHex=function(o,w,A){this.length=Math.ceil((o.length-w)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var $=0,B=0,Z;if(A==="be")for(U=o.length-1;U>=w;U-=2)Z=p(o,w,U)<<$,this.words[B]|=Z&67108863,$>=18?($-=18,B+=1,this.words[B]|=Z>>>26):$+=8;else{var te=o.length-w;for(U=te%2==0?w+1:w;U<o.length;U+=2)Z=p(o,w,U)<<$,this.words[B]|=Z&67108863,$>=18?($-=18,B+=1,this.words[B]|=Z>>>26):$+=8}this._strip()};function _(C,o,w,A){for(var U=0,$=0,B=Math.min(C.length,w),Z=o;Z<B;Z++){var te=C.charCodeAt(Z)-48;U*=A,te>=49?$=te-49+10:te>=17?$=te-17+10:$=te,N(te>=0&&$<A,"Invalid character"),U+=$}return U}c.prototype._parseBase=function(o,w,A){this.words=[0],this.length=1;for(var U=0,$=1;$<=67108863;$*=w)U++;U--,$=$/w|0;for(var B=o.length-A,Z=B%U,te=Math.min(B,B-Z)+A,L=0,re=A;re<te;re+=U)L=_(o,re,re+U,w),this.imuln($),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(Z!==0){var Le=1;for(L=_(o,re,o.length,w),re=0;re<Z;re++)Le*=w;this.imuln(Le),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this._strip()},c.prototype.copy=function(o){o.words=new Array(this.length);for(var w=0;w<this.length;w++)o.words[w]=this.words[w];o.length=this.length,o.negative=this.negative,o.red=this.red};function b(C,o){C.words=o.words,C.length=o.length,C.negative=o.negative,C.red=o.red}if(c.prototype._move=function(o){b(o,this)},c.prototype.clone=function(){var o=new c(null);return this.copy(o),o},c.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(C){c.prototype.inspect=u}else c.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(o,w){o=o||10,w=w|0||1;var A;if(o===16||o==="hex"){A="";for(var U=0,$=0,B=0;B<this.length;B++){var Z=this.words[B],te=((Z<<U|$)&16777215).toString(16);$=Z>>>24-U&16777215,$!==0||B!==this.length-1?A=f[6-te.length]+te+A:A=te+A,U+=2,U>=26&&(U-=26,B--)}for($!==0&&(A=$.toString(16)+A);A.length%w!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(o===(o|0)&&o>=2&&o<=36){var L=m[o],re=g[o];A="";var Le=this.clone();for(Le.negative=0;!Le.isZero();){var _e=Le.modrn(re).toString(o);Le=Le.idivn(re),Le.isZero()?A=_e+A:A=f[L-_e.length]+_e+A}for(this.isZero()&&(A="0"+A);A.length%w!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}N(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},c.prototype.toJSON=function(){return this.toString(16,2)},l&&(c.prototype.toBuffer=function(o,w){return this.toArrayLike(l,o,w)}),c.prototype.toArray=function(o,w){return this.toArrayLike(Array,o,w)};var v=function(o,w){return o.allocUnsafe?o.allocUnsafe(w):new o(w)};c.prototype.toArrayLike=function(o,w,A){this._strip();var U=this.byteLength(),$=A||Math.max(1,U);N(U<=$,"byte array longer than desired length"),N($>0,"Requested array length <= 0");var B=v(o,$),Z=w==="le"?"LE":"BE";return this["_toArrayLike"+Z](B,U),B},c.prototype._toArrayLikeLE=function(o,w){for(var A=0,U=0,$=0,B=0;$<this.length;$++){var Z=this.words[$]<<B|U;o[A++]=Z&255,A<o.length&&(o[A++]=Z>>8&255),A<o.length&&(o[A++]=Z>>16&255),B===6?(A<o.length&&(o[A++]=Z>>24&255),U=0,B=0):(U=Z>>>24,B+=2)}if(A<o.length)for(o[A++]=U;A<o.length;)o[A++]=0},c.prototype._toArrayLikeBE=function(o,w){for(var A=o.length-1,U=0,$=0,B=0;$<this.length;$++){var Z=this.words[$]<<B|U;o[A--]=Z&255,A>=0&&(o[A--]=Z>>8&255),A>=0&&(o[A--]=Z>>16&255),B===6?(A>=0&&(o[A--]=Z>>24&255),U=0,B=0):(U=Z>>>24,B+=2)}if(A>=0)for(o[A--]=U;A>=0;)o[A--]=0},Math.clz32?c.prototype._countBits=function(o){return 32-Math.clz32(o)}:c.prototype._countBits=function(o){var w=o,A=0;return w>=4096&&(A+=13,w>>>=13),w>=64&&(A+=7,w>>>=7),w>=8&&(A+=4,w>>>=4),w>=2&&(A+=2,w>>>=2),A+w},c.prototype._zeroBits=function(o){if(o===0)return 26;var w=o,A=0;return(w&8191)==0&&(A+=13,w>>>=13),(w&127)==0&&(A+=7,w>>>=7),(w&15)==0&&(A+=4,w>>>=4),(w&3)==0&&(A+=2,w>>>=2),(w&1)==0&&A++,A},c.prototype.bitLength=function(){var o=this.words[this.length-1],w=this._countBits(o);return(this.length-1)*26+w};function T(C){for(var o=new Array(C.bitLength()),w=0;w<o.length;w++){var A=w/26|0,U=w%26;o[w]=C.words[A]>>>U&1}return o}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,w=0;w<this.length;w++){var A=this._zeroBits(this.words[w]);if(o+=A,A!==26)break}return o},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},c.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var w=0;w<o.length;w++)this.words[w]=this.words[w]|o.words[w];return this._strip()},c.prototype.ior=function(o){return N((this.negative|o.negative)==0),this.iuor(o)},c.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},c.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},c.prototype.iuand=function(o){var w;this.length>o.length?w=o:w=this;for(var A=0;A<w.length;A++)this.words[A]=this.words[A]&o.words[A];return this.length=w.length,this._strip()},c.prototype.iand=function(o){return N((this.negative|o.negative)==0),this.iuand(o)},c.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},c.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},c.prototype.iuxor=function(o){var w,A;this.length>o.length?(w=this,A=o):(w=o,A=this);for(var U=0;U<A.length;U++)this.words[U]=w.words[U]^A.words[U];if(this!==w)for(;U<w.length;U++)this.words[U]=w.words[U];return this.length=w.length,this._strip()},c.prototype.ixor=function(o){return N((this.negative|o.negative)==0),this.iuxor(o)},c.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},c.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},c.prototype.inotn=function(o){N(typeof o=="number"&&o>=0);var w=Math.ceil(o/26)|0,A=o%26;this._expand(w),A>0&&w--;for(var U=0;U<w;U++)this.words[U]=~this.words[U]&67108863;return A>0&&(this.words[U]=~this.words[U]&67108863>>26-A),this._strip()},c.prototype.notn=function(o){return this.clone().inotn(o)},c.prototype.setn=function(o,w){N(typeof o=="number"&&o>=0);var A=o/26|0,U=o%26;return this._expand(A+1),w?this.words[A]=this.words[A]|1<<U:this.words[A]=this.words[A]&~(1<<U),this._strip()},c.prototype.iadd=function(o){var w;if(this.negative!==0&&o.negative===0)return this.negative=0,w=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,w=this.isub(o),o.negative=1,w._normSign();var A,U;this.length>o.length?(A=this,U=o):(A=o,U=this);for(var $=0,B=0;B<U.length;B++)w=(A.words[B]|0)+(U.words[B]|0)+$,this.words[B]=w&67108863,$=w>>>26;for(;$!==0&&B<A.length;B++)w=(A.words[B]|0)+$,this.words[B]=w&67108863,$=w>>>26;if(this.length=A.length,$!==0)this.words[this.length]=$,this.length++;else if(A!==this)for(;B<A.length;B++)this.words[B]=A.words[B];return this},c.prototype.add=function(o){var w;return o.negative!==0&&this.negative===0?(o.negative=0,w=this.sub(o),o.negative^=1,w):o.negative===0&&this.negative!==0?(this.negative=0,w=o.sub(this),this.negative=1,w):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},c.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var w=this.iadd(o);return o.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var A=this.cmp(o);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,$;A>0?(U=this,$=o):(U=o,$=this);for(var B=0,Z=0;Z<$.length;Z++)w=(U.words[Z]|0)-($.words[Z]|0)+B,B=w>>26,this.words[Z]=w&67108863;for(;B!==0&&Z<U.length;Z++)w=(U.words[Z]|0)+B,B=w>>26,this.words[Z]=w&67108863;if(B===0&&Z<U.length&&U!==this)for(;Z<U.length;Z++)this.words[Z]=U.words[Z];return this.length=Math.max(this.length,Z),U!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(o){return this.clone().isub(o)};function S(C,o,w){w.negative=o.negative^C.negative;var A=C.length+o.length|0;w.length=A,A=A-1|0;var U=C.words[0]|0,$=o.words[0]|0,B=U*$,Z=B&67108863,te=B/67108864|0;w.words[0]=Z;for(var L=1;L<A;L++){for(var re=te>>>26,Le=te&67108863,_e=Math.min(L,o.length-1),Ce=Math.max(0,L-C.length+1);Ce<=_e;Ce++){var Me=L-Ce|0;U=C.words[Me]|0,$=o.words[Ce]|0,B=U*$+Le,re+=B/67108864|0,Le=B&67108863}w.words[L]=Le|0,te=re|0}return te!==0?w.words[L]=te|0:w.length--,w._strip()}var x=function(o,w,A){var U=o.words,$=w.words,B=A.words,Z=0,te,L,re,Le=U[0]|0,_e=Le&8191,Ce=Le>>>13,Me=U[1]|0,J=Me&8191,ee=Me>>>13,ce=U[2]|0,me=ce&8191,Se=ce>>>13,O=U[3]|0,I=O&8191,se=O>>>13,ve=U[4]|0,we=ve&8191,ge=ve>>>13,xe=U[5]|0,Ge=xe&8191,ze=xe>>>13,Et=U[6]|0,tt=Et&8191,at=Et>>>13,Tt=U[7]|0,ue=Tt&8191,Q=Tt>>>13,ae=U[8]|0,be=ae&8191,De=ae>>>13,Ke=U[9]|0,Ue=Ke&8191,et=Ke>>>13,qt=$[0]|0,ot=qt&8191,ut=qt>>>13,bt=$[1]|0,Xe=bt&8191,_t=bt>>>13,vi=$[2]|0,kt=vi&8191,Nt=vi>>>13,zi=$[3]|0,It=zi&8191,Ht=zi>>>13,jn=$[4]|0,Yt=jn&8191,jt=jn>>>13,Ln=$[5]|0,Kt=Ln&8191,Zt=Ln>>>13,Ji=$[6]|0,Oe=Ji&8191,We=Ji>>>13,wt=$[7]|0,ct=wt&8191,gt=wt>>>13,si=$[8]|0,xt=si&8191,Ut=si>>>13,Ft=$[9]|0,pt=Ft&8191,St=Ft>>>13;A.negative=o.negative^w.negative,A.length=19,te=Math.imul(_e,ot),L=Math.imul(_e,ut),L=L+Math.imul(Ce,ot)|0,re=Math.imul(Ce,ut);var Mt=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,te=Math.imul(J,ot),L=Math.imul(J,ut),L=L+Math.imul(ee,ot)|0,re=Math.imul(ee,ut),te=te+Math.imul(_e,Xe)|0,L=L+Math.imul(_e,_t)|0,L=L+Math.imul(Ce,Xe)|0,re=re+Math.imul(Ce,_t)|0;var mi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(mi>>>26)|0,mi&=67108863,te=Math.imul(me,ot),L=Math.imul(me,ut),L=L+Math.imul(Se,ot)|0,re=Math.imul(Se,ut),te=te+Math.imul(J,Xe)|0,L=L+Math.imul(J,_t)|0,L=L+Math.imul(ee,Xe)|0,re=re+Math.imul(ee,_t)|0,te=te+Math.imul(_e,kt)|0,L=L+Math.imul(_e,Nt)|0,L=L+Math.imul(Ce,kt)|0,re=re+Math.imul(Ce,Nt)|0;var ii=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(ii>>>26)|0,ii&=67108863,te=Math.imul(I,ot),L=Math.imul(I,ut),L=L+Math.imul(se,ot)|0,re=Math.imul(se,ut),te=te+Math.imul(me,Xe)|0,L=L+Math.imul(me,_t)|0,L=L+Math.imul(Se,Xe)|0,re=re+Math.imul(Se,_t)|0,te=te+Math.imul(J,kt)|0,L=L+Math.imul(J,Nt)|0,L=L+Math.imul(ee,kt)|0,re=re+Math.imul(ee,Nt)|0,te=te+Math.imul(_e,It)|0,L=L+Math.imul(_e,Ht)|0,L=L+Math.imul(Ce,It)|0,re=re+Math.imul(Ce,Ht)|0;var Lt=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,te=Math.imul(we,ot),L=Math.imul(we,ut),L=L+Math.imul(ge,ot)|0,re=Math.imul(ge,ut),te=te+Math.imul(I,Xe)|0,L=L+Math.imul(I,_t)|0,L=L+Math.imul(se,Xe)|0,re=re+Math.imul(se,_t)|0,te=te+Math.imul(me,kt)|0,L=L+Math.imul(me,Nt)|0,L=L+Math.imul(Se,kt)|0,re=re+Math.imul(Se,Nt)|0,te=te+Math.imul(J,It)|0,L=L+Math.imul(J,Ht)|0,L=L+Math.imul(ee,It)|0,re=re+Math.imul(ee,Ht)|0,te=te+Math.imul(_e,Yt)|0,L=L+Math.imul(_e,jt)|0,L=L+Math.imul(Ce,Yt)|0,re=re+Math.imul(Ce,jt)|0;var ai=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(ai>>>26)|0,ai&=67108863,te=Math.imul(Ge,ot),L=Math.imul(Ge,ut),L=L+Math.imul(ze,ot)|0,re=Math.imul(ze,ut),te=te+Math.imul(we,Xe)|0,L=L+Math.imul(we,_t)|0,L=L+Math.imul(ge,Xe)|0,re=re+Math.imul(ge,_t)|0,te=te+Math.imul(I,kt)|0,L=L+Math.imul(I,Nt)|0,L=L+Math.imul(se,kt)|0,re=re+Math.imul(se,Nt)|0,te=te+Math.imul(me,It)|0,L=L+Math.imul(me,Ht)|0,L=L+Math.imul(Se,It)|0,re=re+Math.imul(Se,Ht)|0,te=te+Math.imul(J,Yt)|0,L=L+Math.imul(J,jt)|0,L=L+Math.imul(ee,Yt)|0,re=re+Math.imul(ee,jt)|0,te=te+Math.imul(_e,Kt)|0,L=L+Math.imul(_e,Zt)|0,L=L+Math.imul(Ce,Kt)|0,re=re+Math.imul(Ce,Zt)|0;var gi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(gi>>>26)|0,gi&=67108863,te=Math.imul(tt,ot),L=Math.imul(tt,ut),L=L+Math.imul(at,ot)|0,re=Math.imul(at,ut),te=te+Math.imul(Ge,Xe)|0,L=L+Math.imul(Ge,_t)|0,L=L+Math.imul(ze,Xe)|0,re=re+Math.imul(ze,_t)|0,te=te+Math.imul(we,kt)|0,L=L+Math.imul(we,Nt)|0,L=L+Math.imul(ge,kt)|0,re=re+Math.imul(ge,Nt)|0,te=te+Math.imul(I,It)|0,L=L+Math.imul(I,Ht)|0,L=L+Math.imul(se,It)|0,re=re+Math.imul(se,Ht)|0,te=te+Math.imul(me,Yt)|0,L=L+Math.imul(me,jt)|0,L=L+Math.imul(Se,Yt)|0,re=re+Math.imul(Se,jt)|0,te=te+Math.imul(J,Kt)|0,L=L+Math.imul(J,Zt)|0,L=L+Math.imul(ee,Kt)|0,re=re+Math.imul(ee,Zt)|0,te=te+Math.imul(_e,Oe)|0,L=L+Math.imul(_e,We)|0,L=L+Math.imul(Ce,Oe)|0,re=re+Math.imul(Ce,We)|0;var Mi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,te=Math.imul(ue,ot),L=Math.imul(ue,ut),L=L+Math.imul(Q,ot)|0,re=Math.imul(Q,ut),te=te+Math.imul(tt,Xe)|0,L=L+Math.imul(tt,_t)|0,L=L+Math.imul(at,Xe)|0,re=re+Math.imul(at,_t)|0,te=te+Math.imul(Ge,kt)|0,L=L+Math.imul(Ge,Nt)|0,L=L+Math.imul(ze,kt)|0,re=re+Math.imul(ze,Nt)|0,te=te+Math.imul(we,It)|0,L=L+Math.imul(we,Ht)|0,L=L+Math.imul(ge,It)|0,re=re+Math.imul(ge,Ht)|0,te=te+Math.imul(I,Yt)|0,L=L+Math.imul(I,jt)|0,L=L+Math.imul(se,Yt)|0,re=re+Math.imul(se,jt)|0,te=te+Math.imul(me,Kt)|0,L=L+Math.imul(me,Zt)|0,L=L+Math.imul(Se,Kt)|0,re=re+Math.imul(Se,Zt)|0,te=te+Math.imul(J,Oe)|0,L=L+Math.imul(J,We)|0,L=L+Math.imul(ee,Oe)|0,re=re+Math.imul(ee,We)|0,te=te+Math.imul(_e,ct)|0,L=L+Math.imul(_e,gt)|0,L=L+Math.imul(Ce,ct)|0,re=re+Math.imul(Ce,gt)|0;var xi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(xi>>>26)|0,xi&=67108863,te=Math.imul(be,ot),L=Math.imul(be,ut),L=L+Math.imul(De,ot)|0,re=Math.imul(De,ut),te=te+Math.imul(ue,Xe)|0,L=L+Math.imul(ue,_t)|0,L=L+Math.imul(Q,Xe)|0,re=re+Math.imul(Q,_t)|0,te=te+Math.imul(tt,kt)|0,L=L+Math.imul(tt,Nt)|0,L=L+Math.imul(at,kt)|0,re=re+Math.imul(at,Nt)|0,te=te+Math.imul(Ge,It)|0,L=L+Math.imul(Ge,Ht)|0,L=L+Math.imul(ze,It)|0,re=re+Math.imul(ze,Ht)|0,te=te+Math.imul(we,Yt)|0,L=L+Math.imul(we,jt)|0,L=L+Math.imul(ge,Yt)|0,re=re+Math.imul(ge,jt)|0,te=te+Math.imul(I,Kt)|0,L=L+Math.imul(I,Zt)|0,L=L+Math.imul(se,Kt)|0,re=re+Math.imul(se,Zt)|0,te=te+Math.imul(me,Oe)|0,L=L+Math.imul(me,We)|0,L=L+Math.imul(Se,Oe)|0,re=re+Math.imul(Se,We)|0,te=te+Math.imul(J,ct)|0,L=L+Math.imul(J,gt)|0,L=L+Math.imul(ee,ct)|0,re=re+Math.imul(ee,gt)|0,te=te+Math.imul(_e,xt)|0,L=L+Math.imul(_e,Ut)|0,L=L+Math.imul(Ce,xt)|0,re=re+Math.imul(Ce,Ut)|0;var Wi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,te=Math.imul(Ue,ot),L=Math.imul(Ue,ut),L=L+Math.imul(et,ot)|0,re=Math.imul(et,ut),te=te+Math.imul(be,Xe)|0,L=L+Math.imul(be,_t)|0,L=L+Math.imul(De,Xe)|0,re=re+Math.imul(De,_t)|0,te=te+Math.imul(ue,kt)|0,L=L+Math.imul(ue,Nt)|0,L=L+Math.imul(Q,kt)|0,re=re+Math.imul(Q,Nt)|0,te=te+Math.imul(tt,It)|0,L=L+Math.imul(tt,Ht)|0,L=L+Math.imul(at,It)|0,re=re+Math.imul(at,Ht)|0,te=te+Math.imul(Ge,Yt)|0,L=L+Math.imul(Ge,jt)|0,L=L+Math.imul(ze,Yt)|0,re=re+Math.imul(ze,jt)|0,te=te+Math.imul(we,Kt)|0,L=L+Math.imul(we,Zt)|0,L=L+Math.imul(ge,Kt)|0,re=re+Math.imul(ge,Zt)|0,te=te+Math.imul(I,Oe)|0,L=L+Math.imul(I,We)|0,L=L+Math.imul(se,Oe)|0,re=re+Math.imul(se,We)|0,te=te+Math.imul(me,ct)|0,L=L+Math.imul(me,gt)|0,L=L+Math.imul(Se,ct)|0,re=re+Math.imul(Se,gt)|0,te=te+Math.imul(J,xt)|0,L=L+Math.imul(J,Ut)|0,L=L+Math.imul(ee,xt)|0,re=re+Math.imul(ee,Ut)|0,te=te+Math.imul(_e,pt)|0,L=L+Math.imul(_e,St)|0,L=L+Math.imul(Ce,pt)|0,re=re+Math.imul(Ce,St)|0;var Ui=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,te=Math.imul(Ue,Xe),L=Math.imul(Ue,_t),L=L+Math.imul(et,Xe)|0,re=Math.imul(et,_t),te=te+Math.imul(be,kt)|0,L=L+Math.imul(be,Nt)|0,L=L+Math.imul(De,kt)|0,re=re+Math.imul(De,Nt)|0,te=te+Math.imul(ue,It)|0,L=L+Math.imul(ue,Ht)|0,L=L+Math.imul(Q,It)|0,re=re+Math.imul(Q,Ht)|0,te=te+Math.imul(tt,Yt)|0,L=L+Math.imul(tt,jt)|0,L=L+Math.imul(at,Yt)|0,re=re+Math.imul(at,jt)|0,te=te+Math.imul(Ge,Kt)|0,L=L+Math.imul(Ge,Zt)|0,L=L+Math.imul(ze,Kt)|0,re=re+Math.imul(ze,Zt)|0,te=te+Math.imul(we,Oe)|0,L=L+Math.imul(we,We)|0,L=L+Math.imul(ge,Oe)|0,re=re+Math.imul(ge,We)|0,te=te+Math.imul(I,ct)|0,L=L+Math.imul(I,gt)|0,L=L+Math.imul(se,ct)|0,re=re+Math.imul(se,gt)|0,te=te+Math.imul(me,xt)|0,L=L+Math.imul(me,Ut)|0,L=L+Math.imul(Se,xt)|0,re=re+Math.imul(Se,Ut)|0,te=te+Math.imul(J,pt)|0,L=L+Math.imul(J,St)|0,L=L+Math.imul(ee,pt)|0,re=re+Math.imul(ee,St)|0;var Ni=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,te=Math.imul(Ue,kt),L=Math.imul(Ue,Nt),L=L+Math.imul(et,kt)|0,re=Math.imul(et,Nt),te=te+Math.imul(be,It)|0,L=L+Math.imul(be,Ht)|0,L=L+Math.imul(De,It)|0,re=re+Math.imul(De,Ht)|0,te=te+Math.imul(ue,Yt)|0,L=L+Math.imul(ue,jt)|0,L=L+Math.imul(Q,Yt)|0,re=re+Math.imul(Q,jt)|0,te=te+Math.imul(tt,Kt)|0,L=L+Math.imul(tt,Zt)|0,L=L+Math.imul(at,Kt)|0,re=re+Math.imul(at,Zt)|0,te=te+Math.imul(Ge,Oe)|0,L=L+Math.imul(Ge,We)|0,L=L+Math.imul(ze,Oe)|0,re=re+Math.imul(ze,We)|0,te=te+Math.imul(we,ct)|0,L=L+Math.imul(we,gt)|0,L=L+Math.imul(ge,ct)|0,re=re+Math.imul(ge,gt)|0,te=te+Math.imul(I,xt)|0,L=L+Math.imul(I,Ut)|0,L=L+Math.imul(se,xt)|0,re=re+Math.imul(se,Ut)|0,te=te+Math.imul(me,pt)|0,L=L+Math.imul(me,St)|0,L=L+Math.imul(Se,pt)|0,re=re+Math.imul(Se,St)|0;var Oi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,te=Math.imul(Ue,It),L=Math.imul(Ue,Ht),L=L+Math.imul(et,It)|0,re=Math.imul(et,Ht),te=te+Math.imul(be,Yt)|0,L=L+Math.imul(be,jt)|0,L=L+Math.imul(De,Yt)|0,re=re+Math.imul(De,jt)|0,te=te+Math.imul(ue,Kt)|0,L=L+Math.imul(ue,Zt)|0,L=L+Math.imul(Q,Kt)|0,re=re+Math.imul(Q,Zt)|0,te=te+Math.imul(tt,Oe)|0,L=L+Math.imul(tt,We)|0,L=L+Math.imul(at,Oe)|0,re=re+Math.imul(at,We)|0,te=te+Math.imul(Ge,ct)|0,L=L+Math.imul(Ge,gt)|0,L=L+Math.imul(ze,ct)|0,re=re+Math.imul(ze,gt)|0,te=te+Math.imul(we,xt)|0,L=L+Math.imul(we,Ut)|0,L=L+Math.imul(ge,xt)|0,re=re+Math.imul(ge,Ut)|0,te=te+Math.imul(I,pt)|0,L=L+Math.imul(I,St)|0,L=L+Math.imul(se,pt)|0,re=re+Math.imul(se,St)|0;var Vt=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,te=Math.imul(Ue,Yt),L=Math.imul(Ue,jt),L=L+Math.imul(et,Yt)|0,re=Math.imul(et,jt),te=te+Math.imul(be,Kt)|0,L=L+Math.imul(be,Zt)|0,L=L+Math.imul(De,Kt)|0,re=re+Math.imul(De,Zt)|0,te=te+Math.imul(ue,Oe)|0,L=L+Math.imul(ue,We)|0,L=L+Math.imul(Q,Oe)|0,re=re+Math.imul(Q,We)|0,te=te+Math.imul(tt,ct)|0,L=L+Math.imul(tt,gt)|0,L=L+Math.imul(at,ct)|0,re=re+Math.imul(at,gt)|0,te=te+Math.imul(Ge,xt)|0,L=L+Math.imul(Ge,Ut)|0,L=L+Math.imul(ze,xt)|0,re=re+Math.imul(ze,Ut)|0,te=te+Math.imul(we,pt)|0,L=L+Math.imul(we,St)|0,L=L+Math.imul(ge,pt)|0,re=re+Math.imul(ge,St)|0;var ri=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(ri>>>26)|0,ri&=67108863,te=Math.imul(Ue,Kt),L=Math.imul(Ue,Zt),L=L+Math.imul(et,Kt)|0,re=Math.imul(et,Zt),te=te+Math.imul(be,Oe)|0,L=L+Math.imul(be,We)|0,L=L+Math.imul(De,Oe)|0,re=re+Math.imul(De,We)|0,te=te+Math.imul(ue,ct)|0,L=L+Math.imul(ue,gt)|0,L=L+Math.imul(Q,ct)|0,re=re+Math.imul(Q,gt)|0,te=te+Math.imul(tt,xt)|0,L=L+Math.imul(tt,Ut)|0,L=L+Math.imul(at,xt)|0,re=re+Math.imul(at,Ut)|0,te=te+Math.imul(Ge,pt)|0,L=L+Math.imul(Ge,St)|0,L=L+Math.imul(ze,pt)|0,re=re+Math.imul(ze,St)|0;var Ri=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,te=Math.imul(Ue,Oe),L=Math.imul(Ue,We),L=L+Math.imul(et,Oe)|0,re=Math.imul(et,We),te=te+Math.imul(be,ct)|0,L=L+Math.imul(be,gt)|0,L=L+Math.imul(De,ct)|0,re=re+Math.imul(De,gt)|0,te=te+Math.imul(ue,xt)|0,L=L+Math.imul(ue,Ut)|0,L=L+Math.imul(Q,xt)|0,re=re+Math.imul(Q,Ut)|0,te=te+Math.imul(tt,pt)|0,L=L+Math.imul(tt,St)|0,L=L+Math.imul(at,pt)|0,re=re+Math.imul(at,St)|0;var Hi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,te=Math.imul(Ue,ct),L=Math.imul(Ue,gt),L=L+Math.imul(et,ct)|0,re=Math.imul(et,gt),te=te+Math.imul(be,xt)|0,L=L+Math.imul(be,Ut)|0,L=L+Math.imul(De,xt)|0,re=re+Math.imul(De,Ut)|0,te=te+Math.imul(ue,pt)|0,L=L+Math.imul(ue,St)|0,L=L+Math.imul(Q,pt)|0,re=re+Math.imul(Q,St)|0;var bi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(bi>>>26)|0,bi&=67108863,te=Math.imul(Ue,xt),L=Math.imul(Ue,Ut),L=L+Math.imul(et,xt)|0,re=Math.imul(et,Ut),te=te+Math.imul(be,pt)|0,L=L+Math.imul(be,St)|0,L=L+Math.imul(De,pt)|0,re=re+Math.imul(De,St)|0;var Ai=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,te=Math.imul(Ue,pt),L=Math.imul(Ue,St),L=L+Math.imul(et,pt)|0,re=Math.imul(et,St);var $i=(Z+te|0)+((L&8191)<<13)|0;return Z=(re+(L>>>13)|0)+($i>>>26)|0,$i&=67108863,B[0]=Mt,B[1]=mi,B[2]=ii,B[3]=Lt,B[4]=ai,B[5]=gi,B[6]=Mi,B[7]=xi,B[8]=Wi,B[9]=Ui,B[10]=Ni,B[11]=Oi,B[12]=Vt,B[13]=ri,B[14]=Ri,B[15]=Hi,B[16]=bi,B[17]=Ai,B[18]=$i,Z!==0&&(B[19]=Z,A.length++),A};Math.imul||(x=S);function D(C,o,w){w.negative=o.negative^C.negative,w.length=C.length+o.length;for(var A=0,U=0,$=0;$<w.length-1;$++){var B=U;U=0;for(var Z=A&67108863,te=Math.min($,o.length-1),L=Math.max(0,$-C.length+1);L<=te;L++){var re=$-L,Le=C.words[re]|0,_e=o.words[L]|0,Ce=Le*_e,Me=Ce&67108863;B=B+(Ce/67108864|0)|0,Me=Me+Z|0,Z=Me&67108863,B=B+(Me>>>26)|0,U+=B>>>26,B&=67108863}w.words[$]=Z,A=B,B=U}return A!==0?w.words[$]=A:w.length--,w._strip()}function z(C,o,w){return D(C,o,w)}c.prototype.mulTo=function(o,w){var A,U=this.length+o.length;return this.length===10&&o.length===10?A=x(this,o,w):U<63?A=S(this,o,w):U<1024?A=D(this,o,w):A=z(this,o,w),A};function q(C,o){this.x=C,this.y=o}q.prototype.makeRBT=function(o){for(var w=new Array(o),A=c.prototype._countBits(o)-1,U=0;U<o;U++)w[U]=this.revBin(U,A,o);return w},q.prototype.revBin=function(o,w,A){if(o===0||o===A-1)return o;for(var U=0,$=0;$<w;$++)U|=(o&1)<<w-$-1,o>>=1;return U},q.prototype.permute=function(o,w,A,U,$,B){for(var Z=0;Z<B;Z++)U[Z]=w[o[Z]],$[Z]=A[o[Z]]},q.prototype.transform=function(o,w,A,U,$,B){this.permute(B,o,w,A,U,$);for(var Z=1;Z<$;Z<<=1)for(var te=Z<<1,L=Math.cos(2*Math.PI/te),re=Math.sin(2*Math.PI/te),Le=0;Le<$;Le+=te)for(var _e=L,Ce=re,Me=0;Me<Z;Me++){var J=A[Le+Me],ee=U[Le+Me],ce=A[Le+Me+Z],me=U[Le+Me+Z],Se=_e*ce-Ce*me;me=_e*me+Ce*ce,ce=Se,A[Le+Me]=J+ce,U[Le+Me]=ee+me,A[Le+Me+Z]=J-ce,U[Le+Me+Z]=ee-me,Me!==te&&(Se=L*_e-re*Ce,Ce=L*Ce+re*_e,_e=Se)}},q.prototype.guessLen13b=function(o,w){var A=Math.max(w,o)|1,U=A&1,$=0;for(A=A/2|0;A;A=A>>>1)$++;return 1<<$+1+U},q.prototype.conjugate=function(o,w,A){if(!(A<=1))for(var U=0;U<A/2;U++){var $=o[U];o[U]=o[A-U-1],o[A-U-1]=$,$=w[U],w[U]=-w[A-U-1],w[A-U-1]=-$}},q.prototype.normalize13b=function(o,w){for(var A=0,U=0;U<w/2;U++){var $=Math.round(o[2*U+1]/w)*8192+Math.round(o[2*U]/w)+A;o[U]=$&67108863,$<67108864?A=0:A=$/67108864|0}return o},q.prototype.convert13b=function(o,w,A,U){for(var $=0,B=0;B<w;B++)$=$+(o[B]|0),A[2*B]=$&8191,$=$>>>13,A[2*B+1]=$&8191,$=$>>>13;for(B=2*w;B<U;++B)A[B]=0;N($===0),N(($&~8191)==0)},q.prototype.stub=function(o){for(var w=new Array(o),A=0;A<o;A++)w[A]=0;return w},q.prototype.mulp=function(o,w,A){var U=2*this.guessLen13b(o.length,w.length),$=this.makeRBT(U),B=this.stub(U),Z=new Array(U),te=new Array(U),L=new Array(U),re=new Array(U),Le=new Array(U),_e=new Array(U),Ce=A.words;Ce.length=U,this.convert13b(o.words,o.length,Z,U),this.convert13b(w.words,w.length,re,U),this.transform(Z,B,te,L,U,$),this.transform(re,B,Le,_e,U,$);for(var Me=0;Me<U;Me++){var J=te[Me]*Le[Me]-L[Me]*_e[Me];L[Me]=te[Me]*_e[Me]+L[Me]*Le[Me],te[Me]=J}return this.conjugate(te,L,U),this.transform(te,L,Ce,B,U,$),this.conjugate(Ce,B,U),this.normalize13b(Ce,U),A.negative=o.negative^w.negative,A.length=o.length+w.length,A._strip()},c.prototype.mul=function(o){var w=new c(null);return w.words=new Array(this.length+o.length),this.mulTo(o,w)},c.prototype.mulf=function(o){var w=new c(null);return w.words=new Array(this.length+o.length),z(this,o,w)},c.prototype.imul=function(o){return this.clone().mulTo(o,this)},c.prototype.imuln=function(o){var w=o<0;w&&(o=-o),N(typeof o=="number"),N(o<67108864);for(var A=0,U=0;U<this.length;U++){var $=(this.words[U]|0)*o,B=($&67108863)+(A&67108863);A>>=26,A+=$/67108864|0,A+=B>>>26,this.words[U]=B&67108863}return A!==0&&(this.words[U]=A,this.length++),w?this.ineg():this},c.prototype.muln=function(o){return this.clone().imuln(o)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(o){var w=T(o);if(w.length===0)return new c(1);for(var A=this,U=0;U<w.length&&w[U]===0;U++,A=A.sqr());if(++U<w.length)for(var $=A.sqr();U<w.length;U++,$=$.sqr())w[U]!==0&&(A=A.mul($));return A},c.prototype.iushln=function(o){N(typeof o=="number"&&o>=0);var w=o%26,A=(o-w)/26,U=67108863>>>26-w<<26-w,$;if(w!==0){var B=0;for($=0;$<this.length;$++){var Z=this.words[$]&U,te=(this.words[$]|0)-Z<<w;this.words[$]=te|B,B=Z>>>26-w}B&&(this.words[$]=B,this.length++)}if(A!==0){for($=this.length-1;$>=0;$--)this.words[$+A]=this.words[$];for($=0;$<A;$++)this.words[$]=0;this.length+=A}return this._strip()},c.prototype.ishln=function(o){return N(this.negative===0),this.iushln(o)},c.prototype.iushrn=function(o,w,A){N(typeof o=="number"&&o>=0);var U;w?U=(w-w%26)/26:U=0;var $=o%26,B=Math.min((o-$)/26,this.length),Z=67108863^67108863>>>$<<$,te=A;if(U-=B,U=Math.max(0,U),te){for(var L=0;L<B;L++)te.words[L]=this.words[L];te.length=B}if(B!==0)if(this.length>B)for(this.length-=B,L=0;L<this.length;L++)this.words[L]=this.words[L+B];else this.words[0]=0,this.length=1;var re=0;for(L=this.length-1;L>=0&&(re!==0||L>=U);L--){var Le=this.words[L]|0;this.words[L]=re<<26-$|Le>>>$,re=Le&Z}return te&&re!==0&&(te.words[te.length++]=re),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(o,w,A){return N(this.negative===0),this.iushrn(o,w,A)},c.prototype.shln=function(o){return this.clone().ishln(o)},c.prototype.ushln=function(o){return this.clone().iushln(o)},c.prototype.shrn=function(o){return this.clone().ishrn(o)},c.prototype.ushrn=function(o){return this.clone().iushrn(o)},c.prototype.testn=function(o){N(typeof o=="number"&&o>=0);var w=o%26,A=(o-w)/26,U=1<<w;if(this.length<=A)return!1;var $=this.words[A];return!!($&U)},c.prototype.imaskn=function(o){N(typeof o=="number"&&o>=0);var w=o%26,A=(o-w)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(w!==0&&A++,this.length=Math.min(A,this.length),w!==0){var U=67108863^67108863>>>w<<w;this.words[this.length-1]&=U}return this._strip()},c.prototype.maskn=function(o){return this.clone().imaskn(o)},c.prototype.iaddn=function(o){return N(typeof o=="number"),N(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},c.prototype._iaddn=function(o){this.words[0]+=o;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},c.prototype.isubn=function(o){if(N(typeof o=="number"),N(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},c.prototype.addn=function(o){return this.clone().iaddn(o)},c.prototype.subn=function(o){return this.clone().isubn(o)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(o,w,A){var U=o.length+A,$;this._expand(U);var B,Z=0;for($=0;$<o.length;$++){B=(this.words[$+A]|0)+Z;var te=(o.words[$]|0)*w;B-=te&67108863,Z=(B>>26)-(te/67108864|0),this.words[$+A]=B&67108863}for(;$<this.length-A;$++)B=(this.words[$+A]|0)+Z,Z=B>>26,this.words[$+A]=B&67108863;if(Z===0)return this._strip();for(N(Z===-1),Z=0,$=0;$<this.length;$++)B=-(this.words[$]|0)+Z,Z=B>>26,this.words[$]=B&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(o,w){var A=this.length-o.length,U=this.clone(),$=o,B=$.words[$.length-1]|0,Z=this._countBits(B);A=26-Z,A!==0&&($=$.ushln(A),U.iushln(A),B=$.words[$.length-1]|0);var te=U.length-$.length,L;if(w!=="mod"){L=new c(null),L.length=te+1,L.words=new Array(L.length);for(var re=0;re<L.length;re++)L.words[re]=0}var Le=U.clone()._ishlnsubmul($,1,te);Le.negative===0&&(U=Le,L&&(L.words[te]=1));for(var _e=te-1;_e>=0;_e--){var Ce=(U.words[$.length+_e]|0)*67108864+(U.words[$.length+_e-1]|0);for(Ce=Math.min(Ce/B|0,67108863),U._ishlnsubmul($,Ce,_e);U.negative!==0;)Ce--,U.negative=0,U._ishlnsubmul($,1,_e),U.isZero()||(U.negative^=1);L&&(L.words[_e]=Ce)}return L&&L._strip(),U._strip(),w!=="div"&&A!==0&&U.iushrn(A),{div:L||null,mod:U}},c.prototype.divmod=function(o,w,A){if(N(!o.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var U,$,B;return this.negative!==0&&o.negative===0?(B=this.neg().divmod(o,w),w!=="mod"&&(U=B.div.neg()),w!=="div"&&($=B.mod.neg(),A&&$.negative!==0&&$.iadd(o)),{div:U,mod:$}):this.negative===0&&o.negative!==0?(B=this.divmod(o.neg(),w),w!=="mod"&&(U=B.div.neg()),{div:U,mod:B.mod}):(this.negative&o.negative)!=0?(B=this.neg().divmod(o.neg(),w),w!=="div"&&($=B.mod.neg(),A&&$.negative!==0&&$.isub(o)),{div:B.div,mod:$}):o.length>this.length||this.cmp(o)<0?{div:new c(0),mod:this}:o.length===1?w==="div"?{div:this.divn(o.words[0]),mod:null}:w==="mod"?{div:null,mod:new c(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new c(this.modrn(o.words[0]))}:this._wordDiv(o,w)},c.prototype.div=function(o){return this.divmod(o,"div",!1).div},c.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},c.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},c.prototype.divRound=function(o){var w=this.divmod(o);if(w.mod.isZero())return w.div;var A=w.div.negative!==0?w.mod.isub(o):w.mod,U=o.ushrn(1),$=o.andln(1),B=A.cmp(U);return B<0||$===1&&B===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},c.prototype.modrn=function(o){var w=o<0;w&&(o=-o),N(o<=67108863);for(var A=(1<<26)%o,U=0,$=this.length-1;$>=0;$--)U=(A*U+(this.words[$]|0))%o;return w?-U:U},c.prototype.modn=function(o){return this.modrn(o)},c.prototype.idivn=function(o){var w=o<0;w&&(o=-o),N(o<=67108863);for(var A=0,U=this.length-1;U>=0;U--){var $=(this.words[U]|0)+A*67108864;this.words[U]=$/o|0,A=$%o}return this._strip(),w?this.ineg():this},c.prototype.divn=function(o){return this.clone().idivn(o)},c.prototype.egcd=function(o){N(o.negative===0),N(!o.isZero());var w=this,A=o.clone();w.negative!==0?w=w.umod(o):w=w.clone();for(var U=new c(1),$=new c(0),B=new c(0),Z=new c(1),te=0;w.isEven()&&A.isEven();)w.iushrn(1),A.iushrn(1),++te;for(var L=A.clone(),re=w.clone();!w.isZero();){for(var Le=0,_e=1;(w.words[0]&_e)==0&&Le<26;++Le,_e<<=1);if(Le>0)for(w.iushrn(Le);Le-- >0;)(U.isOdd()||$.isOdd())&&(U.iadd(L),$.isub(re)),U.iushrn(1),$.iushrn(1);for(var Ce=0,Me=1;(A.words[0]&Me)==0&&Ce<26;++Ce,Me<<=1);if(Ce>0)for(A.iushrn(Ce);Ce-- >0;)(B.isOdd()||Z.isOdd())&&(B.iadd(L),Z.isub(re)),B.iushrn(1),Z.iushrn(1);w.cmp(A)>=0?(w.isub(A),U.isub(B),$.isub(Z)):(A.isub(w),B.isub(U),Z.isub($))}return{a:B,b:Z,gcd:A.iushln(te)}},c.prototype._invmp=function(o){N(o.negative===0),N(!o.isZero());var w=this,A=o.clone();w.negative!==0?w=w.umod(o):w=w.clone();for(var U=new c(1),$=new c(0),B=A.clone();w.cmpn(1)>0&&A.cmpn(1)>0;){for(var Z=0,te=1;(w.words[0]&te)==0&&Z<26;++Z,te<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)U.isOdd()&&U.iadd(B),U.iushrn(1);for(var L=0,re=1;(A.words[0]&re)==0&&L<26;++L,re<<=1);if(L>0)for(A.iushrn(L);L-- >0;)$.isOdd()&&$.iadd(B),$.iushrn(1);w.cmp(A)>=0?(w.isub(A),U.isub($)):(A.isub(w),$.isub(U))}var Le;return w.cmpn(1)===0?Le=U:Le=$,Le.cmpn(0)<0&&Le.iadd(o),Le},c.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var w=this.clone(),A=o.clone();w.negative=0,A.negative=0;for(var U=0;w.isEven()&&A.isEven();U++)w.iushrn(1),A.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;A.isEven();)A.iushrn(1);var $=w.cmp(A);if($<0){var B=w;w=A,A=B}else if($===0||A.cmpn(1)===0)break;w.isub(A)}while(!0);return A.iushln(U)},c.prototype.invm=function(o){return this.egcd(o).a.umod(o)},c.prototype.isEven=function(){return(this.words[0]&1)==0},c.prototype.isOdd=function(){return(this.words[0]&1)==1},c.prototype.andln=function(o){return this.words[0]&o},c.prototype.bincn=function(o){N(typeof o=="number");var w=o%26,A=(o-w)/26,U=1<<w;if(this.length<=A)return this._expand(A+1),this.words[A]|=U,this;for(var $=U,B=A;$!==0&&B<this.length;B++){var Z=this.words[B]|0;Z+=$,$=Z>>>26,Z&=67108863,this.words[B]=Z}return $!==0&&(this.words[B]=$,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(o){var w=o<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var A;if(this.length>1)A=1;else{w&&(o=-o),N(o<=67108863,"Number is too big");var U=this.words[0]|0;A=U===o?0:U<o?-1:1}return this.negative!==0?-A|0:A},c.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var w=this.ucmp(o);return this.negative!==0?-w|0:w},c.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var w=0,A=this.length-1;A>=0;A--){var U=this.words[A]|0,$=o.words[A]|0;if(U!==$){U<$?w=-1:U>$&&(w=1);break}}return w},c.prototype.gtn=function(o){return this.cmpn(o)===1},c.prototype.gt=function(o){return this.cmp(o)===1},c.prototype.gten=function(o){return this.cmpn(o)>=0},c.prototype.gte=function(o){return this.cmp(o)>=0},c.prototype.ltn=function(o){return this.cmpn(o)===-1},c.prototype.lt=function(o){return this.cmp(o)===-1},c.prototype.lten=function(o){return this.cmpn(o)<=0},c.prototype.lte=function(o){return this.cmp(o)<=0},c.prototype.eqn=function(o){return this.cmpn(o)===0},c.prototype.eq=function(o){return this.cmp(o)===0},c.red=function(o){return new M(o)},c.prototype.toRed=function(o){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},c.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(o){return this.red=o,this},c.prototype.forceRed=function(o){return N(!this.red,"Already a number in reduction context"),this._forceRed(o)},c.prototype.redAdd=function(o){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},c.prototype.redIAdd=function(o){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},c.prototype.redSub=function(o){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},c.prototype.redISub=function(o){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},c.prototype.redShl=function(o){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},c.prototype.redMul=function(o){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},c.prototype.redIMul=function(o){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},c.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(o){return N(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var H={k256:null,p224:null,p192:null,p25519:null};function j(C,o){this.name=C,this.p=new c(o,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var o=new c(null);return o.words=new Array(Math.ceil(this.n/13)),o},j.prototype.ireduce=function(o){var w=o,A;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),A=w.bitLength();while(A>this.n);var U=A<this.n?-1:w.ucmp(this.p);return U===0?(w.words[0]=0,w.length=1):U>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},j.prototype.split=function(o,w){o.iushrn(this.n,0,w)},j.prototype.imulK=function(o){return o.imul(this.k)};function K(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}k(K,j),K.prototype.split=function(o,w){for(var A=4194303,U=Math.min(o.length,9),$=0;$<U;$++)w.words[$]=o.words[$];if(w.length=U,o.length<=9){o.words[0]=0,o.length=1;return}var B=o.words[9];for(w.words[w.length++]=B&A,$=10;$<o.length;$++){var Z=o.words[$]|0;o.words[$-10]=(Z&A)<<4|B>>>22,B=Z}B>>>=22,o.words[$-10]=B,B===0&&o.length>10?o.length-=10:o.length-=9},K.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var w=0,A=0;A<o.length;A++){var U=o.words[A]|0;w+=U*977,o.words[A]=w&67108863,w=U*64+(w/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function Y(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}k(Y,j);function ne(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}k(ne,j);function X(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}k(X,j),X.prototype.imulK=function(o){for(var w=0,A=0;A<o.length;A++){var U=(o.words[A]|0)*19+w,$=U&67108863;U>>>=26,o.words[A]=$,w=U}return w!==0&&(o.words[o.length++]=w),o},c._prime=function(o){if(H[o])return H[o];var w;if(o==="k256")w=new K;else if(o==="p224")w=new Y;else if(o==="p192")w=new ne;else if(o==="p25519")w=new X;else throw new Error("Unknown prime "+o);return H[o]=w,w};function M(C){if(typeof C=="string"){var o=c._prime(C);this.m=o.p,this.prime=o}else N(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}M.prototype._verify1=function(o){N(o.negative===0,"red works only with positives"),N(o.red,"red works only with red numbers")},M.prototype._verify2=function(o,w){N((o.negative|w.negative)==0,"red works only with positives"),N(o.red&&o.red===w.red,"red works only with red numbers")},M.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(b(o,o.umod(this.m)._forceRed(this)),o)},M.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},M.prototype.add=function(o,w){this._verify2(o,w);var A=o.add(w);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},M.prototype.iadd=function(o,w){this._verify2(o,w);var A=o.iadd(w);return A.cmp(this.m)>=0&&A.isub(this.m),A},M.prototype.sub=function(o,w){this._verify2(o,w);var A=o.sub(w);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},M.prototype.isub=function(o,w){this._verify2(o,w);var A=o.isub(w);return A.cmpn(0)<0&&A.iadd(this.m),A},M.prototype.shl=function(o,w){return this._verify1(o),this.imod(o.ushln(w))},M.prototype.imul=function(o,w){return this._verify2(o,w),this.imod(o.imul(w))},M.prototype.mul=function(o,w){return this._verify2(o,w),this.imod(o.mul(w))},M.prototype.isqr=function(o){return this.imul(o,o.clone())},M.prototype.sqr=function(o){return this.mul(o,o)},M.prototype.sqrt=function(o){if(o.isZero())return o.clone();var w=this.m.andln(3);if(N(w%2==1),w===3){var A=this.m.add(new c(1)).iushrn(2);return this.pow(o,A)}for(var U=this.m.subn(1),$=0;!U.isZero()&&U.andln(1)===0;)$++,U.iushrn(1);N(!U.isZero());var B=new c(1).toRed(this),Z=B.redNeg(),te=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new c(2*L*L).toRed(this);this.pow(L,te).cmp(Z)!==0;)L.redIAdd(Z);for(var re=this.pow(L,U),Le=this.pow(o,U.addn(1).iushrn(1)),_e=this.pow(o,U),Ce=$;_e.cmp(B)!==0;){for(var Me=_e,J=0;Me.cmp(B)!==0;J++)Me=Me.redSqr();N(J<Ce);var ee=this.pow(re,new c(1).iushln(Ce-J-1));Le=Le.redMul(ee),re=ee.redSqr(),_e=_e.redMul(re),Ce=J}return Le},M.prototype.invm=function(o){var w=o._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},M.prototype.pow=function(o,w){if(w.isZero())return new c(1).toRed(this);if(w.cmpn(1)===0)return o.clone();var A=4,U=new Array(1<<A);U[0]=new c(1).toRed(this),U[1]=o;for(var $=2;$<U.length;$++)U[$]=this.mul(U[$-1],o);var B=U[0],Z=0,te=0,L=w.bitLength()%26;for(L===0&&(L=26),$=w.length-1;$>=0;$--){for(var re=w.words[$],Le=L-1;Le>=0;Le--){var _e=re>>Le&1;if(B!==U[0]&&(B=this.sqr(B)),_e===0&&Z===0){te=0;continue}Z<<=1,Z|=_e,te++,!(te!==A&&($!==0||Le!==0))&&(B=this.mul(B,U[Z]),te=0,Z=0)}L=26}return B},M.prototype.convertTo=function(o){var w=o.umod(this.m);return w===o?w.clone():w},M.prototype.convertFrom=function(o){var w=o.clone();return w.red=null,w},c.mont=function(o){return new G(o)};function G(C){M.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k(G,M),G.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},G.prototype.convertFrom=function(o){var w=this.imod(o.mul(this.rinv));return w.red=null,w},G.prototype.imul=function(o,w){if(o.isZero()||w.isZero())return o.words[0]=0,o.length=1,o;var A=o.imul(w),U=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=A.isub(U).iushrn(this.shift),B=$;return $.cmp(this.m)>=0?B=$.isub(this.m):$.cmpn(0)<0&&(B=$.iadd(this.m)),B._forceRed(this)},G.prototype.mul=function(o,w){if(o.isZero()||w.isZero())return new c(0)._forceRed(this);var A=o.mul(w),U=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=A.isub(U).iushrn(this.shift),B=$;return $.cmp(this.m)>=0?B=$.isub(this.m):$.cmpn(0)<0&&(B=$.iadd(this.m)),B._forceRed(this)},G.prototype.invm=function(o){var w=this.imod(o._invmp(this.m).mul(this.r2));return w._forceRed(this)}}(a,this)},55715:(a,V,E)=>{"use strict";a.exports=E(62951)},20:(a,V,E)=>{"use strict";var R=E(92861).Buffer,P=E(47108),N=E(46737),k=E(56698),c=E(35359),l=E(74847),h=E(62951);Object.keys(h).forEach(function(f){h[f].id=R.from(h[f].id,"hex"),h[f.toLowerCase()]=h[f]});function p(f){N.Writable.call(this);var m=h[f];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=P(m.hash),this._tag=m.id,this._signType=m.sign}k(p,N.Writable),p.prototype._write=function(m,g,v){this._hash.update(m),v()},p.prototype.update=function(m,g){return this._hash.update(typeof m=="string"?R.from(m,g):m),this},p.prototype.sign=function(m,g){this.end();var v=this._hash.digest(),T=c(v,m,this._hashType,this._signType,this._tag);return g?T.toString(g):T};function _(f){N.Writable.call(this);var m=h[f];if(!m)throw new Error("Unknown message digest");this._hash=P(m.hash),this._tag=m.id,this._signType=m.sign}k(_,N.Writable),_.prototype._write=function(m,g,v){this._hash.update(m),v()},_.prototype.update=function(m,g){return this._hash.update(typeof m=="string"?R.from(m,g):m),this},_.prototype.verify=function(m,g,v){var T=typeof g=="string"?R.from(g,v):g;this.end();var S=this._hash.digest();return l(T,S,m,this._signType,this._tag)};function b(f){return new p(f)}function u(f){return new _(f)}a.exports={Sign:b,Verify:u,createSign:b,createVerify:u}},35359:(a,V,E)=>{"use strict";var R=E(92861).Buffer,P=E(83507),N=E(67332),k=E(86729).ec,c=E(26162),l=E(78170),h=E(64589),p=1;function _(x,D,z,q,H){var j=l(D);if(j.curve){if(q!=="ecdsa"&&q!=="ecdsa/rsa")throw new Error("wrong private key type");return b(x,j)}else if(j.type==="dsa"){if(q!=="dsa")throw new Error("wrong private key type");return u(x,j,z)}if(q!=="rsa"&&q!=="ecdsa/rsa")throw new Error("wrong private key type");if(D.padding!==void 0&&D.padding!==p)throw new Error("illegal or unsupported padding mode");x=R.concat([H,x]);for(var K=j.modulus.byteLength(),Y=[0,1];x.length+Y.length+1<K;)Y.push(255);Y.push(0);for(var ne=-1;++ne<x.length;)Y.push(x[ne]);var X=N(Y,j);return X}function b(x,D){var z=h[D.curve.join(".")];if(!z)throw new Error("unknown curve "+D.curve.join("."));var q=new k(z),H=q.keyFromPrivate(D.privateKey),j=H.sign(x);return R.from(j.toDER())}function u(x,D,z){for(var q=D.params.priv_key,H=D.params.p,j=D.params.q,K=D.params.g,Y=new c(0),ne,X=g(x,j).mod(j),M=!1,G=m(q,j,x,z);M===!1;)ne=T(j,G,z),Y=S(K,ne,H,j),M=ne.invm(j).imul(X.add(q.mul(Y))).mod(j),M.cmpn(0)===0&&(M=!1,Y=new c(0));return f(Y,M)}function f(x,D){x=x.toArray(),D=D.toArray(),x[0]&128&&(x=[0].concat(x)),D[0]&128&&(D=[0].concat(D));var z=x.length+D.length+4,q=[48,z,2,x.length];return q=q.concat(x,[2,D.length],D),R.from(q)}function m(x,D,z,q){if(x=R.from(x.toArray()),x.length<D.byteLength()){var H=R.alloc(D.byteLength()-x.length);x=R.concat([H,x])}var j=z.length,K=v(z,D),Y=R.alloc(j);Y.fill(1);var ne=R.alloc(j);return ne=P(q,ne).update(Y).update(R.from([0])).update(x).update(K).digest(),Y=P(q,ne).update(Y).digest(),ne=P(q,ne).update(Y).update(R.from([1])).update(x).update(K).digest(),Y=P(q,ne).update(Y).digest(),{k:ne,v:Y}}function g(x,D){var z=new c(x),q=(x.length<<3)-D.bitLength();return q>0&&z.ishrn(q),z}function v(x,D){x=g(x,D),x=x.mod(D);var z=R.from(x.toArray());if(z.length<D.byteLength()){var q=R.alloc(D.byteLength()-z.length);z=R.concat([q,z])}return z}function T(x,D,z){var q,H;do{for(q=R.alloc(0);q.length*8<x.bitLength();)D.v=P(z,D.k).update(D.v).digest(),q=R.concat([q,D.v]);H=g(q,x),D.k=P(z,D.k).update(D.v).update(R.from([0])).digest(),D.v=P(z,D.k).update(D.v).digest()}while(H.cmp(x)!==-1);return H}function S(x,D,z,q){return x.toRed(c.mont(z)).redPow(D).fromRed().mod(q)}a.exports=_,a.exports.getKey=m,a.exports.makeKey=T},74847:(a,V,E)=>{"use strict";var R=E(92861).Buffer,P=E(26162),N=E(86729).ec,k=E(78170),c=E(64589);function l(b,u,f,m,g){var v=k(f);if(v.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return h(b,u,v)}else if(v.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return p(b,u,v)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");u=R.concat([g,u]);for(var T=v.modulus.byteLength(),S=[1],x=0;u.length+S.length+2<T;)S.push(255),x+=1;S.push(0);for(var D=-1;++D<u.length;)S.push(u[D]);S=R.from(S);var z=P.mont(v.modulus);b=new P(b).toRed(z),b=b.redPow(new P(v.publicExponent)),b=R.from(b.fromRed().toArray());var q=x<8?1:0;for(T=Math.min(b.length,S.length),b.length!==S.length&&(q=1),D=-1;++D<T;)q|=b[D]^S[D];return q===0}function h(b,u,f){var m=c[f.data.algorithm.curve.join(".")];if(!m)throw new Error("unknown curve "+f.data.algorithm.curve.join("."));var g=new N(m),v=f.data.subjectPrivateKey.data;return g.verify(u,b,v)}function p(b,u,f){var m=f.data.p,g=f.data.q,v=f.data.g,T=f.data.pub_key,S=k.signature.decode(b,"der"),x=S.s,D=S.r;_(x,g),_(D,g);var z=P.mont(m),q=x.invm(g),H=v.toRed(z).redPow(new P(u).mul(q).mod(g)).fromRed().mul(T.toRed(z).redPow(D.mul(q).mod(g)).fromRed()).mod(m).mod(g);return H.cmp(D)===0}function _(b,u){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(u)>=0)throw new Error("invalid sig")}a.exports=l},26162:function(a,V,E){a=E.nmd(a),function(R,P){"use strict";function N(C,o){if(!C)throw new Error(o||"Assertion failed")}function k(C,o){C.super_=o;var w=function(){};w.prototype=o.prototype,C.prototype=new w,C.prototype.constructor=C}function c(C,o,w){if(c.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((o==="le"||o==="be")&&(w=o,o=10),this._init(C||0,o||10,w||"be"))}typeof R=="object"?R.exports=c:P.BN=c,c.BN=c,c.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=E(38664).Buffer}catch(C){}c.isBN=function(o){return o instanceof c?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===c.wordSize&&Array.isArray(o.words)},c.max=function(o,w){return o.cmp(w)>0?o:w},c.min=function(o,w){return o.cmp(w)<0?o:w},c.prototype._init=function(o,w,A){if(typeof o=="number")return this._initNumber(o,w,A);if(typeof o=="object")return this._initArray(o,w,A);w==="hex"&&(w=16),N(w===(w|0)&&w>=2&&w<=36),o=o.toString().replace(/\s+/g,"");var U=0;o[0]==="-"&&(U++,this.negative=1),U<o.length&&(w===16?this._parseHex(o,U,A):(this._parseBase(o,w,U),A==="le"&&this._initArray(this.toArray(),w,A)))},c.prototype._initNumber=function(o,w,A){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(N(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),w,A)},c.prototype._initArray=function(o,w,A){if(N(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var $,B,Z=0;if(A==="be")for(U=o.length-1,$=0;U>=0;U-=3)B=o[U]|o[U-1]<<8|o[U-2]<<16,this.words[$]|=B<<Z&67108863,this.words[$+1]=B>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,$++);else if(A==="le")for(U=0,$=0;U<o.length;U+=3)B=o[U]|o[U+1]<<8|o[U+2]<<16,this.words[$]|=B<<Z&67108863,this.words[$+1]=B>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,$++);return this._strip()};function h(C,o){var w=C.charCodeAt(o);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;N(!1,"Invalid character in "+C)}function p(C,o,w){var A=h(C,w);return w-1>=o&&(A|=h(C,w-1)<<4),A}c.prototype._parseHex=function(o,w,A){this.length=Math.ceil((o.length-w)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var $=0,B=0,Z;if(A==="be")for(U=o.length-1;U>=w;U-=2)Z=p(o,w,U)<<$,this.words[B]|=Z&67108863,$>=18?($-=18,B+=1,this.words[B]|=Z>>>26):$+=8;else{var te=o.length-w;for(U=te%2==0?w+1:w;U<o.length;U+=2)Z=p(o,w,U)<<$,this.words[B]|=Z&67108863,$>=18?($-=18,B+=1,this.words[B]|=Z>>>26):$+=8}this._strip()};function _(C,o,w,A){for(var U=0,$=0,B=Math.min(C.length,w),Z=o;Z<B;Z++){var te=C.charCodeAt(Z)-48;U*=A,te>=49?$=te-49+10:te>=17?$=te-17+10:$=te,N(te>=0&&$<A,"Invalid character"),U+=$}return U}c.prototype._parseBase=function(o,w,A){this.words=[0],this.length=1;for(var U=0,$=1;$<=67108863;$*=w)U++;U--,$=$/w|0;for(var B=o.length-A,Z=B%U,te=Math.min(B,B-Z)+A,L=0,re=A;re<te;re+=U)L=_(o,re,re+U,w),this.imuln($),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(Z!==0){var Le=1;for(L=_(o,re,o.length,w),re=0;re<Z;re++)Le*=w;this.imuln(Le),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this._strip()},c.prototype.copy=function(o){o.words=new Array(this.length);for(var w=0;w<this.length;w++)o.words[w]=this.words[w];o.length=this.length,o.negative=this.negative,o.red=this.red};function b(C,o){C.words=o.words,C.length=o.length,C.negative=o.negative,C.red=o.red}if(c.prototype._move=function(o){b(o,this)},c.prototype.clone=function(){var o=new c(null);return this.copy(o),o},c.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(C){c.prototype.inspect=u}else c.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(o,w){o=o||10,w=w|0||1;var A;if(o===16||o==="hex"){A="";for(var U=0,$=0,B=0;B<this.length;B++){var Z=this.words[B],te=((Z<<U|$)&16777215).toString(16);$=Z>>>24-U&16777215,U+=2,U>=26&&(U-=26,B--),$!==0||B!==this.length-1?A=f[6-te.length]+te+A:A=te+A}for($!==0&&(A=$.toString(16)+A);A.length%w!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(o===(o|0)&&o>=2&&o<=36){var L=m[o],re=g[o];A="";var Le=this.clone();for(Le.negative=0;!Le.isZero();){var _e=Le.modrn(re).toString(o);Le=Le.idivn(re),Le.isZero()?A=_e+A:A=f[L-_e.length]+_e+A}for(this.isZero()&&(A="0"+A);A.length%w!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}N(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},c.prototype.toJSON=function(){return this.toString(16,2)},l&&(c.prototype.toBuffer=function(o,w){return this.toArrayLike(l,o,w)}),c.prototype.toArray=function(o,w){return this.toArrayLike(Array,o,w)};var v=function(o,w){return o.allocUnsafe?o.allocUnsafe(w):new o(w)};c.prototype.toArrayLike=function(o,w,A){this._strip();var U=this.byteLength(),$=A||Math.max(1,U);N(U<=$,"byte array longer than desired length"),N($>0,"Requested array length <= 0");var B=v(o,$),Z=w==="le"?"LE":"BE";return this["_toArrayLike"+Z](B,U),B},c.prototype._toArrayLikeLE=function(o,w){for(var A=0,U=0,$=0,B=0;$<this.length;$++){var Z=this.words[$]<<B|U;o[A++]=Z&255,A<o.length&&(o[A++]=Z>>8&255),A<o.length&&(o[A++]=Z>>16&255),B===6?(A<o.length&&(o[A++]=Z>>24&255),U=0,B=0):(U=Z>>>24,B+=2)}if(A<o.length)for(o[A++]=U;A<o.length;)o[A++]=0},c.prototype._toArrayLikeBE=function(o,w){for(var A=o.length-1,U=0,$=0,B=0;$<this.length;$++){var Z=this.words[$]<<B|U;o[A--]=Z&255,A>=0&&(o[A--]=Z>>8&255),A>=0&&(o[A--]=Z>>16&255),B===6?(A>=0&&(o[A--]=Z>>24&255),U=0,B=0):(U=Z>>>24,B+=2)}if(A>=0)for(o[A--]=U;A>=0;)o[A--]=0},Math.clz32?c.prototype._countBits=function(o){return 32-Math.clz32(o)}:c.prototype._countBits=function(o){var w=o,A=0;return w>=4096&&(A+=13,w>>>=13),w>=64&&(A+=7,w>>>=7),w>=8&&(A+=4,w>>>=4),w>=2&&(A+=2,w>>>=2),A+w},c.prototype._zeroBits=function(o){if(o===0)return 26;var w=o,A=0;return(w&8191)==0&&(A+=13,w>>>=13),(w&127)==0&&(A+=7,w>>>=7),(w&15)==0&&(A+=4,w>>>=4),(w&3)==0&&(A+=2,w>>>=2),(w&1)==0&&A++,A},c.prototype.bitLength=function(){var o=this.words[this.length-1],w=this._countBits(o);return(this.length-1)*26+w};function T(C){for(var o=new Array(C.bitLength()),w=0;w<o.length;w++){var A=w/26|0,U=w%26;o[w]=C.words[A]>>>U&1}return o}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,w=0;w<this.length;w++){var A=this._zeroBits(this.words[w]);if(o+=A,A!==26)break}return o},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},c.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var w=0;w<o.length;w++)this.words[w]=this.words[w]|o.words[w];return this._strip()},c.prototype.ior=function(o){return N((this.negative|o.negative)==0),this.iuor(o)},c.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},c.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},c.prototype.iuand=function(o){var w;this.length>o.length?w=o:w=this;for(var A=0;A<w.length;A++)this.words[A]=this.words[A]&o.words[A];return this.length=w.length,this._strip()},c.prototype.iand=function(o){return N((this.negative|o.negative)==0),this.iuand(o)},c.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},c.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},c.prototype.iuxor=function(o){var w,A;this.length>o.length?(w=this,A=o):(w=o,A=this);for(var U=0;U<A.length;U++)this.words[U]=w.words[U]^A.words[U];if(this!==w)for(;U<w.length;U++)this.words[U]=w.words[U];return this.length=w.length,this._strip()},c.prototype.ixor=function(o){return N((this.negative|o.negative)==0),this.iuxor(o)},c.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},c.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},c.prototype.inotn=function(o){N(typeof o=="number"&&o>=0);var w=Math.ceil(o/26)|0,A=o%26;this._expand(w),A>0&&w--;for(var U=0;U<w;U++)this.words[U]=~this.words[U]&67108863;return A>0&&(this.words[U]=~this.words[U]&67108863>>26-A),this._strip()},c.prototype.notn=function(o){return this.clone().inotn(o)},c.prototype.setn=function(o,w){N(typeof o=="number"&&o>=0);var A=o/26|0,U=o%26;return this._expand(A+1),w?this.words[A]=this.words[A]|1<<U:this.words[A]=this.words[A]&~(1<<U),this._strip()},c.prototype.iadd=function(o){var w;if(this.negative!==0&&o.negative===0)return this.negative=0,w=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,w=this.isub(o),o.negative=1,w._normSign();var A,U;this.length>o.length?(A=this,U=o):(A=o,U=this);for(var $=0,B=0;B<U.length;B++)w=(A.words[B]|0)+(U.words[B]|0)+$,this.words[B]=w&67108863,$=w>>>26;for(;$!==0&&B<A.length;B++)w=(A.words[B]|0)+$,this.words[B]=w&67108863,$=w>>>26;if(this.length=A.length,$!==0)this.words[this.length]=$,this.length++;else if(A!==this)for(;B<A.length;B++)this.words[B]=A.words[B];return this},c.prototype.add=function(o){var w;return o.negative!==0&&this.negative===0?(o.negative=0,w=this.sub(o),o.negative^=1,w):o.negative===0&&this.negative!==0?(this.negative=0,w=o.sub(this),this.negative=1,w):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},c.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var w=this.iadd(o);return o.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var A=this.cmp(o);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,$;A>0?(U=this,$=o):(U=o,$=this);for(var B=0,Z=0;Z<$.length;Z++)w=(U.words[Z]|0)-($.words[Z]|0)+B,B=w>>26,this.words[Z]=w&67108863;for(;B!==0&&Z<U.length;Z++)w=(U.words[Z]|0)+B,B=w>>26,this.words[Z]=w&67108863;if(B===0&&Z<U.length&&U!==this)for(;Z<U.length;Z++)this.words[Z]=U.words[Z];return this.length=Math.max(this.length,Z),U!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(o){return this.clone().isub(o)};function S(C,o,w){w.negative=o.negative^C.negative;var A=C.length+o.length|0;w.length=A,A=A-1|0;var U=C.words[0]|0,$=o.words[0]|0,B=U*$,Z=B&67108863,te=B/67108864|0;w.words[0]=Z;for(var L=1;L<A;L++){for(var re=te>>>26,Le=te&67108863,_e=Math.min(L,o.length-1),Ce=Math.max(0,L-C.length+1);Ce<=_e;Ce++){var Me=L-Ce|0;U=C.words[Me]|0,$=o.words[Ce]|0,B=U*$+Le,re+=B/67108864|0,Le=B&67108863}w.words[L]=Le|0,te=re|0}return te!==0?w.words[L]=te|0:w.length--,w._strip()}var x=function(o,w,A){var U=o.words,$=w.words,B=A.words,Z=0,te,L,re,Le=U[0]|0,_e=Le&8191,Ce=Le>>>13,Me=U[1]|0,J=Me&8191,ee=Me>>>13,ce=U[2]|0,me=ce&8191,Se=ce>>>13,O=U[3]|0,I=O&8191,se=O>>>13,ve=U[4]|0,we=ve&8191,ge=ve>>>13,xe=U[5]|0,Ge=xe&8191,ze=xe>>>13,Et=U[6]|0,tt=Et&8191,at=Et>>>13,Tt=U[7]|0,ue=Tt&8191,Q=Tt>>>13,ae=U[8]|0,be=ae&8191,De=ae>>>13,Ke=U[9]|0,Ue=Ke&8191,et=Ke>>>13,qt=$[0]|0,ot=qt&8191,ut=qt>>>13,bt=$[1]|0,Xe=bt&8191,_t=bt>>>13,vi=$[2]|0,kt=vi&8191,Nt=vi>>>13,zi=$[3]|0,It=zi&8191,Ht=zi>>>13,jn=$[4]|0,Yt=jn&8191,jt=jn>>>13,Ln=$[5]|0,Kt=Ln&8191,Zt=Ln>>>13,Ji=$[6]|0,Oe=Ji&8191,We=Ji>>>13,wt=$[7]|0,ct=wt&8191,gt=wt>>>13,si=$[8]|0,xt=si&8191,Ut=si>>>13,Ft=$[9]|0,pt=Ft&8191,St=Ft>>>13;A.negative=o.negative^w.negative,A.length=19,te=Math.imul(_e,ot),L=Math.imul(_e,ut),L=L+Math.imul(Ce,ot)|0,re=Math.imul(Ce,ut);var Mt=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,te=Math.imul(J,ot),L=Math.imul(J,ut),L=L+Math.imul(ee,ot)|0,re=Math.imul(ee,ut),te=te+Math.imul(_e,Xe)|0,L=L+Math.imul(_e,_t)|0,L=L+Math.imul(Ce,Xe)|0,re=re+Math.imul(Ce,_t)|0;var mi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(mi>>>26)|0,mi&=67108863,te=Math.imul(me,ot),L=Math.imul(me,ut),L=L+Math.imul(Se,ot)|0,re=Math.imul(Se,ut),te=te+Math.imul(J,Xe)|0,L=L+Math.imul(J,_t)|0,L=L+Math.imul(ee,Xe)|0,re=re+Math.imul(ee,_t)|0,te=te+Math.imul(_e,kt)|0,L=L+Math.imul(_e,Nt)|0,L=L+Math.imul(Ce,kt)|0,re=re+Math.imul(Ce,Nt)|0;var ii=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(ii>>>26)|0,ii&=67108863,te=Math.imul(I,ot),L=Math.imul(I,ut),L=L+Math.imul(se,ot)|0,re=Math.imul(se,ut),te=te+Math.imul(me,Xe)|0,L=L+Math.imul(me,_t)|0,L=L+Math.imul(Se,Xe)|0,re=re+Math.imul(Se,_t)|0,te=te+Math.imul(J,kt)|0,L=L+Math.imul(J,Nt)|0,L=L+Math.imul(ee,kt)|0,re=re+Math.imul(ee,Nt)|0,te=te+Math.imul(_e,It)|0,L=L+Math.imul(_e,Ht)|0,L=L+Math.imul(Ce,It)|0,re=re+Math.imul(Ce,Ht)|0;var Lt=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,te=Math.imul(we,ot),L=Math.imul(we,ut),L=L+Math.imul(ge,ot)|0,re=Math.imul(ge,ut),te=te+Math.imul(I,Xe)|0,L=L+Math.imul(I,_t)|0,L=L+Math.imul(se,Xe)|0,re=re+Math.imul(se,_t)|0,te=te+Math.imul(me,kt)|0,L=L+Math.imul(me,Nt)|0,L=L+Math.imul(Se,kt)|0,re=re+Math.imul(Se,Nt)|0,te=te+Math.imul(J,It)|0,L=L+Math.imul(J,Ht)|0,L=L+Math.imul(ee,It)|0,re=re+Math.imul(ee,Ht)|0,te=te+Math.imul(_e,Yt)|0,L=L+Math.imul(_e,jt)|0,L=L+Math.imul(Ce,Yt)|0,re=re+Math.imul(Ce,jt)|0;var ai=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(ai>>>26)|0,ai&=67108863,te=Math.imul(Ge,ot),L=Math.imul(Ge,ut),L=L+Math.imul(ze,ot)|0,re=Math.imul(ze,ut),te=te+Math.imul(we,Xe)|0,L=L+Math.imul(we,_t)|0,L=L+Math.imul(ge,Xe)|0,re=re+Math.imul(ge,_t)|0,te=te+Math.imul(I,kt)|0,L=L+Math.imul(I,Nt)|0,L=L+Math.imul(se,kt)|0,re=re+Math.imul(se,Nt)|0,te=te+Math.imul(me,It)|0,L=L+Math.imul(me,Ht)|0,L=L+Math.imul(Se,It)|0,re=re+Math.imul(Se,Ht)|0,te=te+Math.imul(J,Yt)|0,L=L+Math.imul(J,jt)|0,L=L+Math.imul(ee,Yt)|0,re=re+Math.imul(ee,jt)|0,te=te+Math.imul(_e,Kt)|0,L=L+Math.imul(_e,Zt)|0,L=L+Math.imul(Ce,Kt)|0,re=re+Math.imul(Ce,Zt)|0;var gi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(gi>>>26)|0,gi&=67108863,te=Math.imul(tt,ot),L=Math.imul(tt,ut),L=L+Math.imul(at,ot)|0,re=Math.imul(at,ut),te=te+Math.imul(Ge,Xe)|0,L=L+Math.imul(Ge,_t)|0,L=L+Math.imul(ze,Xe)|0,re=re+Math.imul(ze,_t)|0,te=te+Math.imul(we,kt)|0,L=L+Math.imul(we,Nt)|0,L=L+Math.imul(ge,kt)|0,re=re+Math.imul(ge,Nt)|0,te=te+Math.imul(I,It)|0,L=L+Math.imul(I,Ht)|0,L=L+Math.imul(se,It)|0,re=re+Math.imul(se,Ht)|0,te=te+Math.imul(me,Yt)|0,L=L+Math.imul(me,jt)|0,L=L+Math.imul(Se,Yt)|0,re=re+Math.imul(Se,jt)|0,te=te+Math.imul(J,Kt)|0,L=L+Math.imul(J,Zt)|0,L=L+Math.imul(ee,Kt)|0,re=re+Math.imul(ee,Zt)|0,te=te+Math.imul(_e,Oe)|0,L=L+Math.imul(_e,We)|0,L=L+Math.imul(Ce,Oe)|0,re=re+Math.imul(Ce,We)|0;var Mi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,te=Math.imul(ue,ot),L=Math.imul(ue,ut),L=L+Math.imul(Q,ot)|0,re=Math.imul(Q,ut),te=te+Math.imul(tt,Xe)|0,L=L+Math.imul(tt,_t)|0,L=L+Math.imul(at,Xe)|0,re=re+Math.imul(at,_t)|0,te=te+Math.imul(Ge,kt)|0,L=L+Math.imul(Ge,Nt)|0,L=L+Math.imul(ze,kt)|0,re=re+Math.imul(ze,Nt)|0,te=te+Math.imul(we,It)|0,L=L+Math.imul(we,Ht)|0,L=L+Math.imul(ge,It)|0,re=re+Math.imul(ge,Ht)|0,te=te+Math.imul(I,Yt)|0,L=L+Math.imul(I,jt)|0,L=L+Math.imul(se,Yt)|0,re=re+Math.imul(se,jt)|0,te=te+Math.imul(me,Kt)|0,L=L+Math.imul(me,Zt)|0,L=L+Math.imul(Se,Kt)|0,re=re+Math.imul(Se,Zt)|0,te=te+Math.imul(J,Oe)|0,L=L+Math.imul(J,We)|0,L=L+Math.imul(ee,Oe)|0,re=re+Math.imul(ee,We)|0,te=te+Math.imul(_e,ct)|0,L=L+Math.imul(_e,gt)|0,L=L+Math.imul(Ce,ct)|0,re=re+Math.imul(Ce,gt)|0;var xi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(xi>>>26)|0,xi&=67108863,te=Math.imul(be,ot),L=Math.imul(be,ut),L=L+Math.imul(De,ot)|0,re=Math.imul(De,ut),te=te+Math.imul(ue,Xe)|0,L=L+Math.imul(ue,_t)|0,L=L+Math.imul(Q,Xe)|0,re=re+Math.imul(Q,_t)|0,te=te+Math.imul(tt,kt)|0,L=L+Math.imul(tt,Nt)|0,L=L+Math.imul(at,kt)|0,re=re+Math.imul(at,Nt)|0,te=te+Math.imul(Ge,It)|0,L=L+Math.imul(Ge,Ht)|0,L=L+Math.imul(ze,It)|0,re=re+Math.imul(ze,Ht)|0,te=te+Math.imul(we,Yt)|0,L=L+Math.imul(we,jt)|0,L=L+Math.imul(ge,Yt)|0,re=re+Math.imul(ge,jt)|0,te=te+Math.imul(I,Kt)|0,L=L+Math.imul(I,Zt)|0,L=L+Math.imul(se,Kt)|0,re=re+Math.imul(se,Zt)|0,te=te+Math.imul(me,Oe)|0,L=L+Math.imul(me,We)|0,L=L+Math.imul(Se,Oe)|0,re=re+Math.imul(Se,We)|0,te=te+Math.imul(J,ct)|0,L=L+Math.imul(J,gt)|0,L=L+Math.imul(ee,ct)|0,re=re+Math.imul(ee,gt)|0,te=te+Math.imul(_e,xt)|0,L=L+Math.imul(_e,Ut)|0,L=L+Math.imul(Ce,xt)|0,re=re+Math.imul(Ce,Ut)|0;var Wi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,te=Math.imul(Ue,ot),L=Math.imul(Ue,ut),L=L+Math.imul(et,ot)|0,re=Math.imul(et,ut),te=te+Math.imul(be,Xe)|0,L=L+Math.imul(be,_t)|0,L=L+Math.imul(De,Xe)|0,re=re+Math.imul(De,_t)|0,te=te+Math.imul(ue,kt)|0,L=L+Math.imul(ue,Nt)|0,L=L+Math.imul(Q,kt)|0,re=re+Math.imul(Q,Nt)|0,te=te+Math.imul(tt,It)|0,L=L+Math.imul(tt,Ht)|0,L=L+Math.imul(at,It)|0,re=re+Math.imul(at,Ht)|0,te=te+Math.imul(Ge,Yt)|0,L=L+Math.imul(Ge,jt)|0,L=L+Math.imul(ze,Yt)|0,re=re+Math.imul(ze,jt)|0,te=te+Math.imul(we,Kt)|0,L=L+Math.imul(we,Zt)|0,L=L+Math.imul(ge,Kt)|0,re=re+Math.imul(ge,Zt)|0,te=te+Math.imul(I,Oe)|0,L=L+Math.imul(I,We)|0,L=L+Math.imul(se,Oe)|0,re=re+Math.imul(se,We)|0,te=te+Math.imul(me,ct)|0,L=L+Math.imul(me,gt)|0,L=L+Math.imul(Se,ct)|0,re=re+Math.imul(Se,gt)|0,te=te+Math.imul(J,xt)|0,L=L+Math.imul(J,Ut)|0,L=L+Math.imul(ee,xt)|0,re=re+Math.imul(ee,Ut)|0,te=te+Math.imul(_e,pt)|0,L=L+Math.imul(_e,St)|0,L=L+Math.imul(Ce,pt)|0,re=re+Math.imul(Ce,St)|0;var Ui=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,te=Math.imul(Ue,Xe),L=Math.imul(Ue,_t),L=L+Math.imul(et,Xe)|0,re=Math.imul(et,_t),te=te+Math.imul(be,kt)|0,L=L+Math.imul(be,Nt)|0,L=L+Math.imul(De,kt)|0,re=re+Math.imul(De,Nt)|0,te=te+Math.imul(ue,It)|0,L=L+Math.imul(ue,Ht)|0,L=L+Math.imul(Q,It)|0,re=re+Math.imul(Q,Ht)|0,te=te+Math.imul(tt,Yt)|0,L=L+Math.imul(tt,jt)|0,L=L+Math.imul(at,Yt)|0,re=re+Math.imul(at,jt)|0,te=te+Math.imul(Ge,Kt)|0,L=L+Math.imul(Ge,Zt)|0,L=L+Math.imul(ze,Kt)|0,re=re+Math.imul(ze,Zt)|0,te=te+Math.imul(we,Oe)|0,L=L+Math.imul(we,We)|0,L=L+Math.imul(ge,Oe)|0,re=re+Math.imul(ge,We)|0,te=te+Math.imul(I,ct)|0,L=L+Math.imul(I,gt)|0,L=L+Math.imul(se,ct)|0,re=re+Math.imul(se,gt)|0,te=te+Math.imul(me,xt)|0,L=L+Math.imul(me,Ut)|0,L=L+Math.imul(Se,xt)|0,re=re+Math.imul(Se,Ut)|0,te=te+Math.imul(J,pt)|0,L=L+Math.imul(J,St)|0,L=L+Math.imul(ee,pt)|0,re=re+Math.imul(ee,St)|0;var Ni=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,te=Math.imul(Ue,kt),L=Math.imul(Ue,Nt),L=L+Math.imul(et,kt)|0,re=Math.imul(et,Nt),te=te+Math.imul(be,It)|0,L=L+Math.imul(be,Ht)|0,L=L+Math.imul(De,It)|0,re=re+Math.imul(De,Ht)|0,te=te+Math.imul(ue,Yt)|0,L=L+Math.imul(ue,jt)|0,L=L+Math.imul(Q,Yt)|0,re=re+Math.imul(Q,jt)|0,te=te+Math.imul(tt,Kt)|0,L=L+Math.imul(tt,Zt)|0,L=L+Math.imul(at,Kt)|0,re=re+Math.imul(at,Zt)|0,te=te+Math.imul(Ge,Oe)|0,L=L+Math.imul(Ge,We)|0,L=L+Math.imul(ze,Oe)|0,re=re+Math.imul(ze,We)|0,te=te+Math.imul(we,ct)|0,L=L+Math.imul(we,gt)|0,L=L+Math.imul(ge,ct)|0,re=re+Math.imul(ge,gt)|0,te=te+Math.imul(I,xt)|0,L=L+Math.imul(I,Ut)|0,L=L+Math.imul(se,xt)|0,re=re+Math.imul(se,Ut)|0,te=te+Math.imul(me,pt)|0,L=L+Math.imul(me,St)|0,L=L+Math.imul(Se,pt)|0,re=re+Math.imul(Se,St)|0;var Oi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,te=Math.imul(Ue,It),L=Math.imul(Ue,Ht),L=L+Math.imul(et,It)|0,re=Math.imul(et,Ht),te=te+Math.imul(be,Yt)|0,L=L+Math.imul(be,jt)|0,L=L+Math.imul(De,Yt)|0,re=re+Math.imul(De,jt)|0,te=te+Math.imul(ue,Kt)|0,L=L+Math.imul(ue,Zt)|0,L=L+Math.imul(Q,Kt)|0,re=re+Math.imul(Q,Zt)|0,te=te+Math.imul(tt,Oe)|0,L=L+Math.imul(tt,We)|0,L=L+Math.imul(at,Oe)|0,re=re+Math.imul(at,We)|0,te=te+Math.imul(Ge,ct)|0,L=L+Math.imul(Ge,gt)|0,L=L+Math.imul(ze,ct)|0,re=re+Math.imul(ze,gt)|0,te=te+Math.imul(we,xt)|0,L=L+Math.imul(we,Ut)|0,L=L+Math.imul(ge,xt)|0,re=re+Math.imul(ge,Ut)|0,te=te+Math.imul(I,pt)|0,L=L+Math.imul(I,St)|0,L=L+Math.imul(se,pt)|0,re=re+Math.imul(se,St)|0;var Vt=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,te=Math.imul(Ue,Yt),L=Math.imul(Ue,jt),L=L+Math.imul(et,Yt)|0,re=Math.imul(et,jt),te=te+Math.imul(be,Kt)|0,L=L+Math.imul(be,Zt)|0,L=L+Math.imul(De,Kt)|0,re=re+Math.imul(De,Zt)|0,te=te+Math.imul(ue,Oe)|0,L=L+Math.imul(ue,We)|0,L=L+Math.imul(Q,Oe)|0,re=re+Math.imul(Q,We)|0,te=te+Math.imul(tt,ct)|0,L=L+Math.imul(tt,gt)|0,L=L+Math.imul(at,ct)|0,re=re+Math.imul(at,gt)|0,te=te+Math.imul(Ge,xt)|0,L=L+Math.imul(Ge,Ut)|0,L=L+Math.imul(ze,xt)|0,re=re+Math.imul(ze,Ut)|0,te=te+Math.imul(we,pt)|0,L=L+Math.imul(we,St)|0,L=L+Math.imul(ge,pt)|0,re=re+Math.imul(ge,St)|0;var ri=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(ri>>>26)|0,ri&=67108863,te=Math.imul(Ue,Kt),L=Math.imul(Ue,Zt),L=L+Math.imul(et,Kt)|0,re=Math.imul(et,Zt),te=te+Math.imul(be,Oe)|0,L=L+Math.imul(be,We)|0,L=L+Math.imul(De,Oe)|0,re=re+Math.imul(De,We)|0,te=te+Math.imul(ue,ct)|0,L=L+Math.imul(ue,gt)|0,L=L+Math.imul(Q,ct)|0,re=re+Math.imul(Q,gt)|0,te=te+Math.imul(tt,xt)|0,L=L+Math.imul(tt,Ut)|0,L=L+Math.imul(at,xt)|0,re=re+Math.imul(at,Ut)|0,te=te+Math.imul(Ge,pt)|0,L=L+Math.imul(Ge,St)|0,L=L+Math.imul(ze,pt)|0,re=re+Math.imul(ze,St)|0;var Ri=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,te=Math.imul(Ue,Oe),L=Math.imul(Ue,We),L=L+Math.imul(et,Oe)|0,re=Math.imul(et,We),te=te+Math.imul(be,ct)|0,L=L+Math.imul(be,gt)|0,L=L+Math.imul(De,ct)|0,re=re+Math.imul(De,gt)|0,te=te+Math.imul(ue,xt)|0,L=L+Math.imul(ue,Ut)|0,L=L+Math.imul(Q,xt)|0,re=re+Math.imul(Q,Ut)|0,te=te+Math.imul(tt,pt)|0,L=L+Math.imul(tt,St)|0,L=L+Math.imul(at,pt)|0,re=re+Math.imul(at,St)|0;var Hi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,te=Math.imul(Ue,ct),L=Math.imul(Ue,gt),L=L+Math.imul(et,ct)|0,re=Math.imul(et,gt),te=te+Math.imul(be,xt)|0,L=L+Math.imul(be,Ut)|0,L=L+Math.imul(De,xt)|0,re=re+Math.imul(De,Ut)|0,te=te+Math.imul(ue,pt)|0,L=L+Math.imul(ue,St)|0,L=L+Math.imul(Q,pt)|0,re=re+Math.imul(Q,St)|0;var bi=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(bi>>>26)|0,bi&=67108863,te=Math.imul(Ue,xt),L=Math.imul(Ue,Ut),L=L+Math.imul(et,xt)|0,re=Math.imul(et,Ut),te=te+Math.imul(be,pt)|0,L=L+Math.imul(be,St)|0,L=L+Math.imul(De,pt)|0,re=re+Math.imul(De,St)|0;var Ai=(Z+te|0)+((L&8191)<<13)|0;Z=(re+(L>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,te=Math.imul(Ue,pt),L=Math.imul(Ue,St),L=L+Math.imul(et,pt)|0,re=Math.imul(et,St);var $i=(Z+te|0)+((L&8191)<<13)|0;return Z=(re+(L>>>13)|0)+($i>>>26)|0,$i&=67108863,B[0]=Mt,B[1]=mi,B[2]=ii,B[3]=Lt,B[4]=ai,B[5]=gi,B[6]=Mi,B[7]=xi,B[8]=Wi,B[9]=Ui,B[10]=Ni,B[11]=Oi,B[12]=Vt,B[13]=ri,B[14]=Ri,B[15]=Hi,B[16]=bi,B[17]=Ai,B[18]=$i,Z!==0&&(B[19]=Z,A.length++),A};Math.imul||(x=S);function D(C,o,w){w.negative=o.negative^C.negative,w.length=C.length+o.length;for(var A=0,U=0,$=0;$<w.length-1;$++){var B=U;U=0;for(var Z=A&67108863,te=Math.min($,o.length-1),L=Math.max(0,$-C.length+1);L<=te;L++){var re=$-L,Le=C.words[re]|0,_e=o.words[L]|0,Ce=Le*_e,Me=Ce&67108863;B=B+(Ce/67108864|0)|0,Me=Me+Z|0,Z=Me&67108863,B=B+(Me>>>26)|0,U+=B>>>26,B&=67108863}w.words[$]=Z,A=B,B=U}return A!==0?w.words[$]=A:w.length--,w._strip()}function z(C,o,w){return D(C,o,w)}c.prototype.mulTo=function(o,w){var A,U=this.length+o.length;return this.length===10&&o.length===10?A=x(this,o,w):U<63?A=S(this,o,w):U<1024?A=D(this,o,w):A=z(this,o,w),A};function q(C,o){this.x=C,this.y=o}q.prototype.makeRBT=function(o){for(var w=new Array(o),A=c.prototype._countBits(o)-1,U=0;U<o;U++)w[U]=this.revBin(U,A,o);return w},q.prototype.revBin=function(o,w,A){if(o===0||o===A-1)return o;for(var U=0,$=0;$<w;$++)U|=(o&1)<<w-$-1,o>>=1;return U},q.prototype.permute=function(o,w,A,U,$,B){for(var Z=0;Z<B;Z++)U[Z]=w[o[Z]],$[Z]=A[o[Z]]},q.prototype.transform=function(o,w,A,U,$,B){this.permute(B,o,w,A,U,$);for(var Z=1;Z<$;Z<<=1)for(var te=Z<<1,L=Math.cos(2*Math.PI/te),re=Math.sin(2*Math.PI/te),Le=0;Le<$;Le+=te)for(var _e=L,Ce=re,Me=0;Me<Z;Me++){var J=A[Le+Me],ee=U[Le+Me],ce=A[Le+Me+Z],me=U[Le+Me+Z],Se=_e*ce-Ce*me;me=_e*me+Ce*ce,ce=Se,A[Le+Me]=J+ce,U[Le+Me]=ee+me,A[Le+Me+Z]=J-ce,U[Le+Me+Z]=ee-me,Me!==te&&(Se=L*_e-re*Ce,Ce=L*Ce+re*_e,_e=Se)}},q.prototype.guessLen13b=function(o,w){var A=Math.max(w,o)|1,U=A&1,$=0;for(A=A/2|0;A;A=A>>>1)$++;return 1<<$+1+U},q.prototype.conjugate=function(o,w,A){if(!(A<=1))for(var U=0;U<A/2;U++){var $=o[U];o[U]=o[A-U-1],o[A-U-1]=$,$=w[U],w[U]=-w[A-U-1],w[A-U-1]=-$}},q.prototype.normalize13b=function(o,w){for(var A=0,U=0;U<w/2;U++){var $=Math.round(o[2*U+1]/w)*8192+Math.round(o[2*U]/w)+A;o[U]=$&67108863,$<67108864?A=0:A=$/67108864|0}return o},q.prototype.convert13b=function(o,w,A,U){for(var $=0,B=0;B<w;B++)$=$+(o[B]|0),A[2*B]=$&8191,$=$>>>13,A[2*B+1]=$&8191,$=$>>>13;for(B=2*w;B<U;++B)A[B]=0;N($===0),N(($&~8191)==0)},q.prototype.stub=function(o){for(var w=new Array(o),A=0;A<o;A++)w[A]=0;return w},q.prototype.mulp=function(o,w,A){var U=2*this.guessLen13b(o.length,w.length),$=this.makeRBT(U),B=this.stub(U),Z=new Array(U),te=new Array(U),L=new Array(U),re=new Array(U),Le=new Array(U),_e=new Array(U),Ce=A.words;Ce.length=U,this.convert13b(o.words,o.length,Z,U),this.convert13b(w.words,w.length,re,U),this.transform(Z,B,te,L,U,$),this.transform(re,B,Le,_e,U,$);for(var Me=0;Me<U;Me++){var J=te[Me]*Le[Me]-L[Me]*_e[Me];L[Me]=te[Me]*_e[Me]+L[Me]*Le[Me],te[Me]=J}return this.conjugate(te,L,U),this.transform(te,L,Ce,B,U,$),this.conjugate(Ce,B,U),this.normalize13b(Ce,U),A.negative=o.negative^w.negative,A.length=o.length+w.length,A._strip()},c.prototype.mul=function(o){var w=new c(null);return w.words=new Array(this.length+o.length),this.mulTo(o,w)},c.prototype.mulf=function(o){var w=new c(null);return w.words=new Array(this.length+o.length),z(this,o,w)},c.prototype.imul=function(o){return this.clone().mulTo(o,this)},c.prototype.imuln=function(o){var w=o<0;w&&(o=-o),N(typeof o=="number"),N(o<67108864);for(var A=0,U=0;U<this.length;U++){var $=(this.words[U]|0)*o,B=($&67108863)+(A&67108863);A>>=26,A+=$/67108864|0,A+=B>>>26,this.words[U]=B&67108863}return A!==0&&(this.words[U]=A,this.length++),w?this.ineg():this},c.prototype.muln=function(o){return this.clone().imuln(o)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(o){var w=T(o);if(w.length===0)return new c(1);for(var A=this,U=0;U<w.length&&w[U]===0;U++,A=A.sqr());if(++U<w.length)for(var $=A.sqr();U<w.length;U++,$=$.sqr())w[U]!==0&&(A=A.mul($));return A},c.prototype.iushln=function(o){N(typeof o=="number"&&o>=0);var w=o%26,A=(o-w)/26,U=67108863>>>26-w<<26-w,$;if(w!==0){var B=0;for($=0;$<this.length;$++){var Z=this.words[$]&U,te=(this.words[$]|0)-Z<<w;this.words[$]=te|B,B=Z>>>26-w}B&&(this.words[$]=B,this.length++)}if(A!==0){for($=this.length-1;$>=0;$--)this.words[$+A]=this.words[$];for($=0;$<A;$++)this.words[$]=0;this.length+=A}return this._strip()},c.prototype.ishln=function(o){return N(this.negative===0),this.iushln(o)},c.prototype.iushrn=function(o,w,A){N(typeof o=="number"&&o>=0);var U;w?U=(w-w%26)/26:U=0;var $=o%26,B=Math.min((o-$)/26,this.length),Z=67108863^67108863>>>$<<$,te=A;if(U-=B,U=Math.max(0,U),te){for(var L=0;L<B;L++)te.words[L]=this.words[L];te.length=B}if(B!==0)if(this.length>B)for(this.length-=B,L=0;L<this.length;L++)this.words[L]=this.words[L+B];else this.words[0]=0,this.length=1;var re=0;for(L=this.length-1;L>=0&&(re!==0||L>=U);L--){var Le=this.words[L]|0;this.words[L]=re<<26-$|Le>>>$,re=Le&Z}return te&&re!==0&&(te.words[te.length++]=re),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(o,w,A){return N(this.negative===0),this.iushrn(o,w,A)},c.prototype.shln=function(o){return this.clone().ishln(o)},c.prototype.ushln=function(o){return this.clone().iushln(o)},c.prototype.shrn=function(o){return this.clone().ishrn(o)},c.prototype.ushrn=function(o){return this.clone().iushrn(o)},c.prototype.testn=function(o){N(typeof o=="number"&&o>=0);var w=o%26,A=(o-w)/26,U=1<<w;if(this.length<=A)return!1;var $=this.words[A];return!!($&U)},c.prototype.imaskn=function(o){N(typeof o=="number"&&o>=0);var w=o%26,A=(o-w)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(w!==0&&A++,this.length=Math.min(A,this.length),w!==0){var U=67108863^67108863>>>w<<w;this.words[this.length-1]&=U}return this._strip()},c.prototype.maskn=function(o){return this.clone().imaskn(o)},c.prototype.iaddn=function(o){return N(typeof o=="number"),N(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},c.prototype._iaddn=function(o){this.words[0]+=o;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},c.prototype.isubn=function(o){if(N(typeof o=="number"),N(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},c.prototype.addn=function(o){return this.clone().iaddn(o)},c.prototype.subn=function(o){return this.clone().isubn(o)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(o,w,A){var U=o.length+A,$;this._expand(U);var B,Z=0;for($=0;$<o.length;$++){B=(this.words[$+A]|0)+Z;var te=(o.words[$]|0)*w;B-=te&67108863,Z=(B>>26)-(te/67108864|0),this.words[$+A]=B&67108863}for(;$<this.length-A;$++)B=(this.words[$+A]|0)+Z,Z=B>>26,this.words[$+A]=B&67108863;if(Z===0)return this._strip();for(N(Z===-1),Z=0,$=0;$<this.length;$++)B=-(this.words[$]|0)+Z,Z=B>>26,this.words[$]=B&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(o,w){var A=this.length-o.length,U=this.clone(),$=o,B=$.words[$.length-1]|0,Z=this._countBits(B);A=26-Z,A!==0&&($=$.ushln(A),U.iushln(A),B=$.words[$.length-1]|0);var te=U.length-$.length,L;if(w!=="mod"){L=new c(null),L.length=te+1,L.words=new Array(L.length);for(var re=0;re<L.length;re++)L.words[re]=0}var Le=U.clone()._ishlnsubmul($,1,te);Le.negative===0&&(U=Le,L&&(L.words[te]=1));for(var _e=te-1;_e>=0;_e--){var Ce=(U.words[$.length+_e]|0)*67108864+(U.words[$.length+_e-1]|0);for(Ce=Math.min(Ce/B|0,67108863),U._ishlnsubmul($,Ce,_e);U.negative!==0;)Ce--,U.negative=0,U._ishlnsubmul($,1,_e),U.isZero()||(U.negative^=1);L&&(L.words[_e]=Ce)}return L&&L._strip(),U._strip(),w!=="div"&&A!==0&&U.iushrn(A),{div:L||null,mod:U}},c.prototype.divmod=function(o,w,A){if(N(!o.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var U,$,B;return this.negative!==0&&o.negative===0?(B=this.neg().divmod(o,w),w!=="mod"&&(U=B.div.neg()),w!=="div"&&($=B.mod.neg(),A&&$.negative!==0&&$.iadd(o)),{div:U,mod:$}):this.negative===0&&o.negative!==0?(B=this.divmod(o.neg(),w),w!=="mod"&&(U=B.div.neg()),{div:U,mod:B.mod}):(this.negative&o.negative)!=0?(B=this.neg().divmod(o.neg(),w),w!=="div"&&($=B.mod.neg(),A&&$.negative!==0&&$.isub(o)),{div:B.div,mod:$}):o.length>this.length||this.cmp(o)<0?{div:new c(0),mod:this}:o.length===1?w==="div"?{div:this.divn(o.words[0]),mod:null}:w==="mod"?{div:null,mod:new c(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new c(this.modrn(o.words[0]))}:this._wordDiv(o,w)},c.prototype.div=function(o){return this.divmod(o,"div",!1).div},c.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},c.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},c.prototype.divRound=function(o){var w=this.divmod(o);if(w.mod.isZero())return w.div;var A=w.div.negative!==0?w.mod.isub(o):w.mod,U=o.ushrn(1),$=o.andln(1),B=A.cmp(U);return B<0||$===1&&B===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},c.prototype.modrn=function(o){var w=o<0;w&&(o=-o),N(o<=67108863);for(var A=(1<<26)%o,U=0,$=this.length-1;$>=0;$--)U=(A*U+(this.words[$]|0))%o;return w?-U:U},c.prototype.modn=function(o){return this.modrn(o)},c.prototype.idivn=function(o){var w=o<0;w&&(o=-o),N(o<=67108863);for(var A=0,U=this.length-1;U>=0;U--){var $=(this.words[U]|0)+A*67108864;this.words[U]=$/o|0,A=$%o}return this._strip(),w?this.ineg():this},c.prototype.divn=function(o){return this.clone().idivn(o)},c.prototype.egcd=function(o){N(o.negative===0),N(!o.isZero());var w=this,A=o.clone();w.negative!==0?w=w.umod(o):w=w.clone();for(var U=new c(1),$=new c(0),B=new c(0),Z=new c(1),te=0;w.isEven()&&A.isEven();)w.iushrn(1),A.iushrn(1),++te;for(var L=A.clone(),re=w.clone();!w.isZero();){for(var Le=0,_e=1;(w.words[0]&_e)==0&&Le<26;++Le,_e<<=1);if(Le>0)for(w.iushrn(Le);Le-- >0;)(U.isOdd()||$.isOdd())&&(U.iadd(L),$.isub(re)),U.iushrn(1),$.iushrn(1);for(var Ce=0,Me=1;(A.words[0]&Me)==0&&Ce<26;++Ce,Me<<=1);if(Ce>0)for(A.iushrn(Ce);Ce-- >0;)(B.isOdd()||Z.isOdd())&&(B.iadd(L),Z.isub(re)),B.iushrn(1),Z.iushrn(1);w.cmp(A)>=0?(w.isub(A),U.isub(B),$.isub(Z)):(A.isub(w),B.isub(U),Z.isub($))}return{a:B,b:Z,gcd:A.iushln(te)}},c.prototype._invmp=function(o){N(o.negative===0),N(!o.isZero());var w=this,A=o.clone();w.negative!==0?w=w.umod(o):w=w.clone();for(var U=new c(1),$=new c(0),B=A.clone();w.cmpn(1)>0&&A.cmpn(1)>0;){for(var Z=0,te=1;(w.words[0]&te)==0&&Z<26;++Z,te<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)U.isOdd()&&U.iadd(B),U.iushrn(1);for(var L=0,re=1;(A.words[0]&re)==0&&L<26;++L,re<<=1);if(L>0)for(A.iushrn(L);L-- >0;)$.isOdd()&&$.iadd(B),$.iushrn(1);w.cmp(A)>=0?(w.isub(A),U.isub($)):(A.isub(w),$.isub(U))}var Le;return w.cmpn(1)===0?Le=U:Le=$,Le.cmpn(0)<0&&Le.iadd(o),Le},c.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var w=this.clone(),A=o.clone();w.negative=0,A.negative=0;for(var U=0;w.isEven()&&A.isEven();U++)w.iushrn(1),A.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;A.isEven();)A.iushrn(1);var $=w.cmp(A);if($<0){var B=w;w=A,A=B}else if($===0||A.cmpn(1)===0)break;w.isub(A)}while(!0);return A.iushln(U)},c.prototype.invm=function(o){return this.egcd(o).a.umod(o)},c.prototype.isEven=function(){return(this.words[0]&1)==0},c.prototype.isOdd=function(){return(this.words[0]&1)==1},c.prototype.andln=function(o){return this.words[0]&o},c.prototype.bincn=function(o){N(typeof o=="number");var w=o%26,A=(o-w)/26,U=1<<w;if(this.length<=A)return this._expand(A+1),this.words[A]|=U,this;for(var $=U,B=A;$!==0&&B<this.length;B++){var Z=this.words[B]|0;Z+=$,$=Z>>>26,Z&=67108863,this.words[B]=Z}return $!==0&&(this.words[B]=$,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(o){var w=o<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var A;if(this.length>1)A=1;else{w&&(o=-o),N(o<=67108863,"Number is too big");var U=this.words[0]|0;A=U===o?0:U<o?-1:1}return this.negative!==0?-A|0:A},c.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var w=this.ucmp(o);return this.negative!==0?-w|0:w},c.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var w=0,A=this.length-1;A>=0;A--){var U=this.words[A]|0,$=o.words[A]|0;if(U!==$){U<$?w=-1:U>$&&(w=1);break}}return w},c.prototype.gtn=function(o){return this.cmpn(o)===1},c.prototype.gt=function(o){return this.cmp(o)===1},c.prototype.gten=function(o){return this.cmpn(o)>=0},c.prototype.gte=function(o){return this.cmp(o)>=0},c.prototype.ltn=function(o){return this.cmpn(o)===-1},c.prototype.lt=function(o){return this.cmp(o)===-1},c.prototype.lten=function(o){return this.cmpn(o)<=0},c.prototype.lte=function(o){return this.cmp(o)<=0},c.prototype.eqn=function(o){return this.cmpn(o)===0},c.prototype.eq=function(o){return this.cmp(o)===0},c.red=function(o){return new M(o)},c.prototype.toRed=function(o){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},c.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(o){return this.red=o,this},c.prototype.forceRed=function(o){return N(!this.red,"Already a number in reduction context"),this._forceRed(o)},c.prototype.redAdd=function(o){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},c.prototype.redIAdd=function(o){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},c.prototype.redSub=function(o){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},c.prototype.redISub=function(o){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},c.prototype.redShl=function(o){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},c.prototype.redMul=function(o){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},c.prototype.redIMul=function(o){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},c.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(o){return N(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var H={k256:null,p224:null,p192:null,p25519:null};function j(C,o){this.name=C,this.p=new c(o,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var o=new c(null);return o.words=new Array(Math.ceil(this.n/13)),o},j.prototype.ireduce=function(o){var w=o,A;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),A=w.bitLength();while(A>this.n);var U=A<this.n?-1:w.ucmp(this.p);return U===0?(w.words[0]=0,w.length=1):U>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},j.prototype.split=function(o,w){o.iushrn(this.n,0,w)},j.prototype.imulK=function(o){return o.imul(this.k)};function K(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}k(K,j),K.prototype.split=function(o,w){for(var A=4194303,U=Math.min(o.length,9),$=0;$<U;$++)w.words[$]=o.words[$];if(w.length=U,o.length<=9){o.words[0]=0,o.length=1;return}var B=o.words[9];for(w.words[w.length++]=B&A,$=10;$<o.length;$++){var Z=o.words[$]|0;o.words[$-10]=(Z&A)<<4|B>>>22,B=Z}B>>>=22,o.words[$-10]=B,B===0&&o.length>10?o.length-=10:o.length-=9},K.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var w=0,A=0;A<o.length;A++){var U=o.words[A]|0;w+=U*977,o.words[A]=w&67108863,w=U*64+(w/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function Y(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}k(Y,j);function ne(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}k(ne,j);function X(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}k(X,j),X.prototype.imulK=function(o){for(var w=0,A=0;A<o.length;A++){var U=(o.words[A]|0)*19+w,$=U&67108863;U>>>=26,o.words[A]=$,w=U}return w!==0&&(o.words[o.length++]=w),o},c._prime=function(o){if(H[o])return H[o];var w;if(o==="k256")w=new K;else if(o==="p224")w=new Y;else if(o==="p192")w=new ne;else if(o==="p25519")w=new X;else throw new Error("Unknown prime "+o);return H[o]=w,w};function M(C){if(typeof C=="string"){var o=c._prime(C);this.m=o.p,this.prime=o}else N(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}M.prototype._verify1=function(o){N(o.negative===0,"red works only with positives"),N(o.red,"red works only with red numbers")},M.prototype._verify2=function(o,w){N((o.negative|w.negative)==0,"red works only with positives"),N(o.red&&o.red===w.red,"red works only with red numbers")},M.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(b(o,o.umod(this.m)._forceRed(this)),o)},M.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},M.prototype.add=function(o,w){this._verify2(o,w);var A=o.add(w);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},M.prototype.iadd=function(o,w){this._verify2(o,w);var A=o.iadd(w);return A.cmp(this.m)>=0&&A.isub(this.m),A},M.prototype.sub=function(o,w){this._verify2(o,w);var A=o.sub(w);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},M.prototype.isub=function(o,w){this._verify2(o,w);var A=o.isub(w);return A.cmpn(0)<0&&A.iadd(this.m),A},M.prototype.shl=function(o,w){return this._verify1(o),this.imod(o.ushln(w))},M.prototype.imul=function(o,w){return this._verify2(o,w),this.imod(o.imul(w))},M.prototype.mul=function(o,w){return this._verify2(o,w),this.imod(o.mul(w))},M.prototype.isqr=function(o){return this.imul(o,o.clone())},M.prototype.sqr=function(o){return this.mul(o,o)},M.prototype.sqrt=function(o){if(o.isZero())return o.clone();var w=this.m.andln(3);if(N(w%2==1),w===3){var A=this.m.add(new c(1)).iushrn(2);return this.pow(o,A)}for(var U=this.m.subn(1),$=0;!U.isZero()&&U.andln(1)===0;)$++,U.iushrn(1);N(!U.isZero());var B=new c(1).toRed(this),Z=B.redNeg(),te=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new c(2*L*L).toRed(this);this.pow(L,te).cmp(Z)!==0;)L.redIAdd(Z);for(var re=this.pow(L,U),Le=this.pow(o,U.addn(1).iushrn(1)),_e=this.pow(o,U),Ce=$;_e.cmp(B)!==0;){for(var Me=_e,J=0;Me.cmp(B)!==0;J++)Me=Me.redSqr();N(J<Ce);var ee=this.pow(re,new c(1).iushln(Ce-J-1));Le=Le.redMul(ee),re=ee.redSqr(),_e=_e.redMul(re),Ce=J}return Le},M.prototype.invm=function(o){var w=o._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},M.prototype.pow=function(o,w){if(w.isZero())return new c(1).toRed(this);if(w.cmpn(1)===0)return o.clone();var A=4,U=new Array(1<<A);U[0]=new c(1).toRed(this),U[1]=o;for(var $=2;$<U.length;$++)U[$]=this.mul(U[$-1],o);var B=U[0],Z=0,te=0,L=w.bitLength()%26;for(L===0&&(L=26),$=w.length-1;$>=0;$--){for(var re=w.words[$],Le=L-1;Le>=0;Le--){var _e=re>>Le&1;if(B!==U[0]&&(B=this.sqr(B)),_e===0&&Z===0){te=0;continue}Z<<=1,Z|=_e,te++,!(te!==A&&($!==0||Le!==0))&&(B=this.mul(B,U[Z]),te=0,Z=0)}L=26}return B},M.prototype.convertTo=function(o){var w=o.umod(this.m);return w===o?w.clone():w},M.prototype.convertFrom=function(o){var w=o.clone();return w.red=null,w},c.mont=function(o){return new G(o)};function G(C){M.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k(G,M),G.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},G.prototype.convertFrom=function(o){var w=this.imod(o.mul(this.rinv));return w.red=null,w},G.prototype.imul=function(o,w){if(o.isZero()||w.isZero())return o.words[0]=0,o.length=1,o;var A=o.imul(w),U=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=A.isub(U).iushrn(this.shift),B=$;return $.cmp(this.m)>=0?B=$.isub(this.m):$.cmpn(0)<0&&(B=$.iadd(this.m)),B._forceRed(this)},G.prototype.mul=function(o,w){if(o.isZero()||w.isZero())return new c(0)._forceRed(this);var A=o.mul(w),U=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=A.isub(U).iushrn(this.shift),B=$;return $.cmp(this.m)>=0?B=$.isub(this.m):$.cmpn(0)<0&&(B=$.iadd(this.m)),B._forceRed(this)},G.prototype.invm=function(o){var w=this.imod(o._invmp(this.m).mul(this.r2));return w._forceRed(this)}}(a,this)},2686:a=>{"use strict";function V(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var E={};function R(l,h,p){p||(p=Error);function _(u,f,m){return typeof h=="string"?h:h(u,f,m)}var b=function(u){V(f,u);function f(m,g,v){return u.call(this,_(m,g,v))||this}return f}(p);b.prototype.name=p.name,b.prototype.code=l,E[l]=b}function P(l,h){if(Array.isArray(l)){var p=l.length;return l=l.map(function(_){return String(_)}),p>2?"one of ".concat(h," ").concat(l.slice(0,p-1).join(", "),", or ")+l[p-1]:p===2?"one of ".concat(h," ").concat(l[0]," or ").concat(l[1]):"of ".concat(h," ").concat(l[0])}else return"of ".concat(h," ").concat(String(l))}function N(l,h,p){return l.substr(!p||p<0?0:+p,h.length)===h}function k(l,h,p){return(p===void 0||p>l.length)&&(p=l.length),l.substring(p-h.length,p)===h}function c(l,h,p){return typeof p!="number"&&(p=0),p+h.length>l.length?!1:l.indexOf(h,p)!==-1}R("ERR_INVALID_OPT_VALUE",function(l,h){return'The value "'+h+'" is invalid for option "'+l+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(l,h,p){var _;typeof h=="string"&&N(h,"not ")?(_="must not be",h=h.replace(/^not /,"")):_="must be";var b;if(k(l," argument"))b="The ".concat(l," ").concat(_," ").concat(P(h,"type"));else{var u=c(l,".")?"property":"argument";b='The "'.concat(l,'" ').concat(u," ").concat(_," ").concat(P(h,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.F=E},26248:(a,V,E)=>{"use strict";var R=E(65606),P=Object.keys||function(u){var f=[];for(var m in u)f.push(m);return f};a.exports=p;var N=E(30206),k=E(7314);E(56698)(p,N);for(var c=P(k.prototype),l=0;l<c.length;l++){var h=c[l];p.prototype[h]||(p.prototype[h]=k.prototype[h])}function p(u){if(!(this instanceof p))return new p(u);N.call(this,u),k.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||R.nextTick(b,this)}function b(u){u.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},75242:(a,V,E)=>{"use strict";a.exports=P;var R=E(81816);E(56698)(P,R);function P(N){if(!(this instanceof P))return new P(N);R.call(this,N)}P.prototype._transform=function(N,k,c){c(null,N)}},30206:(a,V,E)=>{"use strict";var R=E(65606);a.exports=M;var P;M.ReadableState=X;var N=E(37007).EventEmitter,k=function(I,se){return I.listeners(se).length},c=E(5567),l=E(48287).Buffer,h=(typeof E.g!="undefined"?E.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function p(O){return l.from(O)}function _(O){return l.isBuffer(O)||O instanceof h}var b=E(92668),u;b&&b.debuglog?u=b.debuglog("stream"):u=function(){};var f=E(72851),m=E(36278),g=E(57385),v=g.getHighWaterMark,T=E(2686).F,S=T.ERR_INVALID_ARG_TYPE,x=T.ERR_STREAM_PUSH_AFTER_EOF,D=T.ERR_METHOD_NOT_IMPLEMENTED,z=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,q,H,j;E(56698)(M,c);var K=m.errorOrDestroy,Y=["error","close","destroy","pause","resume"];function ne(O,I,se){if(typeof O.prependListener=="function")return O.prependListener(I,se);!O._events||!O._events[I]?O.on(I,se):Array.isArray(O._events[I])?O._events[I].unshift(se):O._events[I]=[se,O._events[I]]}function X(O,I,se){P=P||E(26248),O=O||{},typeof se!="boolean"&&(se=I instanceof P),this.objectMode=!!O.objectMode,se&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=v(this,O,"readableHighWaterMark",se),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(q||(q=E(83141).I),this.decoder=new q(O.encoding),this.encoding=O.encoding)}function M(O){if(P=P||E(26248),!(this instanceof M))return new M(O);var I=this instanceof P;this._readableState=new X(O,this,I),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),c.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(I){!this._readableState||(this._readableState.destroyed=I)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(O,I){I(O)},M.prototype.push=function(O,I){var se=this._readableState,ve;return se.objectMode?ve=!0:typeof O=="string"&&(I=I||se.defaultEncoding,I!==se.encoding&&(O=l.from(O,I),I=""),ve=!0),G(this,O,I,!1,ve)},M.prototype.unshift=function(O){return G(this,O,null,!0,!1)};function G(O,I,se,ve,we){u("readableAddChunk",I);var ge=O._readableState;if(I===null)ge.reading=!1,$(O,ge);else{var xe;if(we||(xe=o(ge,I)),xe)K(O,xe);else if(ge.objectMode||I&&I.length>0)if(typeof I!="string"&&!ge.objectMode&&Object.getPrototypeOf(I)!==l.prototype&&(I=p(I)),ve)ge.endEmitted?K(O,new z):C(O,ge,I,!0);else if(ge.ended)K(O,new x);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?(I=ge.decoder.write(I),ge.objectMode||I.length!==0?C(O,ge,I,!1):te(O,ge)):C(O,ge,I,!1)}else ve||(ge.reading=!1,te(O,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function C(O,I,se,ve){I.flowing&&I.length===0&&!I.sync?(I.awaitDrain=0,O.emit("data",se)):(I.length+=I.objectMode?1:se.length,ve?I.buffer.unshift(se):I.buffer.push(se),I.needReadable&&B(O)),te(O,I)}function o(O,I){var se;return!_(I)&&typeof I!="string"&&I!==void 0&&!O.objectMode&&(se=new S("chunk",["string","Buffer","Uint8Array"],I)),se}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(O){q||(q=E(83141).I);var I=new q(O);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ve="";se!==null;)ve+=I.write(se.data),se=se.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var w=1073741824;function A(O){return O>=w?O=w:(O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++),O}function U(O,I){return O<=0||I.length===0&&I.ended?0:I.objectMode?1:O!==O?I.flowing&&I.length?I.buffer.head.data.length:I.length:(O>I.highWaterMark&&(I.highWaterMark=A(O)),O<=I.length?O:I.ended?I.length:(I.needReadable=!0,0))}M.prototype.read=function(O){u("read",O),O=parseInt(O,10);var I=this._readableState,se=O;if(O!==0&&(I.emittedReadable=!1),O===0&&I.needReadable&&((I.highWaterMark!==0?I.length>=I.highWaterMark:I.length>0)||I.ended))return u("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?ce(this):B(this),null;if(O=U(O,I),O===0&&I.ended)return I.length===0&&ce(this),null;var ve=I.needReadable;u("need readable",ve),(I.length===0||I.length-O<I.highWaterMark)&&(ve=!0,u("length less than watermark",ve)),I.ended||I.reading?(ve=!1,u("reading or ended",ve)):ve&&(u("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(O=U(se,I)));var we;return O>0?we=ee(O,I):we=null,we===null?(I.needReadable=I.length<=I.highWaterMark,O=0):(I.length-=O,I.awaitDrain=0),I.length===0&&(I.ended||(I.needReadable=!0),se!==O&&I.ended&&ce(this)),we!==null&&this.emit("data",we),we};function $(O,I){if(u("onEofChunk"),!I.ended){if(I.decoder){var se=I.decoder.end();se&&se.length&&(I.buffer.push(se),I.length+=I.objectMode?1:se.length)}I.ended=!0,I.sync?B(O):(I.needReadable=!1,I.emittedReadable||(I.emittedReadable=!0,Z(O)))}}function B(O){var I=O._readableState;u("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(u("emitReadable",I.flowing),I.emittedReadable=!0,R.nextTick(Z,O))}function Z(O){var I=O._readableState;u("emitReadable_",I.destroyed,I.length,I.ended),!I.destroyed&&(I.length||I.ended)&&(O.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,J(O)}function te(O,I){I.readingMore||(I.readingMore=!0,R.nextTick(L,O,I))}function L(O,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&I.length===0);){var se=I.length;if(u("maybeReadMore read 0"),O.read(0),se===I.length)break}I.readingMore=!1}M.prototype._read=function(O){K(this,new D("_read()"))},M.prototype.pipe=function(O,I){var se=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=O;break;case 1:ve.pipes=[ve.pipes,O];break;default:ve.pipes.push(O);break}ve.pipesCount+=1,u("pipe count=%d opts=%j",ve.pipesCount,I);var we=(!I||I.end!==!1)&&O!==R.stdout&&O!==R.stderr,ge=we?Ge:ae;ve.endEmitted?R.nextTick(ge):se.once("end",ge),O.on("unpipe",xe);function xe(be,De){u("onunpipe"),be===se&&De&&De.hasUnpiped===!1&&(De.hasUnpiped=!0,tt())}function Ge(){u("onend"),O.end()}var ze=re(se);O.on("drain",ze);var Et=!1;function tt(){u("cleanup"),O.removeListener("close",ue),O.removeListener("finish",Q),O.removeListener("drain",ze),O.removeListener("error",Tt),O.removeListener("unpipe",xe),se.removeListener("end",Ge),se.removeListener("end",ae),se.removeListener("data",at),Et=!0,ve.awaitDrain&&(!O._writableState||O._writableState.needDrain)&&ze()}se.on("data",at);function at(be){u("ondata");var De=O.write(be);u("dest.write",De),De===!1&&((ve.pipesCount===1&&ve.pipes===O||ve.pipesCount>1&&Se(ve.pipes,O)!==-1)&&!Et&&(u("false write response, pause",ve.awaitDrain),ve.awaitDrain++),se.pause())}function Tt(be){u("onerror",be),ae(),O.removeListener("error",Tt),k(O,"error")===0&&K(O,be)}ne(O,"error",Tt);function ue(){O.removeListener("finish",Q),ae()}O.once("close",ue);function Q(){u("onfinish"),O.removeListener("close",ue),ae()}O.once("finish",Q);function ae(){u("unpipe"),se.unpipe(O)}return O.emit("pipe",se),ve.flowing||(u("pipe resume"),se.resume()),O};function re(O){return function(){var se=O._readableState;u("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&k(O,"data")&&(se.flowing=!0,J(O))}}M.prototype.unpipe=function(O){var I=this._readableState,se={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return O&&O!==I.pipes?this:(O||(O=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,O&&O.emit("unpipe",this,se),this);if(!O){var ve=I.pipes,we=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var ge=0;ge<we;ge++)ve[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=Se(I.pipes,O);return xe===-1?this:(I.pipes.splice(xe,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),O.emit("unpipe",this,se),this)},M.prototype.on=function(O,I){var se=c.prototype.on.call(this,O,I),ve=this._readableState;return O==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):O==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,u("on readable",ve.length,ve.reading),ve.length?B(this):ve.reading||R.nextTick(_e,this)),se},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(O,I){var se=c.prototype.removeListener.call(this,O,I);return O==="readable"&&R.nextTick(Le,this),se},M.prototype.removeAllListeners=function(O){var I=c.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&R.nextTick(Le,this),I};function Le(O){var I=O._readableState;I.readableListening=O.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:O.listenerCount("data")>0&&O.resume()}function _e(O){u("readable nexttick read 0"),O.read(0)}M.prototype.resume=function(){var O=this._readableState;return O.flowing||(u("resume"),O.flowing=!O.readableListening,Ce(this,O)),O.paused=!1,this};function Ce(O,I){I.resumeScheduled||(I.resumeScheduled=!0,R.nextTick(Me,O,I))}function Me(O,I){u("resume",I.reading),I.reading||O.read(0),I.resumeScheduled=!1,O.emit("resume"),J(O),I.flowing&&!I.reading&&O.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(O){var I=O._readableState;for(u("flow",I.flowing);I.flowing&&O.read()!==null;);}M.prototype.wrap=function(O){var I=this,se=this._readableState,ve=!1;O.on("end",function(){if(u("wrapped end"),se.decoder&&!se.ended){var xe=se.decoder.end();xe&&xe.length&&I.push(xe)}I.push(null)}),O.on("data",function(xe){if(u("wrapped data"),se.decoder&&(xe=se.decoder.write(xe)),!(se.objectMode&&xe==null)&&!(!se.objectMode&&(!xe||!xe.length))){var Ge=I.push(xe);Ge||(ve=!0,O.pause())}});for(var we in O)this[we]===void 0&&typeof O[we]=="function"&&(this[we]=function(Ge){return function(){return O[Ge].apply(O,arguments)}}(we));for(var ge=0;ge<Y.length;ge++)O.on(Y[ge],this.emit.bind(this,Y[ge]));return this._read=function(xe){u("wrapped _read",xe),ve&&(ve=!1,O.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return H===void 0&&(H=E(72485)),H(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(O,I){if(I.length===0)return null;var se;return I.objectMode?se=I.buffer.shift():!O||O>=I.length?(I.decoder?se=I.buffer.join(""):I.buffer.length===1?se=I.buffer.first():se=I.buffer.concat(I.length),I.buffer.clear()):se=I.buffer.consume(O,I.decoder),se}function ce(O){var I=O._readableState;u("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,R.nextTick(me,I,O))}function me(O,I){if(u("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,I.readable=!1,I.emit("end"),O.autoDestroy)){var se=I._writableState;(!se||se.autoDestroy&&se.finished)&&I.destroy()}}typeof Symbol=="function"&&(M.from=function(O,I){return j===void 0&&(j=E(28591)),j(M,O,I)});function Se(O,I){for(var se=0,ve=O.length;se<ve;se++)if(O[se]===I)return se;return-1}},81816:(a,V,E)=>{"use strict";a.exports=p;var R=E(2686).F,P=R.ERR_METHOD_NOT_IMPLEMENTED,N=R.ERR_MULTIPLE_CALLBACK,k=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=R.ERR_TRANSFORM_WITH_LENGTH_0,l=E(26248);E(56698)(p,l);function h(u,f){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new N);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),g(u);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function p(u){if(!(this instanceof p))return new p(u);l.call(this,u),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,m){b(u,f,m)}):b(this,null,null)}p.prototype.push=function(u,f){return this._transformState.needTransform=!1,l.prototype.push.call(this,u,f)},p.prototype._transform=function(u,f,m){m(new P("_transform()"))},p.prototype._write=function(u,f,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=f,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},p.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},p.prototype._destroy=function(u,f){l.prototype._destroy.call(this,u,function(m){f(m)})};function b(u,f,m){if(f)return u.emit("error",f);if(m!=null&&u.push(m),u._writableState.length)throw new c;if(u._transformState.transforming)throw new k;return u.push(null)}},7314:(a,V,E)=>{"use strict";var R=E(65606);a.exports=X;function P(J,ee,ce){this.chunk=J,this.encoding=ee,this.callback=ce,this.next=null}function N(J){var ee=this;this.next=null,this.entry=null,this.finish=function(){Me(ee,J)}}var k;X.WritableState=Y;var c={deprecate:E(94643)},l=E(5567),h=E(48287).Buffer,p=(typeof E.g!="undefined"?E.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function _(J){return h.from(J)}function b(J){return h.isBuffer(J)||J instanceof p}var u=E(36278),f=E(57385),m=f.getHighWaterMark,g=E(2686).F,v=g.ERR_INVALID_ARG_TYPE,T=g.ERR_METHOD_NOT_IMPLEMENTED,S=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,D=g.ERR_STREAM_DESTROYED,z=g.ERR_STREAM_NULL_VALUES,q=g.ERR_STREAM_WRITE_AFTER_END,H=g.ERR_UNKNOWN_ENCODING,j=u.errorOrDestroy;E(56698)(X,l);function K(){}function Y(J,ee,ce){k=k||E(26248),J=J||{},typeof ce!="boolean"&&(ce=ee instanceof k),this.objectMode=!!J.objectMode,ce&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=m(this,J,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=J.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){$(ee,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new N(this)}Y.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ce=[];ee;)ce.push(ee),ee=ee.next;return ce},function(){try{Object.defineProperty(Y.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(ee){return ne.call(this,ee)?!0:this!==X?!1:ee&&ee._writableState instanceof Y}})):ne=function(ee){return ee instanceof this};function X(J){k=k||E(26248);var ee=this instanceof k;if(!ee&&!ne.call(X,this))return new X(J);this._writableState=new Y(J,this,ee),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),l.call(this)}X.prototype.pipe=function(){j(this,new x)};function M(J,ee){var ce=new q;j(J,ce),R.nextTick(ee,ce)}function G(J,ee,ce,me){var Se;return ce===null?Se=new z:typeof ce!="string"&&!ee.objectMode&&(Se=new v("chunk",["string","Buffer"],ce)),Se?(j(J,Se),R.nextTick(me,Se),!1):!0}X.prototype.write=function(J,ee,ce){var me=this._writableState,Se=!1,O=!me.objectMode&&b(J);return O&&!h.isBuffer(J)&&(J=_(J)),typeof ee=="function"&&(ce=ee,ee=null),O?ee="buffer":ee||(ee=me.defaultEncoding),typeof ce!="function"&&(ce=K),me.ending?M(this,ce):(O||G(this,me,J,ce))&&(me.pendingcb++,Se=o(this,me,O,J,ee,ce)),Se},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&te(this,J))},X.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new H(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,ee,ce){return!J.objectMode&&J.decodeStrings!==!1&&typeof ee=="string"&&(ee=h.from(ee,ce)),ee}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,ee,ce,me,Se,O){if(!ce){var I=C(ee,me,Se);me!==I&&(ce=!0,Se="buffer",me=I)}var se=ee.objectMode?1:me.length;ee.length+=se;var ve=ee.length<ee.highWaterMark;if(ve||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:Se,isBuf:ce,callback:O,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(J,ee,!1,se,me,Se,O);return ve}function w(J,ee,ce,me,Se,O,I){ee.writelen=me,ee.writecb=I,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new D("write")):ce?J._writev(Se,ee.onwrite):J._write(Se,O,ee.onwrite),ee.sync=!1}function A(J,ee,ce,me,Se){--ee.pendingcb,ce?(R.nextTick(Se,me),R.nextTick(_e,J,ee),J._writableState.errorEmitted=!0,j(J,me)):(Se(me),J._writableState.errorEmitted=!0,j(J,me),_e(J,ee))}function U(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function $(J,ee){var ce=J._writableState,me=ce.sync,Se=ce.writecb;if(typeof Se!="function")throw new S;if(U(ce),ee)A(J,ce,me,ee,Se);else{var O=L(ce)||J.destroyed;!O&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&te(J,ce),me?R.nextTick(B,J,ce,O,Se):B(J,ce,O,Se)}}function B(J,ee,ce,me){ce||Z(J,ee),ee.pendingcb--,me(),_e(J,ee)}function Z(J,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,J.emit("drain"))}function te(J,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(J._writev&&ce&&ce.next){var me=ee.bufferedRequestCount,Se=new Array(me),O=ee.corkedRequestsFree;O.entry=ce;for(var I=0,se=!0;ce;)Se[I]=ce,ce.isBuf||(se=!1),ce=ce.next,I+=1;Se.allBuffers=se,w(J,ee,!0,ee.length,Se,"",O.finish),ee.pendingcb++,ee.lastBufferedRequest=null,O.next?(ee.corkedRequestsFree=O.next,O.next=null):ee.corkedRequestsFree=new N(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ve=ce.chunk,we=ce.encoding,ge=ce.callback,xe=ee.objectMode?1:ve.length;if(w(J,ee,!1,xe,ve,we,ge),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}ce===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}X.prototype._write=function(J,ee,ce){ce(new T("_write()"))},X.prototype._writev=null,X.prototype.end=function(J,ee,ce){var me=this._writableState;return typeof J=="function"?(ce=J,J=null,ee=null):typeof ee=="function"&&(ce=ee,ee=null),J!=null&&this.write(J,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ce(this,me,ce),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function re(J,ee){J._final(function(ce){ee.pendingcb--,ce&&j(J,ce),ee.prefinished=!0,J.emit("prefinish"),_e(J,ee)})}function Le(J,ee){!ee.prefinished&&!ee.finalCalled&&(typeof J._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(re,J,ee)):(ee.prefinished=!0,J.emit("prefinish")))}function _e(J,ee){var ce=L(ee);if(ce&&(Le(J,ee),ee.pendingcb===0&&(ee.finished=!0,J.emit("finish"),ee.autoDestroy))){var me=J._readableState;(!me||me.autoDestroy&&me.endEmitted)&&J.destroy()}return ce}function Ce(J,ee,ce){ee.ending=!0,_e(J,ee),ce&&(ee.finished?R.nextTick(ce):J.once("finish",ce)),ee.ended=!0,J.writable=!1}function Me(J,ee,ce){var me=J.entry;for(J.entry=null;me;){var Se=me.callback;ee.pendingcb--,Se(ce),me=me.next}ee.corkedRequestsFree.next=J}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){!this._writableState||(this._writableState.destroyed=ee)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(J,ee){ee(J)}},72485:(a,V,E)=>{"use strict";var R=E(65606),P;function N(q,H,j){return H=k(H),H in q?Object.defineProperty(q,H,{value:j,enumerable:!0,configurable:!0,writable:!0}):q[H]=j,q}function k(q){var H=c(q,"string");return typeof H=="symbol"?H:String(H)}function c(q,H){if(typeof q!="object"||q===null)return q;var j=q[Symbol.toPrimitive];if(j!==void 0){var K=j.call(q,H||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(q)}var l=E(23532),h=Symbol("lastResolve"),p=Symbol("lastReject"),_=Symbol("error"),b=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),m=Symbol("stream");function g(q,H){return{value:q,done:H}}function v(q){var H=q[h];if(H!==null){var j=q[m].read();j!==null&&(q[u]=null,q[h]=null,q[p]=null,H(g(j,!1)))}}function T(q){R.nextTick(v,q)}function S(q,H){return function(j,K){q.then(function(){if(H[b]){j(g(void 0,!0));return}H[f](j,K)},K)}}var x=Object.getPrototypeOf(function(){}),D=Object.setPrototypeOf((P={get stream(){return this[m]},next:function(){var H=this,j=this[_];if(j!==null)return Promise.reject(j);if(this[b])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(X,M){R.nextTick(function(){H[_]?M(H[_]):X(g(void 0,!0))})});var K=this[u],Y;if(K)Y=new Promise(S(K,this));else{var ne=this[m].read();if(ne!==null)return Promise.resolve(g(ne,!1));Y=new Promise(this[f])}return this[u]=Y,Y}},N(P,Symbol.asyncIterator,function(){return this}),N(P,"return",function(){var H=this;return new Promise(function(j,K){H[m].destroy(null,function(Y){if(Y){K(Y);return}j(g(void 0,!0))})})}),P),x),z=function(H){var j,K=Object.create(D,(j={},N(j,m,{value:H,writable:!0}),N(j,h,{value:null,writable:!0}),N(j,p,{value:null,writable:!0}),N(j,_,{value:null,writable:!0}),N(j,b,{value:H._readableState.endEmitted,writable:!0}),N(j,f,{value:function(ne,X){var M=K[m].read();M?(K[u]=null,K[h]=null,K[p]=null,ne(g(M,!1))):(K[h]=ne,K[p]=X)},writable:!0}),j));return K[u]=null,l(H,function(Y){if(Y&&Y.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ne=K[p];ne!==null&&(K[u]=null,K[h]=null,K[p]=null,ne(Y)),K[_]=Y;return}var X=K[h];X!==null&&(K[u]=null,K[h]=null,K[p]=null,X(g(void 0,!0))),K[b]=!0}),H.on("readable",T.bind(null,K)),K};a.exports=z},72851:(a,V,E)=>{"use strict";function R(v,T){var S=Object.keys(v);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(v);T&&(x=x.filter(function(D){return Object.getOwnPropertyDescriptor(v,D).enumerable})),S.push.apply(S,x)}return S}function P(v){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?R(Object(S),!0).forEach(function(x){N(v,x,S[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(S)):R(Object(S)).forEach(function(x){Object.defineProperty(v,x,Object.getOwnPropertyDescriptor(S,x))})}return v}function N(v,T,S){return T=h(T),T in v?Object.defineProperty(v,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[T]=S,v}function k(v,T){if(!(v instanceof T))throw new TypeError("Cannot call a class as a function")}function c(v,T){for(var S=0;S<T.length;S++){var x=T[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,h(x.key),x)}}function l(v,T,S){return T&&c(v.prototype,T),S&&c(v,S),Object.defineProperty(v,"prototype",{writable:!1}),v}function h(v){var T=p(v,"string");return typeof T=="symbol"?T:String(T)}function p(v,T){if(typeof v!="object"||v===null)return v;var S=v[Symbol.toPrimitive];if(S!==void 0){var x=S.call(v,T||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(v)}var _=E(48287),b=_.Buffer,u=E(21638),f=u.inspect,m=f&&f.custom||"inspect";function g(v,T,S){b.prototype.copy.call(v,T,S)}a.exports=function(){function v(){k(this,v),this.head=null,this.tail=null,this.length=0}return l(v,[{key:"push",value:function(S){var x={data:S,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(S){var x={data:S,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var x=this.head,D=""+x.data;x=x.next;)D+=S+x.data;return D}},{key:"concat",value:function(S){if(this.length===0)return b.alloc(0);for(var x=b.allocUnsafe(S>>>0),D=this.head,z=0;D;)g(D.data,x,z),z+=D.data.length,D=D.next;return x}},{key:"consume",value:function(S,x){var D;return S<this.head.data.length?(D=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?D=this.shift():D=x?this._getString(S):this._getBuffer(S),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var x=this.head,D=1,z=x.data;for(S-=z.length;x=x.next;){var q=x.data,H=S>q.length?q.length:S;if(H===q.length?z+=q:z+=q.slice(0,S),S-=H,S===0){H===q.length?(++D,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=q.slice(H));break}++D}return this.length-=D,z}},{key:"_getBuffer",value:function(S){var x=b.allocUnsafe(S),D=this.head,z=1;for(D.data.copy(x),S-=D.data.length;D=D.next;){var q=D.data,H=S>q.length?q.length:S;if(q.copy(x,x.length-S,0,H),S-=H,S===0){H===q.length?(++z,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=q.slice(H));break}++z}return this.length-=z,x}},{key:m,value:function(S,x){return f(this,P(P({},x),{},{depth:0,customInspect:!1}))}}]),v}()},36278:(a,V,E)=>{"use strict";var R=E(65606);function P(p,_){var b=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(_?_(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(l,this,p)):R.nextTick(l,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(m){!_&&m?b._writableState?b._writableState.errorEmitted?R.nextTick(k,b):(b._writableState.errorEmitted=!0,R.nextTick(N,b,m)):R.nextTick(N,b,m):_?(R.nextTick(k,b),_(m)):R.nextTick(k,b)}),this)}function N(p,_){l(p,_),k(p)}function k(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(p,_){p.emit("error",_)}function h(p,_){var b=p._readableState,u=p._writableState;b&&b.autoDestroy||u&&u.autoDestroy?p.destroy(_):p.emit("error",_)}a.exports={destroy:P,undestroy:c,errorOrDestroy:h}},23532:(a,V,E)=>{"use strict";var R=E(2686).F.ERR_STREAM_PREMATURE_CLOSE;function P(l){var h=!1;return function(){if(!h){h=!0;for(var p=arguments.length,_=new Array(p),b=0;b<p;b++)_[b]=arguments[b];l.apply(this,_)}}}function N(){}function k(l){return l.setHeader&&typeof l.abort=="function"}function c(l,h,p){if(typeof h=="function")return c(l,null,h);h||(h={}),p=P(p||N);var _=h.readable||h.readable!==!1&&l.readable,b=h.writable||h.writable!==!1&&l.writable,u=function(){l.writable||m()},f=l._writableState&&l._writableState.finished,m=function(){b=!1,f=!0,_||p.call(l)},g=l._readableState&&l._readableState.endEmitted,v=function(){_=!1,g=!0,b||p.call(l)},T=function(z){p.call(l,z)},S=function(){var z;if(_&&!g)return(!l._readableState||!l._readableState.ended)&&(z=new R),p.call(l,z);if(b&&!f)return(!l._writableState||!l._writableState.ended)&&(z=new R),p.call(l,z)},x=function(){l.req.on("finish",m)};return k(l)?(l.on("complete",m),l.on("abort",S),l.req?x():l.on("request",x)):b&&!l._writableState&&(l.on("end",u),l.on("close",u)),l.on("end",v),l.on("finish",m),h.error!==!1&&l.on("error",T),l.on("close",S),function(){l.removeListener("complete",m),l.removeListener("abort",S),l.removeListener("request",x),l.req&&l.req.removeListener("finish",m),l.removeListener("end",u),l.removeListener("close",u),l.removeListener("finish",m),l.removeListener("end",v),l.removeListener("error",T),l.removeListener("close",S)}}a.exports=c},28591:a=>{a.exports=function(){throw new Error("Readable.from is not available in the browser")}},43440:(a,V,E)=>{"use strict";var R;function P(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var N=E(2686).F,k=N.ERR_MISSING_ARGS,c=N.ERR_STREAM_DESTROYED;function l(m){if(m)throw m}function h(m){return m.setHeader&&typeof m.abort=="function"}function p(m,g,v,T){T=P(T);var S=!1;m.on("close",function(){S=!0}),R===void 0&&(R=E(23532)),R(m,{readable:g,writable:v},function(D){if(D)return T(D);S=!0,T()});var x=!1;return function(D){if(!S&&!x){if(x=!0,h(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();T(D||new c("pipe"))}}}function _(m){m()}function b(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?l:m.pop()}function f(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];var T=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new k("streams");var S,x=g.map(function(D,z){var q=z<g.length-1,H=z>0;return p(D,q,H,function(j){S||(S=j),j&&x.forEach(_),!q&&(x.forEach(_),T(S))})});return g.reduce(b)}a.exports=f},57385:(a,V,E)=>{"use strict";var R=E(2686).F.ERR_INVALID_OPT_VALUE;function P(k,c,l){return k.highWaterMark!=null?k.highWaterMark:c?k[l]:null}function N(k,c,l,h){var p=P(c,h,l);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var _=h?l:"highWaterMark";throw new R(_,p)}return Math.floor(p)}return k.objectMode?16:16*1024}a.exports={getHighWaterMark:N}},5567:(a,V,E)=>{a.exports=E(37007).EventEmitter},46737:(a,V,E)=>{V=a.exports=E(30206),V.Stream=V,V.Readable=V,V.Writable=E(7314),V.Duplex=E(26248),V.Transform=E(81816),V.PassThrough=E(75242),V.finished=E(23532),V.pipeline=E(43440)},30295:a=>{a.exports=function(E,R){for(var P=Math.min(E.length,R.length),N=new Buffer(P),k=0;k<P;++k)N[k]=E[k]^R[k];return N}},48287:(a,V,E)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const R=E(67526),P=E(251),N=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=h,V.SlowBuffer=x,V.INSPECT_MAX_BYTES=50;const k=2147483647;V.kMaxLength=k,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const ue=new Uint8Array(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,Uint8Array.prototype),Object.setPrototypeOf(ue,Q),ue.foo()===42}catch(ue){return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function l(ue){if(ue>k)throw new RangeError('The value "'+ue+'" is invalid for option "size"');const Q=new Uint8Array(ue);return Object.setPrototypeOf(Q,h.prototype),Q}function h(ue,Q,ae){if(typeof ue=="number"){if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(ue)}return p(ue,Q,ae)}h.poolSize=8192;function p(ue,Q,ae){if(typeof ue=="string")return f(ue,Q);if(ArrayBuffer.isView(ue))return g(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue);if(ze(ue,ArrayBuffer)||ue&&ze(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ze(ue,SharedArrayBuffer)||ue&&ze(ue.buffer,SharedArrayBuffer)))return v(ue,Q,ae);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const be=ue.valueOf&&ue.valueOf();if(be!=null&&be!==ue)return h.from(be,Q,ae);const De=T(ue);if(De)return De;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return h.from(ue[Symbol.toPrimitive]("string"),Q,ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue)}h.from=function(ue,Q,ae){return p(ue,Q,ae)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function _(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function b(ue,Q,ae){return _(ue),ue<=0?l(ue):Q!==void 0?typeof ae=="string"?l(ue).fill(Q,ae):l(ue).fill(Q):l(ue)}h.alloc=function(ue,Q,ae){return b(ue,Q,ae)};function u(ue){return _(ue),l(ue<0?0:S(ue)|0)}h.allocUnsafe=function(ue){return u(ue)},h.allocUnsafeSlow=function(ue){return u(ue)};function f(ue,Q){if((typeof Q!="string"||Q==="")&&(Q="utf8"),!h.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);const ae=D(ue,Q)|0;let be=l(ae);const De=be.write(ue,Q);return De!==ae&&(be=be.slice(0,De)),be}function m(ue){const Q=ue.length<0?0:S(ue.length)|0,ae=l(Q);for(let be=0;be<Q;be+=1)ae[be]=ue[be]&255;return ae}function g(ue){if(ze(ue,Uint8Array)){const Q=new Uint8Array(ue);return v(Q.buffer,Q.byteOffset,Q.byteLength)}return m(ue)}function v(ue,Q,ae){if(Q<0||ue.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<Q+(ae||0))throw new RangeError('"length" is outside of buffer bounds');let be;return Q===void 0&&ae===void 0?be=new Uint8Array(ue):ae===void 0?be=new Uint8Array(ue,Q):be=new Uint8Array(ue,Q,ae),Object.setPrototypeOf(be,h.prototype),be}function T(ue){if(h.isBuffer(ue)){const Q=S(ue.length)|0,ae=l(Q);return ae.length===0||ue.copy(ae,0,0,Q),ae}if(ue.length!==void 0)return typeof ue.length!="number"||Et(ue.length)?l(0):m(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return m(ue.data)}function S(ue){if(ue>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return ue|0}function x(ue){return+ue!=ue&&(ue=0),h.alloc(+ue)}h.isBuffer=function(Q){return Q!=null&&Q._isBuffer===!0&&Q!==h.prototype},h.compare=function(Q,ae){if(ze(Q,Uint8Array)&&(Q=h.from(Q,Q.offset,Q.byteLength)),ze(ae,Uint8Array)&&(ae=h.from(ae,ae.offset,ae.byteLength)),!h.isBuffer(Q)||!h.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===ae)return 0;let be=Q.length,De=ae.length;for(let Ke=0,Ue=Math.min(be,De);Ke<Ue;++Ke)if(Q[Ke]!==ae[Ke]){be=Q[Ke],De=ae[Ke];break}return be<De?-1:De<be?1:0},h.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(Q,ae){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return h.alloc(0);let be;if(ae===void 0)for(ae=0,be=0;be<Q.length;++be)ae+=Q[be].length;const De=h.allocUnsafe(ae);let Ke=0;for(be=0;be<Q.length;++be){let Ue=Q[be];if(ze(Ue,Uint8Array))Ke+Ue.length>De.length?(h.isBuffer(Ue)||(Ue=h.from(Ue)),Ue.copy(De,Ke)):Uint8Array.prototype.set.call(De,Ue,Ke);else if(h.isBuffer(Ue))Ue.copy(De,Ke);else throw new TypeError('"list" argument must be an Array of Buffers');Ke+=Ue.length}return De};function D(ue,Q){if(h.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||ze(ue,ArrayBuffer))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ue);const ae=ue.length,be=arguments.length>2&&arguments[2]===!0;if(!be&&ae===0)return 0;let De=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return ae;case"utf8":case"utf-8":return ve(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae*2;case"hex":return ae>>>1;case"base64":return xe(ue).length;default:if(De)return be?-1:ve(ue).length;Q=(""+Q).toLowerCase(),De=!0}}h.byteLength=D;function z(ue,Q,ae){let be=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((ae===void 0||ae>this.length)&&(ae=this.length),ae<=0)||(ae>>>=0,Q>>>=0,ae<=Q))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return $(this,Q,ae);case"utf8":case"utf-8":return C(this,Q,ae);case"ascii":return A(this,Q,ae);case"latin1":case"binary":return U(this,Q,ae);case"base64":return G(this,Q,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,Q,ae);default:if(be)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),be=!0}}h.prototype._isBuffer=!0;function q(ue,Q,ae){const be=ue[Q];ue[Q]=ue[ae],ue[ae]=be}h.prototype.swap16=function(){const Q=this.length;if(Q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ae=0;ae<Q;ae+=2)q(this,ae,ae+1);return this},h.prototype.swap32=function(){const Q=this.length;if(Q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ae=0;ae<Q;ae+=4)q(this,ae,ae+3),q(this,ae+1,ae+2);return this},h.prototype.swap64=function(){const Q=this.length;if(Q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ae=0;ae<Q;ae+=8)q(this,ae,ae+7),q(this,ae+1,ae+6),q(this,ae+2,ae+5),q(this,ae+3,ae+4);return this},h.prototype.toString=function(){const Q=this.length;return Q===0?"":arguments.length===0?C(this,0,Q):z.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(Q){if(!h.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:h.compare(this,Q)===0},h.prototype.inspect=function(){let Q="";const ae=V.INSPECT_MAX_BYTES;return Q=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(Q+=" ... "),"<Buffer "+Q+">"},N&&(h.prototype[N]=h.prototype.inspect),h.prototype.compare=function(Q,ae,be,De,Ke){if(ze(Q,Uint8Array)&&(Q=h.from(Q,Q.offset,Q.byteLength)),!h.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(ae===void 0&&(ae=0),be===void 0&&(be=Q?Q.length:0),De===void 0&&(De=0),Ke===void 0&&(Ke=this.length),ae<0||be>Q.length||De<0||Ke>this.length)throw new RangeError("out of range index");if(De>=Ke&&ae>=be)return 0;if(De>=Ke)return-1;if(ae>=be)return 1;if(ae>>>=0,be>>>=0,De>>>=0,Ke>>>=0,this===Q)return 0;let Ue=Ke-De,et=be-ae;const qt=Math.min(Ue,et),ot=this.slice(De,Ke),ut=Q.slice(ae,be);for(let bt=0;bt<qt;++bt)if(ot[bt]!==ut[bt]){Ue=ot[bt],et=ut[bt];break}return Ue<et?-1:et<Ue?1:0};function H(ue,Q,ae,be,De){if(ue.length===0)return-1;if(typeof ae=="string"?(be=ae,ae=0):ae>2147483647?ae=2147483647:ae<-2147483648&&(ae=-2147483648),ae=+ae,Et(ae)&&(ae=De?0:ue.length-1),ae<0&&(ae=ue.length+ae),ae>=ue.length){if(De)return-1;ae=ue.length-1}else if(ae<0)if(De)ae=0;else return-1;if(typeof Q=="string"&&(Q=h.from(Q,be)),h.isBuffer(Q))return Q.length===0?-1:j(ue,Q,ae,be,De);if(typeof Q=="number")return Q=Q&255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(ue,Q,ae):Uint8Array.prototype.lastIndexOf.call(ue,Q,ae):j(ue,[Q],ae,be,De);throw new TypeError("val must be string, number or Buffer")}function j(ue,Q,ae,be,De){let Ke=1,Ue=ue.length,et=Q.length;if(be!==void 0&&(be=String(be).toLowerCase(),be==="ucs2"||be==="ucs-2"||be==="utf16le"||be==="utf-16le")){if(ue.length<2||Q.length<2)return-1;Ke=2,Ue/=2,et/=2,ae/=2}function qt(ut,bt){return Ke===1?ut[bt]:ut.readUInt16BE(bt*Ke)}let ot;if(De){let ut=-1;for(ot=ae;ot<Ue;ot++)if(qt(ue,ot)===qt(Q,ut===-1?0:ot-ut)){if(ut===-1&&(ut=ot),ot-ut+1===et)return ut*Ke}else ut!==-1&&(ot-=ot-ut),ut=-1}else for(ae+et>Ue&&(ae=Ue-et),ot=ae;ot>=0;ot--){let ut=!0;for(let bt=0;bt<et;bt++)if(qt(ue,ot+bt)!==qt(Q,bt)){ut=!1;break}if(ut)return ot}return-1}h.prototype.includes=function(Q,ae,be){return this.indexOf(Q,ae,be)!==-1},h.prototype.indexOf=function(Q,ae,be){return H(this,Q,ae,be,!0)},h.prototype.lastIndexOf=function(Q,ae,be){return H(this,Q,ae,be,!1)};function K(ue,Q,ae,be){ae=Number(ae)||0;const De=ue.length-ae;be?(be=Number(be),be>De&&(be=De)):be=De;const Ke=Q.length;be>Ke/2&&(be=Ke/2);let Ue;for(Ue=0;Ue<be;++Ue){const et=parseInt(Q.substr(Ue*2,2),16);if(Et(et))return Ue;ue[ae+Ue]=et}return Ue}function Y(ue,Q,ae,be){return Ge(ve(Q,ue.length-ae),ue,ae,be)}function ne(ue,Q,ae,be){return Ge(we(Q),ue,ae,be)}function X(ue,Q,ae,be){return Ge(xe(Q),ue,ae,be)}function M(ue,Q,ae,be){return Ge(ge(Q,ue.length-ae),ue,ae,be)}h.prototype.write=function(Q,ae,be,De){if(ae===void 0)De="utf8",be=this.length,ae=0;else if(be===void 0&&typeof ae=="string")De=ae,be=this.length,ae=0;else if(isFinite(ae))ae=ae>>>0,isFinite(be)?(be=be>>>0,De===void 0&&(De="utf8")):(De=be,be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ke=this.length-ae;if((be===void 0||be>Ke)&&(be=Ke),Q.length>0&&(be<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let Ue=!1;for(;;)switch(De){case"hex":return K(this,Q,ae,be);case"utf8":case"utf-8":return Y(this,Q,ae,be);case"ascii":case"latin1":case"binary":return ne(this,Q,ae,be);case"base64":return X(this,Q,ae,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,Q,ae,be);default:if(Ue)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ue=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(ue,Q,ae){return Q===0&&ae===ue.length?R.fromByteArray(ue):R.fromByteArray(ue.slice(Q,ae))}function C(ue,Q,ae){ae=Math.min(ue.length,ae);const be=[];let De=Q;for(;De<ae;){const Ke=ue[De];let Ue=null,et=Ke>239?4:Ke>223?3:Ke>191?2:1;if(De+et<=ae){let qt,ot,ut,bt;switch(et){case 1:Ke<128&&(Ue=Ke);break;case 2:qt=ue[De+1],(qt&192)==128&&(bt=(Ke&31)<<6|qt&63,bt>127&&(Ue=bt));break;case 3:qt=ue[De+1],ot=ue[De+2],(qt&192)==128&&(ot&192)==128&&(bt=(Ke&15)<<12|(qt&63)<<6|ot&63,bt>2047&&(bt<55296||bt>57343)&&(Ue=bt));break;case 4:qt=ue[De+1],ot=ue[De+2],ut=ue[De+3],(qt&192)==128&&(ot&192)==128&&(ut&192)==128&&(bt=(Ke&15)<<18|(qt&63)<<12|(ot&63)<<6|ut&63,bt>65535&&bt<1114112&&(Ue=bt))}}Ue===null?(Ue=65533,et=1):Ue>65535&&(Ue-=65536,be.push(Ue>>>10&1023|55296),Ue=56320|Ue&1023),be.push(Ue),De+=et}return w(be)}const o=4096;function w(ue){const Q=ue.length;if(Q<=o)return String.fromCharCode.apply(String,ue);let ae="",be=0;for(;be<Q;)ae+=String.fromCharCode.apply(String,ue.slice(be,be+=o));return ae}function A(ue,Q,ae){let be="";ae=Math.min(ue.length,ae);for(let De=Q;De<ae;++De)be+=String.fromCharCode(ue[De]&127);return be}function U(ue,Q,ae){let be="";ae=Math.min(ue.length,ae);for(let De=Q;De<ae;++De)be+=String.fromCharCode(ue[De]);return be}function $(ue,Q,ae){const be=ue.length;(!Q||Q<0)&&(Q=0),(!ae||ae<0||ae>be)&&(ae=be);let De="";for(let Ke=Q;Ke<ae;++Ke)De+=tt[ue[Ke]];return De}function B(ue,Q,ae){const be=ue.slice(Q,ae);let De="";for(let Ke=0;Ke<be.length-1;Ke+=2)De+=String.fromCharCode(be[Ke]+be[Ke+1]*256);return De}h.prototype.slice=function(Q,ae){const be=this.length;Q=~~Q,ae=ae===void 0?be:~~ae,Q<0?(Q+=be,Q<0&&(Q=0)):Q>be&&(Q=be),ae<0?(ae+=be,ae<0&&(ae=0)):ae>be&&(ae=be),ae<Q&&(ae=Q);const De=this.subarray(Q,ae);return Object.setPrototypeOf(De,h.prototype),De};function Z(ue,Q,ae){if(ue%1!=0||ue<0)throw new RangeError("offset is not uint");if(ue+Q>ae)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(Q,ae,be){Q=Q>>>0,ae=ae>>>0,be||Z(Q,ae,this.length);let De=this[Q],Ke=1,Ue=0;for(;++Ue<ae&&(Ke*=256);)De+=this[Q+Ue]*Ke;return De},h.prototype.readUintBE=h.prototype.readUIntBE=function(Q,ae,be){Q=Q>>>0,ae=ae>>>0,be||Z(Q,ae,this.length);let De=this[Q+--ae],Ke=1;for(;ae>0&&(Ke*=256);)De+=this[Q+--ae]*Ke;return De},h.prototype.readUint8=h.prototype.readUInt8=function(Q,ae){return Q=Q>>>0,ae||Z(Q,1,this.length),this[Q]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,2,this.length),this[Q]|this[Q+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,2,this.length),this[Q]<<8|this[Q+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,4,this.length),this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},h.prototype.readBigUInt64LE=at(function(Q){Q=Q>>>0,Se(Q,"offset");const ae=this[Q],be=this[Q+7];(ae===void 0||be===void 0)&&O(Q,this.length-8);const De=ae+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24,Ke=this[++Q]+this[++Q]*2**8+this[++Q]*2**16+be*2**24;return BigInt(De)+(BigInt(Ke)<<BigInt(32))}),h.prototype.readBigUInt64BE=at(function(Q){Q=Q>>>0,Se(Q,"offset");const ae=this[Q],be=this[Q+7];(ae===void 0||be===void 0)&&O(Q,this.length-8);const De=ae*2**24+this[++Q]*2**16+this[++Q]*2**8+this[++Q],Ke=this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+be;return(BigInt(De)<<BigInt(32))+BigInt(Ke)}),h.prototype.readIntLE=function(Q,ae,be){Q=Q>>>0,ae=ae>>>0,be||Z(Q,ae,this.length);let De=this[Q],Ke=1,Ue=0;for(;++Ue<ae&&(Ke*=256);)De+=this[Q+Ue]*Ke;return Ke*=128,De>=Ke&&(De-=Math.pow(2,8*ae)),De},h.prototype.readIntBE=function(Q,ae,be){Q=Q>>>0,ae=ae>>>0,be||Z(Q,ae,this.length);let De=ae,Ke=1,Ue=this[Q+--De];for(;De>0&&(Ke*=256);)Ue+=this[Q+--De]*Ke;return Ke*=128,Ue>=Ke&&(Ue-=Math.pow(2,8*ae)),Ue},h.prototype.readInt8=function(Q,ae){return Q=Q>>>0,ae||Z(Q,1,this.length),this[Q]&128?(255-this[Q]+1)*-1:this[Q]},h.prototype.readInt16LE=function(Q,ae){Q=Q>>>0,ae||Z(Q,2,this.length);const be=this[Q]|this[Q+1]<<8;return be&32768?be|4294901760:be},h.prototype.readInt16BE=function(Q,ae){Q=Q>>>0,ae||Z(Q,2,this.length);const be=this[Q+1]|this[Q]<<8;return be&32768?be|4294901760:be},h.prototype.readInt32LE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},h.prototype.readInt32BE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},h.prototype.readBigInt64LE=at(function(Q){Q=Q>>>0,Se(Q,"offset");const ae=this[Q],be=this[Q+7];(ae===void 0||be===void 0)&&O(Q,this.length-8);const De=this[Q+4]+this[Q+5]*2**8+this[Q+6]*2**16+(be<<24);return(BigInt(De)<<BigInt(32))+BigInt(ae+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24)}),h.prototype.readBigInt64BE=at(function(Q){Q=Q>>>0,Se(Q,"offset");const ae=this[Q],be=this[Q+7];(ae===void 0||be===void 0)&&O(Q,this.length-8);const De=(ae<<24)+this[++Q]*2**16+this[++Q]*2**8+this[++Q];return(BigInt(De)<<BigInt(32))+BigInt(this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+be)}),h.prototype.readFloatLE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,4,this.length),P.read(this,Q,!0,23,4)},h.prototype.readFloatBE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,4,this.length),P.read(this,Q,!1,23,4)},h.prototype.readDoubleLE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,8,this.length),P.read(this,Q,!0,52,8)},h.prototype.readDoubleBE=function(Q,ae){return Q=Q>>>0,ae||Z(Q,8,this.length),P.read(this,Q,!1,52,8)};function te(ue,Q,ae,be,De,Ke){if(!h.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>De||Q<Ke)throw new RangeError('"value" argument is out of bounds');if(ae+be>ue.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(Q,ae,be,De){if(Q=+Q,ae=ae>>>0,be=be>>>0,!De){const et=Math.pow(2,8*be)-1;te(this,Q,ae,be,et,0)}let Ke=1,Ue=0;for(this[ae]=Q&255;++Ue<be&&(Ke*=256);)this[ae+Ue]=Q/Ke&255;return ae+be},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(Q,ae,be,De){if(Q=+Q,ae=ae>>>0,be=be>>>0,!De){const et=Math.pow(2,8*be)-1;te(this,Q,ae,be,et,0)}let Ke=be-1,Ue=1;for(this[ae+Ke]=Q&255;--Ke>=0&&(Ue*=256);)this[ae+Ke]=Q/Ue&255;return ae+be},h.prototype.writeUint8=h.prototype.writeUInt8=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,1,255,0),this[ae]=Q&255,ae+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,2,65535,0),this[ae]=Q&255,this[ae+1]=Q>>>8,ae+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,2,65535,0),this[ae]=Q>>>8,this[ae+1]=Q&255,ae+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,4,4294967295,0),this[ae+3]=Q>>>24,this[ae+2]=Q>>>16,this[ae+1]=Q>>>8,this[ae]=Q&255,ae+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,4,4294967295,0),this[ae]=Q>>>24,this[ae+1]=Q>>>16,this[ae+2]=Q>>>8,this[ae+3]=Q&255,ae+4};function L(ue,Q,ae,be,De){me(Q,be,De,ue,ae,7);let Ke=Number(Q&BigInt(4294967295));ue[ae++]=Ke,Ke=Ke>>8,ue[ae++]=Ke,Ke=Ke>>8,ue[ae++]=Ke,Ke=Ke>>8,ue[ae++]=Ke;let Ue=Number(Q>>BigInt(32)&BigInt(4294967295));return ue[ae++]=Ue,Ue=Ue>>8,ue[ae++]=Ue,Ue=Ue>>8,ue[ae++]=Ue,Ue=Ue>>8,ue[ae++]=Ue,ae}function re(ue,Q,ae,be,De){me(Q,be,De,ue,ae,7);let Ke=Number(Q&BigInt(4294967295));ue[ae+7]=Ke,Ke=Ke>>8,ue[ae+6]=Ke,Ke=Ke>>8,ue[ae+5]=Ke,Ke=Ke>>8,ue[ae+4]=Ke;let Ue=Number(Q>>BigInt(32)&BigInt(4294967295));return ue[ae+3]=Ue,Ue=Ue>>8,ue[ae+2]=Ue,Ue=Ue>>8,ue[ae+1]=Ue,Ue=Ue>>8,ue[ae]=Ue,ae+8}h.prototype.writeBigUInt64LE=at(function(Q,ae=0){return L(this,Q,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=at(function(Q,ae=0){return re(this,Q,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(Q,ae,be,De){if(Q=+Q,ae=ae>>>0,!De){const qt=Math.pow(2,8*be-1);te(this,Q,ae,be,qt-1,-qt)}let Ke=0,Ue=1,et=0;for(this[ae]=Q&255;++Ke<be&&(Ue*=256);)Q<0&&et===0&&this[ae+Ke-1]!==0&&(et=1),this[ae+Ke]=(Q/Ue>>0)-et&255;return ae+be},h.prototype.writeIntBE=function(Q,ae,be,De){if(Q=+Q,ae=ae>>>0,!De){const qt=Math.pow(2,8*be-1);te(this,Q,ae,be,qt-1,-qt)}let Ke=be-1,Ue=1,et=0;for(this[ae+Ke]=Q&255;--Ke>=0&&(Ue*=256);)Q<0&&et===0&&this[ae+Ke+1]!==0&&(et=1),this[ae+Ke]=(Q/Ue>>0)-et&255;return ae+be},h.prototype.writeInt8=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,1,127,-128),Q<0&&(Q=255+Q+1),this[ae]=Q&255,ae+1},h.prototype.writeInt16LE=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,2,32767,-32768),this[ae]=Q&255,this[ae+1]=Q>>>8,ae+2},h.prototype.writeInt16BE=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,2,32767,-32768),this[ae]=Q>>>8,this[ae+1]=Q&255,ae+2},h.prototype.writeInt32LE=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,4,2147483647,-2147483648),this[ae]=Q&255,this[ae+1]=Q>>>8,this[ae+2]=Q>>>16,this[ae+3]=Q>>>24,ae+4},h.prototype.writeInt32BE=function(Q,ae,be){return Q=+Q,ae=ae>>>0,be||te(this,Q,ae,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[ae]=Q>>>24,this[ae+1]=Q>>>16,this[ae+2]=Q>>>8,this[ae+3]=Q&255,ae+4},h.prototype.writeBigInt64LE=at(function(Q,ae=0){return L(this,Q,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=at(function(Q,ae=0){return re(this,Q,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(ue,Q,ae,be,De,Ke){if(ae+be>ue.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("Index out of range")}function _e(ue,Q,ae,be,De){return Q=+Q,ae=ae>>>0,De||Le(ue,Q,ae,4,34028234663852886e22,-34028234663852886e22),P.write(ue,Q,ae,be,23,4),ae+4}h.prototype.writeFloatLE=function(Q,ae,be){return _e(this,Q,ae,!0,be)},h.prototype.writeFloatBE=function(Q,ae,be){return _e(this,Q,ae,!1,be)};function Ce(ue,Q,ae,be,De){return Q=+Q,ae=ae>>>0,De||Le(ue,Q,ae,8,17976931348623157e292,-17976931348623157e292),P.write(ue,Q,ae,be,52,8),ae+8}h.prototype.writeDoubleLE=function(Q,ae,be){return Ce(this,Q,ae,!0,be)},h.prototype.writeDoubleBE=function(Q,ae,be){return Ce(this,Q,ae,!1,be)},h.prototype.copy=function(Q,ae,be,De){if(!h.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(be||(be=0),!De&&De!==0&&(De=this.length),ae>=Q.length&&(ae=Q.length),ae||(ae=0),De>0&&De<be&&(De=be),De===be||Q.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(be<0||be>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),Q.length-ae<De-be&&(De=Q.length-ae+be);const Ke=De-be;return this===Q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ae,be,De):Uint8Array.prototype.set.call(Q,this.subarray(be,De),ae),Ke},h.prototype.fill=function(Q,ae,be,De){if(typeof Q=="string"){if(typeof ae=="string"?(De=ae,ae=0,be=this.length):typeof be=="string"&&(De=be,be=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!h.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(Q.length===1){const Ue=Q.charCodeAt(0);(De==="utf8"&&Ue<128||De==="latin1")&&(Q=Ue)}}else typeof Q=="number"?Q=Q&255:typeof Q=="boolean"&&(Q=Number(Q));if(ae<0||this.length<ae||this.length<be)throw new RangeError("Out of range index");if(be<=ae)return this;ae=ae>>>0,be=be===void 0?this.length:be>>>0,Q||(Q=0);let Ke;if(typeof Q=="number")for(Ke=ae;Ke<be;++Ke)this[Ke]=Q;else{const Ue=h.isBuffer(Q)?Q:h.from(Q,De),et=Ue.length;if(et===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(Ke=0;Ke<be-ae;++Ke)this[Ke+ae]=Ue[Ke%et]}return this};const Me={};function J(ue,Q,ae){Me[ue]=class extends ae{constructor(){super();Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ue}]`,this.stack,delete this.name}get code(){return ue}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${ue}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?`${ue} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(ue,Q){return`The "${ue}" argument must be of type number. Received type ${typeof Q}`},TypeError),J("ERR_OUT_OF_RANGE",function(ue,Q,ae){let be=`The value of "${ue}" is out of range.`,De=ae;return Number.isInteger(ae)&&Math.abs(ae)>2**32?De=ee(String(ae)):typeof ae=="bigint"&&(De=String(ae),(ae>BigInt(2)**BigInt(32)||ae<-(BigInt(2)**BigInt(32)))&&(De=ee(De)),De+="n"),be+=` It must be ${Q}. Received ${De}`,be},RangeError);function ee(ue){let Q="",ae=ue.length;const be=ue[0]==="-"?1:0;for(;ae>=be+4;ae-=3)Q=`_${ue.slice(ae-3,ae)}${Q}`;return`${ue.slice(0,ae)}${Q}`}function ce(ue,Q,ae){Se(Q,"offset"),(ue[Q]===void 0||ue[Q+ae]===void 0)&&O(Q,ue.length-(ae+1))}function me(ue,Q,ae,be,De,Ke){if(ue>ae||ue<Q){const Ue=typeof Q=="bigint"?"n":"";let et;throw Ke>3?Q===0||Q===BigInt(0)?et=`>= 0${Ue} and < 2${Ue} ** ${(Ke+1)*8}${Ue}`:et=`>= -(2${Ue} ** ${(Ke+1)*8-1}${Ue}) and < 2 ** ${(Ke+1)*8-1}${Ue}`:et=`>= ${Q}${Ue} and <= ${ae}${Ue}`,new Me.ERR_OUT_OF_RANGE("value",et,ue)}ce(be,De,Ke)}function Se(ue,Q){if(typeof ue!="number")throw new Me.ERR_INVALID_ARG_TYPE(Q,"number",ue)}function O(ue,Q,ae){throw Math.floor(ue)!==ue?(Se(ue,ae),new Me.ERR_OUT_OF_RANGE(ae||"offset","an integer",ue)):Q<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(ae||"offset",`>= ${ae?1:0} and <= ${Q}`,ue)}const I=/[^+/0-9A-Za-z-_]/g;function se(ue){if(ue=ue.split("=")[0],ue=ue.trim().replace(I,""),ue.length<2)return"";for(;ue.length%4!=0;)ue=ue+"=";return ue}function ve(ue,Q){Q=Q||Infinity;let ae;const be=ue.length;let De=null;const Ke=[];for(let Ue=0;Ue<be;++Ue){if(ae=ue.charCodeAt(Ue),ae>55295&&ae<57344){if(!De){if(ae>56319){(Q-=3)>-1&&Ke.push(239,191,189);continue}else if(Ue+1===be){(Q-=3)>-1&&Ke.push(239,191,189);continue}De=ae;continue}if(ae<56320){(Q-=3)>-1&&Ke.push(239,191,189),De=ae;continue}ae=(De-55296<<10|ae-56320)+65536}else De&&(Q-=3)>-1&&Ke.push(239,191,189);if(De=null,ae<128){if((Q-=1)<0)break;Ke.push(ae)}else if(ae<2048){if((Q-=2)<0)break;Ke.push(ae>>6|192,ae&63|128)}else if(ae<65536){if((Q-=3)<0)break;Ke.push(ae>>12|224,ae>>6&63|128,ae&63|128)}else if(ae<1114112){if((Q-=4)<0)break;Ke.push(ae>>18|240,ae>>12&63|128,ae>>6&63|128,ae&63|128)}else throw new Error("Invalid code point")}return Ke}function we(ue){const Q=[];for(let ae=0;ae<ue.length;++ae)Q.push(ue.charCodeAt(ae)&255);return Q}function ge(ue,Q){let ae,be,De;const Ke=[];for(let Ue=0;Ue<ue.length&&!((Q-=2)<0);++Ue)ae=ue.charCodeAt(Ue),be=ae>>8,De=ae%256,Ke.push(De),Ke.push(be);return Ke}function xe(ue){return R.toByteArray(se(ue))}function Ge(ue,Q,ae,be){let De;for(De=0;De<be&&!(De+ae>=Q.length||De>=ue.length);++De)Q[De+ae]=ue[De];return De}function ze(ue,Q){return ue instanceof Q||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===Q.name}function Et(ue){return ue!==ue}const tt=function(){const ue="0123456789abcdef",Q=new Array(256);for(let ae=0;ae<16;++ae){const be=ae*16;for(let De=0;De<16;++De)Q[be+De]=ue[ae]+ue[De]}return Q}();function at(ue){return typeof BigInt=="undefined"?Tt:ue}function Tt(){throw new Error("BigInt not supported")}},86866:a=>{a.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}},56168:(a,V,E)=>{var R=E(92861).Buffer,P=E(88310).Transform,N=E(83141).I,k=E(56698);function c(l){P.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}k(c,P),c.prototype.update=function(l,h,p){typeof l=="string"&&(l=R.from(l,h));var _=this._update(l);return this.hashMode?this:(p&&(_=this._toString(_,p)),_)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(l,h,p){var _;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(b){_=b}finally{p(_)}},c.prototype._flush=function(l){var h;try{this.push(this.__final())}catch(p){h=p}l(h)},c.prototype._finalOrDigest=function(l){var h=this.__final()||R.alloc(0);return l&&(h=this._toString(h,l,!0)),h},c.prototype._toString=function(l,h,p){if(this._decoder||(this._decoder=new N(h),this._encoding=h),this._encoding!==h)throw new Error("can't switch encodings");var _=this._decoder.write(l);return p&&(_+=this._decoder.end()),_},a.exports=c},61324:(a,V,E)=>{var R=E(86729),P=E(39404);a.exports=function(h){return new k(h)};var N={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};N.p224=N.secp224r1,N.p256=N.secp256r1=N.prime256v1,N.p192=N.secp192r1=N.prime192v1,N.p384=N.secp384r1,N.p521=N.secp521r1;function k(l){this.curveType=N[l],this.curveType||(this.curveType={name:l}),this.curve=new R.ec(this.curveType.name),this.keys=void 0}k.prototype.generateKeys=function(l,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,h)},k.prototype.computeSecret=function(l,h,p){h=h||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,h));var _=this.curve.keyFromPublic(l).getPublic(),b=_.mul(this.keys.getPrivate()).getX();return c(b,p,this.curveType.byteLength)},k.prototype.getPublicKey=function(l,h){var p=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(p[p.length-1]%2?p[0]=7:p[0]=6),c(p,l)},k.prototype.getPrivateKey=function(l){return c(this.keys.getPrivate(),l)},k.prototype.setPublicKey=function(l,h){return h=h||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,h)),this.keys._importPublic(l),this},k.prototype.setPrivateKey=function(l,h){h=h||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,h));var p=new P(l);return p=p.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(p),this};function c(l,h,p){Array.isArray(l)||(l=l.toArray());var _=new Buffer(l);if(p&&_.length<p){var b=new Buffer(p-_.length);b.fill(0),_=Buffer.concat([b,_])}return h?_.toString(h):_}},47108:(a,V,E)=>{"use strict";var R=E(56698),P=E(88276),N=E(66011),k=E(62802),c=E(56168);function l(h){c.call(this,"digest"),this._hash=h}R(l,c),l.prototype._update=function(h){this._hash.update(h)},l.prototype._final=function(){return this._hash.digest()},a.exports=function(p){return p=p.toLowerCase(),p==="md5"?new P:p==="rmd160"||p==="ripemd160"?new N:new l(k(p))}},20320:(a,V,E)=>{var R=E(88276);a.exports=function(P){return new R().update(P).digest()}},83507:(a,V,E)=>{"use strict";var R=E(56698),P=E(41800),N=E(56168),k=E(92861).Buffer,c=E(20320),l=E(66011),h=E(62802),p=k.alloc(128);function _(b,u){N.call(this,"digest"),typeof u=="string"&&(u=k.from(u));var f=b==="sha512"||b==="sha384"?128:64;if(this._alg=b,this._key=u,u.length>f){var m=b==="rmd160"?new l:h(b);u=m.update(u).digest()}else u.length<f&&(u=k.concat([u,p],f));for(var g=this._ipad=k.allocUnsafe(f),v=this._opad=k.allocUnsafe(f),T=0;T<f;T++)g[T]=u[T]^54,v[T]=u[T]^92;this._hash=b==="rmd160"?new l:h(b),this._hash.update(g)}R(_,N),_.prototype._update=function(b){this._hash.update(b)},_.prototype._final=function(){var b=this._hash.digest(),u=this._alg==="rmd160"?new l:h(this._alg);return u.update(this._opad).update(b).digest()},a.exports=function(u,f){return u=u.toLowerCase(),u==="rmd160"||u==="ripemd160"?new _("rmd160",f):u==="md5"?new P(c,f):new _(u,f)}},41800:(a,V,E)=>{"use strict";var R=E(56698),P=E(92861).Buffer,N=E(56168),k=P.alloc(128),c=64;function l(h,p){N.call(this,"digest"),typeof p=="string"&&(p=P.from(p)),this._alg=h,this._key=p,p.length>c?p=h(p):p.length<c&&(p=P.concat([p,k],c));for(var _=this._ipad=P.allocUnsafe(c),b=this._opad=P.allocUnsafe(c),u=0;u<c;u++)_[u]=p[u]^54,b[u]=p[u]^92;this._hash=[_]}R(l,N),l.prototype._update=function(h){this._hash.push(h)},l.prototype._final=function(){var h=this._alg(P.concat(this._hash));return this._alg(P.concat([this._opad,h]))},a.exports=l},74945:function(a,V){var E=typeof self!="undefined"?self:this,R=function(){function N(){this.fetch=!1,this.DOMException=E.DOMException}return N.prototype=E,new N}();(function(N){var k=function(c){var l={searchParams:"URLSearchParams"in N,iterable:"Symbol"in N&&"iterator"in Symbol,blob:"FileReader"in N&&"Blob"in N&&function(){try{return new Blob,!0}catch(G){return!1}}(),formData:"FormData"in N,arrayBuffer:"ArrayBuffer"in N};function h(G){return G&&DataView.prototype.isPrototypeOf(G)}if(l.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(G){return G&&p.indexOf(Object.prototype.toString.call(G))>-1};function b(G){if(typeof G!="string"&&(G=String(G)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(G))throw new TypeError("Invalid character in header field name");return G.toLowerCase()}function u(G){return typeof G!="string"&&(G=String(G)),G}function f(G){var C={next:function(){var o=G.shift();return{done:o===void 0,value:o}}};return l.iterable&&(C[Symbol.iterator]=function(){return C}),C}function m(G){this.map={},G instanceof m?G.forEach(function(C,o){this.append(o,C)},this):Array.isArray(G)?G.forEach(function(C){this.append(C[0],C[1])},this):G&&Object.getOwnPropertyNames(G).forEach(function(C){this.append(C,G[C])},this)}m.prototype.append=function(G,C){G=b(G),C=u(C);var o=this.map[G];this.map[G]=o?o+", "+C:C},m.prototype.delete=function(G){delete this.map[b(G)]},m.prototype.get=function(G){return G=b(G),this.has(G)?this.map[G]:null},m.prototype.has=function(G){return this.map.hasOwnProperty(b(G))},m.prototype.set=function(G,C){this.map[b(G)]=u(C)},m.prototype.forEach=function(G,C){for(var o in this.map)this.map.hasOwnProperty(o)&&G.call(C,this.map[o],o,this)},m.prototype.keys=function(){var G=[];return this.forEach(function(C,o){G.push(o)}),f(G)},m.prototype.values=function(){var G=[];return this.forEach(function(C){G.push(C)}),f(G)},m.prototype.entries=function(){var G=[];return this.forEach(function(C,o){G.push([o,C])}),f(G)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function g(G){if(G.bodyUsed)return Promise.reject(new TypeError("Already read"));G.bodyUsed=!0}function v(G){return new Promise(function(C,o){G.onload=function(){C(G.result)},G.onerror=function(){o(G.error)}})}function T(G){var C=new FileReader,o=v(C);return C.readAsArrayBuffer(G),o}function S(G){var C=new FileReader,o=v(C);return C.readAsText(G),o}function x(G){for(var C=new Uint8Array(G),o=new Array(C.length),w=0;w<C.length;w++)o[w]=String.fromCharCode(C[w]);return o.join("")}function D(G){if(G.slice)return G.slice(0);var C=new Uint8Array(G.byteLength);return C.set(new Uint8Array(G)),C.buffer}function z(){return this.bodyUsed=!1,this._initBody=function(G){this._bodyInit=G,G?typeof G=="string"?this._bodyText=G:l.blob&&Blob.prototype.isPrototypeOf(G)?this._bodyBlob=G:l.formData&&FormData.prototype.isPrototypeOf(G)?this._bodyFormData=G:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(G)?this._bodyText=G.toString():l.arrayBuffer&&l.blob&&h(G)?(this._bodyArrayBuffer=D(G.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(G)||_(G))?this._bodyArrayBuffer=D(G):this._bodyText=G=Object.prototype.toString.call(G):this._bodyText="",this.headers.get("content-type")||(typeof G=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(G)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var G=g(this);if(G)return G;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var G=g(this);if(G)return G;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}var q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(G){var C=G.toUpperCase();return q.indexOf(C)>-1?C:G}function j(G,C){C=C||{};var o=C.body;if(G instanceof j){if(G.bodyUsed)throw new TypeError("Already read");this.url=G.url,this.credentials=G.credentials,C.headers||(this.headers=new m(G.headers)),this.method=G.method,this.mode=G.mode,this.signal=G.signal,!o&&G._bodyInit!=null&&(o=G._bodyInit,G.bodyUsed=!0)}else this.url=String(G);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new m(C.headers)),this.method=H(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function K(G){var C=new FormData;return G.trim().split("&").forEach(function(o){if(o){var w=o.split("="),A=w.shift().replace(/\+/g," "),U=w.join("=").replace(/\+/g," ");C.append(decodeURIComponent(A),decodeURIComponent(U))}}),C}function Y(G){var C=new m,o=G.replace(/\r?\n[\t ]+/g," ");return o.split(/\r?\n/).forEach(function(w){var A=w.split(":"),U=A.shift().trim();if(U){var $=A.join(":").trim();C.append(U,$)}}),C}z.call(j.prototype);function ne(G,C){C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in C?C.statusText:"OK",this.headers=new m(C.headers),this.url=C.url||"",this._initBody(G)}z.call(ne.prototype),ne.prototype.clone=function(){return new ne(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},ne.error=function(){var G=new ne(null,{status:0,statusText:""});return G.type="error",G};var X=[301,302,303,307,308];ne.redirect=function(G,C){if(X.indexOf(C)===-1)throw new RangeError("Invalid status code");return new ne(null,{status:C,headers:{location:G}})},c.DOMException=N.DOMException;try{new c.DOMException}catch(G){c.DOMException=function(C,o){this.message=C,this.name=o;var w=Error(C);this.stack=w.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function M(G,C){return new Promise(function(o,w){var A=new j(G,C);if(A.signal&&A.signal.aborted)return w(new c.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function $(){U.abort()}U.onload=function(){var B={status:U.status,statusText:U.statusText,headers:Y(U.getAllResponseHeaders()||"")};B.url="responseURL"in U?U.responseURL:B.headers.get("X-Request-URL");var Z="response"in U?U.response:U.responseText;o(new ne(Z,B))},U.onerror=function(){w(new TypeError("Network request failed"))},U.ontimeout=function(){w(new TypeError("Network request failed"))},U.onabort=function(){w(new c.DOMException("Aborted","AbortError"))},U.open(A.method,A.url,!0),A.credentials==="include"?U.withCredentials=!0:A.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&l.blob&&(U.responseType="blob"),A.headers.forEach(function(B,Z){U.setRequestHeader(Z,B)}),A.signal&&(A.signal.addEventListener("abort",$),U.onreadystatechange=function(){U.readyState===4&&A.signal.removeEventListener("abort",$)}),U.send(typeof A._bodyInit=="undefined"?null:A._bodyInit)})}return M.polyfill=!0,N.fetch||(N.fetch=M,N.Headers=m,N.Request=j,N.Response=ne),c.Headers=m,c.Request=j,c.Response=ne,c.fetch=M,Object.defineProperty(c,"__esModule",{value:!0}),c}({})})(R),R.fetch.ponyfill=!0,delete R.fetch.polyfill;var P=R;V=P.fetch,V.default=P.fetch,V.fetch=P.fetch,V.Headers=P.Headers,V.Request=P.Request,V.Response=P.Response,a.exports=V},91565:(a,V,E)=>{"use strict";var R;R=R=R=E(53209),V.n1=E(47108),R=E(83507);var P=E(55715),N=Object.keys(P),k=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(N);R=function(){return k};var c=E(78396);R=c.pbkdf2,R=c.pbkdf2Sync;var l=E(30125);R=l.Cipher,R=l.createCipher,R=l.Cipheriv,R=l.createCipheriv,R=l.Decipher,R=l.createDecipher,R=l.Decipheriv,R=l.createDecipheriv,R=l.getCiphers,R=l.listCiphers;var h=E(15380);R=h.DiffieHellmanGroup,R=h.createDiffieHellmanGroup,R=h.getDiffieHellman,R=h.createDiffieHellman,R=h.DiffieHellman;var p=E(20);R=p.createSign,R=p.Sign,R=p.createVerify,R=p.Verify,E(61324);var _=E(97168);R=_.publicEncrypt,R=_.privateEncrypt,R=_.publicDecrypt,R=_.privateDecrypt;var b=E(76983);R=b.randomFill,R=b.randomFillSync,R=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},R={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},74353:function(a){(function(V,E){a.exports=E()})(this,function(){"use strict";var V="millisecond",E="second",R="minute",P="hour",N="day",k="week",c="month",l="quarter",h="year",p="date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(H,j,K){var Y=String(H);return!Y||Y.length>=j?H:""+Array(j+1-Y.length).join(K)+H},m={s:f,z:function(H){var j=-H.utcOffset(),K=Math.abs(j),Y=Math.floor(K/60),ne=K%60;return(j<=0?"+":"-")+f(Y,2,"0")+":"+f(ne,2,"0")},m:function H(j,K){if(j.date()<K.date())return-H(K,j);var Y=12*(K.year()-j.year())+(K.month()-j.month()),ne=j.clone().add(Y,c),X=K-ne<0,M=j.clone().add(Y+(X?-1:1),c);return+(-(Y+(K-ne)/(X?ne-M:M-ne))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:c,y:h,w:k,d:N,D:p,h:P,m:R,s:E,ms:V,Q:l}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},g="en",v={};v[g]=u;var T=function(H){return H instanceof z},S=function(H,j,K){var Y;if(!H)return g;if(typeof H=="string")v[H]&&(Y=H),j&&(v[H]=j,Y=H);else{var ne=H.name;v[ne]=H,Y=ne}return!K&&Y&&(g=Y),Y||!K&&g},x=function(H,j){if(T(H))return H.clone();var K=typeof j=="object"?j:{};return K.date=H,K.args=arguments,new z(K)},D=m;D.l=S,D.i=T,D.w=function(H,j){return x(H,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var z=function(){function H(K){this.$L=S(K.locale,null,!0),this.parse(K)}var j=H.prototype;return j.parse=function(K){this.$d=function(Y){var ne=Y.date,X=Y.utc;if(ne===null)return new Date(NaN);if(D.u(ne))return new Date;if(ne instanceof Date)return new Date(ne);if(typeof ne=="string"&&!/Z$/i.test(ne)){var M=ne.match(_);if(M){var G=M[2]-1||0,C=(M[7]||"0").substring(0,3);return X?new Date(Date.UTC(M[1],G,M[3]||1,M[4]||0,M[5]||0,M[6]||0,C)):new Date(M[1],G,M[3]||1,M[4]||0,M[5]||0,M[6]||0,C)}}return new Date(ne)}(K),this.$x=K.x||{},this.init()},j.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},j.$utils=function(){return D},j.isValid=function(){return this.$d.toString()!=="Invalid Date"},j.isSame=function(K,Y){var ne=x(K);return this.startOf(Y)<=ne&&ne<=this.endOf(Y)},j.isAfter=function(K,Y){return x(K)<this.startOf(Y)},j.isBefore=function(K,Y){return this.endOf(Y)<x(K)},j.$g=function(K,Y,ne){return D.u(K)?this[Y]:this.set(ne,K)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(K,Y){var ne=this,X=!!D.u(Y)||Y,M=D.p(K),G=function(Z,te){var L=D.w(ne.$u?Date.UTC(ne.$y,te,Z):new Date(ne.$y,te,Z),ne);return X?L:L.endOf(N)},C=function(Z,te){return D.w(ne.toDate()[Z].apply(ne.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(te)),ne)},o=this.$W,w=this.$M,A=this.$D,U="set"+(this.$u?"UTC":"");switch(M){case h:return X?G(1,0):G(31,11);case c:return X?G(1,w):G(0,w+1);case k:var $=this.$locale().weekStart||0,B=(o<$?o+7:o)-$;return G(X?A-B:A+(6-B),w);case N:case p:return C(U+"Hours",0);case P:return C(U+"Minutes",1);case R:return C(U+"Seconds",2);case E:return C(U+"Milliseconds",3);default:return this.clone()}},j.endOf=function(K){return this.startOf(K,!1)},j.$set=function(K,Y){var ne,X=D.p(K),M="set"+(this.$u?"UTC":""),G=(ne={},ne[N]=M+"Date",ne[p]=M+"Date",ne[c]=M+"Month",ne[h]=M+"FullYear",ne[P]=M+"Hours",ne[R]=M+"Minutes",ne[E]=M+"Seconds",ne[V]=M+"Milliseconds",ne)[X],C=X===N?this.$D+(Y-this.$W):Y;if(X===c||X===h){var o=this.clone().set(p,1);o.$d[G](C),o.init(),this.$d=o.set(p,Math.min(this.$D,o.daysInMonth())).$d}else G&&this.$d[G](C);return this.init(),this},j.set=function(K,Y){return this.clone().$set(K,Y)},j.get=function(K){return this[D.p(K)]()},j.add=function(K,Y){var ne,X=this;K=Number(K);var M=D.p(Y),G=function(w){var A=x(X);return D.w(A.date(A.date()+Math.round(w*K)),X)};if(M===c)return this.set(c,this.$M+K);if(M===h)return this.set(h,this.$y+K);if(M===N)return G(1);if(M===k)return G(7);var C=(ne={},ne[R]=6e4,ne[P]=36e5,ne[E]=1e3,ne)[M]||1,o=this.$d.getTime()+K*C;return D.w(o,this)},j.subtract=function(K,Y){return this.add(-1*K,Y)},j.format=function(K){var Y=this;if(!this.isValid())return"Invalid Date";var ne=K||"YYYY-MM-DDTHH:mm:ssZ",X=D.z(this),M=this.$locale(),G=this.$H,C=this.$m,o=this.$M,w=M.weekdays,A=M.months,U=function(te,L,re,Le){return te&&(te[L]||te(Y,ne))||re[L].substr(0,Le)},$=function(te){return D.s(G%12||12,te,"0")},B=M.meridiem||function(te,L,re){var Le=te<12?"AM":"PM";return re?Le.toLowerCase():Le},Z={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,"0"),MMM:U(M.monthsShort,o,A,3),MMMM:U(A,o),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:U(M.weekdaysMin,this.$W,w,2),ddd:U(M.weekdaysShort,this.$W,w,3),dddd:w[this.$W],H:String(G),HH:D.s(G,2,"0"),h:$(1),hh:$(2),a:B(G,C,!0),A:B(G,C,!1),m:String(C),mm:D.s(C,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:X};return ne.replace(b,function(te,L){return L||Z[te]||X.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(K,Y,ne){var X,M=D.p(Y),G=x(K),C=6e4*(G.utcOffset()-this.utcOffset()),o=this-G,w=D.m(this,G);return w=(X={},X[h]=w/12,X[c]=w,X[l]=w/3,X[k]=(o-C)/6048e5,X[N]=(o-C)/864e5,X[P]=o/36e5,X[R]=o/6e4,X[E]=o/1e3,X)[M]||o,ne?w:D.a(w)},j.daysInMonth=function(){return this.endOf(c).$D},j.$locale=function(){return v[this.$L]},j.locale=function(K,Y){if(!K)return this.$L;var ne=this.clone(),X=S(K,Y,!0);return X&&(ne.$L=X),ne},j.clone=function(){return D.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},H}(),q=z.prototype;return x.prototype=q,[["$ms",V],["$s",E],["$m",R],["$H",P],["$W",N],["$M",c],["$y",h],["$D",p]].forEach(function(H){q[H[1]]=function(j){return this.$g(j,H[0],H[1])}}),x.extend=function(H,j){return H.$i||(H(j,z,x),H.$i=!0),x},x.locale=S,x.isDayjs=T,x.unix=function(H){return x(1e3*H)},x.en=v[g],x.Ls=v,x.p={},x})},6279:function(a){(function(V,E){a.exports=E()})(this,function(){"use strict";return function(V,E,R){V=V||{};var P=E.prototype,N={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function k(l,h,p,_){return P.fromToBase(l,h,p,_)}R.en.relativeTime=N,P.fromToBase=function(l,h,p,_,b){for(var u,f,m,g=p.$locale().relativeTime||N,v=V.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],T=v.length,S=0;S<T;S+=1){var x=v[S];x.d&&(u=_?R(l).diff(p,x.d,!0):p.diff(l,x.d,!0));var D=(V.rounding||Math.round)(Math.abs(u));if(m=u>0,D<=x.r||!x.r){D<=1&&S>0&&(x=v[S-1]);var z=g[x.l];b&&(D=b(""+D)),f=typeof z=="string"?z.replace("%d",D):z(D,h,x.l,m);break}}if(h)return f;var q=m?g.future:g.past;return typeof q=="function"?q(f):q.replace("%s",f)},P.to=function(l,h){return k(l,h,this,!0)},P.from=function(l,h){return k(l,h,this)};var c=function(l){return l.$u?R.utc():R()};P.toNow=function(l){return this.to(c(this),l)},P.fromNow=function(l){return this.from(c(this),l)}}})},53581:function(a){(function(V,E){a.exports=E()})(this,function(){"use strict";return function(V,E,R){R.updateLocale=function(P,N){var k=R.Ls[P];if(k)return(N?Object.keys(N):[]).forEach(function(c){k[c]=N[c]}),k}}})},29560:(a,V,E)=>{"use strict";V.utils=E(87626),V.Cipher=E(82808),V.DES=E(82211),V.CBC=E(3389),V.EDE=E(65279)},3389:(a,V,E)=>{"use strict";var R=E(43349),P=E(56698),N={};function k(l){R.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var h=0;h<this.iv.length;h++)this.iv[h]=l[h]}function c(l){function h(u){l.call(this,u),this._cbcInit()}P(h,l);for(var p=Object.keys(N),_=0;_<p.length;_++){var b=p[_];h.prototype[b]=N[b]}return h.create=function(f){return new h(f)},h}V.instantiate=c,N._cbcInit=function(){var h=new k(this.options.iv);this._cbcState=h},N._update=function(h,p,_,b){var u=this._cbcState,f=this.constructor.super_.prototype,m=u.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)m[g]^=h[p+g];f._update.call(this,m,0,_,b);for(var g=0;g<this.blockSize;g++)m[g]=_[b+g]}else{f._update.call(this,h,p,_,b);for(var g=0;g<this.blockSize;g++)_[b+g]^=m[g];for(var g=0;g<this.blockSize;g++)m[g]=h[p+g]}}},82808:(a,V,E)=>{"use strict";var R=E(43349);function P(N){this.options=N,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}a.exports=P,P.prototype._init=function(){},P.prototype.update=function(k){return k.length===0?[]:this.type==="decrypt"?this._updateDecrypt(k):this._updateEncrypt(k)},P.prototype._buffer=function(k,c){for(var l=Math.min(this.buffer.length-this.bufferOff,k.length-c),h=0;h<l;h++)this.buffer[this.bufferOff+h]=k[c+h];return this.bufferOff+=l,l},P.prototype._flushBuffer=function(k,c){return this._update(this.buffer,0,k,c),this.bufferOff=0,this.blockSize},P.prototype._updateEncrypt=function(k){var c=0,l=0,h=(this.bufferOff+k.length)/this.blockSize|0,p=new Array(h*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(k,c),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(p,l)));for(var _=k.length-(k.length-c)%this.blockSize;c<_;c+=this.blockSize)this._update(k,c,p,l),l+=this.blockSize;for(;c<k.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=k[c];return p},P.prototype._updateDecrypt=function(k){for(var c=0,l=0,h=Math.ceil((this.bufferOff+k.length)/this.blockSize)-1,p=new Array(h*this.blockSize);h>0;h--)c+=this._buffer(k,c),l+=this._flushBuffer(p,l);return c+=this._buffer(k,c),p},P.prototype.final=function(k){var c;k&&(c=this.update(k));var l;return this.type==="encrypt"?l=this._finalEncrypt():l=this._finalDecrypt(),c?c.concat(l):l},P.prototype._pad=function(k,c){if(c===0)return!1;for(;c<k.length;)k[c++]=0;return!0},P.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var k=new Array(this.blockSize);return this._update(this.buffer,0,k,0),k},P.prototype._unpad=function(k){return k},P.prototype._finalDecrypt=function(){R.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var k=new Array(this.blockSize);return this._flushBuffer(k,0),this._unpad(k)}},82211:(a,V,E)=>{"use strict";var R=E(43349),P=E(56698),N=E(87626),k=E(82808);function c(){this.tmp=new Array(2),this.keys=null}function l(p){k.call(this,p);var _=new c;this._desState=_,this.deriveKeys(_,p.key)}P(l,k),a.exports=l,l.create=function(_){return new l(_)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(_,b){_.keys=new Array(16*2),R.equal(b.length,this.blockSize,"Invalid key length");var u=N.readUInt32BE(b,0),f=N.readUInt32BE(b,4);N.pc1(u,f,_.tmp,0),u=_.tmp[0],f=_.tmp[1];for(var m=0;m<_.keys.length;m+=2){var g=h[m>>>1];u=N.r28shl(u,g),f=N.r28shl(f,g),N.pc2(u,f,_.keys,m)}},l.prototype._update=function(_,b,u,f){var m=this._desState,g=N.readUInt32BE(_,b),v=N.readUInt32BE(_,b+4);N.ip(g,v,m.tmp,0),g=m.tmp[0],v=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,v,m.tmp,0):this._decrypt(m,g,v,m.tmp,0),g=m.tmp[0],v=m.tmp[1],N.writeUInt32BE(u,g,f),N.writeUInt32BE(u,v,f+4)},l.prototype._pad=function(_,b){for(var u=_.length-b,f=b;f<_.length;f++)_[f]=u;return!0},l.prototype._unpad=function(_){for(var b=_[_.length-1],u=_.length-b;u<_.length;u++)R.equal(_[u],b);return _.slice(0,_.length-b)},l.prototype._encrypt=function(_,b,u,f,m){for(var g=b,v=u,T=0;T<_.keys.length;T+=2){var S=_.keys[T],x=_.keys[T+1];N.expand(v,_.tmp,0),S^=_.tmp[0],x^=_.tmp[1];var D=N.substitute(S,x),z=N.permute(D),q=v;v=(g^z)>>>0,g=q}N.rip(v,g,f,m)},l.prototype._decrypt=function(_,b,u,f,m){for(var g=u,v=b,T=_.keys.length-2;T>=0;T-=2){var S=_.keys[T],x=_.keys[T+1];N.expand(g,_.tmp,0),S^=_.tmp[0],x^=_.tmp[1];var D=N.substitute(S,x),z=N.permute(D),q=g;g=(v^z)>>>0,v=q}N.rip(g,v,f,m)}},65279:(a,V,E)=>{"use strict";var R=E(43349),P=E(56698),N=E(82808),k=E(82211);function c(h,p){R.equal(p.length,24,"Invalid key length");var _=p.slice(0,8),b=p.slice(8,16),u=p.slice(16,24);h==="encrypt"?this.ciphers=[k.create({type:"encrypt",key:_}),k.create({type:"decrypt",key:b}),k.create({type:"encrypt",key:u})]:this.ciphers=[k.create({type:"decrypt",key:u}),k.create({type:"encrypt",key:b}),k.create({type:"decrypt",key:_})]}function l(h){N.call(this,h);var p=new c(this.type,this.options.key);this._edeState=p}P(l,N),a.exports=l,l.create=function(p){return new l(p)},l.prototype._update=function(p,_,b,u){var f=this._edeState;f.ciphers[0]._update(p,_,b,u),f.ciphers[1]._update(b,u,b,u),f.ciphers[2]._update(b,u,b,u)},l.prototype._pad=k.prototype._pad,l.prototype._unpad=k.prototype._unpad},87626:(a,V)=>{"use strict";V.readUInt32BE=function(k,c){var l=k[0+c]<<24|k[1+c]<<16|k[2+c]<<8|k[3+c];return l>>>0},V.writeUInt32BE=function(k,c,l){k[0+l]=c>>>24,k[1+l]=c>>>16&255,k[2+l]=c>>>8&255,k[3+l]=c&255},V.ip=function(k,c,l,h){for(var p=0,_=0,b=6;b>=0;b-=2){for(var u=0;u<=24;u+=8)p<<=1,p|=c>>>u+b&1;for(var u=0;u<=24;u+=8)p<<=1,p|=k>>>u+b&1}for(var b=6;b>=0;b-=2){for(var u=1;u<=25;u+=8)_<<=1,_|=c>>>u+b&1;for(var u=1;u<=25;u+=8)_<<=1,_|=k>>>u+b&1}l[h+0]=p>>>0,l[h+1]=_>>>0},V.rip=function(k,c,l,h){for(var p=0,_=0,b=0;b<4;b++)for(var u=24;u>=0;u-=8)p<<=1,p|=c>>>u+b&1,p<<=1,p|=k>>>u+b&1;for(var b=4;b<8;b++)for(var u=24;u>=0;u-=8)_<<=1,_|=c>>>u+b&1,_<<=1,_|=k>>>u+b&1;l[h+0]=p>>>0,l[h+1]=_>>>0},V.pc1=function(k,c,l,h){for(var p=0,_=0,b=7;b>=5;b--){for(var u=0;u<=24;u+=8)p<<=1,p|=c>>u+b&1;for(var u=0;u<=24;u+=8)p<<=1,p|=k>>u+b&1}for(var u=0;u<=24;u+=8)p<<=1,p|=c>>u+b&1;for(var b=1;b<=3;b++){for(var u=0;u<=24;u+=8)_<<=1,_|=c>>u+b&1;for(var u=0;u<=24;u+=8)_<<=1,_|=k>>u+b&1}for(var u=0;u<=24;u+=8)_<<=1,_|=k>>u+b&1;l[h+0]=p>>>0,l[h+1]=_>>>0},V.r28shl=function(k,c){return k<<c&268435455|k>>>28-c};var E=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];V.pc2=function(k,c,l,h){for(var p=0,_=0,b=E.length>>>1,u=0;u<b;u++)p<<=1,p|=k>>>E[u]&1;for(var u=b;u<E.length;u++)_<<=1,_|=c>>>E[u]&1;l[h+0]=p>>>0,l[h+1]=_>>>0},V.expand=function(k,c,l){var h=0,p=0;h=(k&1)<<5|k>>>27;for(var _=23;_>=15;_-=4)h<<=6,h|=k>>>_&63;for(var _=11;_>=3;_-=4)p|=k>>>_&63,p<<=6;p|=(k&31)<<1|k>>>31,c[l+0]=h>>>0,c[l+1]=p>>>0};var R=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];V.substitute=function(k,c){for(var l=0,h=0;h<4;h++){var p=k>>>18-h*6&63,_=R[h*64+p];l<<=4,l|=_}for(var h=0;h<4;h++){var p=c>>>18-h*6&63,_=R[4*64+h*64+p];l<<=4,l|=_}return l>>>0};var P=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];V.permute=function(k){for(var c=0,l=0;l<P.length;l++)c<<=1,c|=k>>>P[l]&1;return c>>>0},V.padSplit=function(k,c,l){for(var h=k.toString(2);h.length<c;)h="0"+h;for(var p=[],_=0;_<c;_+=l)p.push(h.slice(_,_+l));return p.join(" ")}},15380:(a,V,E)=>{var R=E(4934),P=E(23241),N=E(14910);function k(h){var p=new Buffer(P[h].prime,"hex"),_=new Buffer(P[h].gen,"hex");return new N(p,_)}var c={binary:!0,hex:!0,base64:!0};function l(h,p,_,b){return Buffer.isBuffer(p)||c[p]===void 0?l(h,"binary",p,_):(p=p||"binary",b=b||"binary",_=_||new Buffer([2]),Buffer.isBuffer(_)||(_=new Buffer(_,b)),typeof h=="number"?new N(R(h,_),_,!0):(Buffer.isBuffer(h)||(h=new Buffer(h,p)),new N(h,_,!0)))}V.DiffieHellmanGroup=V.createDiffieHellmanGroup=V.getDiffieHellman=k,V.createDiffieHellman=V.DiffieHellman=l},14910:(a,V,E)=>{var R=E(39404),P=E(52244),N=new P,k=new R(24),c=new R(11),l=new R(10),h=new R(3),p=new R(7),_=E(4934),b=E(53209);a.exports=v;function u(S,x){return x=x||"utf8",Buffer.isBuffer(S)||(S=new Buffer(S,x)),this._pub=new R(S),this}function f(S,x){return x=x||"utf8",Buffer.isBuffer(S)||(S=new Buffer(S,x)),this._priv=new R(S),this}var m={};function g(S,x){var D=x.toString("hex"),z=[D,S.toString(16)].join("_");if(z in m)return m[z];var q=0;if(S.isEven()||!_.simpleSieve||!_.fermatTest(S)||!N.test(S))return q+=1,D==="02"||D==="05"?q+=8:q+=4,m[z]=q,q;N.test(S.shrn(1))||(q+=2);var H;switch(D){case"02":S.mod(k).cmp(c)&&(q+=8);break;case"05":H=S.mod(l),H.cmp(h)&&H.cmp(p)&&(q+=8);break;default:q+=4}return m[z]=q,q}function v(S,x,D){this.setGenerator(x),this.__prime=new R(S),this._prime=R.mont(this.__prime),this._primeLen=S.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=u,this.setPrivateKey=f):this._primeCode=8}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=g(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new R(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(S){S=new R(S),S=S.toRed(this._prime);var x=S.redPow(this._priv).fromRed(),D=new Buffer(x.toArray()),z=this.getPrime();if(D.length<z.length){var q=new Buffer(z.length-D.length);q.fill(0),D=Buffer.concat([q,D])}return D},v.prototype.getPublicKey=function(x){return T(this._pub,x)},v.prototype.getPrivateKey=function(x){return T(this._priv,x)},v.prototype.getPrime=function(S){return T(this.__prime,S)},v.prototype.getGenerator=function(S){return T(this._gen,S)},v.prototype.setGenerator=function(S,x){return x=x||"utf8",Buffer.isBuffer(S)||(S=new Buffer(S,x)),this.__gen=S,this._gen=new R(S),this};function T(S,x){var D=new Buffer(S.toArray());return x?D.toString(x):D}},4934:(a,V,E)=>{var R=E(53209);a.exports=q,q.simpleSieve=D,q.fermatTest=z;var P=E(39404),N=new P(24),k=E(52244),c=new k,l=new P(1),h=new P(2),p=new P(5),_=new P(16),b=new P(8),u=new P(10),f=new P(3),m=new P(7),g=new P(11),v=new P(4),T=new P(12),S=null;function x(){if(S!==null)return S;var H=1048576,j=[];j[0]=2;for(var K=1,Y=3;Y<H;Y+=2){for(var ne=Math.ceil(Math.sqrt(Y)),X=0;X<K&&j[X]<=ne&&Y%j[X]!=0;X++);K!==X&&j[X]<=ne||(j[K++]=Y)}return S=j,j}function D(H){for(var j=x(),K=0;K<j.length;K++)if(H.modn(j[K])===0)return H.cmpn(j[K])===0;return!0}function z(H){var j=P.mont(H);return h.toRed(j).redPow(H.subn(1)).fromRed().cmpn(1)===0}function q(H,j){if(H<16)return j===2||j===5?new P([140,123]):new P([140,39]);j=new P(j);for(var K,Y;;){for(K=new P(R(Math.ceil(H/8)));K.bitLength()>H;)K.ishrn(1);if(K.isEven()&&K.iadd(l),K.testn(1)||K.iadd(h),j.cmp(h)){if(!j.cmp(p))for(;K.mod(u).cmp(f);)K.iadd(v)}else for(;K.mod(N).cmp(g);)K.iadd(v);if(Y=K.shrn(1),D(Y)&&D(K)&&z(Y)&&z(K)&&c.test(Y)&&c.test(K))return K}}},86729:(a,V,E)=>{"use strict";var R=V;R.version=E(1636).rE,R.utils=E(47011),R.rand=E(15037),R.curve=E(894),R.curves=E(60480),R.ec=E(57447),R.eddsa=E(8650)},36677:(a,V,E)=>{"use strict";var R=E(39404),P=E(47011),N=P.getNAF,k=P.getJSF,c=P.assert;function l(p,_){this.type=p,this.p=new R(_.p,16),this.red=_.prime?R.red(_.prime):R.mont(this.p),this.zero=new R(0).toRed(this.red),this.one=new R(1).toRed(this.red),this.two=new R(2).toRed(this.red),this.n=_.n&&new R(_.n,16),this.g=_.g&&this.pointFromJSON(_.g,_.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}a.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(_,b){c(_.precomputed);var u=_._getDoubles(),f=N(b,1,this._bitLength),m=(1<<u.step+1)-(u.step%2==0?2:1);m/=3;var g=[],v,T;for(v=0;v<f.length;v+=u.step){T=0;for(var S=v+u.step-1;S>=v;S--)T=(T<<1)+f[S];g.push(T)}for(var x=this.jpoint(null,null,null),D=this.jpoint(null,null,null),z=m;z>0;z--){for(v=0;v<g.length;v++)T=g[v],T===z?D=D.mixedAdd(u.points[v]):T===-z&&(D=D.mixedAdd(u.points[v].neg()));x=x.add(D)}return x.toP()},l.prototype._wnafMul=function(_,b){var u=4,f=_._getNAFPoints(u);u=f.wnd;for(var m=f.points,g=N(b,u,this._bitLength),v=this.jpoint(null,null,null),T=g.length-1;T>=0;T--){for(var S=0;T>=0&&g[T]===0;T--)S++;if(T>=0&&S++,v=v.dblp(S),T<0)break;var x=g[T];c(x!==0),_.type==="affine"?x>0?v=v.mixedAdd(m[x-1>>1]):v=v.mixedAdd(m[-x-1>>1].neg()):x>0?v=v.add(m[x-1>>1]):v=v.add(m[-x-1>>1].neg())}return _.type==="affine"?v.toP():v},l.prototype._wnafMulAdd=function(_,b,u,f,m){var g=this._wnafT1,v=this._wnafT2,T=this._wnafT3,S=0,x,D,z;for(x=0;x<f;x++){z=b[x];var q=z._getNAFPoints(_);g[x]=q.wnd,v[x]=q.points}for(x=f-1;x>=1;x-=2){var H=x-1,j=x;if(g[H]!==1||g[j]!==1){T[H]=N(u[H],g[H],this._bitLength),T[j]=N(u[j],g[j],this._bitLength),S=Math.max(T[H].length,S),S=Math.max(T[j].length,S);continue}var K=[b[H],null,null,b[j]];b[H].y.cmp(b[j].y)===0?(K[1]=b[H].add(b[j]),K[2]=b[H].toJ().mixedAdd(b[j].neg())):b[H].y.cmp(b[j].y.redNeg())===0?(K[1]=b[H].toJ().mixedAdd(b[j]),K[2]=b[H].add(b[j].neg())):(K[1]=b[H].toJ().mixedAdd(b[j]),K[2]=b[H].toJ().mixedAdd(b[j].neg()));var Y=[-3,-1,-5,-7,0,7,5,1,3],ne=k(u[H],u[j]);for(S=Math.max(ne[0].length,S),T[H]=new Array(S),T[j]=new Array(S),D=0;D<S;D++){var X=ne[0][D]|0,M=ne[1][D]|0;T[H][D]=Y[(X+1)*3+(M+1)],T[j][D]=0,v[H]=K}}var G=this.jpoint(null,null,null),C=this._wnafT4;for(x=S;x>=0;x--){for(var o=0;x>=0;){var w=!0;for(D=0;D<f;D++)C[D]=T[D][x]|0,C[D]!==0&&(w=!1);if(!w)break;o++,x--}if(x>=0&&o++,G=G.dblp(o),x<0)break;for(D=0;D<f;D++){var A=C[D];A!==0&&(A>0?z=v[D][A-1>>1]:A<0&&(z=v[D][-A-1>>1].neg()),z.type==="affine"?G=G.mixedAdd(z):G=G.add(z))}}for(x=0;x<f;x++)v[x]=null;return m?G:G.toP()};function h(p,_){this.curve=p,this.type=_,this.precomputed=null}l.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(_,b){_=P.toArray(_,b);var u=this.p.byteLength();if((_[0]===4||_[0]===6||_[0]===7)&&_.length-1==2*u){_[0]===6?c(_[_.length-1]%2==0):_[0]===7&&c(_[_.length-1]%2==1);var f=this.point(_.slice(1,1+u),_.slice(1+u,1+2*u));return f}else if((_[0]===2||_[0]===3)&&_.length-1===u)return this.pointFromX(_.slice(1,1+u),_[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(_){return this.encode(_,!0)},h.prototype._encode=function(_){var b=this.curve.p.byteLength(),u=this.getX().toArray("be",b);return _?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",b))},h.prototype.encode=function(_,b){return P.encode(this._encode(b),_)},h.prototype.precompute=function(_){if(this.precomputed)return this;var b={doubles:null,naf:null,beta:null};return b.naf=this._getNAFPoints(8),b.doubles=this._getDoubles(4,_),b.beta=this._getBeta(),this.precomputed=b,this},h.prototype._hasDoubles=function(_){if(!this.precomputed)return!1;var b=this.precomputed.doubles;return b?b.points.length>=Math.ceil((_.bitLength()+1)/b.step):!1},h.prototype._getDoubles=function(_,b){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],f=this,m=0;m<b;m+=_){for(var g=0;g<_;g++)f=f.dbl();u.push(f)}return{step:_,points:u}},h.prototype._getNAFPoints=function(_){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var b=[this],u=(1<<_)-1,f=u===1?null:this.dbl(),m=1;m<u;m++)b[m]=b[m-1].add(f);return{wnd:_,points:b}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(_){for(var b=this,u=0;u<_;u++)b=b.dbl();return b}},31298:(a,V,E)=>{"use strict";var R=E(47011),P=E(39404),N=E(56698),k=E(36677),c=R.assert;function l(p){this.twisted=(p.a|0)!=1,this.mOneA=this.twisted&&(p.a|0)==-1,this.extended=this.mOneA,k.call(this,"edwards",p),this.a=new P(p.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new P(p.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new P(p.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(p.c|0)==1}N(l,k),a.exports=l,l.prototype._mulA=function(_){return this.mOneA?_.redNeg():this.a.redMul(_)},l.prototype._mulC=function(_){return this.oneC?_:this.c.redMul(_)},l.prototype.jpoint=function(_,b,u,f){return this.point(_,b,u,f)},l.prototype.pointFromX=function(_,b){_=new P(_,16),_.red||(_=_.toRed(this.red));var u=_.redSqr(),f=this.c2.redSub(this.a.redMul(u)),m=this.one.redSub(this.c2.redMul(this.d).redMul(u)),g=f.redMul(m.redInvm()),v=g.redSqrt();if(v.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var T=v.fromRed().isOdd();return(b&&!T||!b&&T)&&(v=v.redNeg()),this.point(_,v)},l.prototype.pointFromY=function(_,b){_=new P(_,16),_.red||(_=_.toRed(this.red));var u=_.redSqr(),f=u.redSub(this.c2),m=u.redMul(this.d).redMul(this.c2).redSub(this.a),g=f.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(b)throw new Error("invalid point");return this.point(this.zero,_)}var v=g.redSqrt();if(v.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==b&&(v=v.redNeg()),this.point(v,_)},l.prototype.validate=function(_){if(_.isInfinity())return!0;_.normalize();var b=_.x.redSqr(),u=_.y.redSqr(),f=b.redMul(this.a).redAdd(u),m=this.c2.redMul(this.one.redAdd(this.d.redMul(b).redMul(u)));return f.cmp(m)===0};function h(p,_,b,u,f){k.BasePoint.call(this,p,"projective"),_===null&&b===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new P(_,16),this.y=new P(b,16),this.z=u?new P(u,16):this.curve.one,this.t=f&&new P(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}N(h,k.BasePoint),l.prototype.pointFromJSON=function(_){return h.fromJSON(this,_)},l.prototype.point=function(_,b,u,f){return new h(this,_,b,u,f)},h.fromJSON=function(_,b){return new h(_,b[0],b[1],b[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var _=this.x.redSqr(),b=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var f=this.curve._mulA(_),m=this.x.redAdd(this.y).redSqr().redISub(_).redISub(b),g=f.redAdd(b),v=g.redSub(u),T=f.redSub(b),S=m.redMul(v),x=g.redMul(T),D=m.redMul(T),z=v.redMul(g);return this.curve.point(S,x,z,D)},h.prototype._projDbl=function(){var _=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),u=this.y.redSqr(),f,m,g,v,T,S;if(this.curve.twisted){v=this.curve._mulA(b);var x=v.redAdd(u);this.zOne?(f=_.redSub(b).redSub(u).redMul(x.redSub(this.curve.two)),m=x.redMul(v.redSub(u)),g=x.redSqr().redSub(x).redSub(x)):(T=this.z.redSqr(),S=x.redSub(T).redISub(T),f=_.redSub(b).redISub(u).redMul(S),m=x.redMul(v.redSub(u)),g=x.redMul(S))}else v=b.redAdd(u),T=this.curve._mulC(this.z).redSqr(),S=v.redSub(T).redSub(T),f=this.curve._mulC(_.redISub(v)).redMul(S),m=this.curve._mulC(v).redMul(b.redISub(u)),g=v.redMul(S);return this.curve.point(f,m,g)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(_){var b=this.y.redSub(this.x).redMul(_.y.redSub(_.x)),u=this.y.redAdd(this.x).redMul(_.y.redAdd(_.x)),f=this.t.redMul(this.curve.dd).redMul(_.t),m=this.z.redMul(_.z.redAdd(_.z)),g=u.redSub(b),v=m.redSub(f),T=m.redAdd(f),S=u.redAdd(b),x=g.redMul(v),D=T.redMul(S),z=g.redMul(S),q=v.redMul(T);return this.curve.point(x,D,q,z)},h.prototype._projAdd=function(_){var b=this.z.redMul(_.z),u=b.redSqr(),f=this.x.redMul(_.x),m=this.y.redMul(_.y),g=this.curve.d.redMul(f).redMul(m),v=u.redSub(g),T=u.redAdd(g),S=this.x.redAdd(this.y).redMul(_.x.redAdd(_.y)).redISub(f).redISub(m),x=b.redMul(v).redMul(S),D,z;return this.curve.twisted?(D=b.redMul(T).redMul(m.redSub(this.curve._mulA(f))),z=v.redMul(T)):(D=b.redMul(T).redMul(m.redSub(f)),z=this.curve._mulC(v).redMul(T)),this.curve.point(x,D,z)},h.prototype.add=function(_){return this.isInfinity()?_:_.isInfinity()?this:this.curve.extended?this._extAdd(_):this._projAdd(_)},h.prototype.mul=function(_){return this._hasDoubles(_)?this.curve._fixedNafMul(this,_):this.curve._wnafMul(this,_)},h.prototype.mulAdd=function(_,b,u){return this.curve._wnafMulAdd(1,[this,b],[_,u],2,!1)},h.prototype.jmulAdd=function(_,b,u){return this.curve._wnafMulAdd(1,[this,b],[_,u],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var _=this.z.redInvm();return this.x=this.x.redMul(_),this.y=this.y.redMul(_),this.t&&(this.t=this.t.redMul(_)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(_){return this===_||this.getX().cmp(_.getX())===0&&this.getY().cmp(_.getY())===0},h.prototype.eqXToP=function(_){var b=_.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(b)===0)return!0;for(var u=_.clone(),f=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(f),this.x.cmp(b)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},894:(a,V,E)=>{"use strict";var R=V;R.base=E(36677),R.short=E(39188),R.mont=E(30370),R.edwards=E(31298)},30370:(a,V,E)=>{"use strict";var R=E(39404),P=E(56698),N=E(36677),k=E(47011);function c(h){N.call(this,"mont",h),this.a=new R(h.a,16).toRed(this.red),this.b=new R(h.b,16).toRed(this.red),this.i4=new R(4).toRed(this.red).redInvm(),this.two=new R(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}P(c,N),a.exports=c,c.prototype.validate=function(p){var _=p.normalize().x,b=_.redSqr(),u=b.redMul(_).redAdd(b.redMul(this.a)).redAdd(_),f=u.redSqrt();return f.redSqr().cmp(u)===0};function l(h,p,_){N.BasePoint.call(this,h,"projective"),p===null&&_===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new R(p,16),this.z=new R(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}P(l,N.BasePoint),c.prototype.decodePoint=function(p,_){return this.point(k.toArray(p,_),1)},c.prototype.point=function(p,_){return new l(this,p,_)},c.prototype.pointFromJSON=function(p){return l.fromJSON(this,p)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(p,_){return new l(p,_[0],_[1]||p.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var p=this.x.redAdd(this.z),_=p.redSqr(),b=this.x.redSub(this.z),u=b.redSqr(),f=_.redSub(u),m=_.redMul(u),g=f.redMul(u.redAdd(this.curve.a24.redMul(f)));return this.curve.point(m,g)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(p,_){var b=this.x.redAdd(this.z),u=this.x.redSub(this.z),f=p.x.redAdd(p.z),m=p.x.redSub(p.z),g=m.redMul(b),v=f.redMul(u),T=_.z.redMul(g.redAdd(v).redSqr()),S=_.x.redMul(g.redISub(v).redSqr());return this.curve.point(T,S)},l.prototype.mul=function(p){for(var _=p.clone(),b=this,u=this.curve.point(null,null),f=this,m=[];_.cmpn(0)!==0;_.iushrn(1))m.push(_.andln(1));for(var g=m.length-1;g>=0;g--)m[g]===0?(b=b.diffAdd(u,f),u=u.dbl()):(u=b.diffAdd(u,f),b=b.dbl());return u},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(a,V,E)=>{"use strict";var R=E(47011),P=E(39404),N=E(56698),k=E(36677),c=R.assert;function l(_){k.call(this,"short",_),this.a=new P(_.a,16).toRed(this.red),this.b=new P(_.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(_),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}N(l,k),a.exports=l,l.prototype._getEndomorphism=function(b){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,f;if(b.beta)u=new P(b.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);u=m[0].cmp(m[1])<0?m[0]:m[1],u=u.toRed(this.red)}if(b.lambda)f=new P(b.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(u))===0?f=g[0]:(f=g[1],c(this.g.mul(f).x.cmp(this.g.x.redMul(u))===0))}var v;return b.basis?v=b.basis.map(function(T){return{a:new P(T.a,16),b:new P(T.b,16)}}):v=this._getEndoBasis(f),{beta:u,lambda:f,basis:v}}},l.prototype._getEndoRoots=function(b){var u=b===this.p?this.red:P.mont(b),f=new P(2).toRed(u).redInvm(),m=f.redNeg(),g=new P(3).toRed(u).redNeg().redSqrt().redMul(f),v=m.redAdd(g).fromRed(),T=m.redSub(g).fromRed();return[v,T]},l.prototype._getEndoBasis=function(b){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=b,m=this.n.clone(),g=new P(1),v=new P(0),T=new P(0),S=new P(1),x,D,z,q,H,j,K,Y=0,ne,X;f.cmpn(0)!==0;){var M=m.div(f);ne=m.sub(M.mul(f)),X=T.sub(M.mul(g));var G=S.sub(M.mul(v));if(!z&&ne.cmp(u)<0)x=K.neg(),D=g,z=ne.neg(),q=X;else if(z&&++Y==2)break;K=ne,m=f,f=ne,T=g,g=X,S=v,v=G}H=ne.neg(),j=X;var C=z.sqr().add(q.sqr()),o=H.sqr().add(j.sqr());return o.cmp(C)>=0&&(H=x,j=D),z.negative&&(z=z.neg(),q=q.neg()),H.negative&&(H=H.neg(),j=j.neg()),[{a:z,b:q},{a:H,b:j}]},l.prototype._endoSplit=function(b){var u=this.endo.basis,f=u[0],m=u[1],g=m.b.mul(b).divRound(this.n),v=f.b.neg().mul(b).divRound(this.n),T=g.mul(f.a),S=v.mul(m.a),x=g.mul(f.b),D=v.mul(m.b),z=b.sub(T).sub(S),q=x.add(D).neg();return{k1:z,k2:q}},l.prototype.pointFromX=function(b,u){b=new P(b,16),b.red||(b=b.toRed(this.red));var f=b.redSqr().redMul(b).redIAdd(b.redMul(this.a)).redIAdd(this.b),m=f.redSqrt();if(m.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(u&&!g||!u&&g)&&(m=m.redNeg()),this.point(b,m)},l.prototype.validate=function(b){if(b.inf)return!0;var u=b.x,f=b.y,m=this.a.redMul(u),g=u.redSqr().redMul(u).redIAdd(m).redIAdd(this.b);return f.redSqr().redISub(g).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(b,u,f){for(var m=this._endoWnafT1,g=this._endoWnafT2,v=0;v<b.length;v++){var T=this._endoSplit(u[v]),S=b[v],x=S._getBeta();T.k1.negative&&(T.k1.ineg(),S=S.neg(!0)),T.k2.negative&&(T.k2.ineg(),x=x.neg(!0)),m[v*2]=S,m[v*2+1]=x,g[v*2]=T.k1,g[v*2+1]=T.k2}for(var D=this._wnafMulAdd(1,m,g,v*2,f),z=0;z<v*2;z++)m[z]=null,g[z]=null;return D};function h(_,b,u,f){k.BasePoint.call(this,_,"affine"),b===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new P(b,16),this.y=new P(u,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}N(h,k.BasePoint),l.prototype.point=function(b,u,f){return new h(this,b,u,f)},l.prototype.pointFromJSON=function(b,u){return h.fromJSON(this,b,u)},h.prototype._getBeta=function(){if(!!this.curve.endo){var b=this.precomputed;if(b&&b.beta)return b.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(b){var f=this.curve,m=function(g){return f.point(g.x.redMul(f.endo.beta),g.y)};b.beta=u,u.precomputed={beta:null,naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(m)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(m)}}}return u}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(b,u,f){typeof u=="string"&&(u=JSON.parse(u));var m=b.point(u[0],u[1],f);if(!u[2])return m;function g(T){return b.point(T[0],T[1],f)}var v=u[2];return m.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[m].concat(v.doubles.points.map(g))},naf:v.naf&&{wnd:v.naf.wnd,points:[m].concat(v.naf.points.map(g))}},m},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(b){if(this.inf)return b;if(b.inf)return this;if(this.eq(b))return this.dbl();if(this.neg().eq(b))return this.curve.point(null,null);if(this.x.cmp(b.x)===0)return this.curve.point(null,null);var u=this.y.redSub(b.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(b.x).redInvm()));var f=u.redSqr().redISub(this.x).redISub(b.x),m=u.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,m)},h.prototype.dbl=function(){if(this.inf)return this;var b=this.y.redAdd(this.y);if(b.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,f=this.x.redSqr(),m=b.redInvm(),g=f.redAdd(f).redIAdd(f).redIAdd(u).redMul(m),v=g.redSqr().redISub(this.x.redAdd(this.x)),T=g.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,T)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(b){return b=new P(b,16),this.isInfinity()?this:this._hasDoubles(b)?this.curve._fixedNafMul(this,b):this.curve.endo?this.curve._endoWnafMulAdd([this],[b]):this.curve._wnafMul(this,b)},h.prototype.mulAdd=function(b,u,f){var m=[this,u],g=[b,f];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},h.prototype.jmulAdd=function(b,u,f){var m=[this,u],g=[b,f];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},h.prototype.eq=function(b){return this===b||this.inf===b.inf&&(this.inf||this.x.cmp(b.x)===0&&this.y.cmp(b.y)===0)},h.prototype.neg=function(b){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(b&&this.precomputed){var f=this.precomputed,m=function(g){return g.neg()};u.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(m)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(m)}}}return u},h.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var b=this.curve.jpoint(this.x,this.y,this.curve.one);return b};function p(_,b,u,f){k.BasePoint.call(this,_,"jacobian"),b===null&&u===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new P(0)):(this.x=new P(b,16),this.y=new P(u,16),this.z=new P(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}N(p,k.BasePoint),l.prototype.jpoint=function(b,u,f){return new p(this,b,u,f)},p.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var b=this.z.redInvm(),u=b.redSqr(),f=this.x.redMul(u),m=this.y.redMul(u).redMul(b);return this.curve.point(f,m)},p.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},p.prototype.add=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;var u=b.z.redSqr(),f=this.z.redSqr(),m=this.x.redMul(u),g=b.x.redMul(f),v=this.y.redMul(u.redMul(b.z)),T=b.y.redMul(f.redMul(this.z)),S=m.redSub(g),x=v.redSub(T);if(S.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=S.redSqr(),z=D.redMul(S),q=m.redMul(D),H=x.redSqr().redIAdd(z).redISub(q).redISub(q),j=x.redMul(q.redISub(H)).redISub(v.redMul(z)),K=this.z.redMul(b.z).redMul(S);return this.curve.jpoint(H,j,K)},p.prototype.mixedAdd=function(b){if(this.isInfinity())return b.toJ();if(b.isInfinity())return this;var u=this.z.redSqr(),f=this.x,m=b.x.redMul(u),g=this.y,v=b.y.redMul(u).redMul(this.z),T=f.redSub(m),S=g.redSub(v);if(T.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=T.redSqr(),D=x.redMul(T),z=f.redMul(x),q=S.redSqr().redIAdd(D).redISub(z).redISub(z),H=S.redMul(z.redISub(q)).redISub(g.redMul(D)),j=this.z.redMul(T);return this.curve.jpoint(q,H,j)},p.prototype.dblp=function(b){if(b===0)return this;if(this.isInfinity())return this;if(!b)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var f=this;for(u=0;u<b;u++)f=f.dbl();return f}var m=this.curve.a,g=this.curve.tinv,v=this.x,T=this.y,S=this.z,x=S.redSqr().redSqr(),D=T.redAdd(T);for(u=0;u<b;u++){var z=v.redSqr(),q=D.redSqr(),H=q.redSqr(),j=z.redAdd(z).redIAdd(z).redIAdd(m.redMul(x)),K=v.redMul(q),Y=j.redSqr().redISub(K.redAdd(K)),ne=K.redISub(Y),X=j.redMul(ne);X=X.redIAdd(X).redISub(H);var M=D.redMul(S);u+1<b&&(x=x.redMul(H)),v=Y,S=M,D=X}return this.curve.jpoint(v,D.redMul(g),S)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},p.prototype._zeroDbl=function(){var b,u,f;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),v=g.redSqr(),T=this.x.redAdd(g).redSqr().redISub(m).redISub(v);T=T.redIAdd(T);var S=m.redAdd(m).redIAdd(m),x=S.redSqr().redISub(T).redISub(T),D=v.redIAdd(v);D=D.redIAdd(D),D=D.redIAdd(D),b=x,u=S.redMul(T.redISub(x)).redISub(D),f=this.y.redAdd(this.y)}else{var z=this.x.redSqr(),q=this.y.redSqr(),H=q.redSqr(),j=this.x.redAdd(q).redSqr().redISub(z).redISub(H);j=j.redIAdd(j);var K=z.redAdd(z).redIAdd(z),Y=K.redSqr(),ne=H.redIAdd(H);ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),b=Y.redISub(j).redISub(j),u=K.redMul(j.redISub(b)).redISub(ne),f=this.y.redMul(this.z),f=f.redIAdd(f)}return this.curve.jpoint(b,u,f)},p.prototype._threeDbl=function(){var b,u,f;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),v=g.redSqr(),T=this.x.redAdd(g).redSqr().redISub(m).redISub(v);T=T.redIAdd(T);var S=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),x=S.redSqr().redISub(T).redISub(T);b=x;var D=v.redIAdd(v);D=D.redIAdd(D),D=D.redIAdd(D),u=S.redMul(T.redISub(x)).redISub(D),f=this.y.redAdd(this.y)}else{var z=this.z.redSqr(),q=this.y.redSqr(),H=this.x.redMul(q),j=this.x.redSub(z).redMul(this.x.redAdd(z));j=j.redAdd(j).redIAdd(j);var K=H.redIAdd(H);K=K.redIAdd(K);var Y=K.redAdd(K);b=j.redSqr().redISub(Y),f=this.y.redAdd(this.z).redSqr().redISub(q).redISub(z);var ne=q.redSqr();ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),u=j.redMul(K.redISub(b)).redISub(ne)}return this.curve.jpoint(b,u,f)},p.prototype._dbl=function(){var b=this.curve.a,u=this.x,f=this.y,m=this.z,g=m.redSqr().redSqr(),v=u.redSqr(),T=f.redSqr(),S=v.redAdd(v).redIAdd(v).redIAdd(b.redMul(g)),x=u.redAdd(u);x=x.redIAdd(x);var D=x.redMul(T),z=S.redSqr().redISub(D.redAdd(D)),q=D.redISub(z),H=T.redSqr();H=H.redIAdd(H),H=H.redIAdd(H),H=H.redIAdd(H);var j=S.redMul(q).redISub(H),K=f.redAdd(f).redMul(m);return this.curve.jpoint(z,j,K)},p.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var b=this.x.redSqr(),u=this.y.redSqr(),f=this.z.redSqr(),m=u.redSqr(),g=b.redAdd(b).redIAdd(b),v=g.redSqr(),T=this.x.redAdd(u).redSqr().redISub(b).redISub(m);T=T.redIAdd(T),T=T.redAdd(T).redIAdd(T),T=T.redISub(v);var S=T.redSqr(),x=m.redIAdd(m);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var D=g.redIAdd(T).redSqr().redISub(v).redISub(S).redISub(x),z=u.redMul(D);z=z.redIAdd(z),z=z.redIAdd(z);var q=this.x.redMul(S).redISub(z);q=q.redIAdd(q),q=q.redIAdd(q);var H=this.y.redMul(D.redMul(x.redISub(D)).redISub(T.redMul(S)));H=H.redIAdd(H),H=H.redIAdd(H),H=H.redIAdd(H);var j=this.z.redAdd(T).redSqr().redISub(f).redISub(S);return this.curve.jpoint(q,H,j)},p.prototype.mul=function(b,u){return b=new P(b,u),this.curve._wnafMul(this,b)},p.prototype.eq=function(b){if(b.type==="affine")return this.eq(b.toJ());if(this===b)return!0;var u=this.z.redSqr(),f=b.z.redSqr();if(this.x.redMul(f).redISub(b.x.redMul(u)).cmpn(0)!==0)return!1;var m=u.redMul(this.z),g=f.redMul(b.z);return this.y.redMul(g).redISub(b.y.redMul(m)).cmpn(0)===0},p.prototype.eqXToP=function(b){var u=this.z.redSqr(),f=b.toRed(this.curve.red).redMul(u);if(this.x.cmp(f)===0)return!0;for(var m=b.clone(),g=this.curve.redN.redMul(u);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},p.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},p.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},60480:(a,V,E)=>{"use strict";var R=V,P=E(77952),N=E(894),k=E(47011),c=k.assert;function l(_){_.type==="short"?this.curve=new N.short(_):_.type==="edwards"?this.curve=new N.edwards(_):this.curve=new N.mont(_),this.g=this.curve.g,this.n=this.curve.n,this.hash=_.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}R.PresetCurve=l;function h(_,b){Object.defineProperty(R,_,{configurable:!0,enumerable:!0,get:function(){var u=new l(b);return Object.defineProperty(R,_,{configurable:!0,enumerable:!0,value:u}),u}})}h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:P.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:P.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:P.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:P.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:P.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:P.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:P.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p;try{p=E(74011)}catch(_){p=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:P.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})},57447:(a,V,E)=>{"use strict";var R=E(39404),P=E(32723),N=E(47011),k=E(60480),c=E(15037),l=N.assert,h=E(61200),p=E(28545);function _(b){if(!(this instanceof _))return new _(b);typeof b=="string"&&(l(Object.prototype.hasOwnProperty.call(k,b),"Unknown curve "+b),b=k[b]),b instanceof k.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}a.exports=_,_.prototype.keyPair=function(u){return new h(this,u)},_.prototype.keyFromPrivate=function(u,f){return h.fromPrivate(this,u,f)},_.prototype.keyFromPublic=function(u,f){return h.fromPublic(this,u,f)},_.prototype.genKeyPair=function(u){u||(u={});for(var f=new P({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||c(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new R(2));;){var v=new R(f.generate(m));if(!(v.cmp(g)>0))return v.iaddn(1),this.keyFromPrivate(v)}},_.prototype._truncateToN=function(u,f){var m=u.byteLength()*8-this.n.bitLength();return m>0&&(u=u.ushrn(m)),!f&&u.cmp(this.n)>=0?u.sub(this.n):u},_.prototype.sign=function(u,f,m,g){typeof m=="object"&&(g=m,m=null),g||(g={}),f=this.keyFromPrivate(f,m),u=this._truncateToN(new R(u,16));for(var v=this.n.byteLength(),T=f.getPrivate().toArray("be",v),S=u.toArray("be",v),x=new P({hash:this.hash,entropy:T,nonce:S,pers:g.pers,persEnc:g.persEnc||"utf8"}),D=this.n.sub(new R(1)),z=0;;z++){var q=g.k?g.k(z):new R(x.generate(this.n.byteLength()));if(q=this._truncateToN(q,!0),!(q.cmpn(1)<=0||q.cmp(D)>=0)){var H=this.g.mul(q);if(!H.isInfinity()){var j=H.getX(),K=j.umod(this.n);if(K.cmpn(0)!==0){var Y=q.invm(this.n).mul(K.mul(f.getPrivate()).iadd(u));if(Y=Y.umod(this.n),Y.cmpn(0)!==0){var ne=(H.getY().isOdd()?1:0)|(j.cmp(K)!==0?2:0);return g.canonical&&Y.cmp(this.nh)>0&&(Y=this.n.sub(Y),ne^=1),new p({r:K,s:Y,recoveryParam:ne})}}}}}},_.prototype.verify=function(u,f,m,g){u=this._truncateToN(new R(u,16)),m=this.keyFromPublic(m,g),f=new p(f,"hex");var v=f.r,T=f.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var S=T.invm(this.n),x=S.mul(u).umod(this.n),D=S.mul(v).umod(this.n),z;return this.curve._maxwellTrick?(z=this.g.jmulAdd(x,m.getPublic(),D),z.isInfinity()?!1:z.eqXToP(v)):(z=this.g.mulAdd(x,m.getPublic(),D),z.isInfinity()?!1:z.getX().umod(this.n).cmp(v)===0)},_.prototype.recoverPubKey=function(b,u,f,m){l((3&f)===f,"The recovery param is more than two bits"),u=new p(u,m);var g=this.n,v=new R(b),T=u.r,S=u.s,x=f&1,D=f>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&D)throw new Error("Unable to find sencond key candinate");D?T=this.curve.pointFromX(T.add(this.curve.n),x):T=this.curve.pointFromX(T,x);var z=u.r.invm(g),q=g.sub(v).mul(z).umod(g),H=S.mul(z).umod(g);return this.g.mulAdd(q,T,H)},_.prototype.getKeyRecoveryParam=function(b,u,f,m){if(u=new p(u,m),u.recoveryParam!==null)return u.recoveryParam;for(var g=0;g<4;g++){var v;try{v=this.recoverPubKey(b,u,g)}catch(T){continue}if(v.eq(f))return g}throw new Error("Unable to find valid recovery factor")}},61200:(a,V,E)=>{"use strict";var R=E(39404),P=E(47011),N=P.assert;function k(c,l){this.ec=c,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}a.exports=k,k.fromPublic=function(l,h,p){return h instanceof k?h:new k(l,{pub:h,pubEnc:p})},k.fromPrivate=function(l,h,p){return h instanceof k?h:new k(l,{priv:h,privEnc:p})},k.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},k.prototype.getPublic=function(l,h){return typeof l=="string"&&(h=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),h?this.pub.encode(h,l):this.pub},k.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},k.prototype._importPrivate=function(l,h){this.priv=new R(l,h||16),this.priv=this.priv.umod(this.ec.curve.n)},k.prototype._importPublic=function(l,h){if(l.x||l.y){this.ec.curve.type==="mont"?N(l.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&N(l.x&&l.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(l.x,l.y);return}this.pub=this.ec.curve.decodePoint(l,h)},k.prototype.derive=function(l){return l.validate()||N(l.validate(),"public point not validated"),l.mul(this.priv).getX()},k.prototype.sign=function(l,h,p){return this.ec.sign(l,this,h,p)},k.prototype.verify=function(l,h){return this.ec.verify(l,h,this)},k.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(a,V,E)=>{"use strict";var R=E(39404),P=E(47011),N=P.assert;function k(_,b){if(_ instanceof k)return _;this._importDER(_,b)||(N(_.r&&_.s,"Signature without r or s"),this.r=new R(_.r,16),this.s=new R(_.s,16),_.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=_.recoveryParam)}a.exports=k;function c(){this.place=0}function l(_,b){var u=_[b.place++];if(!(u&128))return u;var f=u&15;if(f===0||f>4||_[b.place]===0)return!1;for(var m=0,g=0,v=b.place;g<f;g++,v++)m<<=8,m|=_[v],m>>>=0;return m<=127?!1:(b.place=v,m)}function h(_){for(var b=0,u=_.length-1;!_[b]&&!(_[b+1]&128)&&b<u;)b++;return b===0?_:_.slice(b)}k.prototype._importDER=function(b,u){b=P.toArray(b,u);var f=new c;if(b[f.place++]!==48)return!1;var m=l(b,f);if(m===!1||m+f.place!==b.length||b[f.place++]!==2)return!1;var g=l(b,f);if(g===!1||(b[f.place]&128)!=0)return!1;var v=b.slice(f.place,g+f.place);if(f.place+=g,b[f.place++]!==2)return!1;var T=l(b,f);if(T===!1||b.length!==T+f.place||(b[f.place]&128)!=0)return!1;var S=b.slice(f.place,T+f.place);if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;if(S[0]===0)if(S[1]&128)S=S.slice(1);else return!1;return this.r=new R(v),this.s=new R(S),this.recoveryParam=null,!0};function p(_,b){if(b<128){_.push(b);return}var u=1+(Math.log(b)/Math.LN2>>>3);for(_.push(u|128);--u;)_.push(b>>>(u<<3)&255);_.push(b)}k.prototype.toDER=function(b){var u=this.r.toArray(),f=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),f[0]&128&&(f=[0].concat(f)),u=h(u),f=h(f);!f[0]&&!(f[1]&128);)f=f.slice(1);var m=[2];p(m,u.length),m=m.concat(u),m.push(2),p(m,f.length);var g=m.concat(f),v=[48];return p(v,g.length),v=v.concat(g),P.encode(v,b)}},8650:(a,V,E)=>{"use strict";var R=E(77952),P=E(60480),N=E(47011),k=N.assert,c=N.parseBytes,l=E(46661),h=E(90220);function p(_){if(k(_==="ed25519","only tested with ed25519 so far"),!(this instanceof p))return new p(_);_=P[_].curve,this.curve=_,this.g=_.g,this.g.precompute(_.n.bitLength()+1),this.pointClass=_.point().constructor,this.encodingLength=Math.ceil(_.n.bitLength()/8),this.hash=R.sha512}a.exports=p,p.prototype.sign=function(b,u){b=c(b);var f=this.keyFromSecret(u),m=this.hashInt(f.messagePrefix(),b),g=this.g.mul(m),v=this.encodePoint(g),T=this.hashInt(v,f.pubBytes(),b).mul(f.priv()),S=m.add(T).umod(this.curve.n);return this.makeSignature({R:g,S,Rencoded:v})},p.prototype.verify=function(b,u,f){if(b=c(b),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var m=this.keyFromPublic(f),g=this.hashInt(u.Rencoded(),m.pubBytes(),b),v=this.g.mul(u.S()),T=u.R().add(m.pub().mul(g));return T.eq(v)},p.prototype.hashInt=function(){for(var b=this.hash(),u=0;u<arguments.length;u++)b.update(arguments[u]);return N.intFromLE(b.digest()).umod(this.curve.n)},p.prototype.keyFromPublic=function(b){return l.fromPublic(this,b)},p.prototype.keyFromSecret=function(b){return l.fromSecret(this,b)},p.prototype.makeSignature=function(b){return b instanceof h?b:new h(this,b)},p.prototype.encodePoint=function(b){var u=b.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=b.getX().isOdd()?128:0,u},p.prototype.decodePoint=function(b){b=N.parseBytes(b);var u=b.length-1,f=b.slice(0,u).concat(b[u]&~128),m=(b[u]&128)!=0,g=N.intFromLE(f);return this.curve.pointFromY(g,m)},p.prototype.encodeInt=function(b){return b.toArray("le",this.encodingLength)},p.prototype.decodeInt=function(b){return N.intFromLE(b)},p.prototype.isPoint=function(b){return b instanceof this.pointClass}},46661:(a,V,E)=>{"use strict";var R=E(47011),P=R.assert,N=R.parseBytes,k=R.cachedProperty;function c(l,h){this.eddsa=l,this._secret=N(h.secret),l.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=N(h.pub)}c.fromPublic=function(h,p){return p instanceof c?p:new c(h,{pub:p})},c.fromSecret=function(h,p){return p instanceof c?p:new c(h,{secret:p})},c.prototype.secret=function(){return this._secret},k(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),k(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),k(c,"privBytes",function(){var h=this.eddsa,p=this.hash(),_=h.encodingLength-1,b=p.slice(0,h.encodingLength);return b[0]&=248,b[_]&=127,b[_]|=64,b}),k(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),k(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),k(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(h){return P(this._secret,"KeyPair can only verify"),this.eddsa.sign(h,this)},c.prototype.verify=function(h,p){return this.eddsa.verify(h,p,this)},c.prototype.getSecret=function(h){return P(this._secret,"KeyPair is public only"),R.encode(this.secret(),h)},c.prototype.getPublic=function(h){return R.encode(this.pubBytes(),h)},a.exports=c},90220:(a,V,E)=>{"use strict";var R=E(39404),P=E(47011),N=P.assert,k=P.cachedProperty,c=P.parseBytes;function l(h,p){this.eddsa=h,typeof p!="object"&&(p=c(p)),Array.isArray(p)&&(N(p.length===h.encodingLength*2,"Signature has invalid size"),p={R:p.slice(0,h.encodingLength),S:p.slice(h.encodingLength)}),N(p.R&&p.S,"Signature without R or S"),h.isPoint(p.R)&&(this._R=p.R),p.S instanceof R&&(this._S=p.S),this._Rencoded=Array.isArray(p.R)?p.R:p.Rencoded,this._Sencoded=Array.isArray(p.S)?p.S:p.Sencoded}k(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),k(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),k(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),k(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return P.encode(this.toBytes(),"hex").toUpperCase()},a.exports=l},74011:a=>{a.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(a,V,E)=>{"use strict";var R=V,P=E(39404),N=E(43349),k=E(64367);R.assert=N,R.toArray=k.toArray,R.zero2=k.zero2,R.toHex=k.toHex,R.encode=k.encode;function c(b,u,f){var m=new Array(Math.max(b.bitLength(),f)+1),g;for(g=0;g<m.length;g+=1)m[g]=0;var v=1<<u+1,T=b.clone();for(g=0;g<m.length;g++){var S,x=T.andln(v-1);T.isOdd()?(x>(v>>1)-1?S=(v>>1)-x:S=x,T.isubn(S)):S=0,m[g]=S,T.iushrn(1)}return m}R.getNAF=c;function l(b,u){var f=[[],[]];b=b.clone(),u=u.clone();for(var m=0,g=0,v;b.cmpn(-m)>0||u.cmpn(-g)>0;){var T=b.andln(3)+m&3,S=u.andln(3)+g&3;T===3&&(T=-1),S===3&&(S=-1);var x;(T&1)==0?x=0:(v=b.andln(7)+m&7,(v===3||v===5)&&S===2?x=-T:x=T),f[0].push(x);var D;(S&1)==0?D=0:(v=u.andln(7)+g&7,(v===3||v===5)&&T===2?D=-S:D=S),f[1].push(D),2*m===x+1&&(m=1-m),2*g===D+1&&(g=1-g),b.iushrn(1),u.iushrn(1)}return f}R.getJSF=l;function h(b,u,f){var m="_"+u;b.prototype[u]=function(){return this[m]!==void 0?this[m]:this[m]=f.call(this)}}R.cachedProperty=h;function p(b){return typeof b=="string"?R.toArray(b,"hex"):b}R.parseBytes=p;function _(b){return new P(b,"hex","le")}R.intFromLE=_},37007:a=>{"use strict";var V=typeof Reflect=="object"?Reflect:null,E=V&&typeof V.apply=="function"?V.apply:function(x,D,z){return Function.prototype.apply.call(x,D,z)},R;V&&typeof V.ownKeys=="function"?R=V.ownKeys:Object.getOwnPropertySymbols?R=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:R=function(x){return Object.getOwnPropertyNames(x)};function P(S){console&&console.warn&&console.warn(S)}var N=Number.isNaN||function(x){return x!==x};function k(){k.init.call(this)}a.exports=k,a.exports.once=T,k.EventEmitter=k,k.prototype._events=void 0,k.prototype._eventsCount=0,k.prototype._maxListeners=void 0;var c=10;function l(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(k,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(S){if(typeof S!="number"||S<0||N(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");c=S}}),k.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},k.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||N(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function h(S){return S._maxListeners===void 0?k.defaultMaxListeners:S._maxListeners}k.prototype.getMaxListeners=function(){return h(this)},k.prototype.emit=function(x){for(var D=[],z=1;z<arguments.length;z++)D.push(arguments[z]);var q=x==="error",H=this._events;if(H!==void 0)q=q&&H.error===void 0;else if(!q)return!1;if(q){var j;if(D.length>0&&(j=D[0]),j instanceof Error)throw j;var K=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw K.context=j,K}var Y=H[x];if(Y===void 0)return!1;if(typeof Y=="function")E(Y,this,D);else for(var ne=Y.length,X=m(Y,ne),z=0;z<ne;++z)E(X[z],this,D);return!0};function p(S,x,D,z){var q,H,j;if(l(D),H=S._events,H===void 0?(H=S._events=Object.create(null),S._eventsCount=0):(H.newListener!==void 0&&(S.emit("newListener",x,D.listener?D.listener:D),H=S._events),j=H[x]),j===void 0)j=H[x]=D,++S._eventsCount;else if(typeof j=="function"?j=H[x]=z?[D,j]:[j,D]:z?j.unshift(D):j.push(D),q=h(S),q>0&&j.length>q&&!j.warned){j.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=S,K.type=x,K.count=j.length,P(K)}return S}k.prototype.addListener=function(x,D){return p(this,x,D,!1)},k.prototype.on=k.prototype.addListener,k.prototype.prependListener=function(x,D){return p(this,x,D,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(S,x,D){var z={fired:!1,wrapFn:void 0,target:S,type:x,listener:D},q=_.bind(z);return q.listener=D,z.wrapFn=q,q}k.prototype.once=function(x,D){return l(D),this.on(x,b(this,x,D)),this},k.prototype.prependOnceListener=function(x,D){return l(D),this.prependListener(x,b(this,x,D)),this},k.prototype.removeListener=function(x,D){var z,q,H,j,K;if(l(D),q=this._events,q===void 0)return this;if(z=q[x],z===void 0)return this;if(z===D||z.listener===D)--this._eventsCount==0?this._events=Object.create(null):(delete q[x],q.removeListener&&this.emit("removeListener",x,z.listener||D));else if(typeof z!="function"){for(H=-1,j=z.length-1;j>=0;j--)if(z[j]===D||z[j].listener===D){K=z[j].listener,H=j;break}if(H<0)return this;H===0?z.shift():g(z,H),z.length===1&&(q[x]=z[0]),q.removeListener!==void 0&&this.emit("removeListener",x,K||D)}return this},k.prototype.off=k.prototype.removeListener,k.prototype.removeAllListeners=function(x){var D,z,q;if(z=this._events,z===void 0)return this;if(z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):z[x]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete z[x]),this;if(arguments.length===0){var H=Object.keys(z),j;for(q=0;q<H.length;++q)j=H[q],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=z[x],typeof D=="function")this.removeListener(x,D);else if(D!==void 0)for(q=D.length-1;q>=0;q--)this.removeListener(x,D[q]);return this};function u(S,x,D){var z=S._events;if(z===void 0)return[];var q=z[x];return q===void 0?[]:typeof q=="function"?D?[q.listener||q]:[q]:D?v(q):m(q,q.length)}k.prototype.listeners=function(x){return u(this,x,!0)},k.prototype.rawListeners=function(x){return u(this,x,!1)},k.listenerCount=function(S,x){return typeof S.listenerCount=="function"?S.listenerCount(x):f.call(S,x)},k.prototype.listenerCount=f;function f(S){var x=this._events;if(x!==void 0){var D=x[S];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}k.prototype.eventNames=function(){return this._eventsCount>0?R(this._events):[]};function m(S,x){for(var D=new Array(x),z=0;z<x;++z)D[z]=S[z];return D}function g(S,x){for(;x+1<S.length;x++)S[x]=S[x+1];S.pop()}function v(S){for(var x=new Array(S.length),D=0;D<x.length;++D)x[D]=S[D].listener||S[D];return x}function T(S,x){return new Promise(function(D,z){function q(){H!==void 0&&S.removeListener("error",H),D([].slice.call(arguments))}var H;x!=="error"&&(H=function(K){S.removeListener(x,q),z(K)},S.once("error",H)),S.once(x,q)})}},68078:(a,V,E)=>{var R=E(92861).Buffer,P=E(88276);function N(k,c,l,h){if(R.isBuffer(k)||(k=R.from(k,"binary")),c&&(R.isBuffer(c)||(c=R.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=l/8,_=R.alloc(p),b=R.alloc(h||0),u=R.alloc(0);p>0||h>0;){var f=new P;f.update(u),f.update(k),c&&f.update(c),u=f.digest();var m=0;if(p>0){var g=_.length-p;m=Math.min(p,u.length),u.copy(_,g,0,m),p-=m}if(m<u.length&&h>0){var v=b.length-h,T=Math.min(h,u.length-m);u.copy(b,v,m,m+T),h-=T}}return u.fill(0),{key:_,iv:b}}a.exports=N},32017:a=>{"use strict";a.exports=function V(E,R){if(E===R)return!0;if(E&&R&&typeof E=="object"&&typeof R=="object"){if(E.constructor!==R.constructor)return!1;var P,N,k;if(Array.isArray(E)){if(P=E.length,P!=R.length)return!1;for(N=P;N--!=0;)if(!V(E[N],R[N]))return!1;return!0}if(E.constructor===RegExp)return E.source===R.source&&E.flags===R.flags;if(E.valueOf!==Object.prototype.valueOf)return E.valueOf()===R.valueOf();if(E.toString!==Object.prototype.toString)return E.toString()===R.toString();if(k=Object.keys(E),P=k.length,P!==Object.keys(R).length)return!1;for(N=P;N--!=0;)if(!Object.prototype.hasOwnProperty.call(R,k[N]))return!1;for(N=P;N--!=0;){var c=k[N];if(!V(E[c],R[c]))return!1}return!0}return E!==E&&R!==R}},72492:a=>{"use strict";a.exports=function(V,E){E||(E={}),typeof E=="function"&&(E={cmp:E});var R=typeof E.cycles=="boolean"?E.cycles:!1,P=E.cmp&&function(k){return function(c){return function(l,h){var p={key:l,value:c[l]},_={key:h,value:c[h]};return k(p,_)}}}(E.cmp),N=[];return function k(c){if(c&&c.toJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),c!==void 0){if(typeof c=="number")return isFinite(c)?""+c:"null";if(typeof c!="object")return JSON.stringify(c);var l,h;if(Array.isArray(c)){for(h="[",l=0;l<c.length;l++)l&&(h+=","),h+=k(c[l])||"null";return h+"]"}if(c===null)return"null";if(N.indexOf(c)!==-1){if(R)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var p=N.push(c)-1,_=Object.keys(c).sort(P&&P(c));for(h="",l=0;l<_.length;l++){var b=_[l],u=k(c[b]);!u||(h&&(h+=","),h+=JSON.stringify(b)+":"+u)}return N.splice(p,1),"{"+h+"}"}}(V)}},58667:(a,V,E)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Bot"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Bot"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:4363}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are also in the limit file, but are not limited (by scope or API availability) here

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	titleHTML
	title
	author {
		login
		url
		avatarUrl
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	createdAt
	updatedAt
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	id
	databaseId
	isDraft
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			login
			name
			avatarUrl
			id
			url
			email
		}
	}
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			login
			avatarUrl
			id
			name
			url
		}
	}
	reactions(first: 1) {
		totalCount
	}
	comments(first: 1) {
		totalCount
	}
}

fragment ReviewComment on PullRequestReviewComment {
	id
	databaseId
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
		... on Bot {
			id
		}
	}
	path
	originalPosition
	body
	bodyHTML
	diffHunk
	position
	state
	pullRequestReview {
		databaseId
	}
	commit {
		oid
	}
	replyTo {
		databaseId
	}
	createdAt
	originalCommit {
		oid
	}
	...Reactable
	viewerCanUpdate
	viewerCanDelete
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reviewRequests(first: 100) {
				nodes {
					requestedReviewer {
						... on User {
							login
							avatarUrl
							id
							url
							email
							name
						}
						... on Bot {
							id
							login
							avatarUrl
						}
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file and in extra

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var P={};function N(p){return p.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return P[b]?!1:(P[b]=!0,!0)})}R.definitions=R.definitions.concat(N(E(72256).definitions));function k(p,_){if(p.kind==="FragmentSpread")_.add(p.name.value);else if(p.kind==="VariableDefinition"){var b=p.type;b.kind==="NamedType"&&_.add(b.name.value)}p.selectionSet&&p.selectionSet.selections.forEach(function(u){k(u,_)}),p.variableDefinitions&&p.variableDefinitions.forEach(function(u){k(u,_)}),p.definitions&&p.definitions.forEach(function(u){k(u,_)})}var c={};(function(){R.definitions.forEach(function(_){if(_.name){var b=new Set;k(_,b),c[_.name.value]=b}})})();function l(p,_){for(var b=0;b<p.definitions.length;b++){var u=p.definitions[b];if(u.name&&u.name.value==_)return u}}function h(p,_){var b={kind:p.kind,definitions:[l(p,_)]};p.hasOwnProperty("loc")&&(b.loc=p.loc);var u=c[_]||new Set,f=new Set,m=new Set;for(u.forEach(function(v){m.add(v)});m.size>0;){var g=m;m=new Set,g.forEach(function(v){if(!f.has(v)){f.add(v);var T=c[v]||new Set;T.forEach(function(S){m.add(S)})}})}return f.forEach(function(v){var T=l(p,v);T&&b.definitions.push(T)}),b}a.exports=R,a.exports.PullRequest=h(R,"PullRequest"),a.exports.PullRequestForHead=h(R,"PullRequestForHead"),a.exports.PullRequestMergeabilityMergeRequirements=h(R,"PullRequestMergeabilityMergeRequirements"),a.exports.GetReviewRequests=h(R,"GetReviewRequests"),a.exports.CreatePullRequest=h(R,"CreatePullRequest"),a.exports.RevertPullRequest=h(R,"RevertPullRequest"),a.exports.DequeuePullRequest=h(R,"DequeuePullRequest"),a.exports.EnqueuePullRequest=h(R,"EnqueuePullRequest")},8575:(a,V,E)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Bot"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Bot"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepoProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrgProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddPullRequestToProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddProjectV2ItemByIdInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addProjectV2ItemById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemovePullRequestFromProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteProjectV2ItemInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteProjectV2Item"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedItemId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:4989}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are only available with extra auth scopes

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	titleHTML
	title
	author {
		login
		url
		avatarUrl
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	createdAt
	updatedAt
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	reviewThreads {
		totalCount
	}
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	id
	databaseId
	isDraft
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			login
			name
			avatarUrl
			id
			url
			email
		}
	}
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			login
			avatarUrl
			id
			name
			url
		}
	}
	reactions(first: 1) {
		totalCount
	}
	comments(first: 1) {
		totalCount
	}
}

fragment ReviewComment on PullRequestReviewComment {
	id
	databaseId
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
		... on Bot {
			id
		}
	}
	path
	originalPosition
	body
	bodyHTML
	diffHunk
	position
	state
	pullRequestReview {
		databaseId
	}
	commit {
		oid
	}
	replyTo {
		databaseId
	}
	createdAt
	originalCommit {
		oid
	}
	...Reactable
	viewerCanUpdate
	viewerCanDelete
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reviewRequests(first: 100) {
				nodes {
					requestedReviewer {
						... on User {
							login
							avatarUrl
							id
							url
							email
							name
						}
						... on Bot {
							id
							login
							avatarUrl
						}
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file

query GetRepoProjects($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		projectsV2(first: 100, query: "state:OPEN") {
			nodes {
				title
				id
			}
		}
	}
}

query GetOrgProjects($owner: String!, $after: String) {
	organization(login: $owner) {
		projectsV2(first: 100, after: $after, query: "state:OPEN", orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				title
				id
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

mutation AddPullRequestToProject($input: AddProjectV2ItemByIdInput!) {
	addProjectV2ItemById(input: $input) {
		item {
			id
		}
	}
}

mutation RemovePullRequestFromProject($input: DeleteProjectV2ItemInput!) {
	deleteProjectV2Item(input: $input) {
		deletedItemId
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var P={};function N(p){return p.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return P[b]?!1:(P[b]=!0,!0)})}R.definitions=R.definitions.concat(N(E(72256).definitions));function k(p,_){if(p.kind==="FragmentSpread")_.add(p.name.value);else if(p.kind==="VariableDefinition"){var b=p.type;b.kind==="NamedType"&&_.add(b.name.value)}p.selectionSet&&p.selectionSet.selections.forEach(function(u){k(u,_)}),p.variableDefinitions&&p.variableDefinitions.forEach(function(u){k(u,_)}),p.definitions&&p.definitions.forEach(function(u){k(u,_)})}var c={};(function(){R.definitions.forEach(function(_){if(_.name){var b=new Set;k(_,b),c[_.name.value]=b}})})();function l(p,_){for(var b=0;b<p.definitions.length;b++){var u=p.definitions[b];if(u.name&&u.name.value==_)return u}}function h(p,_){var b={kind:p.kind,definitions:[l(p,_)]};p.hasOwnProperty("loc")&&(b.loc=p.loc);var u=c[_]||new Set,f=new Set,m=new Set;for(u.forEach(function(v){m.add(v)});m.size>0;){var g=m;m=new Set,g.forEach(function(v){if(!f.has(v)){f.add(v);var T=c[v]||new Set;T.forEach(function(S){m.add(S)})}})}return f.forEach(function(v){var T=l(p,v);T&&b.definitions.push(T)}),b}a.exports=R,a.exports.PullRequest=h(R,"PullRequest"),a.exports.PullRequestForHead=h(R,"PullRequestForHead"),a.exports.PullRequestMergeabilityMergeRequirements=h(R,"PullRequestMergeabilityMergeRequirements"),a.exports.GetReviewRequests=h(R,"GetReviewRequests"),a.exports.CreatePullRequest=h(R,"CreatePullRequest"),a.exports.GetRepoProjects=h(R,"GetRepoProjects"),a.exports.GetOrgProjects=h(R,"GetOrgProjects"),a.exports.AddPullRequestToProject=h(R,"AddPullRequestToProject"),a.exports.RemovePullRequestFromProject=h(R,"RemovePullRequestFromProject"),a.exports.DequeuePullRequest=h(R,"DequeuePullRequest"),a.exports.EnqueuePullRequest=h(R,"EnqueuePullRequest")},87831:(a,V,E)=>{var R={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:3169}};R.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	titleHTML
	title
	author {
		login
		url
		avatarUrl
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	createdAt
	updatedAt
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	id
	databaseId
	isDraft
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			login
			name
			avatarUrl
			id
			url
			email
		}
	}
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			login
			avatarUrl
			id
			name
			url
		}
	}
	reactions(first: 1) {
		totalCount
	}
	comments(first: 1) {
		totalCount
	}
}

fragment ReviewComment on PullRequestReviewComment {
	id
	databaseId
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
			id
		}
		... on Organization {
			email
			id
		}
	}
	path
	originalPosition
	body
	bodyHTML
	diffHunk
	position
	state
	pullRequestReview {
		databaseId
	}
	commit {
		oid
	}
	replyTo {
		databaseId
	}
	createdAt
	originalCommit {
		oid
	}
	...Reactable
	viewerCanUpdate
	viewerCanDelete
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reviewRequests(first: 100) {
				nodes {
					requestedReviewer {
						... on User {
							login
							avatarUrl
							id
							url
							email
							name
						}
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var P={};function N(p){return p.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return P[b]?!1:(P[b]=!0,!0)})}R.definitions=R.definitions.concat(N(E(72256).definitions));function k(p,_){if(p.kind==="FragmentSpread")_.add(p.name.value);else if(p.kind==="VariableDefinition"){var b=p.type;b.kind==="NamedType"&&_.add(b.name.value)}p.selectionSet&&p.selectionSet.selections.forEach(function(u){k(u,_)}),p.variableDefinitions&&p.variableDefinitions.forEach(function(u){k(u,_)}),p.definitions&&p.definitions.forEach(function(u){k(u,_)})}var c={};(function(){R.definitions.forEach(function(_){if(_.name){var b=new Set;k(_,b),c[_.name.value]=b}})})();function l(p,_){for(var b=0;b<p.definitions.length;b++){var u=p.definitions[b];if(u.name&&u.name.value==_)return u}}function h(p,_){var b={kind:p.kind,definitions:[l(p,_)]};p.hasOwnProperty("loc")&&(b.loc=p.loc);var u=c[_]||new Set,f=new Set,m=new Set;for(u.forEach(function(v){m.add(v)});m.size>0;){var g=m;m=new Set,g.forEach(function(v){if(!f.has(v)){f.add(v);var T=c[v]||new Set;T.forEach(function(S){m.add(S)})}})}return f.forEach(function(v){var T=l(p,v);T&&b.definitions.push(T)}),b}a.exports=R,a.exports.PullRequest=h(R,"PullRequest"),a.exports.PullRequestForHead=h(R,"PullRequestForHead"),a.exports.GetReviewRequests=h(R,"GetReviewRequests"),a.exports.CreatePullRequest=h(R,"CreatePullRequest"),a.exports.RevertPullRequest=h(R,"RevertPullRequest")},72256:a=>{var V={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RateLimit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RateLimit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LegacyReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MergeQueueEntryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeQueueEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviewCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerLatestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeamsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"repoName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequestsAdditionalScopes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegacyPullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Viewer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyAddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RequestReviewsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"qualifiedName"},value:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"refPrefix"},value:{kind:"StringValue",value:"refs/heads/",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneState"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecksWithoutSuite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MergeQueueForBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"branch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"branch"},value:{kind:"Variable",name:{kind:"Name",value:"branch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFileContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expression"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[{kind:"Argument",name:{kind:"Name",value:"expression"},value:{kind:"Variable",name:{kind:"Name",value:"expression"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Blob"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyUnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DisablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MergePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergePullRequestInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:21315}};V.loc.source={body:`# /*---------------------------------------------------------------------------------------------\r
#  *  Copyright (c) Microsoft Corporation. All rights reserved.\r
#  *  Licensed under the MIT License. See License.txt in the project root for license information.\r
#  *--------------------------------------------------------------------------------------------*/\r
\r
fragment RateLimit on RateLimit {\r
	limit\r
	cost\r
	remaining\r
	resetAt\r
}\r
\r
fragment Merged on MergedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	createdAt\r
	mergeRef {\r
		name\r
	}\r
	commit {\r
		oid\r
		commitUrl\r
	}\r
	url\r
}\r
\r
fragment HeadRefDeleted on HeadRefDeletedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	createdAt\r
	headRefName\r
}\r
\r
fragment Ref on Ref {\r
	name\r
	repository {\r
		owner {\r
			login\r
		}\r
		url\r
	}\r
	target {\r
		oid\r
	}\r
}\r
\r
fragment Comment on IssueComment {\r
	id\r
	databaseId\r
	authorAssociation\r
	author {\r
		login\r
		avatarUrl\r
		url\r
		... on User {\r
			email\r
			id\r
		}\r
		... on Organization {\r
			email\r
			id\r
		}\r
	}\r
	url\r
	body\r
	bodyHTML\r
	updatedAt\r
	createdAt\r
	viewerCanUpdate\r
	viewerCanReact\r
	viewerCanDelete\r
}\r
\r
fragment Commit on PullRequestCommit {\r
	id\r
	commit {\r
		author {\r
			user {\r
				login\r
				avatarUrl\r
				id\r
				url\r
				email\r
			}\r
		}\r
		committer {\r
			avatarUrl\r
			name\r
		}\r
		oid\r
		message\r
		authoredDate\r
	}\r
	url\r
}\r
\r
fragment AssignedEvent on AssignedEvent {\r
	id\r
	actor {\r
		login\r
		avatarUrl\r
		url\r
	}\r
	user {\r
		login\r
		avatarUrl\r
		id\r
		url\r
	}\r
}\r
\r
fragment Review on PullRequestReview {\r
	id\r
	databaseId\r
	authorAssociation\r
	url\r
	author {\r
		login\r
		avatarUrl\r
		url\r
		... on User {\r
			email\r
			id\r
		}\r
		... on Organization {\r
			email\r
			id\r
		}\r
	}\r
	state\r
	body\r
	bodyHTML\r
	submittedAt\r
	updatedAt\r
	createdAt\r
}\r
\r
fragment Reactable on Reactable {\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		reactors(first: 10) {\r
			nodes {\r
				... on User {\r
					login\r
				}\r
			}\r
			totalCount\r
		}\r
	}\r
}\r
\r
\r
fragment ReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	subjectType\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment LegacyReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment MergeQueueEntryFragment on MergeQueueEntry {\r
	position\r
	state\r
	mergeQueue {\r
		url\r
	}\r
}\r
\r
query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...HeadRefDeleted\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Comment\r
					...AssignedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviewCommit($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			viewerLatestReview {\r
				commit {\r
					oid\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviews($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			latestReviews (first: 10) {\r
				nodes {\r
					state\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeamsCount($login: String!) {\r
	organization(login: $login) {\r
		teams(first: 0, privacy: VISIBLE) {\r
			totalCount\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeams($login: String!, $after: String, $repoName: String!) {\r
	organization(login: $login) {\r
		teams(first: 100, after: $after, privacy: VISIBLE) {\r
			nodes {\r
				name\r
				avatarUrl\r
				url\r
				repositories(first: 5, query: $repoName) {\r
					nodes {\r
						name\r
					}\r
				}\r
				slug\r
				id\r
			}\r
			totalCount\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequestsAdditionalScopes($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						... on User {\r
							login\r
							avatarUrl\r
							id\r
							url\r
							email\r
							name\r
						}\r
						... on Team {\r
							name\r
							avatarUrl\r
							url\r
							slug\r
							id\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetParticipants($owner: String!, $name: String!, $number: Int!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			participants(first: $first) {\r
				nodes {\r
					login\r
					avatarUrl\r
					id\r
					name\r
					url\r
					email\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetPendingReviewId($pullRequestId: ID!, $author: String!) {\r
	node(id: $pullRequestId) {\r
		... on PullRequest {\r
			reviews(first: 1, author: $author, states: [PENDING]) {\r
				nodes {\r
					id\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					subjectType\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LegacyPullRequestComments($owner: String!, $name: String!, $number: Int!, $first: Int = 100) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: $first) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Viewer {\r
	viewer {\r
		login\r
		avatarUrl\r
		id\r
		name\r
		url\r
		email\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			files(first: 100, after: $after) {\r
				nodes {\r
					path\r
					viewerViewedState\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Issue($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			number\r
			url\r
			state\r
			body\r
			bodyHTML\r
			title\r
			author {\r
				login\r
				url\r
				avatarUrl\r
				... on User {\r
					email\r
					id\r
				}\r
				... on Organization {\r
					email\r
					id\r
				}\r
			}\r
			createdAt\r
			updatedAt\r
			assignees(first: 10) {\r
				nodes {\r
					avatarUrl\r
					email\r
					login\r
					url\r
					id\r
				}\r
			}\r
			labels(first: 50) {\r
				nodes {\r
					name\r
					color\r
				}\r
			}\r
			id\r
			databaseId\r
			reactions(first: 100) {\r
				totalCount\r
			}\r
			comments(first: 1) {\r
				totalCount\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueWithComments($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			number\r
			url\r
			state\r
			body\r
			bodyHTML\r
			title\r
			author {\r
				login\r
				url\r
				avatarUrl\r
				... on User {\r
					email\r
					id\r
				}\r
				... on Organization {\r
					email\r
					id\r
				}\r
			}\r
			createdAt\r
			updatedAt\r
			labels(first: 50) {\r
				nodes {\r
					name\r
					color\r
				}\r
			}\r
			id\r
			databaseId\r
			comments(first: 50) {\r
				nodes {\r
					author {\r
						login\r
						url\r
						avatarUrl\r
						... on User {\r
							email\r
							id\r
						}\r
						... on Organization {\r
							email\r
							id\r
						}\r
					}\r
					body\r
					databaseId\r
					reactions(first: 100) {\r
						totalCount\r
					}\r
				}\r
				totalCount\r
			}\r
			assignees(first: 10) {\r
				nodes {\r
					avatarUrl\r
					email\r
					login\r
					url\r
					id\r
				}\r
			}\r
			reactions(first: 100) {\r
				totalCount\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetUser($login: String!) {\r
	user(login: $login) {\r
		login\r
		avatarUrl(size: 50)\r
		id\r
		bio\r
		name\r
		company\r
		location\r
		contributionsCollection {\r
			commitContributionsByRepository(maxRepositories: 50) {\r
				contributions(first: 1) {\r
					nodes {\r
						occurredAt\r
					}\r
				}\r
				repository {\r
					nameWithOwner\r
				}\r
			}\r
		}\r
		url\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestState($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			title\r
			number\r
			state\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestTemplates($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequestTemplates {\r
			body\r
		}\r
	}\r
}\r
\r
mutation AddComment($input: AddPullRequestReviewCommentInput!) {\r
	addPullRequestReviewComment(input: $input) {\r
		comment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyAddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation AddReviewers($input: RequestReviewsInput!) {\r
	requestReviews(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {\r
	updatePullRequestReviewComment(input: $input) {\r
		pullRequestReviewComment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {\r
	markPullRequestReadyForReview(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
			viewerCanEnableAutoMerge\r
			viewerCanDisableAutoMerge\r
		}\r
	}\r
}\r
\r
mutation StartReview($input: AddPullRequestReviewInput!) {\r
	addPullRequestReview(input: $input) {\r
		pullRequestReview {\r
			id\r
		}\r
	}\r
}\r
\r
mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {\r
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {\r
		pullRequestReview {\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
			...Review\r
		}\r
	}\r
}\r
\r
mutation DeleteReview($input: DeletePullRequestReviewInput!) {\r
	deletePullRequestReview(input: $input) {\r
		pullRequestReview {\r
			databaseId\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddReaction($input: AddReactionInput!) {\r
	addReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation DeleteReaction($input: RemoveReactionInput!) {\r
	removeReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation UpdatePullRequest($input: UpdatePullRequestInput!) {\r
	updatePullRequest(input: $input) {\r
		pullRequest {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
		}\r
	}\r
}\r
\r
mutation AddIssueComment($input: AddCommentInput!) {\r
	addComment(input: $input) {\r
		commentEdge {\r
			node {\r
				...Comment\r
			}\r
		}\r
	}\r
}\r
\r
mutation EditIssueComment($input: UpdateIssueCommentInput!) {\r
	updateIssueComment(input: $input) {\r
		issueComment {\r
			...Comment\r
		}\r
	}\r
}\r
\r
query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		mentionableUsers(first: $first, after: $after) {\r
			nodes {\r
				login\r
				avatarUrl\r
				name\r
				url\r
				email\r
				id\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		assignableUsers(first: $first, after: $after) {\r
			nodes {\r
				login\r
				avatarUrl\r
				name\r
				url\r
				email\r
				id\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetBranch($owner: String!, $name: String!, $qualifiedName: String!) {\r
	repository(owner: $owner, name: $name) {\r
		ref(qualifiedName: $qualifiedName) {\r
			target {\r
				oid\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query ListBranches($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		refs(first: $first, after: $after, refPrefix: "refs/heads/") {\r
			nodes {\r
				name\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxIssue($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestones($owner: String!, $name: String!, $states: [MilestoneState!]!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 100, orderBy: { direction: DESC, field: DUE_DATE }, states: $states) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Issues($query: String!) {\r
	search(first: 100, type: ISSUE, query: $query) {\r
		issueCount\r
		pageInfo {\r
			hasNextPage\r
			endCursor\r
		}\r
		edges {\r
			node {\r
				... on Issue {\r
					number\r
					url\r
					state\r
					body\r
					bodyHTML\r
					title\r
					assignees(first: 10) {\r
						nodes {\r
							avatarUrl\r
							email\r
							login\r
							url\r
							id\r
						}\r
					}\r
					author {\r
						login\r
						url\r
						avatarUrl(size: 50)\r
						... on User {\r
							email\r
							id\r
						}\r
						... on Organization {\r
							email\r
							id\r
						}\r
					}\r
					createdAt\r
					updatedAt\r
					labels(first: 50) {\r
						nodes {\r
							name\r
							color\r
						}\r
					}\r
					id\r
					databaseId\r
					milestone {\r
						title\r
						dueOn\r
						id\r
						createdAt\r
					}\r
					repository {\r
						name\r
						owner {\r
							login\r
						}\r
						url\r
					}\r
					reactions(first: 1) {\r
						totalCount\r
					}\r
					comments(first: 1) {\r
						totalCount\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetViewerPermission($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		viewerPermission\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetRepositoryForkDetails($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		isFork\r
		parent {\r
			name\r
			owner {\r
				login\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecks($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
										checkSuite {\r
											app {\r
												logoUrl\r
												url\r
											}\r
										}\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecksWithoutSuite($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MergeQueueForBranch($owner: String!, $name: String!, $branch: String!) {\r
	repository(owner: $owner, name: $name) {\r
		mergeQueue(branch: $branch) {\r
			configuration {\r
				mergeMethod\r
			}\r
		}\r
	}\r
}\r
\r
query GetFileContent($owner: String!, $name: String!, $expression: String!) {\r
	repository(owner: $owner, name: $name) {\r
		object(expression: $expression) {\r
			... on Blob {\r
				text\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyUnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation EnablePullRequestAutoMerge($input: EnablePullRequestAutoMergeInput!) {\r
	enablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation DisablePullRequestAutoMerge($input: DisablePullRequestAutoMergeInput!) {\r
	disablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {\r
	markFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {\r
	unmarkFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MergePullRequest($input: MergePullRequestInput!, $last: Int = 150) {\r
	mergePullRequest(input: $input) {\r
		pullRequest {\r
			id\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...HeadRefDeleted\r
				}\r
			}\r
		}\r
	}\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var E={};function R(l){return l.filter(function(h){if(h.kind!=="FragmentDefinition")return!0;var p=h.name.value;return E[p]?!1:(E[p]=!0,!0)})}function P(l,h){if(l.kind==="FragmentSpread")h.add(l.name.value);else if(l.kind==="VariableDefinition"){var p=l.type;p.kind==="NamedType"&&h.add(p.name.value)}l.selectionSet&&l.selectionSet.selections.forEach(function(_){P(_,h)}),l.variableDefinitions&&l.variableDefinitions.forEach(function(_){P(_,h)}),l.definitions&&l.definitions.forEach(function(_){P(_,h)})}var N={};(function(){V.definitions.forEach(function(h){if(h.name){var p=new Set;P(h,p),N[h.name.value]=p}})})();function k(l,h){for(var p=0;p<l.definitions.length;p++){var _=l.definitions[p];if(_.name&&_.name.value==h)return _}}function c(l,h){var p={kind:l.kind,definitions:[k(l,h)]};l.hasOwnProperty("loc")&&(p.loc=l.loc);var _=N[h]||new Set,b=new Set,u=new Set;for(_.forEach(function(m){u.add(m)});u.size>0;){var f=u;u=new Set,f.forEach(function(m){if(!b.has(m)){b.add(m);var g=N[m]||new Set;g.forEach(function(v){u.add(v)})}})}return b.forEach(function(m){var g=k(l,m);g&&p.definitions.push(g)}),p}a.exports=V,a.exports.TimelineEvents=c(V,"TimelineEvents"),a.exports.IssueTimelineEvents=c(V,"IssueTimelineEvents"),a.exports.LatestReviewCommit=c(V,"LatestReviewCommit"),a.exports.LatestReviews=c(V,"LatestReviews"),a.exports.GetOrganizationTeamsCount=c(V,"GetOrganizationTeamsCount"),a.exports.GetOrganizationTeams=c(V,"GetOrganizationTeams"),a.exports.GetReviewRequestsAdditionalScopes=c(V,"GetReviewRequestsAdditionalScopes"),a.exports.GetParticipants=c(V,"GetParticipants"),a.exports.GetPendingReviewId=c(V,"GetPendingReviewId"),a.exports.PullRequestComments=c(V,"PullRequestComments"),a.exports.LegacyPullRequestComments=c(V,"LegacyPullRequestComments"),a.exports.Viewer=c(V,"Viewer"),a.exports.PullRequestFiles=c(V,"PullRequestFiles"),a.exports.Issue=c(V,"Issue"),a.exports.IssueWithComments=c(V,"IssueWithComments"),a.exports.GetUser=c(V,"GetUser"),a.exports.PullRequestMergeability=c(V,"PullRequestMergeability"),a.exports.PullRequestState=c(V,"PullRequestState"),a.exports.PullRequestTemplates=c(V,"PullRequestTemplates"),a.exports.AddComment=c(V,"AddComment"),a.exports.AddReviewThread=c(V,"AddReviewThread"),a.exports.LegacyAddReviewThread=c(V,"LegacyAddReviewThread"),a.exports.AddReviewers=c(V,"AddReviewers"),a.exports.EditComment=c(V,"EditComment"),a.exports.ReadyForReview=c(V,"ReadyForReview"),a.exports.StartReview=c(V,"StartReview"),a.exports.SubmitReview=c(V,"SubmitReview"),a.exports.DeleteReview=c(V,"DeleteReview"),a.exports.AddReaction=c(V,"AddReaction"),a.exports.DeleteReaction=c(V,"DeleteReaction"),a.exports.UpdatePullRequest=c(V,"UpdatePullRequest"),a.exports.AddIssueComment=c(V,"AddIssueComment"),a.exports.EditIssueComment=c(V,"EditIssueComment"),a.exports.GetMentionableUsers=c(V,"GetMentionableUsers"),a.exports.GetAssignableUsers=c(V,"GetAssignableUsers"),a.exports.GetBranch=c(V,"GetBranch"),a.exports.ListBranches=c(V,"ListBranches"),a.exports.MaxIssue=c(V,"MaxIssue"),a.exports.GetMilestones=c(V,"GetMilestones"),a.exports.Issues=c(V,"Issues"),a.exports.GetViewerPermission=c(V,"GetViewerPermission"),a.exports.GetRepositoryForkDetails=c(V,"GetRepositoryForkDetails"),a.exports.GetChecks=c(V,"GetChecks"),a.exports.GetChecksWithoutSuite=c(V,"GetChecksWithoutSuite"),a.exports.MergeQueueForBranch=c(V,"MergeQueueForBranch"),a.exports.GetFileContent=c(V,"GetFileContent"),a.exports.ResolveReviewThread=c(V,"ResolveReviewThread"),a.exports.LegacyResolveReviewThread=c(V,"LegacyResolveReviewThread"),a.exports.UnresolveReviewThread=c(V,"UnresolveReviewThread"),a.exports.LegacyUnresolveReviewThread=c(V,"LegacyUnresolveReviewThread"),a.exports.EnablePullRequestAutoMerge=c(V,"EnablePullRequestAutoMerge"),a.exports.DisablePullRequestAutoMerge=c(V,"DisablePullRequestAutoMerge"),a.exports.MarkFileAsViewed=c(V,"MarkFileAsViewed"),a.exports.UnmarkFileAsViewed=c(V,"UnmarkFileAsViewed"),a.exports.MergePullRequest=c(V,"MergePullRequest")},77358:(a,V,E)=>{var R=E(50246),P=R.parse;function N(S){return S.replace(/[\s,]+/g," ").trim()}var k={},c={};function l(S){return N(S.source.body.substring(S.start,S.end))}function h(){k={},c={}}var p=!0;function _(S){for(var x={},D=[],z=0;z<S.definitions.length;z++){var q=S.definitions[z];if(q.kind==="FragmentDefinition"){var H=q.name.value,j=l(q.loc);c.hasOwnProperty(H)&&!c[H][j]?(p&&console.warn("Warning: fragment with name "+H+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`),c[H][j]=!0):c.hasOwnProperty(H)||(c[H]={},c[H][j]=!0),x[j]||(x[j]=!0,D.push(q))}else D.push(q)}return S.definitions=D,S}function b(){p=!1}function u(S,x){var D=Object.prototype.toString.call(S);if(D==="[object Array]")return S.map(function(K){return u(K,x)});if(D!=="[object Object]")throw new Error("Unexpected input.");x&&S.loc&&delete S.loc,S.loc&&(delete S.loc.startToken,delete S.loc.endToken);var z=Object.keys(S),q,H,j;for(q in z)z.hasOwnProperty(q)&&(H=S[z[q]],j=Object.prototype.toString.call(H),(j==="[object Object]"||j==="[object Array]")&&(S[z[q]]=u(H,!0)));return S}var f=!1;function m(S){var x=N(S);if(k[x])return k[x];var D=P(S,{experimentalFragmentVariables:f});if(!D||D.kind!=="Document")throw new Error("Not a valid GraphQL document.");return D=_(D),D=u(D,!1),k[x]=D,D}function g(){f=!0}function v(){f=!1}function T(){for(var S=Array.prototype.slice.call(arguments),x=S[0],D=typeof x=="string"?x:x[0],z=1;z<S.length;z++)S[z]&&S[z].kind&&S[z].kind==="Document"?D+=S[z].loc.source.body:D+=S[z],D+=x[z];return m(D)}T.default=T,T.resetCaches=h,T.disableFragmentWarnings=b,T.enableExperimentalFragmentVariables=g,T.disableExperimentalFragmentVariables=v,a.exports=T},61702:(a,V,E)=>{"use strict";function R(H){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(K){return typeof K}:R=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},R(H)}Object.defineProperty(V,"__esModule",{value:!0}),V.printError=q,V.GraphQLError=void 0;var P=l(E(55569)),N=E(25888),k=E(99530),c=E(40825);function l(H){return H&&H.__esModule?H:{default:H}}function h(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}function p(H,j){for(var K=0;K<j.length;K++){var Y=j[K];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(H,Y.key,Y)}}function _(H,j,K){return j&&p(H.prototype,j),K&&p(H,K),H}function b(H,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(j&&j.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),j&&x(H,j)}function u(H){var j=T();return function(){var Y=D(H),ne;if(j){var X=D(this).constructor;ne=Reflect.construct(Y,arguments,X)}else ne=Y.apply(this,arguments);return f(this,ne)}}function f(H,j){return j&&(R(j)==="object"||typeof j=="function")?j:m(H)}function m(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function g(H){var j=typeof Map=="function"?new Map:void 0;return g=function(Y){if(Y===null||!S(Y))return Y;if(typeof Y!="function")throw new TypeError("Super expression must either be null or a function");if(typeof j!="undefined"){if(j.has(Y))return j.get(Y);j.set(Y,ne)}function ne(){return v(Y,arguments,D(this).constructor)}return ne.prototype=Object.create(Y.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),x(ne,Y)},g(H)}function v(H,j,K){return T()?v=Reflect.construct:v=function(ne,X,M){var G=[null];G.push.apply(G,X);var C=Function.bind.apply(ne,G),o=new C;return M&&x(o,M.prototype),o},v.apply(null,arguments)}function T(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(H){return!1}}function S(H){return Function.toString.call(H).indexOf("[native code]")!==-1}function x(H,j){return x=Object.setPrototypeOf||function(Y,ne){return Y.__proto__=ne,Y},x(H,j)}function D(H){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},D(H)}var z=function(H){b(K,H);var j=u(K);function K(Y,ne,X,M,G,C,o){var w,A,U,$,B;h(this,K),B=j.call(this,Y);var Z=Array.isArray(ne)?ne.length!==0?ne:void 0:ne?[ne]:void 0,te=X;if(!te&&Z){var L;te=(L=Z[0].loc)===null||L===void 0?void 0:L.source}var re=M;!re&&Z&&(re=Z.reduce(function(Me,J){return J.loc&&Me.push(J.loc.start),Me},[])),re&&re.length===0&&(re=void 0);var Le;M&&X?Le=M.map(function(Me){return(0,k.getLocation)(X,Me)}):Z&&(Le=Z.reduce(function(Me,J){return J.loc&&Me.push((0,k.getLocation)(J.loc.source,J.loc.start)),Me},[]));var _e=o;if(_e==null&&C!=null){var Ce=C.extensions;(0,P.default)(Ce)&&(_e=Ce)}return Object.defineProperties(m(B),{name:{value:"GraphQLError"},message:{value:Y,enumerable:!0,writable:!0},locations:{value:(w=Le)!==null&&w!==void 0?w:void 0,enumerable:Le!=null},path:{value:G!=null?G:void 0,enumerable:G!=null},nodes:{value:Z!=null?Z:void 0},source:{value:(A=te)!==null&&A!==void 0?A:void 0},positions:{value:(U=re)!==null&&U!==void 0?U:void 0},originalError:{value:C},extensions:{value:($=_e)!==null&&$!==void 0?$:void 0,enumerable:_e!=null}}),C!=null&&C.stack?(Object.defineProperty(m(B),"stack",{value:C.stack,writable:!0,configurable:!0}),f(B)):(Error.captureStackTrace?Error.captureStackTrace(m(B),K):Object.defineProperty(m(B),"stack",{value:Error().stack,writable:!0,configurable:!0}),B)}return _(K,[{key:"toString",value:function(){return q(this)}},{key:N.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),K}(g(Error));V.GraphQLError=z;function q(H){var j=H.message;if(H.nodes)for(var K=0,Y=H.nodes;K<Y.length;K++){var ne=Y[K];ne.loc&&(j+=`

`+(0,c.printLocation)(ne.loc))}else if(H.source&&H.locations)for(var X=0,M=H.locations;X<M.length;X++){var G=M[X];j+=`

`+(0,c.printSourceLocation)(H.source,G)}return j}},51352:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.syntaxError=P;var R=E(61702);function P(N,k,c){return new R.GraphQLError("Syntax Error: ".concat(c),void 0,N,[k])}},63580:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=k;var R=N(E(61321)),P=N(E(98493));function N(c){return c&&c.__esModule?c:{default:c}}function k(c){var l=c.prototype.toJSON;typeof l=="function"||(0,R.default)(0),c.prototype.inspect=l,P.default&&(c.prototype[P.default]=l)}},93028:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=E;function E(R,P){var N=Boolean(R);if(!N)throw new Error(P)}},29657:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=l;var R=P(E(98493));function P(m){return m&&m.__esModule?m:{default:m}}function N(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(v){return typeof v}:N=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},N(m)}var k=10,c=2;function l(m){return h(m,[])}function h(m,g){switch(N(m)){case"string":return JSON.stringify(m);case"function":return m.name?"[function ".concat(m.name,"]"):"[function]";case"object":return m===null?"null":p(m,g);default:return String(m)}}function p(m,g){if(g.indexOf(m)!==-1)return"[Circular]";var v=[].concat(g,[m]),T=u(m);if(T!==void 0){var S=T.call(m);if(S!==m)return typeof S=="string"?S:h(S,v)}else if(Array.isArray(m))return b(m,v);return _(m,v)}function _(m,g){var v=Object.keys(m);if(v.length===0)return"{}";if(g.length>c)return"["+f(m)+"]";var T=v.map(function(S){var x=h(m[S],g);return S+": "+x});return"{ "+T.join(", ")+" }"}function b(m,g){if(m.length===0)return"[]";if(g.length>c)return"[Array]";for(var v=Math.min(k,m.length),T=m.length-v,S=[],x=0;x<v;++x)S.push(h(m[x],g));return T===1?S.push("... 1 more item"):T>1&&S.push("... ".concat(T," more items")),"["+S.join(", ")+"]"}function u(m){var g=m[String(R.default)];if(typeof g=="function")return g;if(typeof m.inspect=="function")return m.inspect}function f(m){var g=Object.prototype.toString.call(m).replace(/^\[object /,"").replace(/]$/,"");if(g==="Object"&&typeof m.constructor=="function"){var v=m.constructor.name;if(typeof v=="string"&&v!=="")return v}return g}},79527:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var E=function(P,N){return P instanceof N};V.default=E},61321:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=E;function E(R,P){var N=Boolean(R);if(!N)throw new Error(P!=null?P:"Unexpected invariant triggered.")}},55569:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=R;function E(P){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(k){return typeof k}:E=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},E(P)}function R(P){return E(P)=="object"&&P!==null}},98493:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var E=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,R=E;V.default=R},76257:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isNode=c,V.Token=V.Location=void 0;var R=P(E(63580));function P(l){return l&&l.__esModule?l:{default:l}}var N=function(){function l(p,_,b){this.start=p.start,this.end=_.end,this.startToken=p,this.endToken=_,this.source=b}var h=l.prototype;return h.toJSON=function(){return{start:this.start,end:this.end}},l}();V.Location=N,(0,R.default)(N);var k=function(){function l(p,_,b,u,f,m,g){this.kind=p,this.start=_,this.end=b,this.line=u,this.column=f,this.value=g,this.prev=m,this.next=null}var h=l.prototype;return h.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},l}();V.Token=k,(0,R.default)(k);function c(l){return l!=null&&typeof l.kind=="string"}},69165:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.dedentBlockStringValue=E,V.getBlockStringIndentation=P,V.printBlockString=N;function E(k){var c=k.split(/\r\n|[\n\r]/g),l=P(k);if(l!==0)for(var h=1;h<c.length;h++)c[h]=c[h].slice(l);for(var p=0;p<c.length&&R(c[p]);)++p;for(var _=c.length;_>p&&R(c[_-1]);)--_;return c.slice(p,_).join(`
`)}function R(k){for(var c=0;c<k.length;++c)if(k[c]!==" "&&k[c]!=="	")return!1;return!0}function P(k){for(var c,l=!0,h=!0,p=0,_=null,b=0;b<k.length;++b)switch(k.charCodeAt(b)){case 13:k.charCodeAt(b+1)===10&&++b;case 10:l=!1,h=!0,p=0;break;case 9:case 32:++p;break;default:h&&!l&&(_===null||p<_)&&(_=p),h=!1}return(c=_)!==null&&c!==void 0?c:0}function N(k){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=k.indexOf(`
`)===-1,p=k[0]===" "||k[0]==="	",_=k[k.length-1]==='"',b=k[k.length-1]==="\\",u=!h||_||b||l,f="";return u&&!(h&&p)&&(f+=`
`+c),f+=c?k.replace(/\n/g,`
`+c):k,u&&(f+=`
`),'"""'+f.replace(/"""/g,'\\"""')+'"""'}},5919:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.DirectiveLocation=void 0;var E=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});V.DirectiveLocation=E},7030:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.Kind=void 0;var E=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});V.Kind=E},46083:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isPunctuatorTokenKind=l,V.Lexer=void 0;var R=E(51352),P=E(76257),N=E(73038),k=E(69165),c=function(){function D(q){var H=new P.Token(N.TokenKind.SOF,0,0,0,0,null);this.source=q,this.lastToken=H,this.token=H,this.line=1,this.lineStart=0}var z=D.prototype;return z.advance=function(){this.lastToken=this.token;var H=this.token=this.lookahead();return H},z.lookahead=function(){var H=this.token;if(H.kind!==N.TokenKind.EOF)do{var j;H=(j=H.next)!==null&&j!==void 0?j:H.next=p(this,H)}while(H.kind===N.TokenKind.COMMENT);return H},D}();V.Lexer=c;function l(D){return D===N.TokenKind.BANG||D===N.TokenKind.DOLLAR||D===N.TokenKind.AMP||D===N.TokenKind.PAREN_L||D===N.TokenKind.PAREN_R||D===N.TokenKind.SPREAD||D===N.TokenKind.COLON||D===N.TokenKind.EQUALS||D===N.TokenKind.AT||D===N.TokenKind.BRACKET_L||D===N.TokenKind.BRACKET_R||D===N.TokenKind.BRACE_L||D===N.TokenKind.PIPE||D===N.TokenKind.BRACE_R}function h(D){return isNaN(D)?N.TokenKind.EOF:D<127?JSON.stringify(String.fromCharCode(D)):'"\\u'.concat(("00"+D.toString(16).toUpperCase()).slice(-4),'"')}function p(D,z){for(var q=D.source,H=q.body,j=H.length,K=z.end;K<j;){var Y=H.charCodeAt(K),ne=D.line,X=1+K-D.lineStart;switch(Y){case 65279:case 9:case 32:case 44:++K;continue;case 10:++K,++D.line,D.lineStart=K;continue;case 13:H.charCodeAt(K+1)===10?K+=2:++K,++D.line,D.lineStart=K;continue;case 33:return new P.Token(N.TokenKind.BANG,K,K+1,ne,X,z);case 35:return b(q,K,ne,X,z);case 36:return new P.Token(N.TokenKind.DOLLAR,K,K+1,ne,X,z);case 38:return new P.Token(N.TokenKind.AMP,K,K+1,ne,X,z);case 40:return new P.Token(N.TokenKind.PAREN_L,K,K+1,ne,X,z);case 41:return new P.Token(N.TokenKind.PAREN_R,K,K+1,ne,X,z);case 46:if(H.charCodeAt(K+1)===46&&H.charCodeAt(K+2)===46)return new P.Token(N.TokenKind.SPREAD,K,K+3,ne,X,z);break;case 58:return new P.Token(N.TokenKind.COLON,K,K+1,ne,X,z);case 61:return new P.Token(N.TokenKind.EQUALS,K,K+1,ne,X,z);case 64:return new P.Token(N.TokenKind.AT,K,K+1,ne,X,z);case 91:return new P.Token(N.TokenKind.BRACKET_L,K,K+1,ne,X,z);case 93:return new P.Token(N.TokenKind.BRACKET_R,K,K+1,ne,X,z);case 123:return new P.Token(N.TokenKind.BRACE_L,K,K+1,ne,X,z);case 124:return new P.Token(N.TokenKind.PIPE,K,K+1,ne,X,z);case 125:return new P.Token(N.TokenKind.BRACE_R,K,K+1,ne,X,z);case 34:return H.charCodeAt(K+1)===34&&H.charCodeAt(K+2)===34?g(q,K,ne,X,z,D):m(q,K,ne,X,z);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return u(q,K,Y,ne,X,z);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return S(q,K,ne,X,z)}throw(0,R.syntaxError)(q,K,_(Y))}var M=D.line,G=1+K-D.lineStart;return new P.Token(N.TokenKind.EOF,j,j,M,G,z)}function _(D){return D<32&&D!==9&&D!==10&&D!==13?"Cannot contain the invalid character ".concat(h(D),"."):D===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(h(D),".")}function b(D,z,q,H,j){var K=D.body,Y,ne=z;do Y=K.charCodeAt(++ne);while(!isNaN(Y)&&(Y>31||Y===9));return new P.Token(N.TokenKind.COMMENT,z,ne,q,H,j,K.slice(z+1,ne))}function u(D,z,q,H,j,K){var Y=D.body,ne=q,X=z,M=!1;if(ne===45&&(ne=Y.charCodeAt(++X)),ne===48){if(ne=Y.charCodeAt(++X),ne>=48&&ne<=57)throw(0,R.syntaxError)(D,X,"Invalid number, unexpected digit after 0: ".concat(h(ne),"."))}else X=f(D,X,ne),ne=Y.charCodeAt(X);if(ne===46&&(M=!0,ne=Y.charCodeAt(++X),X=f(D,X,ne),ne=Y.charCodeAt(X)),(ne===69||ne===101)&&(M=!0,ne=Y.charCodeAt(++X),(ne===43||ne===45)&&(ne=Y.charCodeAt(++X)),X=f(D,X,ne),ne=Y.charCodeAt(X)),ne===46||x(ne))throw(0,R.syntaxError)(D,X,"Invalid number, expected digit but got: ".concat(h(ne),"."));return new P.Token(M?N.TokenKind.FLOAT:N.TokenKind.INT,z,X,H,j,K,Y.slice(z,X))}function f(D,z,q){var H=D.body,j=z,K=q;if(K>=48&&K<=57){do K=H.charCodeAt(++j);while(K>=48&&K<=57);return j}throw(0,R.syntaxError)(D,j,"Invalid number, expected digit but got: ".concat(h(K),"."))}function m(D,z,q,H,j){for(var K=D.body,Y=z+1,ne=Y,X=0,M="";Y<K.length&&!isNaN(X=K.charCodeAt(Y))&&X!==10&&X!==13;){if(X===34)return M+=K.slice(ne,Y),new P.Token(N.TokenKind.STRING,z,Y+1,q,H,j,M);if(X<32&&X!==9)throw(0,R.syntaxError)(D,Y,"Invalid character within String: ".concat(h(X),"."));if(++Y,X===92){switch(M+=K.slice(ne,Y-1),X=K.charCodeAt(Y),X){case 34:M+='"';break;case 47:M+="/";break;case 92:M+="\\";break;case 98:M+="\b";break;case 102:M+="\f";break;case 110:M+=`
`;break;case 114:M+="\r";break;case 116:M+="	";break;case 117:{var G=v(K.charCodeAt(Y+1),K.charCodeAt(Y+2),K.charCodeAt(Y+3),K.charCodeAt(Y+4));if(G<0){var C=K.slice(Y+1,Y+5);throw(0,R.syntaxError)(D,Y,"Invalid character escape sequence: \\u".concat(C,"."))}M+=String.fromCharCode(G),Y+=4;break}default:throw(0,R.syntaxError)(D,Y,"Invalid character escape sequence: \\".concat(String.fromCharCode(X),"."))}++Y,ne=Y}}throw(0,R.syntaxError)(D,Y,"Unterminated string.")}function g(D,z,q,H,j,K){for(var Y=D.body,ne=z+3,X=ne,M=0,G="";ne<Y.length&&!isNaN(M=Y.charCodeAt(ne));){if(M===34&&Y.charCodeAt(ne+1)===34&&Y.charCodeAt(ne+2)===34)return G+=Y.slice(X,ne),new P.Token(N.TokenKind.BLOCK_STRING,z,ne+3,q,H,j,(0,k.dedentBlockStringValue)(G));if(M<32&&M!==9&&M!==10&&M!==13)throw(0,R.syntaxError)(D,ne,"Invalid character within String: ".concat(h(M),"."));M===10?(++ne,++K.line,K.lineStart=ne):M===13?(Y.charCodeAt(ne+1)===10?ne+=2:++ne,++K.line,K.lineStart=ne):M===92&&Y.charCodeAt(ne+1)===34&&Y.charCodeAt(ne+2)===34&&Y.charCodeAt(ne+3)===34?(G+=Y.slice(X,ne)+'"""',ne+=4,X=ne):++ne}throw(0,R.syntaxError)(D,ne,"Unterminated string.")}function v(D,z,q,H){return T(D)<<12|T(z)<<8|T(q)<<4|T(H)}function T(D){return D>=48&&D<=57?D-48:D>=65&&D<=70?D-55:D>=97&&D<=102?D-87:-1}function S(D,z,q,H,j){for(var K=D.body,Y=K.length,ne=z+1,X=0;ne!==Y&&!isNaN(X=K.charCodeAt(ne))&&(X===95||X>=48&&X<=57||X>=65&&X<=90||X>=97&&X<=122);)++ne;return new P.Token(N.TokenKind.NAME,z,ne,q,H,j,K.slice(z,ne))}function x(D){return D===95||D>=65&&D<=90||D>=97&&D<=122}},99530:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getLocation=E;function E(R,P){for(var N=/\r\n|[\n\r]/g,k=1,c=P+1,l;(l=N.exec(R.body))&&l.index<P;)k+=1,c=P+1-(l.index+l[0].length);return{line:k,column:c}}},50246:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.parse=p,V.parseValue=_,V.parseType=b,V.Parser=void 0;var R=E(51352),P=E(7030),N=E(76257),k=E(73038),c=E(46876),l=E(5919),h=E(46083);function p(g,v){var T=new u(g,v);return T.parseDocument()}function _(g,v){var T=new u(g,v);T.expectToken(k.TokenKind.SOF);var S=T.parseValueLiteral(!1);return T.expectToken(k.TokenKind.EOF),S}function b(g,v){var T=new u(g,v);T.expectToken(k.TokenKind.SOF);var S=T.parseTypeReference();return T.expectToken(k.TokenKind.EOF),S}var u=function(){function g(T,S){var x=(0,c.isSource)(T)?T:new c.Source(T);this._lexer=new h.Lexer(x),this._options=S}var v=g.prototype;return v.parseName=function(){var S=this.expectToken(k.TokenKind.NAME);return{kind:P.Kind.NAME,value:S.value,loc:this.loc(S)}},v.parseDocument=function(){var S=this._lexer.token;return{kind:P.Kind.DOCUMENT,definitions:this.many(k.TokenKind.SOF,this.parseDefinition,k.TokenKind.EOF),loc:this.loc(S)}},v.parseDefinition=function(){if(this.peek(k.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(k.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},v.parseOperationDefinition=function(){var S=this._lexer.token;if(this.peek(k.TokenKind.BRACE_L))return{kind:P.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(S)};var x=this.parseOperationType(),D;return this.peek(k.TokenKind.NAME)&&(D=this.parseName()),{kind:P.Kind.OPERATION_DEFINITION,operation:x,name:D,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(S)}},v.parseOperationType=function(){var S=this.expectToken(k.TokenKind.NAME);switch(S.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(S)},v.parseVariableDefinitions=function(){return this.optionalMany(k.TokenKind.PAREN_L,this.parseVariableDefinition,k.TokenKind.PAREN_R)},v.parseVariableDefinition=function(){var S=this._lexer.token;return{kind:P.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(k.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(k.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(S)}},v.parseVariable=function(){var S=this._lexer.token;return this.expectToken(k.TokenKind.DOLLAR),{kind:P.Kind.VARIABLE,name:this.parseName(),loc:this.loc(S)}},v.parseSelectionSet=function(){var S=this._lexer.token;return{kind:P.Kind.SELECTION_SET,selections:this.many(k.TokenKind.BRACE_L,this.parseSelection,k.TokenKind.BRACE_R),loc:this.loc(S)}},v.parseSelection=function(){return this.peek(k.TokenKind.SPREAD)?this.parseFragment():this.parseField()},v.parseField=function(){var S=this._lexer.token,x=this.parseName(),D,z;return this.expectOptionalToken(k.TokenKind.COLON)?(D=x,z=this.parseName()):z=x,{kind:P.Kind.FIELD,alias:D,name:z,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(k.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(S)}},v.parseArguments=function(S){var x=S?this.parseConstArgument:this.parseArgument;return this.optionalMany(k.TokenKind.PAREN_L,x,k.TokenKind.PAREN_R)},v.parseArgument=function(){var S=this._lexer.token,x=this.parseName();return this.expectToken(k.TokenKind.COLON),{kind:P.Kind.ARGUMENT,name:x,value:this.parseValueLiteral(!1),loc:this.loc(S)}},v.parseConstArgument=function(){var S=this._lexer.token;return{kind:P.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(k.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(S)}},v.parseFragment=function(){var S=this._lexer.token;this.expectToken(k.TokenKind.SPREAD);var x=this.expectOptionalKeyword("on");return!x&&this.peek(k.TokenKind.NAME)?{kind:P.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(S)}:{kind:P.Kind.INLINE_FRAGMENT,typeCondition:x?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(S)}},v.parseFragmentDefinition=function(){var S,x=this._lexer.token;return this.expectKeyword("fragment"),((S=this._options)===null||S===void 0?void 0:S.experimentalFragmentVariables)===!0?{kind:P.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(x)}:{kind:P.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(x)}},v.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},v.parseValueLiteral=function(S){var x=this._lexer.token;switch(x.kind){case k.TokenKind.BRACKET_L:return this.parseList(S);case k.TokenKind.BRACE_L:return this.parseObject(S);case k.TokenKind.INT:return this._lexer.advance(),{kind:P.Kind.INT,value:x.value,loc:this.loc(x)};case k.TokenKind.FLOAT:return this._lexer.advance(),{kind:P.Kind.FLOAT,value:x.value,loc:this.loc(x)};case k.TokenKind.STRING:case k.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case k.TokenKind.NAME:switch(this._lexer.advance(),x.value){case"true":return{kind:P.Kind.BOOLEAN,value:!0,loc:this.loc(x)};case"false":return{kind:P.Kind.BOOLEAN,value:!1,loc:this.loc(x)};case"null":return{kind:P.Kind.NULL,loc:this.loc(x)};default:return{kind:P.Kind.ENUM,value:x.value,loc:this.loc(x)}}case k.TokenKind.DOLLAR:if(!S)return this.parseVariable();break}throw this.unexpected()},v.parseStringLiteral=function(){var S=this._lexer.token;return this._lexer.advance(),{kind:P.Kind.STRING,value:S.value,block:S.kind===k.TokenKind.BLOCK_STRING,loc:this.loc(S)}},v.parseList=function(S){var x=this,D=this._lexer.token,z=function(){return x.parseValueLiteral(S)};return{kind:P.Kind.LIST,values:this.any(k.TokenKind.BRACKET_L,z,k.TokenKind.BRACKET_R),loc:this.loc(D)}},v.parseObject=function(S){var x=this,D=this._lexer.token,z=function(){return x.parseObjectField(S)};return{kind:P.Kind.OBJECT,fields:this.any(k.TokenKind.BRACE_L,z,k.TokenKind.BRACE_R),loc:this.loc(D)}},v.parseObjectField=function(S){var x=this._lexer.token,D=this.parseName();return this.expectToken(k.TokenKind.COLON),{kind:P.Kind.OBJECT_FIELD,name:D,value:this.parseValueLiteral(S),loc:this.loc(x)}},v.parseDirectives=function(S){for(var x=[];this.peek(k.TokenKind.AT);)x.push(this.parseDirective(S));return x},v.parseDirective=function(S){var x=this._lexer.token;return this.expectToken(k.TokenKind.AT),{kind:P.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(S),loc:this.loc(x)}},v.parseTypeReference=function(){var S=this._lexer.token,x;return this.expectOptionalToken(k.TokenKind.BRACKET_L)?(x=this.parseTypeReference(),this.expectToken(k.TokenKind.BRACKET_R),x={kind:P.Kind.LIST_TYPE,type:x,loc:this.loc(S)}):x=this.parseNamedType(),this.expectOptionalToken(k.TokenKind.BANG)?{kind:P.Kind.NON_NULL_TYPE,type:x,loc:this.loc(S)}:x},v.parseNamedType=function(){var S=this._lexer.token;return{kind:P.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(S)}},v.parseTypeSystemDefinition=function(){var S=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(S.kind===k.TokenKind.NAME)switch(S.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(S)},v.peekDescription=function(){return this.peek(k.TokenKind.STRING)||this.peek(k.TokenKind.BLOCK_STRING)},v.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},v.parseSchemaDefinition=function(){var S=this._lexer.token,x=this.parseDescription();this.expectKeyword("schema");var D=this.parseDirectives(!0),z=this.many(k.TokenKind.BRACE_L,this.parseOperationTypeDefinition,k.TokenKind.BRACE_R);return{kind:P.Kind.SCHEMA_DEFINITION,description:x,directives:D,operationTypes:z,loc:this.loc(S)}},v.parseOperationTypeDefinition=function(){var S=this._lexer.token,x=this.parseOperationType();this.expectToken(k.TokenKind.COLON);var D=this.parseNamedType();return{kind:P.Kind.OPERATION_TYPE_DEFINITION,operation:x,type:D,loc:this.loc(S)}},v.parseScalarTypeDefinition=function(){var S=this._lexer.token,x=this.parseDescription();this.expectKeyword("scalar");var D=this.parseName(),z=this.parseDirectives(!0);return{kind:P.Kind.SCALAR_TYPE_DEFINITION,description:x,name:D,directives:z,loc:this.loc(S)}},v.parseObjectTypeDefinition=function(){var S=this._lexer.token,x=this.parseDescription();this.expectKeyword("type");var D=this.parseName(),z=this.parseImplementsInterfaces(),q=this.parseDirectives(!0),H=this.parseFieldsDefinition();return{kind:P.Kind.OBJECT_TYPE_DEFINITION,description:x,name:D,interfaces:z,directives:q,fields:H,loc:this.loc(S)}},v.parseImplementsInterfaces=function(){var S;if(!this.expectOptionalKeyword("implements"))return[];if(((S=this._options)===null||S===void 0?void 0:S.allowLegacySDLImplementsInterfaces)===!0){var x=[];this.expectOptionalToken(k.TokenKind.AMP);do x.push(this.parseNamedType());while(this.expectOptionalToken(k.TokenKind.AMP)||this.peek(k.TokenKind.NAME));return x}return this.delimitedMany(k.TokenKind.AMP,this.parseNamedType)},v.parseFieldsDefinition=function(){var S;return((S=this._options)===null||S===void 0?void 0:S.allowLegacySDLEmptyFields)===!0&&this.peek(k.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===k.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(k.TokenKind.BRACE_L,this.parseFieldDefinition,k.TokenKind.BRACE_R)},v.parseFieldDefinition=function(){var S=this._lexer.token,x=this.parseDescription(),D=this.parseName(),z=this.parseArgumentDefs();this.expectToken(k.TokenKind.COLON);var q=this.parseTypeReference(),H=this.parseDirectives(!0);return{kind:P.Kind.FIELD_DEFINITION,description:x,name:D,arguments:z,type:q,directives:H,loc:this.loc(S)}},v.parseArgumentDefs=function(){return this.optionalMany(k.TokenKind.PAREN_L,this.parseInputValueDef,k.TokenKind.PAREN_R)},v.parseInputValueDef=function(){var S=this._lexer.token,x=this.parseDescription(),D=this.parseName();this.expectToken(k.TokenKind.COLON);var z=this.parseTypeReference(),q;this.expectOptionalToken(k.TokenKind.EQUALS)&&(q=this.parseValueLiteral(!0));var H=this.parseDirectives(!0);return{kind:P.Kind.INPUT_VALUE_DEFINITION,description:x,name:D,type:z,defaultValue:q,directives:H,loc:this.loc(S)}},v.parseInterfaceTypeDefinition=function(){var S=this._lexer.token,x=this.parseDescription();this.expectKeyword("interface");var D=this.parseName(),z=this.parseImplementsInterfaces(),q=this.parseDirectives(!0),H=this.parseFieldsDefinition();return{kind:P.Kind.INTERFACE_TYPE_DEFINITION,description:x,name:D,interfaces:z,directives:q,fields:H,loc:this.loc(S)}},v.parseUnionTypeDefinition=function(){var S=this._lexer.token,x=this.parseDescription();this.expectKeyword("union");var D=this.parseName(),z=this.parseDirectives(!0),q=this.parseUnionMemberTypes();return{kind:P.Kind.UNION_TYPE_DEFINITION,description:x,name:D,directives:z,types:q,loc:this.loc(S)}},v.parseUnionMemberTypes=function(){return this.expectOptionalToken(k.TokenKind.EQUALS)?this.delimitedMany(k.TokenKind.PIPE,this.parseNamedType):[]},v.parseEnumTypeDefinition=function(){var S=this._lexer.token,x=this.parseDescription();this.expectKeyword("enum");var D=this.parseName(),z=this.parseDirectives(!0),q=this.parseEnumValuesDefinition();return{kind:P.Kind.ENUM_TYPE_DEFINITION,description:x,name:D,directives:z,values:q,loc:this.loc(S)}},v.parseEnumValuesDefinition=function(){return this.optionalMany(k.TokenKind.BRACE_L,this.parseEnumValueDefinition,k.TokenKind.BRACE_R)},v.parseEnumValueDefinition=function(){var S=this._lexer.token,x=this.parseDescription(),D=this.parseName(),z=this.parseDirectives(!0);return{kind:P.Kind.ENUM_VALUE_DEFINITION,description:x,name:D,directives:z,loc:this.loc(S)}},v.parseInputObjectTypeDefinition=function(){var S=this._lexer.token,x=this.parseDescription();this.expectKeyword("input");var D=this.parseName(),z=this.parseDirectives(!0),q=this.parseInputFieldsDefinition();return{kind:P.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:x,name:D,directives:z,fields:q,loc:this.loc(S)}},v.parseInputFieldsDefinition=function(){return this.optionalMany(k.TokenKind.BRACE_L,this.parseInputValueDef,k.TokenKind.BRACE_R)},v.parseTypeSystemExtension=function(){var S=this._lexer.lookahead();if(S.kind===k.TokenKind.NAME)switch(S.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(S)},v.parseSchemaExtension=function(){var S=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var x=this.parseDirectives(!0),D=this.optionalMany(k.TokenKind.BRACE_L,this.parseOperationTypeDefinition,k.TokenKind.BRACE_R);if(x.length===0&&D.length===0)throw this.unexpected();return{kind:P.Kind.SCHEMA_EXTENSION,directives:x,operationTypes:D,loc:this.loc(S)}},v.parseScalarTypeExtension=function(){var S=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var x=this.parseName(),D=this.parseDirectives(!0);if(D.length===0)throw this.unexpected();return{kind:P.Kind.SCALAR_TYPE_EXTENSION,name:x,directives:D,loc:this.loc(S)}},v.parseObjectTypeExtension=function(){var S=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var x=this.parseName(),D=this.parseImplementsInterfaces(),z=this.parseDirectives(!0),q=this.parseFieldsDefinition();if(D.length===0&&z.length===0&&q.length===0)throw this.unexpected();return{kind:P.Kind.OBJECT_TYPE_EXTENSION,name:x,interfaces:D,directives:z,fields:q,loc:this.loc(S)}},v.parseInterfaceTypeExtension=function(){var S=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var x=this.parseName(),D=this.parseImplementsInterfaces(),z=this.parseDirectives(!0),q=this.parseFieldsDefinition();if(D.length===0&&z.length===0&&q.length===0)throw this.unexpected();return{kind:P.Kind.INTERFACE_TYPE_EXTENSION,name:x,interfaces:D,directives:z,fields:q,loc:this.loc(S)}},v.parseUnionTypeExtension=function(){var S=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var x=this.parseName(),D=this.parseDirectives(!0),z=this.parseUnionMemberTypes();if(D.length===0&&z.length===0)throw this.unexpected();return{kind:P.Kind.UNION_TYPE_EXTENSION,name:x,directives:D,types:z,loc:this.loc(S)}},v.parseEnumTypeExtension=function(){var S=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var x=this.parseName(),D=this.parseDirectives(!0),z=this.parseEnumValuesDefinition();if(D.length===0&&z.length===0)throw this.unexpected();return{kind:P.Kind.ENUM_TYPE_EXTENSION,name:x,directives:D,values:z,loc:this.loc(S)}},v.parseInputObjectTypeExtension=function(){var S=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var x=this.parseName(),D=this.parseDirectives(!0),z=this.parseInputFieldsDefinition();if(D.length===0&&z.length===0)throw this.unexpected();return{kind:P.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:x,directives:D,fields:z,loc:this.loc(S)}},v.parseDirectiveDefinition=function(){var S=this._lexer.token,x=this.parseDescription();this.expectKeyword("directive"),this.expectToken(k.TokenKind.AT);var D=this.parseName(),z=this.parseArgumentDefs(),q=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var H=this.parseDirectiveLocations();return{kind:P.Kind.DIRECTIVE_DEFINITION,description:x,name:D,arguments:z,repeatable:q,locations:H,loc:this.loc(S)}},v.parseDirectiveLocations=function(){return this.delimitedMany(k.TokenKind.PIPE,this.parseDirectiveLocation)},v.parseDirectiveLocation=function(){var S=this._lexer.token,x=this.parseName();if(l.DirectiveLocation[x.value]!==void 0)return x;throw this.unexpected(S)},v.loc=function(S){var x;if(((x=this._options)===null||x===void 0?void 0:x.noLocation)!==!0)return new N.Location(S,this._lexer.lastToken,this._lexer.source)},v.peek=function(S){return this._lexer.token.kind===S},v.expectToken=function(S){var x=this._lexer.token;if(x.kind===S)return this._lexer.advance(),x;throw(0,R.syntaxError)(this._lexer.source,x.start,"Expected ".concat(m(S),", found ").concat(f(x),"."))},v.expectOptionalToken=function(S){var x=this._lexer.token;if(x.kind===S)return this._lexer.advance(),x},v.expectKeyword=function(S){var x=this._lexer.token;if(x.kind===k.TokenKind.NAME&&x.value===S)this._lexer.advance();else throw(0,R.syntaxError)(this._lexer.source,x.start,'Expected "'.concat(S,'", found ').concat(f(x),"."))},v.expectOptionalKeyword=function(S){var x=this._lexer.token;return x.kind===k.TokenKind.NAME&&x.value===S?(this._lexer.advance(),!0):!1},v.unexpected=function(S){var x=S!=null?S:this._lexer.token;return(0,R.syntaxError)(this._lexer.source,x.start,"Unexpected ".concat(f(x),"."))},v.any=function(S,x,D){this.expectToken(S);for(var z=[];!this.expectOptionalToken(D);)z.push(x.call(this));return z},v.optionalMany=function(S,x,D){if(this.expectOptionalToken(S)){var z=[];do z.push(x.call(this));while(!this.expectOptionalToken(D));return z}return[]},v.many=function(S,x,D){this.expectToken(S);var z=[];do z.push(x.call(this));while(!this.expectOptionalToken(D));return z},v.delimitedMany=function(S,x){this.expectOptionalToken(S);var D=[];do D.push(x.call(this));while(this.expectOptionalToken(S));return D},g}();V.Parser=u;function f(g){var v=g.value;return m(g.kind)+(v!=null?' "'.concat(v,'"'):"")}function m(g){return(0,h.isPunctuatorTokenKind)(g)?'"'.concat(g,'"'):g}},40825:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.printLocation=P,V.printSourceLocation=N;var R=E(99530);function P(h){return N(h.source,(0,R.getLocation)(h.source,h.start))}function N(h,p){var _=h.locationOffset.column-1,b=c(_)+h.body,u=p.line-1,f=h.locationOffset.line-1,m=p.line+f,g=p.line===1?_:0,v=p.column+g,T="".concat(h.name,":").concat(m,":").concat(v,`
`),S=b.split(/\r\n|[\n\r]/g),x=S[u];if(x.length>120){for(var D=Math.floor(v/80),z=v%80,q=[],H=0;H<x.length;H+=80)q.push(x.slice(H,H+80));return T+k([["".concat(m),q[0]]].concat(q.slice(1,D+1).map(function(j){return["",j]}),[[" ",c(z-1)+"^"],["",q[D+1]]]))}return T+k([["".concat(m-1),S[u-1]],["".concat(m),x],["",c(v-1)+"^"],["".concat(m+1),S[u+1]]])}function k(h){var p=h.filter(function(b){var u=b[0],f=b[1];return f!==void 0}),_=Math.max.apply(Math,p.map(function(b){var u=b[0];return u.length}));return p.map(function(b){var u=b[0],f=b[1];return l(_,u)+(f?" | "+f:" |")}).join(`
`)}function c(h){return Array(h+1).join(" ")}function l(h,p){return c(h-p.length)+p}},70585:(a,V,E)=>{"use strict";var R;R={value:!0},V.y=k;var P=E(9111),N=E(69165);function k(g){return(0,P.visit)(g,{leave:l})}var c=80,l={Name:function(v){return v.value},Variable:function(v){return"$"+v.name},Document:function(v){return p(v.definitions,`

`)+`
`},OperationDefinition:function(v){var T=v.operation,S=v.name,x=b("(",p(v.variableDefinitions,", "),")"),D=p(v.directives," "),z=v.selectionSet;return!S&&!D&&!x&&T==="query"?z:p([T,p([S,x]),D,z]," ")},VariableDefinition:function(v){var T=v.variable,S=v.type,x=v.defaultValue,D=v.directives;return T+": "+S+b(" = ",x)+b(" ",p(D," "))},SelectionSet:function(v){var T=v.selections;return _(T)},Field:function(v){var T=v.alias,S=v.name,x=v.arguments,D=v.directives,z=v.selectionSet,q=b("",T,": ")+S,H=q+b("(",p(x,", "),")");return H.length>c&&(H=q+b(`(
`,u(p(x,`
`)),`
)`)),p([H,p(D," "),z]," ")},Argument:function(v){var T=v.name,S=v.value;return T+": "+S},FragmentSpread:function(v){var T=v.name,S=v.directives;return"..."+T+b(" ",p(S," "))},InlineFragment:function(v){var T=v.typeCondition,S=v.directives,x=v.selectionSet;return p(["...",b("on ",T),p(S," "),x]," ")},FragmentDefinition:function(v){var T=v.name,S=v.typeCondition,x=v.variableDefinitions,D=v.directives,z=v.selectionSet;return"fragment ".concat(T).concat(b("(",p(x,", "),")")," ")+"on ".concat(S," ").concat(b("",p(D," ")," "))+z},IntValue:function(v){var T=v.value;return T},FloatValue:function(v){var T=v.value;return T},StringValue:function(v,T){var S=v.value,x=v.block;return x?(0,N.printBlockString)(S,T==="description"?"":"  "):JSON.stringify(S)},BooleanValue:function(v){var T=v.value;return T?"true":"false"},NullValue:function(){return"null"},EnumValue:function(v){var T=v.value;return T},ListValue:function(v){var T=v.values;return"["+p(T,", ")+"]"},ObjectValue:function(v){var T=v.fields;return"{"+p(T,", ")+"}"},ObjectField:function(v){var T=v.name,S=v.value;return T+": "+S},Directive:function(v){var T=v.name,S=v.arguments;return"@"+T+b("(",p(S,", "),")")},NamedType:function(v){var T=v.name;return T},ListType:function(v){var T=v.type;return"["+T+"]"},NonNullType:function(v){var T=v.type;return T+"!"},SchemaDefinition:h(function(g){var v=g.directives,T=g.operationTypes;return p(["schema",p(v," "),_(T)]," ")}),OperationTypeDefinition:function(v){var T=v.operation,S=v.type;return T+": "+S},ScalarTypeDefinition:h(function(g){var v=g.name,T=g.directives;return p(["scalar",v,p(T," ")]," ")}),ObjectTypeDefinition:h(function(g){var v=g.name,T=g.interfaces,S=g.directives,x=g.fields;return p(["type",v,b("implements ",p(T," & ")),p(S," "),_(x)]," ")}),FieldDefinition:h(function(g){var v=g.name,T=g.arguments,S=g.type,x=g.directives;return v+(m(T)?b(`(
`,u(p(T,`
`)),`
)`):b("(",p(T,", "),")"))+": "+S+b(" ",p(x," "))}),InputValueDefinition:h(function(g){var v=g.name,T=g.type,S=g.defaultValue,x=g.directives;return p([v+": "+T,b("= ",S),p(x," ")]," ")}),InterfaceTypeDefinition:h(function(g){var v=g.name,T=g.interfaces,S=g.directives,x=g.fields;return p(["interface",v,b("implements ",p(T," & ")),p(S," "),_(x)]," ")}),UnionTypeDefinition:h(function(g){var v=g.name,T=g.directives,S=g.types;return p(["union",v,p(T," "),S&&S.length!==0?"= "+p(S," | "):""]," ")}),EnumTypeDefinition:h(function(g){var v=g.name,T=g.directives,S=g.values;return p(["enum",v,p(T," "),_(S)]," ")}),EnumValueDefinition:h(function(g){var v=g.name,T=g.directives;return p([v,p(T," ")]," ")}),InputObjectTypeDefinition:h(function(g){var v=g.name,T=g.directives,S=g.fields;return p(["input",v,p(T," "),_(S)]," ")}),DirectiveDefinition:h(function(g){var v=g.name,T=g.arguments,S=g.repeatable,x=g.locations;return"directive @"+v+(m(T)?b(`(
`,u(p(T,`
`)),`
)`):b("(",p(T,", "),")"))+(S?" repeatable":"")+" on "+p(x," | ")}),SchemaExtension:function(v){var T=v.directives,S=v.operationTypes;return p(["extend schema",p(T," "),_(S)]," ")},ScalarTypeExtension:function(v){var T=v.name,S=v.directives;return p(["extend scalar",T,p(S," ")]," ")},ObjectTypeExtension:function(v){var T=v.name,S=v.interfaces,x=v.directives,D=v.fields;return p(["extend type",T,b("implements ",p(S," & ")),p(x," "),_(D)]," ")},InterfaceTypeExtension:function(v){var T=v.name,S=v.interfaces,x=v.directives,D=v.fields;return p(["extend interface",T,b("implements ",p(S," & ")),p(x," "),_(D)]," ")},UnionTypeExtension:function(v){var T=v.name,S=v.directives,x=v.types;return p(["extend union",T,p(S," "),x&&x.length!==0?"= "+p(x," | "):""]," ")},EnumTypeExtension:function(v){var T=v.name,S=v.directives,x=v.values;return p(["extend enum",T,p(S," "),_(x)]," ")},InputObjectTypeExtension:function(v){var T=v.name,S=v.directives,x=v.fields;return p(["extend input",T,p(S," "),_(x)]," ")}};function h(g){return function(v){return p([v.description,g(v)],`
`)}}function p(g){var v,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(v=g==null?void 0:g.filter(function(S){return S}).join(T))!==null&&v!==void 0?v:""}function _(g){return b(`{
`,u(p(g,`
`)),`
}`)}function b(g,v){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return v!=null&&v!==""?g+v+T:""}function u(g){return b("  ",g.replace(/\n/g,`
  `))}function f(g){return g.indexOf(`
`)!==-1}function m(g){return g!=null&&g.some(f)}},46876:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isSource=_,V.Source=void 0;var R=E(25888),P=c(E(29657)),N=c(E(93028)),k=c(E(79527));function c(b){return b&&b.__esModule?b:{default:b}}function l(b,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}function h(b,u,f){return u&&l(b.prototype,u),f&&l(b,f),b}var p=function(){function b(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof u=="string"||(0,N.default)(0,"Body must be a string. Received: ".concat((0,P.default)(u),".")),this.body=u,this.name=f,this.locationOffset=m,this.locationOffset.line>0||(0,N.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,N.default)(0,"column in locationOffset is 1-indexed and must be positive.")}return h(b,[{key:R.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),b}();V.Source=p;function _(b){return(0,k.default)(b,p)}},73038:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TokenKind=void 0;var E=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});V.TokenKind=E},9111:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.visit=l,V.visitInParallel=h,V.getVisitFn=p,V.BREAK=V.QueryDocumentKeys=void 0;var R=N(E(29657)),P=E(76257);function N(_){return _&&_.__esModule?_:{default:_}}var k={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};V.QueryDocumentKeys=k;var c=Object.freeze({});V.BREAK=c;function l(_,b){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,f=void 0,m=Array.isArray(_),g=[_],v=-1,T=[],S=void 0,x=void 0,D=void 0,z=[],q=[],H=_;do{v++;var j=v===g.length,K=j&&T.length!==0;if(j){if(x=q.length===0?void 0:z[z.length-1],S=D,D=q.pop(),K){if(m)S=S.slice();else{for(var Y={},ne=0,X=Object.keys(S);ne<X.length;ne++){var M=X[ne];Y[M]=S[M]}S=Y}for(var G=0,C=0;C<T.length;C++){var o=T[C][0],w=T[C][1];m&&(o-=G),m&&w===null?(S.splice(o,1),G++):S[o]=w}}v=f.index,g=f.keys,T=f.edits,m=f.inArray,f=f.prev}else{if(x=D?m?v:g[v]:void 0,S=D?D[x]:H,S==null)continue;D&&z.push(x)}var A=void 0;if(!Array.isArray(S)){if(!(0,P.isNode)(S))throw new Error("Invalid AST Node: ".concat((0,R.default)(S),"."));var U=p(b,S.kind,j);if(U){if(A=U.call(b,S,x,D,z,q),A===c)break;if(A===!1){if(!j){z.pop();continue}}else if(A!==void 0&&(T.push([x,A]),!j))if((0,P.isNode)(A))S=A;else{z.pop();continue}}}if(A===void 0&&K&&T.push([x,S]),j)z.pop();else{var $;f={inArray:m,index:v,keys:g,edits:T,prev:f},m=Array.isArray(S),g=m?S:($=u[S.kind])!==null&&$!==void 0?$:[],v=-1,T=[],D&&q.push(D),D=S}}while(f!==void 0);return T.length!==0&&(H=T[T.length-1][1]),H}function h(_){var b=new Array(_.length);return{enter:function(f){for(var m=0;m<_.length;m++)if(b[m]==null){var g=p(_[m],f.kind,!1);if(g){var v=g.apply(_[m],arguments);if(v===!1)b[m]=f;else if(v===c)b[m]=c;else if(v!==void 0)return v}}},leave:function(f){for(var m=0;m<_.length;m++)if(b[m]==null){var g=p(_[m],f.kind,!0);if(g){var v=g.apply(_[m],arguments);if(v===c)b[m]=c;else if(v!==void 0&&v!==!1)return v}}else b[m]===f&&(b[m]=null)}}}function p(_,b,u){var f=_[b];if(f){if(!u&&typeof f=="function")return f;var m=u?f.leave:f.enter;if(typeof m=="function")return m}else{var g=u?_.leave:_.enter;if(g){if(typeof g=="function")return g;var v=g[b];if(typeof v=="function")return v}}}},25888:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.SYMBOL_TO_STRING_TAG=V.SYMBOL_ASYNC_ITERATOR=V.SYMBOL_ITERATOR=void 0;var E=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";V.SYMBOL_ITERATOR=E;var R=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";V.SYMBOL_ASYNC_ITERATOR=R;var P=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";V.SYMBOL_TO_STRING_TAG=P},4729:(a,V,E)=>{"use strict";var R=E(92861).Buffer,P=E(61603).Transform,N=E(56698);function k(l,h){if(!R.isBuffer(l)&&typeof l!="string")throw new TypeError(h+" must be a string or a buffer")}function c(l){P.call(this),this._block=R.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}N(c,P),c.prototype._transform=function(l,h,p){var _=null;try{this.update(l,h)}catch(b){_=b}p(_)},c.prototype._flush=function(l){var h=null;try{this.push(this.digest())}catch(p){h=p}l(h)},c.prototype.update=function(l,h){if(k(l,"Data"),this._finalized)throw new Error("Digest already called");R.isBuffer(l)||(l=R.from(l,h));for(var p=this._block,_=0;this._blockOffset+l.length-_>=this._blockSize;){for(var b=this._blockOffset;b<this._blockSize;)p[b++]=l[_++];this._update(),this._blockOffset=0}for(;_<l.length;)p[this._blockOffset++]=l[_++];for(var u=0,f=l.length*8;f>0;++u)this._length[u]+=f,f=this._length[u]/4294967296|0,f>0&&(this._length[u]-=4294967296*f);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var h=this._digest();l!==void 0&&(h=h.toString(l)),this._block.fill(0),this._blockOffset=0;for(var p=0;p<4;++p)this._length[p]=0;return h},c.prototype._digest=function(){throw new Error("_digest is not implemented")},a.exports=c},92260:a=>{"use strict";function V(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var E={};function R(l,h,p){p||(p=Error);function _(u,f,m){return typeof h=="string"?h:h(u,f,m)}var b=function(u){V(f,u);function f(m,g,v){return u.call(this,_(m,g,v))||this}return f}(p);b.prototype.name=p.name,b.prototype.code=l,E[l]=b}function P(l,h){if(Array.isArray(l)){var p=l.length;return l=l.map(function(_){return String(_)}),p>2?"one of ".concat(h," ").concat(l.slice(0,p-1).join(", "),", or ")+l[p-1]:p===2?"one of ".concat(h," ").concat(l[0]," or ").concat(l[1]):"of ".concat(h," ").concat(l[0])}else return"of ".concat(h," ").concat(String(l))}function N(l,h,p){return l.substr(!p||p<0?0:+p,h.length)===h}function k(l,h,p){return(p===void 0||p>l.length)&&(p=l.length),l.substring(p-h.length,p)===h}function c(l,h,p){return typeof p!="number"&&(p=0),p+h.length>l.length?!1:l.indexOf(h,p)!==-1}R("ERR_INVALID_OPT_VALUE",function(l,h){return'The value "'+h+'" is invalid for option "'+l+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(l,h,p){var _;typeof h=="string"&&N(h,"not ")?(_="must not be",h=h.replace(/^not /,"")):_="must be";var b;if(k(l," argument"))b="The ".concat(l," ").concat(_," ").concat(P(h,"type"));else{var u=c(l,".")?"property":"argument";b='The "'.concat(l,'" ').concat(u," ").concat(_," ").concat(P(h,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.F=E},92818:(a,V,E)=>{"use strict";var R=E(65606),P=Object.keys||function(u){var f=[];for(var m in u)f.push(m);return f};a.exports=p;var N=E(6736),k=E(62192);E(56698)(p,N);for(var c=P(k.prototype),l=0;l<c.length;l++){var h=c[l];p.prototype[h]||(p.prototype[h]=k.prototype[h])}function p(u){if(!(this instanceof p))return new p(u);N.call(this,u),k.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||R.nextTick(b,this)}function b(u){u.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},35860:(a,V,E)=>{"use strict";a.exports=P;var R=E(13054);E(56698)(P,R);function P(N){if(!(this instanceof P))return new P(N);R.call(this,N)}P.prototype._transform=function(N,k,c){c(null,N)}},6736:(a,V,E)=>{"use strict";var R=E(65606);a.exports=M;var P;M.ReadableState=X;var N=E(37007).EventEmitter,k=function(I,se){return I.listeners(se).length},c=E(71181),l=E(48287).Buffer,h=E.g.Uint8Array||function(){};function p(O){return l.from(O)}function _(O){return l.isBuffer(O)||O instanceof h}var b=E(92382),u;b&&b.debuglog?u=b.debuglog("stream"):u=function(){};var f=E(12389),m=E(41468),g=E(8775),v=g.getHighWaterMark,T=E(92260).F,S=T.ERR_INVALID_ARG_TYPE,x=T.ERR_STREAM_PUSH_AFTER_EOF,D=T.ERR_METHOD_NOT_IMPLEMENTED,z=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,q,H,j;E(56698)(M,c);var K=m.errorOrDestroy,Y=["error","close","destroy","pause","resume"];function ne(O,I,se){if(typeof O.prependListener=="function")return O.prependListener(I,se);!O._events||!O._events[I]?O.on(I,se):Array.isArray(O._events[I])?O._events[I].unshift(se):O._events[I]=[se,O._events[I]]}function X(O,I,se){P=P||E(92818),O=O||{},typeof se!="boolean"&&(se=I instanceof P),this.objectMode=!!O.objectMode,se&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=v(this,O,"readableHighWaterMark",se),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(q||(q=E(83141).I),this.decoder=new q(O.encoding),this.encoding=O.encoding)}function M(O){if(P=P||E(92818),!(this instanceof M))return new M(O);var I=this instanceof P;this._readableState=new X(O,this,I),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),c.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(I){!this._readableState||(this._readableState.destroyed=I)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(O,I){I(O)},M.prototype.push=function(O,I){var se=this._readableState,ve;return se.objectMode?ve=!0:typeof O=="string"&&(I=I||se.defaultEncoding,I!==se.encoding&&(O=l.from(O,I),I=""),ve=!0),G(this,O,I,!1,ve)},M.prototype.unshift=function(O){return G(this,O,null,!0,!1)};function G(O,I,se,ve,we){u("readableAddChunk",I);var ge=O._readableState;if(I===null)ge.reading=!1,$(O,ge);else{var xe;if(we||(xe=o(ge,I)),xe)K(O,xe);else if(ge.objectMode||I&&I.length>0)if(typeof I!="string"&&!ge.objectMode&&Object.getPrototypeOf(I)!==l.prototype&&(I=p(I)),ve)ge.endEmitted?K(O,new z):C(O,ge,I,!0);else if(ge.ended)K(O,new x);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?(I=ge.decoder.write(I),ge.objectMode||I.length!==0?C(O,ge,I,!1):te(O,ge)):C(O,ge,I,!1)}else ve||(ge.reading=!1,te(O,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function C(O,I,se,ve){I.flowing&&I.length===0&&!I.sync?(I.awaitDrain=0,O.emit("data",se)):(I.length+=I.objectMode?1:se.length,ve?I.buffer.unshift(se):I.buffer.push(se),I.needReadable&&B(O)),te(O,I)}function o(O,I){var se;return!_(I)&&typeof I!="string"&&I!==void 0&&!O.objectMode&&(se=new S("chunk",["string","Buffer","Uint8Array"],I)),se}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(O){q||(q=E(83141).I);var I=new q(O);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ve="";se!==null;)ve+=I.write(se.data),se=se.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var w=1073741824;function A(O){return O>=w?O=w:(O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++),O}function U(O,I){return O<=0||I.length===0&&I.ended?0:I.objectMode?1:O!==O?I.flowing&&I.length?I.buffer.head.data.length:I.length:(O>I.highWaterMark&&(I.highWaterMark=A(O)),O<=I.length?O:I.ended?I.length:(I.needReadable=!0,0))}M.prototype.read=function(O){u("read",O),O=parseInt(O,10);var I=this._readableState,se=O;if(O!==0&&(I.emittedReadable=!1),O===0&&I.needReadable&&((I.highWaterMark!==0?I.length>=I.highWaterMark:I.length>0)||I.ended))return u("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?ce(this):B(this),null;if(O=U(O,I),O===0&&I.ended)return I.length===0&&ce(this),null;var ve=I.needReadable;u("need readable",ve),(I.length===0||I.length-O<I.highWaterMark)&&(ve=!0,u("length less than watermark",ve)),I.ended||I.reading?(ve=!1,u("reading or ended",ve)):ve&&(u("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(O=U(se,I)));var we;return O>0?we=ee(O,I):we=null,we===null?(I.needReadable=I.length<=I.highWaterMark,O=0):(I.length-=O,I.awaitDrain=0),I.length===0&&(I.ended||(I.needReadable=!0),se!==O&&I.ended&&ce(this)),we!==null&&this.emit("data",we),we};function $(O,I){if(u("onEofChunk"),!I.ended){if(I.decoder){var se=I.decoder.end();se&&se.length&&(I.buffer.push(se),I.length+=I.objectMode?1:se.length)}I.ended=!0,I.sync?B(O):(I.needReadable=!1,I.emittedReadable||(I.emittedReadable=!0,Z(O)))}}function B(O){var I=O._readableState;u("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(u("emitReadable",I.flowing),I.emittedReadable=!0,R.nextTick(Z,O))}function Z(O){var I=O._readableState;u("emitReadable_",I.destroyed,I.length,I.ended),!I.destroyed&&(I.length||I.ended)&&(O.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,J(O)}function te(O,I){I.readingMore||(I.readingMore=!0,R.nextTick(L,O,I))}function L(O,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&I.length===0);){var se=I.length;if(u("maybeReadMore read 0"),O.read(0),se===I.length)break}I.readingMore=!1}M.prototype._read=function(O){K(this,new D("_read()"))},M.prototype.pipe=function(O,I){var se=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=O;break;case 1:ve.pipes=[ve.pipes,O];break;default:ve.pipes.push(O);break}ve.pipesCount+=1,u("pipe count=%d opts=%j",ve.pipesCount,I);var we=(!I||I.end!==!1)&&O!==R.stdout&&O!==R.stderr,ge=we?Ge:ae;ve.endEmitted?R.nextTick(ge):se.once("end",ge),O.on("unpipe",xe);function xe(be,De){u("onunpipe"),be===se&&De&&De.hasUnpiped===!1&&(De.hasUnpiped=!0,tt())}function Ge(){u("onend"),O.end()}var ze=re(se);O.on("drain",ze);var Et=!1;function tt(){u("cleanup"),O.removeListener("close",ue),O.removeListener("finish",Q),O.removeListener("drain",ze),O.removeListener("error",Tt),O.removeListener("unpipe",xe),se.removeListener("end",Ge),se.removeListener("end",ae),se.removeListener("data",at),Et=!0,ve.awaitDrain&&(!O._writableState||O._writableState.needDrain)&&ze()}se.on("data",at);function at(be){u("ondata");var De=O.write(be);u("dest.write",De),De===!1&&((ve.pipesCount===1&&ve.pipes===O||ve.pipesCount>1&&Se(ve.pipes,O)!==-1)&&!Et&&(u("false write response, pause",ve.awaitDrain),ve.awaitDrain++),se.pause())}function Tt(be){u("onerror",be),ae(),O.removeListener("error",Tt),k(O,"error")===0&&K(O,be)}ne(O,"error",Tt);function ue(){O.removeListener("finish",Q),ae()}O.once("close",ue);function Q(){u("onfinish"),O.removeListener("close",ue),ae()}O.once("finish",Q);function ae(){u("unpipe"),se.unpipe(O)}return O.emit("pipe",se),ve.flowing||(u("pipe resume"),se.resume()),O};function re(O){return function(){var se=O._readableState;u("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&k(O,"data")&&(se.flowing=!0,J(O))}}M.prototype.unpipe=function(O){var I=this._readableState,se={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return O&&O!==I.pipes?this:(O||(O=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,O&&O.emit("unpipe",this,se),this);if(!O){var ve=I.pipes,we=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var ge=0;ge<we;ge++)ve[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=Se(I.pipes,O);return xe===-1?this:(I.pipes.splice(xe,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),O.emit("unpipe",this,se),this)},M.prototype.on=function(O,I){var se=c.prototype.on.call(this,O,I),ve=this._readableState;return O==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):O==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,u("on readable",ve.length,ve.reading),ve.length?B(this):ve.reading||R.nextTick(_e,this)),se},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(O,I){var se=c.prototype.removeListener.call(this,O,I);return O==="readable"&&R.nextTick(Le,this),se},M.prototype.removeAllListeners=function(O){var I=c.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&R.nextTick(Le,this),I};function Le(O){var I=O._readableState;I.readableListening=O.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:O.listenerCount("data")>0&&O.resume()}function _e(O){u("readable nexttick read 0"),O.read(0)}M.prototype.resume=function(){var O=this._readableState;return O.flowing||(u("resume"),O.flowing=!O.readableListening,Ce(this,O)),O.paused=!1,this};function Ce(O,I){I.resumeScheduled||(I.resumeScheduled=!0,R.nextTick(Me,O,I))}function Me(O,I){u("resume",I.reading),I.reading||O.read(0),I.resumeScheduled=!1,O.emit("resume"),J(O),I.flowing&&!I.reading&&O.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(O){var I=O._readableState;for(u("flow",I.flowing);I.flowing&&O.read()!==null;);}M.prototype.wrap=function(O){var I=this,se=this._readableState,ve=!1;O.on("end",function(){if(u("wrapped end"),se.decoder&&!se.ended){var xe=se.decoder.end();xe&&xe.length&&I.push(xe)}I.push(null)}),O.on("data",function(xe){if(u("wrapped data"),se.decoder&&(xe=se.decoder.write(xe)),!(se.objectMode&&xe==null)&&!(!se.objectMode&&(!xe||!xe.length))){var Ge=I.push(xe);Ge||(ve=!0,O.pause())}});for(var we in O)this[we]===void 0&&typeof O[we]=="function"&&(this[we]=function(Ge){return function(){return O[Ge].apply(O,arguments)}}(we));for(var ge=0;ge<Y.length;ge++)O.on(Y[ge],this.emit.bind(this,Y[ge]));return this._read=function(xe){u("wrapped _read",xe),ve&&(ve=!1,O.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return H===void 0&&(H=E(74743)),H(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(O,I){if(I.length===0)return null;var se;return I.objectMode?se=I.buffer.shift():!O||O>=I.length?(I.decoder?se=I.buffer.join(""):I.buffer.length===1?se=I.buffer.first():se=I.buffer.concat(I.length),I.buffer.clear()):se=I.buffer.consume(O,I.decoder),se}function ce(O){var I=O._readableState;u("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,R.nextTick(me,I,O))}function me(O,I){if(u("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,I.readable=!1,I.emit("end"),O.autoDestroy)){var se=I._writableState;(!se||se.autoDestroy&&se.finished)&&I.destroy()}}typeof Symbol=="function"&&(M.from=function(O,I){return j===void 0&&(j=E(45049)),j(M,O,I)});function Se(O,I){for(var se=0,ve=O.length;se<ve;se++)if(O[se]===I)return se;return-1}},13054:(a,V,E)=>{"use strict";a.exports=p;var R=E(92260).F,P=R.ERR_METHOD_NOT_IMPLEMENTED,N=R.ERR_MULTIPLE_CALLBACK,k=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=R.ERR_TRANSFORM_WITH_LENGTH_0,l=E(92818);E(56698)(p,l);function h(u,f){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new N);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),g(u);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function p(u){if(!(this instanceof p))return new p(u);l.call(this,u),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,m){b(u,f,m)}):b(this,null,null)}p.prototype.push=function(u,f){return this._transformState.needTransform=!1,l.prototype.push.call(this,u,f)},p.prototype._transform=function(u,f,m){m(new P("_transform()"))},p.prototype._write=function(u,f,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=f,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},p.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},p.prototype._destroy=function(u,f){l.prototype._destroy.call(this,u,function(m){f(m)})};function b(u,f,m){if(f)return u.emit("error",f);if(m!=null&&u.push(m),u._writableState.length)throw new c;if(u._transformState.transforming)throw new k;return u.push(null)}},62192:(a,V,E)=>{"use strict";var R=E(65606);a.exports=X;function P(J,ee,ce){this.chunk=J,this.encoding=ee,this.callback=ce,this.next=null}function N(J){var ee=this;this.next=null,this.entry=null,this.finish=function(){Me(ee,J)}}var k;X.WritableState=Y;var c={deprecate:E(94643)},l=E(71181),h=E(48287).Buffer,p=E.g.Uint8Array||function(){};function _(J){return h.from(J)}function b(J){return h.isBuffer(J)||J instanceof p}var u=E(41468),f=E(8775),m=f.getHighWaterMark,g=E(92260).F,v=g.ERR_INVALID_ARG_TYPE,T=g.ERR_METHOD_NOT_IMPLEMENTED,S=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,D=g.ERR_STREAM_DESTROYED,z=g.ERR_STREAM_NULL_VALUES,q=g.ERR_STREAM_WRITE_AFTER_END,H=g.ERR_UNKNOWN_ENCODING,j=u.errorOrDestroy;E(56698)(X,l);function K(){}function Y(J,ee,ce){k=k||E(92818),J=J||{},typeof ce!="boolean"&&(ce=ee instanceof k),this.objectMode=!!J.objectMode,ce&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=m(this,J,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=J.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){$(ee,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new N(this)}Y.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ce=[];ee;)ce.push(ee),ee=ee.next;return ce},function(){try{Object.defineProperty(Y.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(ee){return ne.call(this,ee)?!0:this!==X?!1:ee&&ee._writableState instanceof Y}})):ne=function(ee){return ee instanceof this};function X(J){k=k||E(92818);var ee=this instanceof k;if(!ee&&!ne.call(X,this))return new X(J);this._writableState=new Y(J,this,ee),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),l.call(this)}X.prototype.pipe=function(){j(this,new x)};function M(J,ee){var ce=new q;j(J,ce),R.nextTick(ee,ce)}function G(J,ee,ce,me){var Se;return ce===null?Se=new z:typeof ce!="string"&&!ee.objectMode&&(Se=new v("chunk",["string","Buffer"],ce)),Se?(j(J,Se),R.nextTick(me,Se),!1):!0}X.prototype.write=function(J,ee,ce){var me=this._writableState,Se=!1,O=!me.objectMode&&b(J);return O&&!h.isBuffer(J)&&(J=_(J)),typeof ee=="function"&&(ce=ee,ee=null),O?ee="buffer":ee||(ee=me.defaultEncoding),typeof ce!="function"&&(ce=K),me.ending?M(this,ce):(O||G(this,me,J,ce))&&(me.pendingcb++,Se=o(this,me,O,J,ee,ce)),Se},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&te(this,J))},X.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new H(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,ee,ce){return!J.objectMode&&J.decodeStrings!==!1&&typeof ee=="string"&&(ee=h.from(ee,ce)),ee}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,ee,ce,me,Se,O){if(!ce){var I=C(ee,me,Se);me!==I&&(ce=!0,Se="buffer",me=I)}var se=ee.objectMode?1:me.length;ee.length+=se;var ve=ee.length<ee.highWaterMark;if(ve||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:Se,isBuf:ce,callback:O,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(J,ee,!1,se,me,Se,O);return ve}function w(J,ee,ce,me,Se,O,I){ee.writelen=me,ee.writecb=I,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new D("write")):ce?J._writev(Se,ee.onwrite):J._write(Se,O,ee.onwrite),ee.sync=!1}function A(J,ee,ce,me,Se){--ee.pendingcb,ce?(R.nextTick(Se,me),R.nextTick(_e,J,ee),J._writableState.errorEmitted=!0,j(J,me)):(Se(me),J._writableState.errorEmitted=!0,j(J,me),_e(J,ee))}function U(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function $(J,ee){var ce=J._writableState,me=ce.sync,Se=ce.writecb;if(typeof Se!="function")throw new S;if(U(ce),ee)A(J,ce,me,ee,Se);else{var O=L(ce)||J.destroyed;!O&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&te(J,ce),me?R.nextTick(B,J,ce,O,Se):B(J,ce,O,Se)}}function B(J,ee,ce,me){ce||Z(J,ee),ee.pendingcb--,me(),_e(J,ee)}function Z(J,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,J.emit("drain"))}function te(J,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(J._writev&&ce&&ce.next){var me=ee.bufferedRequestCount,Se=new Array(me),O=ee.corkedRequestsFree;O.entry=ce;for(var I=0,se=!0;ce;)Se[I]=ce,ce.isBuf||(se=!1),ce=ce.next,I+=1;Se.allBuffers=se,w(J,ee,!0,ee.length,Se,"",O.finish),ee.pendingcb++,ee.lastBufferedRequest=null,O.next?(ee.corkedRequestsFree=O.next,O.next=null):ee.corkedRequestsFree=new N(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ve=ce.chunk,we=ce.encoding,ge=ce.callback,xe=ee.objectMode?1:ve.length;if(w(J,ee,!1,xe,ve,we,ge),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}ce===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}X.prototype._write=function(J,ee,ce){ce(new T("_write()"))},X.prototype._writev=null,X.prototype.end=function(J,ee,ce){var me=this._writableState;return typeof J=="function"?(ce=J,J=null,ee=null):typeof ee=="function"&&(ce=ee,ee=null),J!=null&&this.write(J,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ce(this,me,ce),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function re(J,ee){J._final(function(ce){ee.pendingcb--,ce&&j(J,ce),ee.prefinished=!0,J.emit("prefinish"),_e(J,ee)})}function Le(J,ee){!ee.prefinished&&!ee.finalCalled&&(typeof J._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(re,J,ee)):(ee.prefinished=!0,J.emit("prefinish")))}function _e(J,ee){var ce=L(ee);if(ce&&(Le(J,ee),ee.pendingcb===0&&(ee.finished=!0,J.emit("finish"),ee.autoDestroy))){var me=J._readableState;(!me||me.autoDestroy&&me.endEmitted)&&J.destroy()}return ce}function Ce(J,ee,ce){ee.ending=!0,_e(J,ee),ce&&(ee.finished?R.nextTick(ce):J.once("finish",ce)),ee.ended=!0,J.writable=!1}function Me(J,ee,ce){var me=J.entry;for(J.entry=null;me;){var Se=me.callback;ee.pendingcb--,Se(ce),me=me.next}ee.corkedRequestsFree.next=J}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){!this._writableState||(this._writableState.destroyed=ee)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(J,ee){ee(J)}},74743:(a,V,E)=>{"use strict";var R=E(65606),P;function N(D,z,q){return z in D?Object.defineProperty(D,z,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[z]=q,D}var k=E(45826),c=Symbol("lastResolve"),l=Symbol("lastReject"),h=Symbol("error"),p=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),u=Symbol("stream");function f(D,z){return{value:D,done:z}}function m(D){var z=D[c];if(z!==null){var q=D[u].read();q!==null&&(D[_]=null,D[c]=null,D[l]=null,z(f(q,!1)))}}function g(D){R.nextTick(m,D)}function v(D,z){return function(q,H){D.then(function(){if(z[p]){q(f(void 0,!0));return}z[b](q,H)},H)}}var T=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((P={get stream(){return this[u]},next:function(){var z=this,q=this[h];if(q!==null)return Promise.reject(q);if(this[p])return Promise.resolve(f(void 0,!0));if(this[u].destroyed)return new Promise(function(Y,ne){R.nextTick(function(){z[h]?ne(z[h]):Y(f(void 0,!0))})});var H=this[_],j;if(H)j=new Promise(v(H,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(f(K,!1));j=new Promise(this[b])}return this[_]=j,j}},N(P,Symbol.asyncIterator,function(){return this}),N(P,"return",function(){var z=this;return new Promise(function(q,H){z[u].destroy(null,function(j){if(j){H(j);return}q(f(void 0,!0))})})}),P),T),x=function(z){var q,H=Object.create(S,(q={},N(q,u,{value:z,writable:!0}),N(q,c,{value:null,writable:!0}),N(q,l,{value:null,writable:!0}),N(q,h,{value:null,writable:!0}),N(q,p,{value:z._readableState.endEmitted,writable:!0}),N(q,b,{value:function(K,Y){var ne=H[u].read();ne?(H[_]=null,H[c]=null,H[l]=null,K(f(ne,!1))):(H[c]=K,H[l]=Y)},writable:!0}),q));return H[_]=null,k(z,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=H[l];K!==null&&(H[_]=null,H[c]=null,H[l]=null,K(j)),H[h]=j;return}var Y=H[c];Y!==null&&(H[_]=null,H[c]=null,H[l]=null,Y(f(void 0,!0))),H[p]=!0}),z.on("readable",g.bind(null,H)),H};a.exports=x},12389:(a,V,E)=>{"use strict";function R(m,g){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);g&&(T=T.filter(function(S){return Object.getOwnPropertyDescriptor(m,S).enumerable})),v.push.apply(v,T)}return v}function P(m){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?R(Object(v),!0).forEach(function(T){N(m,T,v[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):R(Object(v)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor(v,T))})}return m}function N(m,g,v){return g in m?Object.defineProperty(m,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[g]=v,m}function k(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){for(var v=0;v<g.length;v++){var T=g[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function l(m,g,v){return g&&c(m.prototype,g),v&&c(m,v),m}var h=E(48287),p=h.Buffer,_=E(8460),b=_.inspect,u=b&&b.custom||"inspect";function f(m,g,v){p.prototype.copy.call(m,g,v)}a.exports=function(){function m(){k(this,m),this.head=null,this.tail=null,this.length=0}return l(m,[{key:"push",value:function(v){var T={data:v,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(v){var T={data:v,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var T=this.head,S=""+T.data;T=T.next;)S+=v+T.data;return S}},{key:"concat",value:function(v){if(this.length===0)return p.alloc(0);for(var T=p.allocUnsafe(v>>>0),S=this.head,x=0;S;)f(S.data,T,x),x+=S.data.length,S=S.next;return T}},{key:"consume",value:function(v,T){var S;return v<this.head.data.length?(S=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?S=this.shift():S=T?this._getString(v):this._getBuffer(v),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var T=this.head,S=1,x=T.data;for(v-=x.length;T=T.next;){var D=T.data,z=v>D.length?D.length:v;if(z===D.length?x+=D:x+=D.slice(0,v),v-=z,v===0){z===D.length?(++S,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=D.slice(z));break}++S}return this.length-=S,x}},{key:"_getBuffer",value:function(v){var T=p.allocUnsafe(v),S=this.head,x=1;for(S.data.copy(T),v-=S.data.length;S=S.next;){var D=S.data,z=v>D.length?D.length:v;if(D.copy(T,T.length-v,0,z),v-=z,v===0){z===D.length?(++x,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=D.slice(z));break}++x}return this.length-=x,T}},{key:u,value:function(v,T){return b(this,P({},T,{depth:0,customInspect:!1}))}}]),m}()},41468:(a,V,E)=>{"use strict";var R=E(65606);function P(p,_){var b=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(_?_(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(l,this,p)):R.nextTick(l,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(m){!_&&m?b._writableState?b._writableState.errorEmitted?R.nextTick(k,b):(b._writableState.errorEmitted=!0,R.nextTick(N,b,m)):R.nextTick(N,b,m):_?(R.nextTick(k,b),_(m)):R.nextTick(k,b)}),this)}function N(p,_){l(p,_),k(p)}function k(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(p,_){p.emit("error",_)}function h(p,_){var b=p._readableState,u=p._writableState;b&&b.autoDestroy||u&&u.autoDestroy?p.destroy(_):p.emit("error",_)}a.exports={destroy:P,undestroy:c,errorOrDestroy:h}},45826:(a,V,E)=>{"use strict";var R=E(92260).F.ERR_STREAM_PREMATURE_CLOSE;function P(l){var h=!1;return function(){if(!h){h=!0;for(var p=arguments.length,_=new Array(p),b=0;b<p;b++)_[b]=arguments[b];l.apply(this,_)}}}function N(){}function k(l){return l.setHeader&&typeof l.abort=="function"}function c(l,h,p){if(typeof h=="function")return c(l,null,h);h||(h={}),p=P(p||N);var _=h.readable||h.readable!==!1&&l.readable,b=h.writable||h.writable!==!1&&l.writable,u=function(){l.writable||m()},f=l._writableState&&l._writableState.finished,m=function(){b=!1,f=!0,_||p.call(l)},g=l._readableState&&l._readableState.endEmitted,v=function(){_=!1,g=!0,b||p.call(l)},T=function(z){p.call(l,z)},S=function(){var z;if(_&&!g)return(!l._readableState||!l._readableState.ended)&&(z=new R),p.call(l,z);if(b&&!f)return(!l._writableState||!l._writableState.ended)&&(z=new R),p.call(l,z)},x=function(){l.req.on("finish",m)};return k(l)?(l.on("complete",m),l.on("abort",S),l.req?x():l.on("request",x)):b&&!l._writableState&&(l.on("end",u),l.on("close",u)),l.on("end",v),l.on("finish",m),h.error!==!1&&l.on("error",T),l.on("close",S),function(){l.removeListener("complete",m),l.removeListener("abort",S),l.removeListener("request",x),l.req&&l.req.removeListener("finish",m),l.removeListener("end",u),l.removeListener("close",u),l.removeListener("finish",m),l.removeListener("end",v),l.removeListener("error",T),l.removeListener("close",S)}}a.exports=c},45049:a=>{a.exports=function(){throw new Error("Readable.from is not available in the browser")}},29434:(a,V,E)=>{"use strict";var R;function P(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var N=E(92260).F,k=N.ERR_MISSING_ARGS,c=N.ERR_STREAM_DESTROYED;function l(m){if(m)throw m}function h(m){return m.setHeader&&typeof m.abort=="function"}function p(m,g,v,T){T=P(T);var S=!1;m.on("close",function(){S=!0}),R===void 0&&(R=E(45826)),R(m,{readable:g,writable:v},function(D){if(D)return T(D);S=!0,T()});var x=!1;return function(D){if(!S&&!x){if(x=!0,h(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();T(D||new c("pipe"))}}}function _(m){m()}function b(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?l:m.pop()}function f(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];var T=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new k("streams");var S,x=g.map(function(D,z){var q=z<g.length-1,H=z>0;return p(D,q,H,function(j){S||(S=j),j&&x.forEach(_),!q&&(x.forEach(_),T(S))})});return g.reduce(b)}a.exports=f},8775:(a,V,E)=>{"use strict";var R=E(92260).F.ERR_INVALID_OPT_VALUE;function P(k,c,l){return k.highWaterMark!=null?k.highWaterMark:c?k[l]:null}function N(k,c,l,h){var p=P(c,h,l);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var _=h?l:"highWaterMark";throw new R(_,p)}return Math.floor(p)}return k.objectMode?16:16*1024}a.exports={getHighWaterMark:N}},71181:(a,V,E)=>{a.exports=E(37007).EventEmitter},61603:(a,V,E)=>{V=a.exports=E(6736),V.Stream=V,V.Readable=V,V.Writable=E(62192),V.Duplex=E(92818),V.Transform=E(13054),V.PassThrough=E(35860),V.finished=E(45826),V.pipeline=E(29434)},77952:(a,V,E)=>{var R=V;R.utils=E(67426),R.common=E(66166),R.sha=E(46229),R.ripemd=E(46784),R.hmac=E(28948),R.sha1=R.sha.sha1,R.sha256=R.sha.sha256,R.sha224=R.sha.sha224,R.sha384=R.sha.sha384,R.sha512=R.sha.sha512,R.ripemd160=R.ripemd.ripemd160},66166:(a,V,E)=>{"use strict";var R=E(67426),P=E(43349);function N(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}V.BlockHash=N,N.prototype.update=function(c,l){if(c=R.toArray(c,l),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){c=this.pending;var h=c.length%this._delta8;this.pending=c.slice(c.length-h,c.length),this.pending.length===0&&(this.pending=null),c=R.join32(c,0,c.length-h,this.endian);for(var p=0;p<c.length;p+=this._delta32)this._update(c,p,p+this._delta32)}return this},N.prototype.digest=function(c){return this.update(this._pad()),P(this.pending===null),this._digest(c)},N.prototype._pad=function(){var c=this.pendingTotal,l=this._delta8,h=l-(c+this.padLength)%l,p=new Array(h+this.padLength);p[0]=128;for(var _=1;_<h;_++)p[_]=0;if(c<<=3,this.endian==="big"){for(var b=8;b<this.padLength;b++)p[_++]=0;p[_++]=0,p[_++]=0,p[_++]=0,p[_++]=0,p[_++]=c>>>24&255,p[_++]=c>>>16&255,p[_++]=c>>>8&255,p[_++]=c&255}else for(p[_++]=c&255,p[_++]=c>>>8&255,p[_++]=c>>>16&255,p[_++]=c>>>24&255,p[_++]=0,p[_++]=0,p[_++]=0,p[_++]=0,b=8;b<this.padLength;b++)p[_++]=0;return p}},28948:(a,V,E)=>{"use strict";var R=E(67426),P=E(43349);function N(k,c,l){if(!(this instanceof N))return new N(k,c,l);this.Hash=k,this.blockSize=k.blockSize/8,this.outSize=k.outSize/8,this.inner=null,this.outer=null,this._init(R.toArray(c,l))}a.exports=N,N.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),P(c.length<=this.blockSize);for(var l=c.length;l<this.blockSize;l++)c.push(0);for(l=0;l<c.length;l++)c[l]^=54;for(this.inner=new this.Hash().update(c),l=0;l<c.length;l++)c[l]^=106;this.outer=new this.Hash().update(c)},N.prototype.update=function(c,l){return this.inner.update(c,l),this},N.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},46784:(a,V,E)=>{"use strict";var R=E(67426),P=E(66166),N=R.rotl32,k=R.sum32,c=R.sum32_3,l=R.sum32_4,h=P.BlockHash;function p(){if(!(this instanceof p))return new p;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}R.inherits(p,h),V.ripemd160=p,p.blockSize=512,p.outSize=160,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(S,x){for(var D=this.h[0],z=this.h[1],q=this.h[2],H=this.h[3],j=this.h[4],K=D,Y=z,ne=q,X=H,M=j,G=0;G<80;G++){var C=k(N(l(D,_(G,z,q,H),S[f[G]+x],b(G)),g[G]),j);D=j,j=H,H=N(q,10),q=z,z=C,C=k(N(l(K,_(79-G,Y,ne,X),S[m[G]+x],u(G)),v[G]),M),K=M,M=X,X=N(ne,10),ne=Y,Y=C}C=c(this.h[1],q,X),this.h[1]=c(this.h[2],H,M),this.h[2]=c(this.h[3],j,K),this.h[3]=c(this.h[4],D,Y),this.h[4]=c(this.h[0],z,ne),this.h[0]=C},p.prototype._digest=function(S){return S==="hex"?R.toHex32(this.h,"little"):R.split32(this.h,"little")};function _(T,S,x,D){return T<=15?S^x^D:T<=31?S&x|~S&D:T<=47?(S|~x)^D:T<=63?S&D|x&~D:S^(x|~D)}function b(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function u(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(a,V,E)=>{"use strict";V.sha1=E(43917),V.sha224=E(47714),V.sha256=E(2287),V.sha384=E(21911),V.sha512=E(57766)},43917:(a,V,E)=>{"use strict";var R=E(67426),P=E(66166),N=E(66225),k=R.rotl32,c=R.sum32,l=R.sum32_5,h=N.ft_1,p=P.BlockHash,_=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}R.inherits(b,p),a.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(f,m){for(var g=this.W,v=0;v<16;v++)g[v]=f[m+v];for(;v<g.length;v++)g[v]=k(g[v-3]^g[v-8]^g[v-14]^g[v-16],1);var T=this.h[0],S=this.h[1],x=this.h[2],D=this.h[3],z=this.h[4];for(v=0;v<g.length;v++){var q=~~(v/20),H=l(k(T,5),h(q,S,x,D),z,g[v],_[q]);z=D,D=x,x=k(S,30),S=T,T=H}this.h[0]=c(this.h[0],T),this.h[1]=c(this.h[1],S),this.h[2]=c(this.h[2],x),this.h[3]=c(this.h[3],D),this.h[4]=c(this.h[4],z)},b.prototype._digest=function(f){return f==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")}},47714:(a,V,E)=>{"use strict";var R=E(67426),P=E(2287);function N(){if(!(this instanceof N))return new N;P.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}R.inherits(N,P),a.exports=N,N.blockSize=512,N.outSize=224,N.hmacStrength=192,N.padLength=64,N.prototype._digest=function(c){return c==="hex"?R.toHex32(this.h.slice(0,7),"big"):R.split32(this.h.slice(0,7),"big")}},2287:(a,V,E)=>{"use strict";var R=E(67426),P=E(66166),N=E(66225),k=E(43349),c=R.sum32,l=R.sum32_4,h=R.sum32_5,p=N.ch32,_=N.maj32,b=N.s0_256,u=N.s1_256,f=N.g0_256,m=N.g1_256,g=P.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}R.inherits(T,g),a.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(x,D){for(var z=this.W,q=0;q<16;q++)z[q]=x[D+q];for(;q<z.length;q++)z[q]=l(m(z[q-2]),z[q-7],f(z[q-15]),z[q-16]);var H=this.h[0],j=this.h[1],K=this.h[2],Y=this.h[3],ne=this.h[4],X=this.h[5],M=this.h[6],G=this.h[7];for(k(this.k.length===z.length),q=0;q<z.length;q++){var C=h(G,u(ne),p(ne,X,M),this.k[q],z[q]),o=c(b(H),_(H,j,K));G=M,M=X,X=ne,ne=c(Y,C),Y=K,K=j,j=H,H=c(C,o)}this.h[0]=c(this.h[0],H),this.h[1]=c(this.h[1],j),this.h[2]=c(this.h[2],K),this.h[3]=c(this.h[3],Y),this.h[4]=c(this.h[4],ne),this.h[5]=c(this.h[5],X),this.h[6]=c(this.h[6],M),this.h[7]=c(this.h[7],G)},T.prototype._digest=function(x){return x==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")}},21911:(a,V,E)=>{"use strict";var R=E(67426),P=E(57766);function N(){if(!(this instanceof N))return new N;P.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}R.inherits(N,P),a.exports=N,N.blockSize=1024,N.outSize=384,N.hmacStrength=192,N.padLength=128,N.prototype._digest=function(c){return c==="hex"?R.toHex32(this.h.slice(0,12),"big"):R.split32(this.h.slice(0,12),"big")}},57766:(a,V,E)=>{"use strict";var R=E(67426),P=E(66166),N=E(43349),k=R.rotr64_hi,c=R.rotr64_lo,l=R.shr64_hi,h=R.shr64_lo,p=R.sum64,_=R.sum64_hi,b=R.sum64_lo,u=R.sum64_4_hi,f=R.sum64_4_lo,m=R.sum64_5_hi,g=R.sum64_5_lo,v=P.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function S(){if(!(this instanceof S))return new S;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}R.inherits(S,v),a.exports=S,S.blockSize=1024,S.outSize=512,S.hmacStrength=192,S.padLength=128,S.prototype._prepareBlock=function(o,w){for(var A=this.W,U=0;U<32;U++)A[U]=o[w+U];for(;U<A.length;U+=2){var $=M(A[U-4],A[U-3]),B=G(A[U-4],A[U-3]),Z=A[U-14],te=A[U-13],L=ne(A[U-30],A[U-29]),re=X(A[U-30],A[U-29]),Le=A[U-32],_e=A[U-31];A[U]=u($,B,Z,te,L,re,Le,_e),A[U+1]=f($,B,Z,te,L,re,Le,_e)}},S.prototype._update=function(o,w){this._prepareBlock(o,w);var A=this.W,U=this.h[0],$=this.h[1],B=this.h[2],Z=this.h[3],te=this.h[4],L=this.h[5],re=this.h[6],Le=this.h[7],_e=this.h[8],Ce=this.h[9],Me=this.h[10],J=this.h[11],ee=this.h[12],ce=this.h[13],me=this.h[14],Se=this.h[15];N(this.k.length===A.length);for(var O=0;O<A.length;O+=2){var I=me,se=Se,ve=K(_e,Ce),we=Y(_e,Ce),ge=x(_e,Ce,Me,J,ee,ce),xe=D(_e,Ce,Me,J,ee,ce),Ge=this.k[O],ze=this.k[O+1],Et=A[O],tt=A[O+1],at=m(I,se,ve,we,ge,xe,Ge,ze,Et,tt),Tt=g(I,se,ve,we,ge,xe,Ge,ze,Et,tt);I=H(U,$),se=j(U,$),ve=z(U,$,B,Z,te,L),we=q(U,$,B,Z,te,L);var ue=_(I,se,ve,we),Q=b(I,se,ve,we);me=ee,Se=ce,ee=Me,ce=J,Me=_e,J=Ce,_e=_(re,Le,at,Tt),Ce=b(Le,Le,at,Tt),re=te,Le=L,te=B,L=Z,B=U,Z=$,U=_(at,Tt,ue,Q),$=b(at,Tt,ue,Q)}p(this.h,0,U,$),p(this.h,2,B,Z),p(this.h,4,te,L),p(this.h,6,re,Le),p(this.h,8,_e,Ce),p(this.h,10,Me,J),p(this.h,12,ee,ce),p(this.h,14,me,Se)},S.prototype._digest=function(o){return o==="hex"?R.toHex32(this.h,"big"):R.split32(this.h,"big")};function x(C,o,w,A,U){var $=C&w^~C&U;return $<0&&($+=4294967296),$}function D(C,o,w,A,U,$){var B=o&A^~o&$;return B<0&&(B+=4294967296),B}function z(C,o,w,A,U){var $=C&w^C&U^w&U;return $<0&&($+=4294967296),$}function q(C,o,w,A,U,$){var B=o&A^o&$^A&$;return B<0&&(B+=4294967296),B}function H(C,o){var w=k(C,o,28),A=k(o,C,2),U=k(o,C,7),$=w^A^U;return $<0&&($+=4294967296),$}function j(C,o){var w=c(C,o,28),A=c(o,C,2),U=c(o,C,7),$=w^A^U;return $<0&&($+=4294967296),$}function K(C,o){var w=k(C,o,14),A=k(C,o,18),U=k(o,C,9),$=w^A^U;return $<0&&($+=4294967296),$}function Y(C,o){var w=c(C,o,14),A=c(C,o,18),U=c(o,C,9),$=w^A^U;return $<0&&($+=4294967296),$}function ne(C,o){var w=k(C,o,1),A=k(C,o,8),U=l(C,o,7),$=w^A^U;return $<0&&($+=4294967296),$}function X(C,o){var w=c(C,o,1),A=c(C,o,8),U=h(C,o,7),$=w^A^U;return $<0&&($+=4294967296),$}function M(C,o){var w=k(C,o,19),A=k(o,C,29),U=l(C,o,6),$=w^A^U;return $<0&&($+=4294967296),$}function G(C,o){var w=c(C,o,19),A=c(o,C,29),U=h(C,o,6),$=w^A^U;return $<0&&($+=4294967296),$}},66225:(a,V,E)=>{"use strict";var R=E(67426),P=R.rotr32;function N(u,f,m,g){if(u===0)return k(f,m,g);if(u===1||u===3)return l(f,m,g);if(u===2)return c(f,m,g)}V.ft_1=N;function k(u,f,m){return u&f^~u&m}V.ch32=k;function c(u,f,m){return u&f^u&m^f&m}V.maj32=c;function l(u,f,m){return u^f^m}V.p32=l;function h(u){return P(u,2)^P(u,13)^P(u,22)}V.s0_256=h;function p(u){return P(u,6)^P(u,11)^P(u,25)}V.s1_256=p;function _(u){return P(u,7)^P(u,18)^u>>>3}V.g0_256=_;function b(u){return P(u,17)^P(u,19)^u>>>10}V.g1_256=b},67426:(a,V,E)=>{"use strict";var R=E(43349),P=E(56698);V.inherits=P;function N(G,C){return(G.charCodeAt(C)&64512)!=55296||C<0||C+1>=G.length?!1:(G.charCodeAt(C+1)&64512)==56320}function k(G,C){if(Array.isArray(G))return G.slice();if(!G)return[];var o=[];if(typeof G=="string")if(C){if(C==="hex")for(G=G.replace(/[^a-z0-9]+/ig,""),G.length%2!=0&&(G="0"+G),A=0;A<G.length;A+=2)o.push(parseInt(G[A]+G[A+1],16))}else for(var w=0,A=0;A<G.length;A++){var U=G.charCodeAt(A);U<128?o[w++]=U:U<2048?(o[w++]=U>>6|192,o[w++]=U&63|128):N(G,A)?(U=65536+((U&1023)<<10)+(G.charCodeAt(++A)&1023),o[w++]=U>>18|240,o[w++]=U>>12&63|128,o[w++]=U>>6&63|128,o[w++]=U&63|128):(o[w++]=U>>12|224,o[w++]=U>>6&63|128,o[w++]=U&63|128)}else for(A=0;A<G.length;A++)o[A]=G[A]|0;return o}V.toArray=k;function c(G){for(var C="",o=0;o<G.length;o++)C+=p(G[o].toString(16));return C}V.toHex=c;function l(G){var C=G>>>24|G>>>8&65280|G<<8&16711680|(G&255)<<24;return C>>>0}V.htonl=l;function h(G,C){for(var o="",w=0;w<G.length;w++){var A=G[w];C==="little"&&(A=l(A)),o+=_(A.toString(16))}return o}V.toHex32=h;function p(G){return G.length===1?"0"+G:G}V.zero2=p;function _(G){return G.length===7?"0"+G:G.length===6?"00"+G:G.length===5?"000"+G:G.length===4?"0000"+G:G.length===3?"00000"+G:G.length===2?"000000"+G:G.length===1?"0000000"+G:G}V.zero8=_;function b(G,C,o,w){var A=o-C;R(A%4==0);for(var U=new Array(A/4),$=0,B=C;$<U.length;$++,B+=4){var Z;w==="big"?Z=G[B]<<24|G[B+1]<<16|G[B+2]<<8|G[B+3]:Z=G[B+3]<<24|G[B+2]<<16|G[B+1]<<8|G[B],U[$]=Z>>>0}return U}V.join32=b;function u(G,C){for(var o=new Array(G.length*4),w=0,A=0;w<G.length;w++,A+=4){var U=G[w];C==="big"?(o[A]=U>>>24,o[A+1]=U>>>16&255,o[A+2]=U>>>8&255,o[A+3]=U&255):(o[A+3]=U>>>24,o[A+2]=U>>>16&255,o[A+1]=U>>>8&255,o[A]=U&255)}return o}V.split32=u;function f(G,C){return G>>>C|G<<32-C}V.rotr32=f;function m(G,C){return G<<C|G>>>32-C}V.rotl32=m;function g(G,C){return G+C>>>0}V.sum32=g;function v(G,C,o){return G+C+o>>>0}V.sum32_3=v;function T(G,C,o,w){return G+C+o+w>>>0}V.sum32_4=T;function S(G,C,o,w,A){return G+C+o+w+A>>>0}V.sum32_5=S;function x(G,C,o,w){var A=G[C],U=G[C+1],$=w+U>>>0,B=($<w?1:0)+o+A;G[C]=B>>>0,G[C+1]=$}V.sum64=x;function D(G,C,o,w){var A=C+w>>>0,U=(A<C?1:0)+G+o;return U>>>0}V.sum64_hi=D;function z(G,C,o,w){var A=C+w;return A>>>0}V.sum64_lo=z;function q(G,C,o,w,A,U,$,B){var Z=0,te=C;te=te+w>>>0,Z+=te<C?1:0,te=te+U>>>0,Z+=te<U?1:0,te=te+B>>>0,Z+=te<B?1:0;var L=G+o+A+$+Z;return L>>>0}V.sum64_4_hi=q;function H(G,C,o,w,A,U,$,B){var Z=C+w+U+B;return Z>>>0}V.sum64_4_lo=H;function j(G,C,o,w,A,U,$,B,Z,te){var L=0,re=C;re=re+w>>>0,L+=re<C?1:0,re=re+U>>>0,L+=re<U?1:0,re=re+B>>>0,L+=re<B?1:0,re=re+te>>>0,L+=re<te?1:0;var Le=G+o+A+$+Z+L;return Le>>>0}V.sum64_5_hi=j;function K(G,C,o,w,A,U,$,B,Z,te){var L=C+w+U+B+te;return L>>>0}V.sum64_5_lo=K;function Y(G,C,o){var w=C<<32-o|G>>>o;return w>>>0}V.rotr64_hi=Y;function ne(G,C,o){var w=G<<32-o|C>>>o;return w>>>0}V.rotr64_lo=ne;function X(G,C,o){return G>>>o}V.shr64_hi=X;function M(G,C,o){var w=G<<32-o|C>>>o;return w>>>0}V.shr64_lo=M},32723:(a,V,E)=>{"use strict";var R=E(77952),P=E(64367),N=E(43349);function k(c){if(!(this instanceof k))return new k(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=P.toArray(c.entropy,c.entropyEnc||"hex"),h=P.toArray(c.nonce,c.nonceEnc||"hex"),p=P.toArray(c.pers,c.persEnc||"hex");N(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,h,p)}a.exports=k,k.prototype._init=function(l,h,p){var _=l.concat(h).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var b=0;b<this.V.length;b++)this.K[b]=0,this.V[b]=1;this._update(_),this._reseed=1,this.reseedInterval=281474976710656},k.prototype._hmac=function(){return new R.hmac(this.hash,this.K)},k.prototype._update=function(l){var h=this._hmac().update(this.V).update([0]);l&&(h=h.update(l)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),!!l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},k.prototype.reseed=function(l,h,p,_){typeof h!="string"&&(_=p,p=h,h=null),l=P.toArray(l,h),p=P.toArray(p,_),N(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(p||[])),this._reseed=1},k.prototype.generate=function(l,h,p,_){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof h!="string"&&(_=p,p=h,h=null),p&&(p=P.toArray(p,_||"hex"),this._update(p));for(var b=[];b.length<l;)this.V=this._hmac().update(this.V).digest(),b=b.concat(this.V);var u=b.slice(0,l);return this._update(p),this._reseed++,P.encode(u,h)}},251:(a,V)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(E,R,P,N,k){var c,l,h=k*8-N-1,p=(1<<h)-1,_=p>>1,b=-7,u=P?k-1:0,f=P?-1:1,m=E[R+u];for(u+=f,c=m&(1<<-b)-1,m>>=-b,b+=h;b>0;c=c*256+E[R+u],u+=f,b-=8);for(l=c&(1<<-b)-1,c>>=-b,b+=N;b>0;l=l*256+E[R+u],u+=f,b-=8);if(c===0)c=1-_;else{if(c===p)return l?NaN:(m?-1:1)*Infinity;l=l+Math.pow(2,N),c=c-_}return(m?-1:1)*l*Math.pow(2,c-N)},V.write=function(E,R,P,N,k,c){var l,h,p,_=c*8-k-1,b=(1<<_)-1,u=b>>1,f=k===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=N?0:c-1,g=N?1:-1,v=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===Infinity?(h=isNaN(R)?1:0,l=b):(l=Math.floor(Math.log(R)/Math.LN2),R*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+u>=1?R+=f/p:R+=f*Math.pow(2,1-u),R*p>=2&&(l++,p/=2),l+u>=b?(h=0,l=b):l+u>=1?(h=(R*p-1)*Math.pow(2,k),l=l+u):(h=R*Math.pow(2,u-1)*Math.pow(2,k),l=0));k>=8;E[P+m]=h&255,m+=g,h/=256,k-=8);for(l=l<<k|h,_+=k;_>0;E[P+m]=l&255,m+=g,l/=256,_-=8);E[P+m-g]|=v*128}},56698:a=>{typeof Object.create=="function"?a.exports=function(E,R){R&&(E.super_=R,E.prototype=Object.create(R.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(E,R){if(R){E.super_=R;var P=function(){};P.prototype=R.prototype,E.prototype=new P,E.prototype.constructor=E}}},69749:(a,V,E)=>{"use strict";const R=E(28799),P=Symbol("max"),N=Symbol("length"),k=Symbol("lengthCalculator"),c=Symbol("allowStale"),l=Symbol("maxAge"),h=Symbol("dispose"),p=Symbol("noDisposeOnSet"),_=Symbol("lruList"),b=Symbol("cache"),u=Symbol("updateAgeOnGet"),f=()=>1;class m{constructor(q){if(typeof q=="number"&&(q={max:q}),q||(q={}),q.max&&(typeof q.max!="number"||q.max<0))throw new TypeError("max must be a non-negative number");const H=this[P]=q.max||Infinity,j=q.length||f;if(this[k]=typeof j!="function"?f:j,this[c]=q.stale||!1,q.maxAge&&typeof q.maxAge!="number")throw new TypeError("maxAge must be a number");this[l]=q.maxAge||0,this[h]=q.dispose,this[p]=q.noDisposeOnSet||!1,this[u]=q.updateAgeOnGet||!1,this.reset()}set max(q){if(typeof q!="number"||q<0)throw new TypeError("max must be a non-negative number");this[P]=q||Infinity,T(this)}get max(){return this[P]}set allowStale(q){this[c]=!!q}get allowStale(){return this[c]}set maxAge(q){if(typeof q!="number")throw new TypeError("maxAge must be a non-negative number");this[l]=q,T(this)}get maxAge(){return this[l]}set lengthCalculator(q){typeof q!="function"&&(q=f),q!==this[k]&&(this[k]=q,this[N]=0,this[_].forEach(H=>{H.length=this[k](H.value,H.key),this[N]+=H.length})),T(this)}get lengthCalculator(){return this[k]}get length(){return this[N]}get itemCount(){return this[_].length}rforEach(q,H){H=H||this;for(let j=this[_].tail;j!==null;){const K=j.prev;D(this,q,j,H),j=K}}forEach(q,H){H=H||this;for(let j=this[_].head;j!==null;){const K=j.next;D(this,q,j,H),j=K}}keys(){return this[_].toArray().map(q=>q.key)}values(){return this[_].toArray().map(q=>q.value)}reset(){this[h]&&this[_]&&this[_].length&&this[_].forEach(q=>this[h](q.key,q.value)),this[b]=new Map,this[_]=new R,this[N]=0}dump(){return this[_].map(q=>v(this,q)?!1:{k:q.key,v:q.value,e:q.now+(q.maxAge||0)}).toArray().filter(q=>q)}dumpLru(){return this[_]}set(q,H,j){if(j=j||this[l],j&&typeof j!="number")throw new TypeError("maxAge must be a number");const K=j?Date.now():0,Y=this[k](H,q);if(this[b].has(q)){if(Y>this[P])return S(this,this[b].get(q)),!1;const M=this[b].get(q).value;return this[h]&&(this[p]||this[h](q,M.value)),M.now=K,M.maxAge=j,M.value=H,this[N]+=Y-M.length,M.length=Y,this.get(q),T(this),!0}const ne=new x(q,H,Y,K,j);return ne.length>this[P]?(this[h]&&this[h](q,H),!1):(this[N]+=ne.length,this[_].unshift(ne),this[b].set(q,this[_].head),T(this),!0)}has(q){if(!this[b].has(q))return!1;const H=this[b].get(q).value;return!v(this,H)}get(q){return g(this,q,!0)}peek(q){return g(this,q,!1)}pop(){const q=this[_].tail;return q?(S(this,q),q.value):null}del(q){S(this,this[b].get(q))}load(q){this.reset();const H=Date.now();for(let j=q.length-1;j>=0;j--){const K=q[j],Y=K.e||0;if(Y===0)this.set(K.k,K.v);else{const ne=Y-H;ne>0&&this.set(K.k,K.v,ne)}}}prune(){this[b].forEach((q,H)=>g(this,H,!1))}}const g=(z,q,H)=>{const j=z[b].get(q);if(j){const K=j.value;if(v(z,K)){if(S(z,j),!z[c])return}else H&&(z[u]&&(j.value.now=Date.now()),z[_].unshiftNode(j));return K.value}},v=(z,q)=>{if(!q||!q.maxAge&&!z[l])return!1;const H=Date.now()-q.now;return q.maxAge?H>q.maxAge:z[l]&&H>z[l]},T=z=>{if(z[N]>z[P])for(let q=z[_].tail;z[N]>z[P]&&q!==null;){const H=q.prev;S(z,q),q=H}},S=(z,q)=>{if(q){const H=q.value;z[h]&&z[h](H.key,H.value),z[N]-=H.length,z[b].delete(H.key),z[_].removeNode(q)}};class x{constructor(q,H,j,K,Y){this.key=q,this.value=H,this.length=j,this.now=K,this.maxAge=Y||0}}const D=(z,q,H,j)=>{let K=H.value;v(z,K)&&(S(z,H),z[c]||(K=void 0)),K&&q.call(j,K.value,K.key,z)};a.exports=m},88276:(a,V,E)=>{"use strict";var R=E(56698),P=E(4729),N=E(92861).Buffer,k=new Array(16);function c(){P.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}R(c,P),c.prototype._update=function(){for(var u=k,f=0;f<16;++f)u[f]=this._block.readInt32LE(f*4);var m=this._a,g=this._b,v=this._c,T=this._d;m=h(m,g,v,T,u[0],3614090360,7),T=h(T,m,g,v,u[1],3905402710,12),v=h(v,T,m,g,u[2],606105819,17),g=h(g,v,T,m,u[3],3250441966,22),m=h(m,g,v,T,u[4],4118548399,7),T=h(T,m,g,v,u[5],1200080426,12),v=h(v,T,m,g,u[6],2821735955,17),g=h(g,v,T,m,u[7],4249261313,22),m=h(m,g,v,T,u[8],1770035416,7),T=h(T,m,g,v,u[9],2336552879,12),v=h(v,T,m,g,u[10],4294925233,17),g=h(g,v,T,m,u[11],2304563134,22),m=h(m,g,v,T,u[12],1804603682,7),T=h(T,m,g,v,u[13],4254626195,12),v=h(v,T,m,g,u[14],2792965006,17),g=h(g,v,T,m,u[15],1236535329,22),m=p(m,g,v,T,u[1],4129170786,5),T=p(T,m,g,v,u[6],3225465664,9),v=p(v,T,m,g,u[11],643717713,14),g=p(g,v,T,m,u[0],3921069994,20),m=p(m,g,v,T,u[5],3593408605,5),T=p(T,m,g,v,u[10],38016083,9),v=p(v,T,m,g,u[15],3634488961,14),g=p(g,v,T,m,u[4],3889429448,20),m=p(m,g,v,T,u[9],568446438,5),T=p(T,m,g,v,u[14],3275163606,9),v=p(v,T,m,g,u[3],4107603335,14),g=p(g,v,T,m,u[8],1163531501,20),m=p(m,g,v,T,u[13],2850285829,5),T=p(T,m,g,v,u[2],4243563512,9),v=p(v,T,m,g,u[7],1735328473,14),g=p(g,v,T,m,u[12],2368359562,20),m=_(m,g,v,T,u[5],4294588738,4),T=_(T,m,g,v,u[8],2272392833,11),v=_(v,T,m,g,u[11],1839030562,16),g=_(g,v,T,m,u[14],4259657740,23),m=_(m,g,v,T,u[1],2763975236,4),T=_(T,m,g,v,u[4],1272893353,11),v=_(v,T,m,g,u[7],4139469664,16),g=_(g,v,T,m,u[10],3200236656,23),m=_(m,g,v,T,u[13],681279174,4),T=_(T,m,g,v,u[0],3936430074,11),v=_(v,T,m,g,u[3],3572445317,16),g=_(g,v,T,m,u[6],76029189,23),m=_(m,g,v,T,u[9],3654602809,4),T=_(T,m,g,v,u[12],3873151461,11),v=_(v,T,m,g,u[15],530742520,16),g=_(g,v,T,m,u[2],3299628645,23),m=b(m,g,v,T,u[0],4096336452,6),T=b(T,m,g,v,u[7],1126891415,10),v=b(v,T,m,g,u[14],2878612391,15),g=b(g,v,T,m,u[5],4237533241,21),m=b(m,g,v,T,u[12],1700485571,6),T=b(T,m,g,v,u[3],2399980690,10),v=b(v,T,m,g,u[10],4293915773,15),g=b(g,v,T,m,u[1],2240044497,21),m=b(m,g,v,T,u[8],1873313359,6),T=b(T,m,g,v,u[15],4264355552,10),v=b(v,T,m,g,u[6],2734768916,15),g=b(g,v,T,m,u[13],1309151649,21),m=b(m,g,v,T,u[4],4149444226,6),T=b(T,m,g,v,u[11],3174756917,10),v=b(v,T,m,g,u[2],718787259,15),g=b(g,v,T,m,u[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+g|0,this._c=this._c+v|0,this._d=this._d+T|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var u=N.allocUnsafe(16);return u.writeInt32LE(this._a,0),u.writeInt32LE(this._b,4),u.writeInt32LE(this._c,8),u.writeInt32LE(this._d,12),u};function l(u,f){return u<<f|u>>>32-f}function h(u,f,m,g,v,T,S){return l(u+(f&m|~f&g)+v+T|0,S)+f|0}function p(u,f,m,g,v,T,S){return l(u+(f&g|m&~g)+v+T|0,S)+f|0}function _(u,f,m,g,v,T,S){return l(u+(f^m^g)+v+T|0,S)+f|0}function b(u,f,m,g,v,T,S){return l(u+(m^(f|~g))+v+T|0,S)+f|0}a.exports=c},52244:(a,V,E)=>{var R=E(39404),P=E(15037);function N(k){this.rand=k||new P.Rand}a.exports=N,N.create=function(c){return new N(c)},N.prototype._randbelow=function(c){var l=c.bitLength(),h=Math.ceil(l/8);do var p=new R(this.rand.generate(h));while(p.cmp(c)>=0);return p},N.prototype._randrange=function(c,l){var h=l.sub(c);return c.add(this._randbelow(h))},N.prototype.test=function(c,l,h){var p=c.bitLength(),_=R.mont(c),b=new R(1).toRed(_);l||(l=Math.max(1,p/48|0));for(var u=c.subn(1),f=0;!u.testn(f);f++);for(var m=c.shrn(f),g=u.toRed(_),v=!0;l>0;l--){var T=this._randrange(new R(2),u);h&&h(T);var S=T.toRed(_).redPow(m);if(!(S.cmp(b)===0||S.cmp(g)===0)){for(var x=1;x<f;x++){if(S=S.redSqr(),S.cmp(b)===0)return!1;if(S.cmp(g)===0)break}if(x===f)return!1}}return v},N.prototype.getDivisor=function(c,l){var h=c.bitLength(),p=R.mont(c),_=new R(1).toRed(p);l||(l=Math.max(1,h/48|0));for(var b=c.subn(1),u=0;!b.testn(u);u++);for(var f=c.shrn(u),m=b.toRed(p);l>0;l--){var g=this._randrange(new R(2),b),v=c.gcd(g);if(v.cmpn(1)!==0)return v;var T=g.toRed(p).redPow(f);if(!(T.cmp(_)===0||T.cmp(m)===0)){for(var S=1;S<u;S++){if(T=T.redSqr(),T.cmp(_)===0)return T.fromRed().subn(1).gcd(c);if(T.cmp(m)===0)break}if(S===u)return T=T.redSqr(),T.fromRed().subn(1).gcd(c)}}return!1}},43349:a=>{a.exports=V;function V(E,R){if(!E)throw new Error(R||"Assertion failed")}V.equal=function(R,P,N){if(R!=P)throw new Error(N||"Assertion failed: "+R+" != "+P)}},64367:(a,V)=>{"use strict";var E=V;function R(k,c){if(Array.isArray(k))return k.slice();if(!k)return[];var l=[];if(typeof k!="string"){for(var h=0;h<k.length;h++)l[h]=k[h]|0;return l}if(c==="hex"){k=k.replace(/[^a-z0-9]+/ig,""),k.length%2!=0&&(k="0"+k);for(var h=0;h<k.length;h+=2)l.push(parseInt(k[h]+k[h+1],16))}else for(var h=0;h<k.length;h++){var p=k.charCodeAt(h),_=p>>8,b=p&255;_?l.push(_,b):l.push(b)}return l}E.toArray=R;function P(k){return k.length===1?"0"+k:k}E.zero2=P;function N(k){for(var c="",l=0;l<k.length;l++)c+=P(k[l].toString(16));return c}E.toHex=N,E.encode=function(c,l){return l==="hex"?N(c):c}},83519:(a,V,E)=>{var R=E(86587);a.exports=R(P),a.exports.strict=R(N),P.proto=P(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return P(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return N(this)},configurable:!0})});function P(k){var c=function(){return c.called?c.value:(c.called=!0,c.value=k.apply(this,arguments))};return c.called=!1,c}function N(k){var c=function(){if(c.called)throw new Error(c.onceError);return c.called=!0,c.value=k.apply(this,arguments)},l=k.name||"Function wrapped with `once`";return c.onceError=l+" shouldn't be called more than once",c.called=!1,c}},21137:(a,V,E)=>{"use strict";var R=E(87568);V.certificate=E(36413);var P=R.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});V.RSAPrivateKey=P;var N=R.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});V.RSAPublicKey=N;var k=R.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});V.PublicKey=k;var c=R.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=R.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});V.PrivateKey=l;var h=R.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});V.EncryptedPrivateKey=h;var p=R.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});V.DSAPrivateKey=p,V.DSAparam=R.define("DSAparam",function(){this.int()});var _=R.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())});V.ECPrivateKey=_;var b=R.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});V.signature=R.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},36413:(a,V,E)=>{"use strict";var R=E(87568),P=R.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),N=R.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),k=R.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=R.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(k),this.key("subjectPublicKey").bitstr())}),l=R.define("RelativeDistinguishedName",function(){this.setof(N)}),h=R.define("RDNSequence",function(){this.seqof(l)}),p=R.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),_=R.define("Validity",function(){this.seq().obj(this.key("notBefore").use(P),this.key("notAfter").use(P))}),b=R.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),u=R.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(k),this.key("issuer").use(p),this.key("validity").use(_),this.key("subject").use(p),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())}),f=R.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(k),this.key("signatureValue").bitstr())});a.exports=f},24101:(a,V,E)=>{var R=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,P=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,N=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,k=E(68078),c=E(1241),l=E(92861).Buffer;a.exports=function(h,p){var _=h.toString(),b=_.match(R),u;if(b){var m="aes"+b[1],g=l.from(b[2],"hex"),v=l.from(b[3].replace(/[\r\n]/g,""),"base64"),T=k(p,g.slice(0,8),parseInt(b[1],10)).key,S=[],x=c.createDecipheriv(m,T,g);S.push(x.update(v)),S.push(x.final()),u=l.concat(S)}else{var f=_.match(N);u=l.from(f[2].replace(/[\r\n]/g,""),"base64")}var D=_.match(P)[1];return{tag:D,data:u}}},78170:(a,V,E)=>{var R=E(21137),P=E(15579),N=E(24101),k=E(1241),c=E(78396),l=E(92861).Buffer;a.exports=h;function h(_){var b;typeof _=="object"&&!l.isBuffer(_)&&(b=_.passphrase,_=_.key),typeof _=="string"&&(_=l.from(_));var u=N(_,b),f=u.tag,m=u.data,g,v;switch(f){case"CERTIFICATE":v=R.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=R.PublicKey.decode(m,"der")),g=v.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return R.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=R.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=R.EncryptedPrivateKey.decode(m,"der"),m=p(m,b);case"PRIVATE KEY":switch(v=R.PrivateKey.decode(m,"der"),g=v.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return R.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:R.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=R.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return R.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return R.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:R.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return m=R.ECPrivateKey.decode(m,"der"),{curve:m.parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+f)}}h.signature=R.signature;function p(_,b){var u=_.algorithm.decrypt.kde.kdeparams.salt,f=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),m=P[_.algorithm.decrypt.cipher.algo.join(".")],g=_.algorithm.decrypt.cipher.iv,v=_.subjectPrivateKey,T=parseInt(m.split("-")[1],10)/8,S=c.pbkdf2Sync(b,u,f,T,"sha1"),x=k.createDecipheriv(m,S,g),D=[];return D.push(x.update(v)),D.push(x.final()),l.concat(D)}},57975:(a,V,E)=>{"use strict";var R=E(65606);function P(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function N(l,h){for(var p="",_=0,b=-1,u=0,f,m=0;m<=l.length;++m){if(m<l.length)f=l.charCodeAt(m);else{if(f===47)break;f=47}if(f===47){if(!(b===m-1||u===1))if(b!==m-1&&u===2){if(p.length<2||_!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var g=p.lastIndexOf("/");if(g!==p.length-1){g===-1?(p="",_=0):(p=p.slice(0,g),_=p.length-1-p.lastIndexOf("/")),b=m,u=0;continue}}else if(p.length===2||p.length===1){p="",_=0,b=m,u=0;continue}}h&&(p.length>0?p+="/..":p="..",_=2)}else p.length>0?p+="/"+l.slice(b+1,m):p=l.slice(b+1,m),_=m-b-1;b=m,u=0}else f===46&&u!==-1?++u:u=-1}return p}function k(l,h){var p=h.dir||h.root,_=h.base||(h.name||"")+(h.ext||"");return p?p===h.root?p+_:p+l+_:_}var c={resolve:function(){for(var h="",p=!1,_,b=arguments.length-1;b>=-1&&!p;b--){var u;b>=0?u=arguments[b]:(_===void 0&&(_=R.cwd()),u=_),P(u),u.length!==0&&(h=u+"/"+h,p=u.charCodeAt(0)===47)}return h=N(h,!p),p?h.length>0?"/"+h:"/":h.length>0?h:"."},normalize:function(h){if(P(h),h.length===0)return".";var p=h.charCodeAt(0)===47,_=h.charCodeAt(h.length-1)===47;return h=N(h,!p),h.length===0&&!p&&(h="."),h.length>0&&_&&(h+="/"),p?"/"+h:h},isAbsolute:function(h){return P(h),h.length>0&&h.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var h,p=0;p<arguments.length;++p){var _=arguments[p];P(_),_.length>0&&(h===void 0?h=_:h+="/"+_)}return h===void 0?".":c.normalize(h)},relative:function(h,p){if(P(h),P(p),h===p||(h=c.resolve(h),p=c.resolve(p),h===p))return"";for(var _=1;_<h.length&&h.charCodeAt(_)===47;++_);for(var b=h.length,u=b-_,f=1;f<p.length&&p.charCodeAt(f)===47;++f);for(var m=p.length,g=m-f,v=u<g?u:g,T=-1,S=0;S<=v;++S){if(S===v){if(g>v){if(p.charCodeAt(f+S)===47)return p.slice(f+S+1);if(S===0)return p.slice(f+S)}else u>v&&(h.charCodeAt(_+S)===47?T=S:S===0&&(T=0));break}var x=h.charCodeAt(_+S),D=p.charCodeAt(f+S);if(x!==D)break;x===47&&(T=S)}var z="";for(S=_+T+1;S<=b;++S)(S===b||h.charCodeAt(S)===47)&&(z.length===0?z+="..":z+="/..");return z.length>0?z+p.slice(f+T):(f+=T,p.charCodeAt(f)===47&&++f,p.slice(f))},_makeLong:function(h){return h},dirname:function(h){if(P(h),h.length===0)return".";for(var p=h.charCodeAt(0),_=p===47,b=-1,u=!0,f=h.length-1;f>=1;--f)if(p=h.charCodeAt(f),p===47){if(!u){b=f;break}}else u=!1;return b===-1?_?"/":".":_&&b===1?"//":h.slice(0,b)},basename:function(h,p){if(p!==void 0&&typeof p!="string")throw new TypeError('"ext" argument must be a string');P(h);var _=0,b=-1,u=!0,f;if(p!==void 0&&p.length>0&&p.length<=h.length){if(p.length===h.length&&p===h)return"";var m=p.length-1,g=-1;for(f=h.length-1;f>=0;--f){var v=h.charCodeAt(f);if(v===47){if(!u){_=f+1;break}}else g===-1&&(u=!1,g=f+1),m>=0&&(v===p.charCodeAt(m)?--m==-1&&(b=f):(m=-1,b=g))}return _===b?b=g:b===-1&&(b=h.length),h.slice(_,b)}else{for(f=h.length-1;f>=0;--f)if(h.charCodeAt(f)===47){if(!u){_=f+1;break}}else b===-1&&(u=!1,b=f+1);return b===-1?"":h.slice(_,b)}},extname:function(h){P(h);for(var p=-1,_=0,b=-1,u=!0,f=0,m=h.length-1;m>=0;--m){var g=h.charCodeAt(m);if(g===47){if(!u){_=m+1;break}continue}b===-1&&(u=!1,b=m+1),g===46?p===-1?p=m:f!==1&&(f=1):p!==-1&&(f=-1)}return p===-1||b===-1||f===0||f===1&&p===b-1&&p===_+1?"":h.slice(p,b)},format:function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return k("/",h)},parse:function(h){P(h);var p={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return p;var _=h.charCodeAt(0),b=_===47,u;b?(p.root="/",u=1):u=0;for(var f=-1,m=0,g=-1,v=!0,T=h.length-1,S=0;T>=u;--T){if(_=h.charCodeAt(T),_===47){if(!v){m=T+1;break}continue}g===-1&&(v=!1,g=T+1),_===46?f===-1?f=T:S!==1&&(S=1):f!==-1&&(S=-1)}return f===-1||g===-1||S===0||S===1&&f===g-1&&f===m+1?g!==-1&&(m===0&&b?p.base=p.name=h.slice(1,g):p.base=p.name=h.slice(m,g)):(m===0&&b?(p.name=h.slice(1,f),p.base=h.slice(1,g)):(p.name=h.slice(m,f),p.base=h.slice(m,g)),p.ext=h.slice(f,g)),m>0?p.dir=h.slice(0,m-1):b&&(p.dir="/"),p},sep:"/",delimiter:":",win32:null,posix:null};c.posix=c,a.exports=c},78396:(a,V,E)=>{V.pbkdf2=E(43832),V.pbkdf2Sync=E(21352)},43832:(a,V,E)=>{var R=E(92861).Buffer,P=E(64196),N=E(2455),k=E(21352),c=E(93382),l,h=E.g.crypto&&E.g.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},_=[];function b(v){if(E.g.process&&!E.g.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(_[v]!==void 0)return _[v];l=l||R.alloc(8);var T=m(l,l,10,128,v).then(function(){return!0}).catch(function(){return!1});return _[v]=T,T}var u;function f(){return u||(E.g.process&&E.g.process.nextTick?u=E.g.process.nextTick:E.g.queueMicrotask?u=E.g.queueMicrotask:E.g.setImmediate?u=E.g.setImmediate:u=E.g.setTimeout,u)}function m(v,T,S,x,D){return h.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then(function(z){return h.deriveBits({name:"PBKDF2",salt:T,iterations:S,hash:{name:D}},z,x<<3)}).then(function(z){return R.from(z)})}function g(v,T){v.then(function(S){f()(function(){T(null,S)})},function(S){f()(function(){T(S)})})}a.exports=function(v,T,S,x,D,z){typeof D=="function"&&(z=D,D=void 0),D=D||"sha1";var q=p[D.toLowerCase()];if(!q||typeof E.g.Promise!="function"){f()(function(){var H;try{H=k(v,T,S,x,D)}catch(j){return z(j)}z(null,H)});return}if(P(S,x),v=c(v,N,"Password"),T=c(T,N,"Salt"),typeof z!="function")throw new Error("No callback provided to pbkdf2");g(b(q).then(function(H){return H?m(v,T,S,x,q):k(v,T,S,x,D)}),z)}},2455:(a,V,E)=>{var R=E(65606),P;if(E.g.process&&E.g.process.browser)P="utf-8";else if(E.g.process&&E.g.process.version){var N=parseInt(R.version.split(".")[0].slice(1),10);P=N>=6?"utf-8":"binary"}else P="utf-8";a.exports=P},64196:a=>{var V=Math.pow(2,30)-1;a.exports=function(E,R){if(typeof E!="number")throw new TypeError("Iterations not a number");if(E<0)throw new TypeError("Bad iterations");if(typeof R!="number")throw new TypeError("Key length not a number");if(R<0||R>V||R!==R)throw new TypeError("Bad key length")}},21352:(a,V,E)=>{var R=E(20320),P=E(66011),N=E(62802),k=E(92861).Buffer,c=E(64196),l=E(2455),h=E(93382),p=k.alloc(128),_={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function b(m,g,v){var T=u(m),S=m==="sha512"||m==="sha384"?128:64;g.length>S?g=T(g):g.length<S&&(g=k.concat([g,p],S));for(var x=k.allocUnsafe(S+_[m]),D=k.allocUnsafe(S+_[m]),z=0;z<S;z++)x[z]=g[z]^54,D[z]=g[z]^92;var q=k.allocUnsafe(S+v+4);x.copy(q,0,0,S),this.ipad1=q,this.ipad2=x,this.opad=D,this.alg=m,this.blocksize=S,this.hash=T,this.size=_[m]}b.prototype.run=function(m,g){m.copy(g,this.blocksize);var v=this.hash(g);return v.copy(this.opad,this.blocksize),this.hash(this.opad)};function u(m){function g(T){return N(m).update(T).digest()}function v(T){return new P().update(T).digest()}return m==="rmd160"||m==="ripemd160"?v:m==="md5"?R:g}function f(m,g,v,T,S){c(v,T),m=h(m,l,"Password"),g=h(g,l,"Salt"),S=S||"sha1";var x=new b(S,m,g.length),D=k.allocUnsafe(T),z=k.allocUnsafe(g.length+4);g.copy(z,0,0,g.length);for(var q=0,H=_[S],j=Math.ceil(T/H),K=1;K<=j;K++){z.writeUInt32BE(K,g.length);for(var Y=x.run(z,x.ipad1),ne=Y,X=1;X<v;X++){ne=x.run(ne,x.ipad2);for(var M=0;M<H;M++)Y[M]^=ne[M]}Y.copy(D,q),q+=H}return D}a.exports=f},93382:(a,V,E)=>{var R=E(92861).Buffer;a.exports=function(P,N,k){if(R.isBuffer(P))return P;if(typeof P=="string")return R.from(P,N);if(ArrayBuffer.isView(P))return R.from(P.buffer);throw new TypeError(k+" must be a string, a Buffer, a typed array or a DataView")}},65606:a=>{var V=a.exports={},E,R;function P(){throw new Error("setTimeout has not been defined")}function N(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?E=setTimeout:E=P}catch(g){E=P}try{typeof clearTimeout=="function"?R=clearTimeout:R=N}catch(g){R=N}})();function k(g){if(E===setTimeout)return setTimeout(g,0);if((E===P||!E)&&setTimeout)return E=setTimeout,setTimeout(g,0);try{return E(g,0)}catch(v){try{return E.call(null,g,0)}catch(T){return E.call(this,g,0)}}}function c(g){if(R===clearTimeout)return clearTimeout(g);if((R===N||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(g);try{return R(g)}catch(v){try{return R.call(null,g)}catch(T){return R.call(this,g)}}}var l=[],h=!1,p,_=-1;function b(){!h||!p||(h=!1,p.length?l=p.concat(l):_=-1,l.length&&u())}function u(){if(!h){var g=k(b);h=!0;for(var v=l.length;v;){for(p=l,l=[];++_<v;)p&&p[_].run();_=-1,v=l.length}p=null,h=!1,c(g)}}V.nextTick=function(g){var v=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)v[T-1]=arguments[T];l.push(new f(g,v)),l.length===1&&!h&&k(u)};function f(g,v){this.fun=g,this.array=v}f.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function m(){}V.on=m,V.addListener=m,V.once=m,V.off=m,V.removeListener=m,V.removeAllListeners=m,V.emit=m,V.prependListener=m,V.prependOnceListener=m,V.listeners=function(g){return[]},V.binding=function(g){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(g){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},97168:(a,V,E)=>{V.publicEncrypt=E(28902),V.privateDecrypt=E(77362),V.privateEncrypt=function(P,N){return V.publicEncrypt(P,N,!0)},V.publicDecrypt=function(P,N){return V.privateDecrypt(P,N,!0)}},48206:(a,V,E)=>{var R=E(47108),P=E(92861).Buffer;a.exports=function(k,c){for(var l=P.alloc(0),h=0,p;l.length<c;)p=N(h++),l=P.concat([l,R("sha1").update(k).update(p).digest()]);return l.slice(0,c)};function N(k){var c=P.allocUnsafe(4);return c.writeUInt32BE(k,0),c}},77362:(a,V,E)=>{var R=E(78170),P=E(48206),N=E(52061),k=E(39404),c=E(67332),l=E(47108),h=E(99247),p=E(92861).Buffer;a.exports=function(m,g,v){var T;m.padding?T=m.padding:v?T=1:T=4;var S=R(m),x=S.modulus.byteLength();if(g.length>x||new k(g).cmp(S.modulus)>=0)throw new Error("decryption error");var D;v?D=h(new k(g),S):D=c(g,S);var z=p.alloc(x-D.length);if(D=p.concat([z,D],x),T===4)return _(S,D);if(T===1)return b(S,D,v);if(T===3)return D;throw new Error("unknown padding")};function _(f,m){var g=f.modulus.byteLength(),v=l("sha1").update(p.alloc(0)).digest(),T=v.length;if(m[0]!==0)throw new Error("decryption error");var S=m.slice(1,T+1),x=m.slice(T+1),D=N(S,P(x,T)),z=N(x,P(D,g-T-1));if(u(v,z.slice(0,T)))throw new Error("decryption error");for(var q=T;z[q]===0;)q++;if(z[q++]!==1)throw new Error("decryption error");return z.slice(q)}function b(f,m,g){for(var v=m.slice(0,2),T=2,S=0;m[T++]!==0;)if(T>=m.length){S++;break}var x=m.slice(2,T-1);if((v.toString("hex")!=="0002"&&!g||v.toString("hex")!=="0001"&&g)&&S++,x.length<8&&S++,S)throw new Error("decryption error");return m.slice(T)}function u(f,m){f=p.from(f),m=p.from(m);var g=0,v=f.length;f.length!==m.length&&(g++,v=Math.min(f.length,m.length));for(var T=-1;++T<v;)g+=f[T]^m[T];return g}},28902:(a,V,E)=>{var R=E(78170),P=E(53209),N=E(47108),k=E(48206),c=E(52061),l=E(39404),h=E(99247),p=E(67332),_=E(92861).Buffer;a.exports=function(g,v,T){var S;g.padding?S=g.padding:T?S=1:S=4;var x=R(g),D;if(S===4)D=b(x,v);else if(S===1)D=u(x,v,T);else if(S===3){if(D=new l(v),D.cmp(x.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return T?p(D,x):h(D,x)};function b(m,g){var v=m.modulus.byteLength(),T=g.length,S=N("sha1").update(_.alloc(0)).digest(),x=S.length,D=2*x;if(T>v-D-2)throw new Error("message too long");var z=_.alloc(v-T-D-2),q=v-x-1,H=P(x),j=c(_.concat([S,z,_.alloc(1,1),g],q),k(H,q)),K=c(H,k(j,x));return new l(_.concat([_.alloc(1),K,j],v))}function u(m,g,v){var T=g.length,S=m.modulus.byteLength();if(T>S-11)throw new Error("message too long");var x;return v?x=_.alloc(S-T-3,255):x=f(S-T-3),new l(_.concat([_.from([0,v?1:2]),x,_.alloc(1),g],S))}function f(m){for(var g=_.allocUnsafe(m),v=0,T=P(m*2),S=0,x;v<m;)S===T.length&&(T=P(m*2),S=0),x=T[S++],x&&(g[v++]=x);return g}},99247:(a,V,E)=>{var R=E(39404),P=E(92861).Buffer;function N(k,c){return P.from(k.toRed(R.mont(c.modulus)).redPow(new R(c.publicExponent)).fromRed().toArray())}a.exports=N},52061:a=>{a.exports=function(E,R){for(var P=E.length,N=-1;++N<P;)E[N]^=R[N];return E}},53209:(a,V,E)=>{"use strict";var R=E(65606),P=65536,N=4294967295;function k(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var c=E(92861).Buffer,l=E.g.crypto||E.g.msCrypto;l&&l.getRandomValues?a.exports=h:a.exports=k;function h(p,_){if(p>N)throw new RangeError("requested too many random bytes");var b=c.allocUnsafe(p);if(p>0)if(p>P)for(var u=0;u<p;u+=P)l.getRandomValues(b.slice(u,u+P));else l.getRandomValues(b);return typeof _=="function"?R.nextTick(function(){_(null,b)}):b}},76983:(a,V,E)=>{"use strict";var R=E(65606);function P(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var N=E(92861),k=E(53209),c=N.Buffer,l=N.kMaxLength,h=E.g.crypto||E.g.msCrypto,p=Math.pow(2,32)-1;function _(g,v){if(typeof g!="number"||g!==g)throw new TypeError("offset must be a number");if(g>p||g<0)throw new TypeError("offset must be a uint32");if(g>l||g>v)throw new RangeError("offset out of range")}function b(g,v,T){if(typeof g!="number"||g!==g)throw new TypeError("size must be a number");if(g>p||g<0)throw new TypeError("size must be a uint32");if(g+v>T||g>l)throw new RangeError("buffer too small")}h&&h.getRandomValues||!R.browser?(V.randomFill=u,V.randomFillSync=m):(V.randomFill=P,V.randomFillSync=P);function u(g,v,T,S){if(!c.isBuffer(g)&&!(g instanceof E.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")S=v,v=0,T=g.length;else if(typeof T=="function")S=T,T=g.length-v;else if(typeof S!="function")throw new TypeError('"cb" argument must be a function');return _(v,g.length),b(T,v,g.length),f(g,v,T,S)}function f(g,v,T,S){if(R.browser){var x=g.buffer,D=new Uint8Array(x,v,T);if(h.getRandomValues(D),S){R.nextTick(function(){S(null,g)});return}return g}if(S){k(T,function(q,H){if(q)return S(q);H.copy(g,v),S(null,g)});return}var z=k(T);return z.copy(g,v),g}function m(g,v,T){if(typeof v=="undefined"&&(v=0),!c.isBuffer(g)&&!(g instanceof E.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return _(v,g.length),T===void 0&&(T=g.length-v),b(T,v,g.length),f(g,v,T)}},66011:(a,V,E)=>{"use strict";var R=E(48287).Buffer,P=E(56698),N=E(4729),k=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function u(){N.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}P(u,N),u.prototype._update=function(){for(var x=k,D=0;D<16;++D)x[D]=this._block.readInt32LE(D*4);for(var z=this._a|0,q=this._b|0,H=this._c|0,j=this._d|0,K=this._e|0,Y=this._a|0,ne=this._b|0,X=this._c|0,M=this._d|0,G=this._e|0,C=0;C<80;C+=1){var o,w;C<16?(o=m(z,q,H,j,K,x[c[C]],_[0],h[C]),w=S(Y,ne,X,M,G,x[l[C]],b[0],p[C])):C<32?(o=g(z,q,H,j,K,x[c[C]],_[1],h[C]),w=T(Y,ne,X,M,G,x[l[C]],b[1],p[C])):C<48?(o=v(z,q,H,j,K,x[c[C]],_[2],h[C]),w=v(Y,ne,X,M,G,x[l[C]],b[2],p[C])):C<64?(o=T(z,q,H,j,K,x[c[C]],_[3],h[C]),w=g(Y,ne,X,M,G,x[l[C]],b[3],p[C])):(o=S(z,q,H,j,K,x[c[C]],_[4],h[C]),w=m(Y,ne,X,M,G,x[l[C]],b[4],p[C])),z=K,K=j,j=f(H,10),H=q,q=o,Y=G,G=M,M=f(X,10),X=ne,ne=w}var A=this._b+H+M|0;this._b=this._c+j+G|0,this._c=this._d+K+Y|0,this._d=this._e+z+ne|0,this._e=this._a+q+X|0,this._a=A},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=R.alloc?R.alloc(20):new R(20);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x.writeInt32LE(this._e,16),x};function f(x,D){return x<<D|x>>>32-D}function m(x,D,z,q,H,j,K,Y){return f(x+(D^z^q)+j+K|0,Y)+H|0}function g(x,D,z,q,H,j,K,Y){return f(x+(D&z|~D&q)+j+K|0,Y)+H|0}function v(x,D,z,q,H,j,K,Y){return f(x+((D|~z)^q)+j+K|0,Y)+H|0}function T(x,D,z,q,H,j,K,Y){return f(x+(D&q|z&~q)+j+K|0,Y)+H|0}function S(x,D,z,q,H,j,K,Y){return f(x+(D^(z|~q))+j+K|0,Y)+H|0}a.exports=u},92861:(a,V,E)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var R=E(48287),P=R.Buffer;function N(c,l){for(var h in c)l[h]=c[h]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?a.exports=R:(N(R,V),V.Buffer=k);function k(c,l,h){return P(c,l,h)}k.prototype=Object.create(P.prototype),N(P,k),k.from=function(c,l,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return P(c,l,h)},k.alloc=function(c,l,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var p=P(c);return l!==void 0?typeof h=="string"?p.fill(l,h):p.fill(l):p.fill(0),p},k.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return P(c)},k.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return R.SlowBuffer(c)}},54774:(a,V,E)=>{"use strict";var R=E(65606),P=E(48287),N=P.Buffer,k={},c;for(c in P)!P.hasOwnProperty(c)||c==="SlowBuffer"||c==="Buffer"||(k[c]=P[c]);var l=k.Buffer={};for(c in N)!N.hasOwnProperty(c)||c==="allocUnsafe"||c==="allocUnsafeSlow"||(l[c]=N[c]);if(k.Buffer.prototype=N.prototype,(!l.from||l.from===Uint8Array.from)&&(l.from=function(h,p,_){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&typeof h.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return N(h,p,_)}),l.alloc||(l.alloc=function(h,p,_){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var b=N(h);return!p||p.length===0?b.fill(0):typeof _=="string"?b.fill(p,_):b.fill(p),b}),!k.kStringMaxLength)try{k.kStringMaxLength=R.binding("buffer").kStringMaxLength}catch(h){}k.constants||(k.constants={MAX_LENGTH:k.kMaxLength},k.kStringMaxLength&&(k.constants.MAX_STRING_LENGTH=k.kStringMaxLength)),a.exports=k},90392:(a,V,E)=>{var R=E(92861).Buffer;function P(N,k){this._block=R.alloc(N),this._finalSize=k,this._blockSize=N,this._len=0}P.prototype.update=function(N,k){typeof N=="string"&&(k=k||"utf8",N=R.from(N,k));for(var c=this._block,l=this._blockSize,h=N.length,p=this._len,_=0;_<h;){for(var b=p%l,u=Math.min(h-_,l-b),f=0;f<u;f++)c[b+f]=N[_+f];p+=u,_+=u,p%l==0&&this._update(c)}return this._len+=h,this},P.prototype.digest=function(N){var k=this._len%this._blockSize;this._block[k]=128,this._block.fill(0,k+1),k>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=this._len*8;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var l=(c&4294967295)>>>0,h=(c-l)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var p=this._hash();return N?p.toString(N):p},P.prototype._update=function(){throw new Error("_update must be implemented by subclass")},a.exports=P},62802:(a,V,E)=>{var R=a.exports=function(N){N=N.toLowerCase();var k=R[N];if(!k)throw new Error(N+" is not supported (we accept pull requests)");return new k};R.sha=E(27816),R.sha1=E(63737),R.sha224=E(26710),R.sha256=E(24107),R.sha384=E(32827),R.sha512=E(82890)},27816:(a,V,E)=>{var R=E(56698),P=E(90392),N=E(92861).Buffer,k=[1518500249,1859775393,2400959708|0,3395469782|0],c=new Array(80);function l(){this.init(),this._w=c,P.call(this,64,56)}R(l,P),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function h(b){return b<<5|b>>>27}function p(b){return b<<30|b>>>2}function _(b,u,f,m){return b===0?u&f|~u&m:b===2?u&f|u&m|f&m:u^f^m}l.prototype._update=function(b){for(var u=this._w,f=this._a|0,m=this._b|0,g=this._c|0,v=this._d|0,T=this._e|0,S=0;S<16;++S)u[S]=b.readInt32BE(S*4);for(;S<80;++S)u[S]=u[S-3]^u[S-8]^u[S-14]^u[S-16];for(var x=0;x<80;++x){var D=~~(x/20),z=h(f)+_(D,m,g,v)+T+u[x]+k[D]|0;T=v,v=g,g=p(m),m=f,f=z}this._a=f+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=v+this._d|0,this._e=T+this._e|0},l.prototype._hash=function(){var b=N.allocUnsafe(20);return b.writeInt32BE(this._a|0,0),b.writeInt32BE(this._b|0,4),b.writeInt32BE(this._c|0,8),b.writeInt32BE(this._d|0,12),b.writeInt32BE(this._e|0,16),b},a.exports=l},63737:(a,V,E)=>{var R=E(56698),P=E(90392),N=E(92861).Buffer,k=[1518500249,1859775393,2400959708|0,3395469782|0],c=new Array(80);function l(){this.init(),this._w=c,P.call(this,64,56)}R(l,P),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function h(u){return u<<1|u>>>31}function p(u){return u<<5|u>>>27}function _(u){return u<<30|u>>>2}function b(u,f,m,g){return u===0?f&m|~f&g:u===2?f&m|f&g|m&g:f^m^g}l.prototype._update=function(u){for(var f=this._w,m=this._a|0,g=this._b|0,v=this._c|0,T=this._d|0,S=this._e|0,x=0;x<16;++x)f[x]=u.readInt32BE(x*4);for(;x<80;++x)f[x]=h(f[x-3]^f[x-8]^f[x-14]^f[x-16]);for(var D=0;D<80;++D){var z=~~(D/20),q=p(m)+b(z,g,v,T)+S+f[D]+k[z]|0;S=T,T=v,v=_(g),g=m,m=q}this._a=m+this._a|0,this._b=g+this._b|0,this._c=v+this._c|0,this._d=T+this._d|0,this._e=S+this._e|0},l.prototype._hash=function(){var u=N.allocUnsafe(20);return u.writeInt32BE(this._a|0,0),u.writeInt32BE(this._b|0,4),u.writeInt32BE(this._c|0,8),u.writeInt32BE(this._d|0,12),u.writeInt32BE(this._e|0,16),u},a.exports=l},26710:(a,V,E)=>{var R=E(56698),P=E(24107),N=E(90392),k=E(92861).Buffer,c=new Array(64);function l(){this.init(),this._w=c,N.call(this,64,56)}R(l,P),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var h=k.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},a.exports=l},24107:(a,V,E)=>{var R=E(56698),P=E(90392),N=E(92861).Buffer,k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function l(){this.init(),this._w=c,P.call(this,64,56)}R(l,P),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function h(m,g,v){return v^m&(g^v)}function p(m,g,v){return m&g|v&(m|g)}function _(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function b(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function u(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}function f(m){return(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10}l.prototype._update=function(m){for(var g=this._w,v=this._a|0,T=this._b|0,S=this._c|0,x=this._d|0,D=this._e|0,z=this._f|0,q=this._g|0,H=this._h|0,j=0;j<16;++j)g[j]=m.readInt32BE(j*4);for(;j<64;++j)g[j]=f(g[j-2])+g[j-7]+u(g[j-15])+g[j-16]|0;for(var K=0;K<64;++K){var Y=H+b(D)+h(D,z,q)+k[K]+g[K]|0,ne=_(v)+p(v,T,S)|0;H=q,q=z,z=D,D=x+Y|0,x=S,S=T,T=v,v=Y+ne|0}this._a=v+this._a|0,this._b=T+this._b|0,this._c=S+this._c|0,this._d=x+this._d|0,this._e=D+this._e|0,this._f=z+this._f|0,this._g=q+this._g|0,this._h=H+this._h|0},l.prototype._hash=function(){var m=N.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},a.exports=l},32827:(a,V,E)=>{var R=E(56698),P=E(82890),N=E(90392),k=E(92861).Buffer,c=new Array(160);function l(){this.init(),this._w=c,N.call(this,128,112)}R(l,P),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var h=k.allocUnsafe(48);function p(_,b,u){h.writeInt32BE(_,u),h.writeInt32BE(b,u+4)}return p(this._ah,this._al,0),p(this._bh,this._bl,8),p(this._ch,this._cl,16),p(this._dh,this._dl,24),p(this._eh,this._el,32),p(this._fh,this._fl,40),h},a.exports=l},82890:(a,V,E)=>{var R=E(56698),P=E(90392),N=E(92861).Buffer,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function l(){this.init(),this._w=c,P.call(this,128,112)}R(l,P),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function h(T,S,x){return x^T&(S^x)}function p(T,S,x){return T&S|x&(T|S)}function _(T,S){return(T>>>28|S<<4)^(S>>>2|T<<30)^(S>>>7|T<<25)}function b(T,S){return(T>>>14|S<<18)^(T>>>18|S<<14)^(S>>>9|T<<23)}function u(T,S){return(T>>>1|S<<31)^(T>>>8|S<<24)^T>>>7}function f(T,S){return(T>>>1|S<<31)^(T>>>8|S<<24)^(T>>>7|S<<25)}function m(T,S){return(T>>>19|S<<13)^(S>>>29|T<<3)^T>>>6}function g(T,S){return(T>>>19|S<<13)^(S>>>29|T<<3)^(T>>>6|S<<26)}function v(T,S){return T>>>0<S>>>0?1:0}l.prototype._update=function(T){for(var S=this._w,x=this._ah|0,D=this._bh|0,z=this._ch|0,q=this._dh|0,H=this._eh|0,j=this._fh|0,K=this._gh|0,Y=this._hh|0,ne=this._al|0,X=this._bl|0,M=this._cl|0,G=this._dl|0,C=this._el|0,o=this._fl|0,w=this._gl|0,A=this._hl|0,U=0;U<32;U+=2)S[U]=T.readInt32BE(U*4),S[U+1]=T.readInt32BE(U*4+4);for(;U<160;U+=2){var $=S[U-15*2],B=S[U-15*2+1],Z=u($,B),te=f(B,$);$=S[U-2*2],B=S[U-2*2+1];var L=m($,B),re=g(B,$),Le=S[U-7*2],_e=S[U-7*2+1],Ce=S[U-16*2],Me=S[U-16*2+1],J=te+_e|0,ee=Z+Le+v(J,te)|0;J=J+re|0,ee=ee+L+v(J,re)|0,J=J+Me|0,ee=ee+Ce+v(J,Me)|0,S[U]=ee,S[U+1]=J}for(var ce=0;ce<160;ce+=2){ee=S[ce],J=S[ce+1];var me=p(x,D,z),Se=p(ne,X,M),O=_(x,ne),I=_(ne,x),se=b(H,C),ve=b(C,H),we=k[ce],ge=k[ce+1],xe=h(H,j,K),Ge=h(C,o,w),ze=A+ve|0,Et=Y+se+v(ze,A)|0;ze=ze+Ge|0,Et=Et+xe+v(ze,Ge)|0,ze=ze+ge|0,Et=Et+we+v(ze,ge)|0,ze=ze+J|0,Et=Et+ee+v(ze,J)|0;var tt=I+Se|0,at=O+me+v(tt,I)|0;Y=K,A=w,K=j,w=o,j=H,o=C,C=G+ze|0,H=q+Et+v(C,G)|0,q=z,G=M,z=D,M=X,D=x,X=ne,ne=ze+tt|0,x=Et+at+v(ne,ze)|0}this._al=this._al+ne|0,this._bl=this._bl+X|0,this._cl=this._cl+M|0,this._dl=this._dl+G|0,this._el=this._el+C|0,this._fl=this._fl+o|0,this._gl=this._gl+w|0,this._hl=this._hl+A|0,this._ah=this._ah+x+v(this._al,ne)|0,this._bh=this._bh+D+v(this._bl,X)|0,this._ch=this._ch+z+v(this._cl,M)|0,this._dh=this._dh+q+v(this._dl,G)|0,this._eh=this._eh+H+v(this._el,C)|0,this._fh=this._fh+j+v(this._fl,o)|0,this._gh=this._gh+K+v(this._gl,w)|0,this._hh=this._hh+Y+v(this._hl,A)|0},l.prototype._hash=function(){var T=N.allocUnsafe(64);function S(x,D,z){T.writeInt32BE(x,z),T.writeInt32BE(D,z+4)}return S(this._ah,this._al,0),S(this._bh,this._bl,8),S(this._ch,this._cl,16),S(this._dh,this._dl,24),S(this._eh,this._el,32),S(this._fh,this._fl,40),S(this._gh,this._gl,48),S(this._hh,this._hl,56),T},a.exports=l},1182:(a,V,E)=>{"use strict";const R=E(38601),P=/\s/,N=/\r|\n/,k=/^(Host|Match)$/i,c=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,l=/^(?:CertificateFile|IdentityFile|User)$/i,h=/^(Include|IdentityFile)$/i,p=1,_=2,b=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function u(g,v){return v.hasOwnProperty(g.param)&&v[g.param]===g.value}function f(g){for(const v of g)if(k.test(v.param)){for(const T of v.config)if(T.before)return T.before}return"  "}class m extends Array{compute(v){const T={},S=(x,D)=>{b.includes(x)?(T[x]||(T[x]=[])).push(D):T[x]==null&&(T[x]=D)};for(const x of this)x.type===p&&(x.param==="Host"?R(x.value,v)&&(S(x.param,x.value),x.config.filter(D=>D.type===p).forEach(D=>S(D.param,D.value))):x.param==="Match"||S(x.param,x.value));return T}find(v={}){if(typeof v=="function")return super.find(v);if(!(v&&("Host"in v||"Match"in v)))throw new Error("Can only find by Host or Match");return super.find(T=>u(T,v))}remove(v={}){if(!(v&&("Host"in v||"Match"in v)))throw new Error("Can only remove by Host or Match");const T=typeof v=="function"?super.findIndex(v):super.findIndex(S=>u(S,v));if(T>=0)return this.splice(T,1)}toString(){return this.constructor.stringify(this)}append(v){const T=f(this),S=this.length>0?this[this.length-1]:null;let x=S&&S.config||this,D=this,z=x.length>0?x[x.length-1]:S;z&&!z.after&&(z.after=`
`);for(const q in v){const H={type:p,param:q,separator:" ",value:v[q],before:"",after:`
`};k.test(q)?(x=D,z&&z.after===`
`&&(z.after+=`
`),x.push(H),x=H.config=new m):(H.before=x===D?"":T,x.push(H)),z=H}return D}prepend(v,T=!1){const S=f(this);let x=this,D=0;if(T){for(;D<this.length&&!k.test(this[D].param);)D+=1;if(D>=this.length)return this.append(v)}let z=!1,q=0;for(const H in v){q+=1;const j={type:p,param:H,separator:" ",value:v[H],before:"",after:`
`};if(k.test(H)){x.splice(D,0,j),x=j.config=new m,z=!0;continue}if(q===Object.keys(v).length&&(j.after+=`
`),!z){x.splice(D,0,j),D+=1,h.test(H)&&(j.after+=`
`);continue}j.before=S,x.push(j)}return x}static stringify(v){let T="";function S(z,q){return Array.isArray(z)?z.map(H=>S(H,P.test(H))).join(" "):q?`"${z}"`:z}function x(z){const q=z.quoted||l.test(z.param)&&P.test(z.value),H=S(z.value,q);return`${z.param}${z.separator}${H}`}const D=z=>{T+=z.before,z.type===_?T+=z.content:z.type===p&&b.includes(z.param)?[].concat(z.value).forEach(function(q,H,j){T+=x({...z,value:q}),H<j.length-1&&(T+=`
${z.before}`)}):z.type===p&&(T+=x(z)),T+=z.after,z.config&&z.config.forEach(D)};return v.forEach(D),T}static get DIRECTIVE(){return p}static get COMMENT(){return _}static parse(v){let T=0,S=z(),x=new m,D=x;function z(){return v[T++]}function q(){let C="";for(;P.test(S);)C+=S,S=z();return C}function H(){let C="";for(;N.test(S);)C+=S,S=z();return C}function j(){let C="";for(;S&&/[^ \t=]/.test(S);)C+=S,S=z();return C}function K(){let C=q();return S==="="&&(C+=S,S=z()),C+q()}function Y(){let C="",o=!1,w=!1;for(;S&&!N.test(S);)w?(C+=S==='"'?S:`\\${S}`,w=!1):S==='"'&&(!C||o)?o=!o:S==="\\"?w=!0:C+=S,S=z();if(o||w)throw new Error(`Unexpected line break at ${C}`);return C.trim()}function ne(){const C=_;let o="";for(;S&&!N.test(S);)o+=S,S=z();return{type:C,content:o}}function X(){const C=[];let o="",w=!1,A=!1;for(;S&&!N.test(S);)A?(o+=S==='"'?S:`\\${S}`,A=!1):S==='"'?w=!w:S==="\\"?A=!0:w?o+=S:/[ \t]/.test(S)?o&&(C.push(o),o=""):o+=S,S=z();if(w||A)throw new Error(`Unexpected line break at ${C.concat(o).join(" ")}`);return o&&C.push(o),C.length>1?C:C[0]}function M(){const C=p,o=j(),w=c.test(o),A={type:C,param:o,separator:K(),quoted:!w&&S==='"',value:w?X():Y()};return A.quoted||delete A.quoted,A}function G(){const C=q(),o=S==="#"?ne():M(),w=H();return o.before=C,o.after=w,o}for(;S;){let C=G();C.type===p&&k.test(C.param)?(x=D,x.push(C),x=C.config=new m):x.push(C)}return D}}a.exports=m},38601:a=>{"use strict";function V(P,N){for(let k of N)P=P.replace(new RegExp("\\"+k,"g"),"\\"+k);return P}function E(P,N){return P=V(P,"\\()[]{}.+^$|"),P=P.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+P+")$").test(N)}function R(P,N){const k=Array.isArray(P)?P:P.split(/,/);let c=!1;for(const l of k){if(l[0]=="!"&&E(l.slice(1),N))return!1;E(l,N)&&(c=!0)}return c}a.exports=R},88310:(a,V,E)=>{a.exports=N;var R=E(37007).EventEmitter,P=E(56698);P(N,R),N.Readable=E(46891),N.Writable=E(81999),N.Duplex=E(88101),N.Transform=E(59083),N.PassThrough=E(3681),N.finished=E(14257),N.pipeline=E(5267),N.Stream=N;function N(){R.call(this)}N.prototype.pipe=function(k,c){var l=this;function h(g){k.writable&&k.write(g)===!1&&l.pause&&l.pause()}l.on("data",h);function p(){l.readable&&l.resume&&l.resume()}k.on("drain",p),!k._isStdio&&(!c||c.end!==!1)&&(l.on("end",b),l.on("close",u));var _=!1;function b(){_||(_=!0,k.end())}function u(){_||(_=!0,typeof k.destroy=="function"&&k.destroy())}function f(g){if(m(),R.listenerCount(this,"error")===0)throw g}l.on("error",f),k.on("error",f);function m(){l.removeListener("data",h),k.removeListener("drain",p),l.removeListener("end",b),l.removeListener("close",u),l.removeListener("error",f),k.removeListener("error",f),l.removeListener("end",m),l.removeListener("close",m),k.removeListener("close",m)}return l.on("end",m),l.on("close",m),k.on("close",m),k.emit("pipe",l),k}},12463:a=>{"use strict";function V(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var E={};function R(l,h,p){p||(p=Error);function _(u,f,m){return typeof h=="string"?h:h(u,f,m)}var b=function(u){V(f,u);function f(m,g,v){return u.call(this,_(m,g,v))||this}return f}(p);b.prototype.name=p.name,b.prototype.code=l,E[l]=b}function P(l,h){if(Array.isArray(l)){var p=l.length;return l=l.map(function(_){return String(_)}),p>2?"one of ".concat(h," ").concat(l.slice(0,p-1).join(", "),", or ")+l[p-1]:p===2?"one of ".concat(h," ").concat(l[0]," or ").concat(l[1]):"of ".concat(h," ").concat(l[0])}else return"of ".concat(h," ").concat(String(l))}function N(l,h,p){return l.substr(!p||p<0?0:+p,h.length)===h}function k(l,h,p){return(p===void 0||p>l.length)&&(p=l.length),l.substring(p-h.length,p)===h}function c(l,h,p){return typeof p!="number"&&(p=0),p+h.length>l.length?!1:l.indexOf(h,p)!==-1}R("ERR_INVALID_OPT_VALUE",function(l,h){return'The value "'+h+'" is invalid for option "'+l+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(l,h,p){var _;typeof h=="string"&&N(h,"not ")?(_="must not be",h=h.replace(/^not /,"")):_="must be";var b;if(k(l," argument"))b="The ".concat(l," ").concat(_," ").concat(P(h,"type"));else{var u=c(l,".")?"property":"argument";b='The "'.concat(l,'" ').concat(u," ").concat(_," ").concat(P(h,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.F=E},88101:(a,V,E)=>{"use strict";var R=E(65606),P=Object.keys||function(u){var f=[];for(var m in u)f.push(m);return f};a.exports=p;var N=E(46891),k=E(81999);E(56698)(p,N);for(var c=P(k.prototype),l=0;l<c.length;l++){var h=c[l];p.prototype[h]||(p.prototype[h]=k.prototype[h])}function p(u){if(!(this instanceof p))return new p(u);N.call(this,u),k.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||R.nextTick(b,this)}function b(u){u.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},3681:(a,V,E)=>{"use strict";a.exports=P;var R=E(59083);E(56698)(P,R);function P(N){if(!(this instanceof P))return new P(N);R.call(this,N)}P.prototype._transform=function(N,k,c){c(null,N)}},46891:(a,V,E)=>{"use strict";var R=E(65606);a.exports=M;var P;M.ReadableState=X;var N=E(37007).EventEmitter,k=function(I,se){return I.listeners(se).length},c=E(41396),l=E(48287).Buffer,h=E.g.Uint8Array||function(){};function p(O){return l.from(O)}function _(O){return l.isBuffer(O)||O instanceof h}var b=E(77199),u;b&&b.debuglog?u=b.debuglog("stream"):u=function(){};var f=E(81766),m=E(54347),g=E(66644),v=g.getHighWaterMark,T=E(12463).F,S=T.ERR_INVALID_ARG_TYPE,x=T.ERR_STREAM_PUSH_AFTER_EOF,D=T.ERR_METHOD_NOT_IMPLEMENTED,z=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,q,H,j;E(56698)(M,c);var K=m.errorOrDestroy,Y=["error","close","destroy","pause","resume"];function ne(O,I,se){if(typeof O.prependListener=="function")return O.prependListener(I,se);!O._events||!O._events[I]?O.on(I,se):Array.isArray(O._events[I])?O._events[I].unshift(se):O._events[I]=[se,O._events[I]]}function X(O,I,se){P=P||E(88101),O=O||{},typeof se!="boolean"&&(se=I instanceof P),this.objectMode=!!O.objectMode,se&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=v(this,O,"readableHighWaterMark",se),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(q||(q=E(83141).I),this.decoder=new q(O.encoding),this.encoding=O.encoding)}function M(O){if(P=P||E(88101),!(this instanceof M))return new M(O);var I=this instanceof P;this._readableState=new X(O,this,I),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),c.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(I){!this._readableState||(this._readableState.destroyed=I)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(O,I){I(O)},M.prototype.push=function(O,I){var se=this._readableState,ve;return se.objectMode?ve=!0:typeof O=="string"&&(I=I||se.defaultEncoding,I!==se.encoding&&(O=l.from(O,I),I=""),ve=!0),G(this,O,I,!1,ve)},M.prototype.unshift=function(O){return G(this,O,null,!0,!1)};function G(O,I,se,ve,we){u("readableAddChunk",I);var ge=O._readableState;if(I===null)ge.reading=!1,$(O,ge);else{var xe;if(we||(xe=o(ge,I)),xe)K(O,xe);else if(ge.objectMode||I&&I.length>0)if(typeof I!="string"&&!ge.objectMode&&Object.getPrototypeOf(I)!==l.prototype&&(I=p(I)),ve)ge.endEmitted?K(O,new z):C(O,ge,I,!0);else if(ge.ended)K(O,new x);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?(I=ge.decoder.write(I),ge.objectMode||I.length!==0?C(O,ge,I,!1):te(O,ge)):C(O,ge,I,!1)}else ve||(ge.reading=!1,te(O,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function C(O,I,se,ve){I.flowing&&I.length===0&&!I.sync?(I.awaitDrain=0,O.emit("data",se)):(I.length+=I.objectMode?1:se.length,ve?I.buffer.unshift(se):I.buffer.push(se),I.needReadable&&B(O)),te(O,I)}function o(O,I){var se;return!_(I)&&typeof I!="string"&&I!==void 0&&!O.objectMode&&(se=new S("chunk",["string","Buffer","Uint8Array"],I)),se}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(O){q||(q=E(83141).I);var I=new q(O);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ve="";se!==null;)ve+=I.write(se.data),se=se.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var w=1073741824;function A(O){return O>=w?O=w:(O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++),O}function U(O,I){return O<=0||I.length===0&&I.ended?0:I.objectMode?1:O!==O?I.flowing&&I.length?I.buffer.head.data.length:I.length:(O>I.highWaterMark&&(I.highWaterMark=A(O)),O<=I.length?O:I.ended?I.length:(I.needReadable=!0,0))}M.prototype.read=function(O){u("read",O),O=parseInt(O,10);var I=this._readableState,se=O;if(O!==0&&(I.emittedReadable=!1),O===0&&I.needReadable&&((I.highWaterMark!==0?I.length>=I.highWaterMark:I.length>0)||I.ended))return u("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?ce(this):B(this),null;if(O=U(O,I),O===0&&I.ended)return I.length===0&&ce(this),null;var ve=I.needReadable;u("need readable",ve),(I.length===0||I.length-O<I.highWaterMark)&&(ve=!0,u("length less than watermark",ve)),I.ended||I.reading?(ve=!1,u("reading or ended",ve)):ve&&(u("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(O=U(se,I)));var we;return O>0?we=ee(O,I):we=null,we===null?(I.needReadable=I.length<=I.highWaterMark,O=0):(I.length-=O,I.awaitDrain=0),I.length===0&&(I.ended||(I.needReadable=!0),se!==O&&I.ended&&ce(this)),we!==null&&this.emit("data",we),we};function $(O,I){if(u("onEofChunk"),!I.ended){if(I.decoder){var se=I.decoder.end();se&&se.length&&(I.buffer.push(se),I.length+=I.objectMode?1:se.length)}I.ended=!0,I.sync?B(O):(I.needReadable=!1,I.emittedReadable||(I.emittedReadable=!0,Z(O)))}}function B(O){var I=O._readableState;u("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(u("emitReadable",I.flowing),I.emittedReadable=!0,R.nextTick(Z,O))}function Z(O){var I=O._readableState;u("emitReadable_",I.destroyed,I.length,I.ended),!I.destroyed&&(I.length||I.ended)&&(O.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,J(O)}function te(O,I){I.readingMore||(I.readingMore=!0,R.nextTick(L,O,I))}function L(O,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&I.length===0);){var se=I.length;if(u("maybeReadMore read 0"),O.read(0),se===I.length)break}I.readingMore=!1}M.prototype._read=function(O){K(this,new D("_read()"))},M.prototype.pipe=function(O,I){var se=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=O;break;case 1:ve.pipes=[ve.pipes,O];break;default:ve.pipes.push(O);break}ve.pipesCount+=1,u("pipe count=%d opts=%j",ve.pipesCount,I);var we=(!I||I.end!==!1)&&O!==R.stdout&&O!==R.stderr,ge=we?Ge:ae;ve.endEmitted?R.nextTick(ge):se.once("end",ge),O.on("unpipe",xe);function xe(be,De){u("onunpipe"),be===se&&De&&De.hasUnpiped===!1&&(De.hasUnpiped=!0,tt())}function Ge(){u("onend"),O.end()}var ze=re(se);O.on("drain",ze);var Et=!1;function tt(){u("cleanup"),O.removeListener("close",ue),O.removeListener("finish",Q),O.removeListener("drain",ze),O.removeListener("error",Tt),O.removeListener("unpipe",xe),se.removeListener("end",Ge),se.removeListener("end",ae),se.removeListener("data",at),Et=!0,ve.awaitDrain&&(!O._writableState||O._writableState.needDrain)&&ze()}se.on("data",at);function at(be){u("ondata");var De=O.write(be);u("dest.write",De),De===!1&&((ve.pipesCount===1&&ve.pipes===O||ve.pipesCount>1&&Se(ve.pipes,O)!==-1)&&!Et&&(u("false write response, pause",ve.awaitDrain),ve.awaitDrain++),se.pause())}function Tt(be){u("onerror",be),ae(),O.removeListener("error",Tt),k(O,"error")===0&&K(O,be)}ne(O,"error",Tt);function ue(){O.removeListener("finish",Q),ae()}O.once("close",ue);function Q(){u("onfinish"),O.removeListener("close",ue),ae()}O.once("finish",Q);function ae(){u("unpipe"),se.unpipe(O)}return O.emit("pipe",se),ve.flowing||(u("pipe resume"),se.resume()),O};function re(O){return function(){var se=O._readableState;u("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&k(O,"data")&&(se.flowing=!0,J(O))}}M.prototype.unpipe=function(O){var I=this._readableState,se={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return O&&O!==I.pipes?this:(O||(O=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,O&&O.emit("unpipe",this,se),this);if(!O){var ve=I.pipes,we=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var ge=0;ge<we;ge++)ve[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=Se(I.pipes,O);return xe===-1?this:(I.pipes.splice(xe,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),O.emit("unpipe",this,se),this)},M.prototype.on=function(O,I){var se=c.prototype.on.call(this,O,I),ve=this._readableState;return O==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):O==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,u("on readable",ve.length,ve.reading),ve.length?B(this):ve.reading||R.nextTick(_e,this)),se},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(O,I){var se=c.prototype.removeListener.call(this,O,I);return O==="readable"&&R.nextTick(Le,this),se},M.prototype.removeAllListeners=function(O){var I=c.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&R.nextTick(Le,this),I};function Le(O){var I=O._readableState;I.readableListening=O.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:O.listenerCount("data")>0&&O.resume()}function _e(O){u("readable nexttick read 0"),O.read(0)}M.prototype.resume=function(){var O=this._readableState;return O.flowing||(u("resume"),O.flowing=!O.readableListening,Ce(this,O)),O.paused=!1,this};function Ce(O,I){I.resumeScheduled||(I.resumeScheduled=!0,R.nextTick(Me,O,I))}function Me(O,I){u("resume",I.reading),I.reading||O.read(0),I.resumeScheduled=!1,O.emit("resume"),J(O),I.flowing&&!I.reading&&O.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(O){var I=O._readableState;for(u("flow",I.flowing);I.flowing&&O.read()!==null;);}M.prototype.wrap=function(O){var I=this,se=this._readableState,ve=!1;O.on("end",function(){if(u("wrapped end"),se.decoder&&!se.ended){var xe=se.decoder.end();xe&&xe.length&&I.push(xe)}I.push(null)}),O.on("data",function(xe){if(u("wrapped data"),se.decoder&&(xe=se.decoder.write(xe)),!(se.objectMode&&xe==null)&&!(!se.objectMode&&(!xe||!xe.length))){var Ge=I.push(xe);Ge||(ve=!0,O.pause())}});for(var we in O)this[we]===void 0&&typeof O[we]=="function"&&(this[we]=function(Ge){return function(){return O[Ge].apply(O,arguments)}}(we));for(var ge=0;ge<Y.length;ge++)O.on(Y[ge],this.emit.bind(this,Y[ge]));return this._read=function(xe){u("wrapped _read",xe),ve&&(ve=!1,O.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return H===void 0&&(H=E(65034)),H(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(O,I){if(I.length===0)return null;var se;return I.objectMode?se=I.buffer.shift():!O||O>=I.length?(I.decoder?se=I.buffer.join(""):I.buffer.length===1?se=I.buffer.first():se=I.buffer.concat(I.length),I.buffer.clear()):se=I.buffer.consume(O,I.decoder),se}function ce(O){var I=O._readableState;u("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,R.nextTick(me,I,O))}function me(O,I){if(u("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,I.readable=!1,I.emit("end"),O.autoDestroy)){var se=I._writableState;(!se||se.autoDestroy&&se.finished)&&I.destroy()}}typeof Symbol=="function"&&(M.from=function(O,I){return j===void 0&&(j=E(90968)),j(M,O,I)});function Se(O,I){for(var se=0,ve=O.length;se<ve;se++)if(O[se]===I)return se;return-1}},59083:(a,V,E)=>{"use strict";a.exports=p;var R=E(12463).F,P=R.ERR_METHOD_NOT_IMPLEMENTED,N=R.ERR_MULTIPLE_CALLBACK,k=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=R.ERR_TRANSFORM_WITH_LENGTH_0,l=E(88101);E(56698)(p,l);function h(u,f){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new N);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),g(u);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function p(u){if(!(this instanceof p))return new p(u);l.call(this,u),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,m){b(u,f,m)}):b(this,null,null)}p.prototype.push=function(u,f){return this._transformState.needTransform=!1,l.prototype.push.call(this,u,f)},p.prototype._transform=function(u,f,m){m(new P("_transform()"))},p.prototype._write=function(u,f,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=f,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},p.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},p.prototype._destroy=function(u,f){l.prototype._destroy.call(this,u,function(m){f(m)})};function b(u,f,m){if(f)return u.emit("error",f);if(m!=null&&u.push(m),u._writableState.length)throw new c;if(u._transformState.transforming)throw new k;return u.push(null)}},81999:(a,V,E)=>{"use strict";var R=E(65606);a.exports=X;function P(J,ee,ce){this.chunk=J,this.encoding=ee,this.callback=ce,this.next=null}function N(J){var ee=this;this.next=null,this.entry=null,this.finish=function(){Me(ee,J)}}var k;X.WritableState=Y;var c={deprecate:E(94643)},l=E(41396),h=E(48287).Buffer,p=E.g.Uint8Array||function(){};function _(J){return h.from(J)}function b(J){return h.isBuffer(J)||J instanceof p}var u=E(54347),f=E(66644),m=f.getHighWaterMark,g=E(12463).F,v=g.ERR_INVALID_ARG_TYPE,T=g.ERR_METHOD_NOT_IMPLEMENTED,S=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,D=g.ERR_STREAM_DESTROYED,z=g.ERR_STREAM_NULL_VALUES,q=g.ERR_STREAM_WRITE_AFTER_END,H=g.ERR_UNKNOWN_ENCODING,j=u.errorOrDestroy;E(56698)(X,l);function K(){}function Y(J,ee,ce){k=k||E(88101),J=J||{},typeof ce!="boolean"&&(ce=ee instanceof k),this.objectMode=!!J.objectMode,ce&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=m(this,J,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=J.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){$(ee,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new N(this)}Y.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ce=[];ee;)ce.push(ee),ee=ee.next;return ce},function(){try{Object.defineProperty(Y.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(ee){return ne.call(this,ee)?!0:this!==X?!1:ee&&ee._writableState instanceof Y}})):ne=function(ee){return ee instanceof this};function X(J){k=k||E(88101);var ee=this instanceof k;if(!ee&&!ne.call(X,this))return new X(J);this._writableState=new Y(J,this,ee),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),l.call(this)}X.prototype.pipe=function(){j(this,new x)};function M(J,ee){var ce=new q;j(J,ce),R.nextTick(ee,ce)}function G(J,ee,ce,me){var Se;return ce===null?Se=new z:typeof ce!="string"&&!ee.objectMode&&(Se=new v("chunk",["string","Buffer"],ce)),Se?(j(J,Se),R.nextTick(me,Se),!1):!0}X.prototype.write=function(J,ee,ce){var me=this._writableState,Se=!1,O=!me.objectMode&&b(J);return O&&!h.isBuffer(J)&&(J=_(J)),typeof ee=="function"&&(ce=ee,ee=null),O?ee="buffer":ee||(ee=me.defaultEncoding),typeof ce!="function"&&(ce=K),me.ending?M(this,ce):(O||G(this,me,J,ce))&&(me.pendingcb++,Se=o(this,me,O,J,ee,ce)),Se},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&te(this,J))},X.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new H(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,ee,ce){return!J.objectMode&&J.decodeStrings!==!1&&typeof ee=="string"&&(ee=h.from(ee,ce)),ee}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,ee,ce,me,Se,O){if(!ce){var I=C(ee,me,Se);me!==I&&(ce=!0,Se="buffer",me=I)}var se=ee.objectMode?1:me.length;ee.length+=se;var ve=ee.length<ee.highWaterMark;if(ve||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:Se,isBuf:ce,callback:O,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(J,ee,!1,se,me,Se,O);return ve}function w(J,ee,ce,me,Se,O,I){ee.writelen=me,ee.writecb=I,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new D("write")):ce?J._writev(Se,ee.onwrite):J._write(Se,O,ee.onwrite),ee.sync=!1}function A(J,ee,ce,me,Se){--ee.pendingcb,ce?(R.nextTick(Se,me),R.nextTick(_e,J,ee),J._writableState.errorEmitted=!0,j(J,me)):(Se(me),J._writableState.errorEmitted=!0,j(J,me),_e(J,ee))}function U(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function $(J,ee){var ce=J._writableState,me=ce.sync,Se=ce.writecb;if(typeof Se!="function")throw new S;if(U(ce),ee)A(J,ce,me,ee,Se);else{var O=L(ce)||J.destroyed;!O&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&te(J,ce),me?R.nextTick(B,J,ce,O,Se):B(J,ce,O,Se)}}function B(J,ee,ce,me){ce||Z(J,ee),ee.pendingcb--,me(),_e(J,ee)}function Z(J,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,J.emit("drain"))}function te(J,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(J._writev&&ce&&ce.next){var me=ee.bufferedRequestCount,Se=new Array(me),O=ee.corkedRequestsFree;O.entry=ce;for(var I=0,se=!0;ce;)Se[I]=ce,ce.isBuf||(se=!1),ce=ce.next,I+=1;Se.allBuffers=se,w(J,ee,!0,ee.length,Se,"",O.finish),ee.pendingcb++,ee.lastBufferedRequest=null,O.next?(ee.corkedRequestsFree=O.next,O.next=null):ee.corkedRequestsFree=new N(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ve=ce.chunk,we=ce.encoding,ge=ce.callback,xe=ee.objectMode?1:ve.length;if(w(J,ee,!1,xe,ve,we,ge),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}ce===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}X.prototype._write=function(J,ee,ce){ce(new T("_write()"))},X.prototype._writev=null,X.prototype.end=function(J,ee,ce){var me=this._writableState;return typeof J=="function"?(ce=J,J=null,ee=null):typeof ee=="function"&&(ce=ee,ee=null),J!=null&&this.write(J,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ce(this,me,ce),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function re(J,ee){J._final(function(ce){ee.pendingcb--,ce&&j(J,ce),ee.prefinished=!0,J.emit("prefinish"),_e(J,ee)})}function Le(J,ee){!ee.prefinished&&!ee.finalCalled&&(typeof J._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(re,J,ee)):(ee.prefinished=!0,J.emit("prefinish")))}function _e(J,ee){var ce=L(ee);if(ce&&(Le(J,ee),ee.pendingcb===0&&(ee.finished=!0,J.emit("finish"),ee.autoDestroy))){var me=J._readableState;(!me||me.autoDestroy&&me.endEmitted)&&J.destroy()}return ce}function Ce(J,ee,ce){ee.ending=!0,_e(J,ee),ce&&(ee.finished?R.nextTick(ce):J.once("finish",ce)),ee.ended=!0,J.writable=!1}function Me(J,ee,ce){var me=J.entry;for(J.entry=null;me;){var Se=me.callback;ee.pendingcb--,Se(ce),me=me.next}ee.corkedRequestsFree.next=J}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){!this._writableState||(this._writableState.destroyed=ee)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(J,ee){ee(J)}},65034:(a,V,E)=>{"use strict";var R=E(65606),P;function N(D,z,q){return z in D?Object.defineProperty(D,z,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[z]=q,D}var k=E(14257),c=Symbol("lastResolve"),l=Symbol("lastReject"),h=Symbol("error"),p=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),u=Symbol("stream");function f(D,z){return{value:D,done:z}}function m(D){var z=D[c];if(z!==null){var q=D[u].read();q!==null&&(D[_]=null,D[c]=null,D[l]=null,z(f(q,!1)))}}function g(D){R.nextTick(m,D)}function v(D,z){return function(q,H){D.then(function(){if(z[p]){q(f(void 0,!0));return}z[b](q,H)},H)}}var T=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((P={get stream(){return this[u]},next:function(){var z=this,q=this[h];if(q!==null)return Promise.reject(q);if(this[p])return Promise.resolve(f(void 0,!0));if(this[u].destroyed)return new Promise(function(Y,ne){R.nextTick(function(){z[h]?ne(z[h]):Y(f(void 0,!0))})});var H=this[_],j;if(H)j=new Promise(v(H,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(f(K,!1));j=new Promise(this[b])}return this[_]=j,j}},N(P,Symbol.asyncIterator,function(){return this}),N(P,"return",function(){var z=this;return new Promise(function(q,H){z[u].destroy(null,function(j){if(j){H(j);return}q(f(void 0,!0))})})}),P),T),x=function(z){var q,H=Object.create(S,(q={},N(q,u,{value:z,writable:!0}),N(q,c,{value:null,writable:!0}),N(q,l,{value:null,writable:!0}),N(q,h,{value:null,writable:!0}),N(q,p,{value:z._readableState.endEmitted,writable:!0}),N(q,b,{value:function(K,Y){var ne=H[u].read();ne?(H[_]=null,H[c]=null,H[l]=null,K(f(ne,!1))):(H[c]=K,H[l]=Y)},writable:!0}),q));return H[_]=null,k(z,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=H[l];K!==null&&(H[_]=null,H[c]=null,H[l]=null,K(j)),H[h]=j;return}var Y=H[c];Y!==null&&(H[_]=null,H[c]=null,H[l]=null,Y(f(void 0,!0))),H[p]=!0}),z.on("readable",g.bind(null,H)),H};a.exports=x},81766:(a,V,E)=>{"use strict";function R(m,g){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);g&&(T=T.filter(function(S){return Object.getOwnPropertyDescriptor(m,S).enumerable})),v.push.apply(v,T)}return v}function P(m){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?R(Object(v),!0).forEach(function(T){N(m,T,v[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):R(Object(v)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor(v,T))})}return m}function N(m,g,v){return g in m?Object.defineProperty(m,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[g]=v,m}function k(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){for(var v=0;v<g.length;v++){var T=g[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function l(m,g,v){return g&&c(m.prototype,g),v&&c(m,v),m}var h=E(48287),p=h.Buffer,_=E(63779),b=_.inspect,u=b&&b.custom||"inspect";function f(m,g,v){p.prototype.copy.call(m,g,v)}a.exports=function(){function m(){k(this,m),this.head=null,this.tail=null,this.length=0}return l(m,[{key:"push",value:function(v){var T={data:v,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(v){var T={data:v,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var T=this.head,S=""+T.data;T=T.next;)S+=v+T.data;return S}},{key:"concat",value:function(v){if(this.length===0)return p.alloc(0);for(var T=p.allocUnsafe(v>>>0),S=this.head,x=0;S;)f(S.data,T,x),x+=S.data.length,S=S.next;return T}},{key:"consume",value:function(v,T){var S;return v<this.head.data.length?(S=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?S=this.shift():S=T?this._getString(v):this._getBuffer(v),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var T=this.head,S=1,x=T.data;for(v-=x.length;T=T.next;){var D=T.data,z=v>D.length?D.length:v;if(z===D.length?x+=D:x+=D.slice(0,v),v-=z,v===0){z===D.length?(++S,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=D.slice(z));break}++S}return this.length-=S,x}},{key:"_getBuffer",value:function(v){var T=p.allocUnsafe(v),S=this.head,x=1;for(S.data.copy(T),v-=S.data.length;S=S.next;){var D=S.data,z=v>D.length?D.length:v;if(D.copy(T,T.length-v,0,z),v-=z,v===0){z===D.length?(++x,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=D.slice(z));break}++x}return this.length-=x,T}},{key:u,value:function(v,T){return b(this,P({},T,{depth:0,customInspect:!1}))}}]),m}()},54347:(a,V,E)=>{"use strict";var R=E(65606);function P(p,_){var b=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(_?_(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(l,this,p)):R.nextTick(l,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(m){!_&&m?b._writableState?b._writableState.errorEmitted?R.nextTick(k,b):(b._writableState.errorEmitted=!0,R.nextTick(N,b,m)):R.nextTick(N,b,m):_?(R.nextTick(k,b),_(m)):R.nextTick(k,b)}),this)}function N(p,_){l(p,_),k(p)}function k(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(p,_){p.emit("error",_)}function h(p,_){var b=p._readableState,u=p._writableState;b&&b.autoDestroy||u&&u.autoDestroy?p.destroy(_):p.emit("error",_)}a.exports={destroy:P,undestroy:c,errorOrDestroy:h}},14257:(a,V,E)=>{"use strict";var R=E(12463).F.ERR_STREAM_PREMATURE_CLOSE;function P(l){var h=!1;return function(){if(!h){h=!0;for(var p=arguments.length,_=new Array(p),b=0;b<p;b++)_[b]=arguments[b];l.apply(this,_)}}}function N(){}function k(l){return l.setHeader&&typeof l.abort=="function"}function c(l,h,p){if(typeof h=="function")return c(l,null,h);h||(h={}),p=P(p||N);var _=h.readable||h.readable!==!1&&l.readable,b=h.writable||h.writable!==!1&&l.writable,u=function(){l.writable||m()},f=l._writableState&&l._writableState.finished,m=function(){b=!1,f=!0,_||p.call(l)},g=l._readableState&&l._readableState.endEmitted,v=function(){_=!1,g=!0,b||p.call(l)},T=function(z){p.call(l,z)},S=function(){var z;if(_&&!g)return(!l._readableState||!l._readableState.ended)&&(z=new R),p.call(l,z);if(b&&!f)return(!l._writableState||!l._writableState.ended)&&(z=new R),p.call(l,z)},x=function(){l.req.on("finish",m)};return k(l)?(l.on("complete",m),l.on("abort",S),l.req?x():l.on("request",x)):b&&!l._writableState&&(l.on("end",u),l.on("close",u)),l.on("end",v),l.on("finish",m),h.error!==!1&&l.on("error",T),l.on("close",S),function(){l.removeListener("complete",m),l.removeListener("abort",S),l.removeListener("request",x),l.req&&l.req.removeListener("finish",m),l.removeListener("end",u),l.removeListener("close",u),l.removeListener("finish",m),l.removeListener("end",v),l.removeListener("error",T),l.removeListener("close",S)}}a.exports=c},90968:a=>{a.exports=function(){throw new Error("Readable.from is not available in the browser")}},5267:(a,V,E)=>{"use strict";var R;function P(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var N=E(12463).F,k=N.ERR_MISSING_ARGS,c=N.ERR_STREAM_DESTROYED;function l(m){if(m)throw m}function h(m){return m.setHeader&&typeof m.abort=="function"}function p(m,g,v,T){T=P(T);var S=!1;m.on("close",function(){S=!0}),R===void 0&&(R=E(14257)),R(m,{readable:g,writable:v},function(D){if(D)return T(D);S=!0,T()});var x=!1;return function(D){if(!S&&!x){if(x=!0,h(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();T(D||new c("pipe"))}}}function _(m){m()}function b(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?l:m.pop()}function f(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];var T=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new k("streams");var S,x=g.map(function(D,z){var q=z<g.length-1,H=z>0;return p(D,q,H,function(j){S||(S=j),j&&x.forEach(_),!q&&(x.forEach(_),T(S))})});return g.reduce(b)}a.exports=f},66644:(a,V,E)=>{"use strict";var R=E(12463).F.ERR_INVALID_OPT_VALUE;function P(k,c,l){return k.highWaterMark!=null?k.highWaterMark:c?k[l]:null}function N(k,c,l,h){var p=P(c,h,l);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var _=h?l:"highWaterMark";throw new R(_,p)}return Math.floor(p)}return k.objectMode?16:16*1024}a.exports={getHighWaterMark:N}},41396:(a,V,E)=>{a.exports=E(37007).EventEmitter},11568:(a,V,E)=>{var R=E(55537),P=E(6917),N=E(57510),k=E(86866),c=E(59817),l=V;l.request=function(h,p){typeof h=="string"?h=c.parse(h):h=N(h);var _=E.g.location.protocol.search(/^https?:$/)===-1?"http:":"",b=h.protocol||_,u=h.hostname||h.host,f=h.port,m=h.path||"/";u&&u.indexOf(":")!==-1&&(u="["+u+"]"),h.url=(u?b+"//"+u:"")+(f?":"+f:"")+m,h.method=(h.method||"GET").toUpperCase(),h.headers=h.headers||{};var g=new R(h);return p&&g.on("response",p),g},l.get=function(p,_){var b=l.request(p,_);return b.end(),b},l.ClientRequest=R,l.IncomingMessage=P.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=k,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},6688:(a,V,E)=>{V.fetch=k(E.g.fetch)&&k(E.g.ReadableStream),V.writableStream=k(E.g.WritableStream),V.abortController=k(E.g.AbortController);var R;function P(){if(R!==void 0)return R;if(E.g.XMLHttpRequest){R=new E.g.XMLHttpRequest;try{R.open("GET",E.g.XDomainRequest?"/":"https://example.com")}catch(c){R=null}}else R=null;return R}function N(c){var l=P();if(!l)return!1;try{return l.responseType=c,l.responseType===c}catch(h){}return!1}V.arraybuffer=V.fetch||N("arraybuffer"),V.msstream=!V.fetch&&N("ms-stream"),V.mozchunkedarraybuffer=!V.fetch&&N("moz-chunked-arraybuffer"),V.overrideMimeType=V.fetch||(P()?k(P().overrideMimeType):!1);function k(c){return typeof c=="function"}R=null},55537:(a,V,E)=>{var R=E(65606),P=E(6688),N=E(56698),k=E(6917),c=E(63242),l=k.IncomingMessage,h=k.readyStates;function p(f,m){return P.fetch&&m?"fetch":P.mozchunkedarraybuffer?"moz-chunked-arraybuffer":P.msstream?"ms-stream":P.arraybuffer&&f?"arraybuffer":"text"}var _=a.exports=function(f){var m=this;c.Writable.call(m),m._opts=f,m._body=[],m._headers={},f.auth&&m.setHeader("Authorization","Basic "+Buffer.from(f.auth).toString("base64")),Object.keys(f.headers).forEach(function(T){m.setHeader(T,f.headers[T])});var g,v=!0;if(f.mode==="disable-fetch"||"requestTimeout"in f&&!P.abortController)v=!1,g=!0;else if(f.mode==="prefer-streaming")g=!1;else if(f.mode==="allow-wrong-content-type")g=!P.overrideMimeType;else if(!f.mode||f.mode==="default"||f.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=p(g,v),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};N(_,c.Writable),_.prototype.setHeader=function(f,m){var g=this,v=f.toLowerCase();u.indexOf(v)===-1&&(g._headers[v]={name:f,value:m})},_.prototype.getHeader=function(f){var m=this._headers[f.toLowerCase()];return m?m.value:null},_.prototype.removeHeader=function(f){var m=this;delete m._headers[f.toLowerCase()]},_.prototype._onFinish=function(){var f=this;if(!f._destroyed){var m=f._opts;"timeout"in m&&m.timeout!==0&&f.setTimeout(m.timeout);var g=f._headers,v=null;m.method!=="GET"&&m.method!=="HEAD"&&(v=new Blob(f._body,{type:(g["content-type"]||{}).value||""}));var T=[];if(Object.keys(g).forEach(function(z){var q=g[z].name,H=g[z].value;Array.isArray(H)?H.forEach(function(j){T.push([q,j])}):T.push([q,H])}),f._mode==="fetch"){var S=null;if(P.abortController){var x=new AbortController;S=x.signal,f._fetchAbortController=x,"requestTimeout"in m&&m.requestTimeout!==0&&(f._fetchTimer=E.g.setTimeout(function(){f.emit("requestTimeout"),f._fetchAbortController&&f._fetchAbortController.abort()},m.requestTimeout))}E.g.fetch(f._opts.url,{method:f._opts.method,headers:T,body:v||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:S}).then(function(z){f._fetchResponse=z,f._resetTimers(!1),f._connect()},function(z){f._resetTimers(!0),f._destroyed||f.emit("error",z)})}else{var D=f._xhr=new E.g.XMLHttpRequest;try{D.open(f._opts.method,f._opts.url,!0)}catch(z){R.nextTick(function(){f.emit("error",z)});return}"responseType"in D&&(D.responseType=f._mode),"withCredentials"in D&&(D.withCredentials=!!m.withCredentials),f._mode==="text"&&"overrideMimeType"in D&&D.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(D.timeout=m.requestTimeout,D.ontimeout=function(){f.emit("requestTimeout")}),T.forEach(function(z){D.setRequestHeader(z[0],z[1])}),f._response=null,D.onreadystatechange=function(){switch(D.readyState){case h.LOADING:case h.DONE:f._onXHRProgress();break}},f._mode==="moz-chunked-arraybuffer"&&(D.onprogress=function(){f._onXHRProgress()}),D.onerror=function(){f._destroyed||(f._resetTimers(!0),f.emit("error",new Error("XHR error")))};try{D.send(v)}catch(z){R.nextTick(function(){f.emit("error",z)});return}}}};function b(f){try{var m=f.status;return m!==null&&m!==0}catch(g){return!1}}_.prototype._onXHRProgress=function(){var f=this;f._resetTimers(!1),!(!b(f._xhr)||f._destroyed)&&(f._response||f._connect(),f._response._onXHRProgress(f._resetTimers.bind(f)))},_.prototype._connect=function(){var f=this;f._destroyed||(f._response=new l(f._xhr,f._fetchResponse,f._mode,f._resetTimers.bind(f)),f._response.on("error",function(m){f.emit("error",m)}),f.emit("response",f._response))},_.prototype._write=function(f,m,g){var v=this;v._body.push(f),g()},_.prototype._resetTimers=function(f){var m=this;E.g.clearTimeout(m._socketTimer),m._socketTimer=null,f?(E.g.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=E.g.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},_.prototype.abort=_.prototype.destroy=function(f){var m=this;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),f&&m.emit("error",f)},_.prototype.end=function(f,m,g){var v=this;typeof f=="function"&&(g=f,f=void 0),c.Writable.prototype.end.call(v,f,m,g)},_.prototype.setTimeout=function(f,m){var g=this;m&&g.once("timeout",m),g._socketTimeout=f,g._resetTimers(!1)},_.prototype.flushHeaders=function(){},_.prototype.setNoDelay=function(){},_.prototype.setSocketKeepAlive=function(){};var u=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},6917:(a,V,E)=>{var R=E(65606),P=E(6688),N=E(56698),k=E(63242),c=V.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=V.IncomingMessage=function(h,p,_,b){var u=this;if(k.Readable.call(u),u._mode=_,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){R.nextTick(function(){u.emit("close")})}),_==="fetch"){let x=function(){m.read().then(function(D){if(!u._destroyed){if(b(D.done),D.done){u.push(null);return}u.push(Buffer.from(D.value)),x()}}).catch(function(D){b(!0),u._destroyed||u.emit("error",D)})};var S=x;if(u._fetchResponse=p,u.url=p.url,u.statusCode=p.status,u.statusMessage=p.statusText,p.headers.forEach(function(D,z){u.headers[z.toLowerCase()]=D,u.rawHeaders.push(z,D)}),P.writableStream){var f=new WritableStream({write:function(D){return b(!1),new Promise(function(z,q){u._destroyed?q():u.push(Buffer.from(D))?z():u._resumeFetch=z})},close:function(){b(!0),u._destroyed||u.push(null)},abort:function(D){b(!0),u._destroyed||u.emit("error",D)}});try{p.body.pipeTo(f).catch(function(D){b(!0),u._destroyed||u.emit("error",D)});return}catch(D){}}var m=p.body.getReader();x()}else{u._xhr=h,u._pos=0,u.url=h.responseURL,u.statusCode=h.status,u.statusMessage=h.statusText;var g=h.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(x){var D=x.match(/^([^:]+):\s*(.*)/);if(D){var z=D[1].toLowerCase();z==="set-cookie"?(u.headers[z]===void 0&&(u.headers[z]=[]),u.headers[z].push(D[2])):u.headers[z]!==void 0?u.headers[z]+=", "+D[2]:u.headers[z]=D[2],u.rawHeaders.push(D[1],D[2])}}),u._charset="x-user-defined",!P.overrideMimeType){var v=u.rawHeaders["mime-type"];if(v){var T=v.match(/;\s*charset=([^;])(;|$)/);T&&(u._charset=T[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};N(l,k.Readable),l.prototype._read=function(){var h=this,p=h._resumeFetch;p&&(h._resumeFetch=null,p())},l.prototype._onXHRProgress=function(h){var p=this,_=p._xhr,b=null;switch(p._mode){case"text":if(b=_.responseText,b.length>p._pos){var u=b.substr(p._pos);if(p._charset==="x-user-defined"){for(var f=Buffer.alloc(u.length),m=0;m<u.length;m++)f[m]=u.charCodeAt(m)&255;p.push(f)}else p.push(u,p._charset);p._pos=b.length}break;case"arraybuffer":if(_.readyState!==c.DONE||!_.response)break;b=_.response,p.push(Buffer.from(new Uint8Array(b)));break;case"moz-chunked-arraybuffer":if(b=_.response,_.readyState!==c.LOADING||!b)break;p.push(Buffer.from(new Uint8Array(b)));break;case"ms-stream":if(b=_.response,_.readyState!==c.LOADING)break;var g=new E.g.MSStreamReader;g.onprogress=function(){g.result.byteLength>p._pos&&(p.push(Buffer.from(new Uint8Array(g.result.slice(p._pos)))),p._pos=g.result.byteLength)},g.onload=function(){h(!0),p.push(null)},g.readAsArrayBuffer(b);break}p._xhr.readyState===c.DONE&&p._mode!=="ms-stream"&&(h(!0),p.push(null))}},73157:a=>{"use strict";function V(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var E={};function R(l,h,p){p||(p=Error);function _(u,f,m){return typeof h=="string"?h:h(u,f,m)}var b=function(u){V(f,u);function f(m,g,v){return u.call(this,_(m,g,v))||this}return f}(p);b.prototype.name=p.name,b.prototype.code=l,E[l]=b}function P(l,h){if(Array.isArray(l)){var p=l.length;return l=l.map(function(_){return String(_)}),p>2?"one of ".concat(h," ").concat(l.slice(0,p-1).join(", "),", or ")+l[p-1]:p===2?"one of ".concat(h," ").concat(l[0]," or ").concat(l[1]):"of ".concat(h," ").concat(l[0])}else return"of ".concat(h," ").concat(String(l))}function N(l,h,p){return l.substr(!p||p<0?0:+p,h.length)===h}function k(l,h,p){return(p===void 0||p>l.length)&&(p=l.length),l.substring(p-h.length,p)===h}function c(l,h,p){return typeof p!="number"&&(p=0),p+h.length>l.length?!1:l.indexOf(h,p)!==-1}R("ERR_INVALID_OPT_VALUE",function(l,h){return'The value "'+h+'" is invalid for option "'+l+'"'},TypeError),R("ERR_INVALID_ARG_TYPE",function(l,h,p){var _;typeof h=="string"&&N(h,"not ")?(_="must not be",h=h.replace(/^not /,"")):_="must be";var b;if(k(l," argument"))b="The ".concat(l," ").concat(_," ").concat(P(h,"type"));else{var u=c(l,".")?"property":"argument";b='The "'.concat(l,'" ').concat(u," ").concat(_," ").concat(P(h,"type"))}return b+=". Received type ".concat(typeof p),b},TypeError),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),R("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),R("ERR_STREAM_PREMATURE_CLOSE","Premature close"),R("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),R("ERR_STREAM_WRITE_AFTER_END","write after end"),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.F=E},63527:(a,V,E)=>{"use strict";var R=E(65606),P=Object.keys||function(u){var f=[];for(var m in u)f.push(m);return f};a.exports=p;var N=E(52341),k=E(9573);E(56698)(p,N);for(var c=P(k.prototype),l=0;l<c.length;l++){var h=c[l];p.prototype[h]||(p.prototype[h]=k.prototype[h])}function p(u){if(!(this instanceof p))return new p(u);N.call(this,u),k.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||R.nextTick(b,this)}function b(u){u.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},82571:(a,V,E)=>{"use strict";a.exports=P;var R=E(95689);E(56698)(P,R);function P(N){if(!(this instanceof P))return new P(N);R.call(this,N)}P.prototype._transform=function(N,k,c){c(null,N)}},52341:(a,V,E)=>{"use strict";var R=E(65606);a.exports=M;var P;M.ReadableState=X;var N=E(37007).EventEmitter,k=function(I,se){return I.listeners(se).length},c=E(81914),l=E(48287).Buffer,h=E.g.Uint8Array||function(){};function p(O){return l.from(O)}function _(O){return l.isBuffer(O)||O instanceof h}var b=E(86833),u;b&&b.debuglog?u=b.debuglog("stream"):u=function(){};var f=E(10272),m=E(16057),g=E(11922),v=g.getHighWaterMark,T=E(73157).F,S=T.ERR_INVALID_ARG_TYPE,x=T.ERR_STREAM_PUSH_AFTER_EOF,D=T.ERR_METHOD_NOT_IMPLEMENTED,z=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,q,H,j;E(56698)(M,c);var K=m.errorOrDestroy,Y=["error","close","destroy","pause","resume"];function ne(O,I,se){if(typeof O.prependListener=="function")return O.prependListener(I,se);!O._events||!O._events[I]?O.on(I,se):Array.isArray(O._events[I])?O._events[I].unshift(se):O._events[I]=[se,O._events[I]]}function X(O,I,se){P=P||E(63527),O=O||{},typeof se!="boolean"&&(se=I instanceof P),this.objectMode=!!O.objectMode,se&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=v(this,O,"readableHighWaterMark",se),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(q||(q=E(83141).I),this.decoder=new q(O.encoding),this.encoding=O.encoding)}function M(O){if(P=P||E(63527),!(this instanceof M))return new M(O);var I=this instanceof P;this._readableState=new X(O,this,I),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),c.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(I){!this._readableState||(this._readableState.destroyed=I)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(O,I){I(O)},M.prototype.push=function(O,I){var se=this._readableState,ve;return se.objectMode?ve=!0:typeof O=="string"&&(I=I||se.defaultEncoding,I!==se.encoding&&(O=l.from(O,I),I=""),ve=!0),G(this,O,I,!1,ve)},M.prototype.unshift=function(O){return G(this,O,null,!0,!1)};function G(O,I,se,ve,we){u("readableAddChunk",I);var ge=O._readableState;if(I===null)ge.reading=!1,$(O,ge);else{var xe;if(we||(xe=o(ge,I)),xe)K(O,xe);else if(ge.objectMode||I&&I.length>0)if(typeof I!="string"&&!ge.objectMode&&Object.getPrototypeOf(I)!==l.prototype&&(I=p(I)),ve)ge.endEmitted?K(O,new z):C(O,ge,I,!0);else if(ge.ended)K(O,new x);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!se?(I=ge.decoder.write(I),ge.objectMode||I.length!==0?C(O,ge,I,!1):te(O,ge)):C(O,ge,I,!1)}else ve||(ge.reading=!1,te(O,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function C(O,I,se,ve){I.flowing&&I.length===0&&!I.sync?(I.awaitDrain=0,O.emit("data",se)):(I.length+=I.objectMode?1:se.length,ve?I.buffer.unshift(se):I.buffer.push(se),I.needReadable&&B(O)),te(O,I)}function o(O,I){var se;return!_(I)&&typeof I!="string"&&I!==void 0&&!O.objectMode&&(se=new S("chunk",["string","Buffer","Uint8Array"],I)),se}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(O){q||(q=E(83141).I);var I=new q(O);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ve="";se!==null;)ve+=I.write(se.data),se=se.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var w=1073741824;function A(O){return O>=w?O=w:(O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++),O}function U(O,I){return O<=0||I.length===0&&I.ended?0:I.objectMode?1:O!==O?I.flowing&&I.length?I.buffer.head.data.length:I.length:(O>I.highWaterMark&&(I.highWaterMark=A(O)),O<=I.length?O:I.ended?I.length:(I.needReadable=!0,0))}M.prototype.read=function(O){u("read",O),O=parseInt(O,10);var I=this._readableState,se=O;if(O!==0&&(I.emittedReadable=!1),O===0&&I.needReadable&&((I.highWaterMark!==0?I.length>=I.highWaterMark:I.length>0)||I.ended))return u("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?ce(this):B(this),null;if(O=U(O,I),O===0&&I.ended)return I.length===0&&ce(this),null;var ve=I.needReadable;u("need readable",ve),(I.length===0||I.length-O<I.highWaterMark)&&(ve=!0,u("length less than watermark",ve)),I.ended||I.reading?(ve=!1,u("reading or ended",ve)):ve&&(u("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(O=U(se,I)));var we;return O>0?we=ee(O,I):we=null,we===null?(I.needReadable=I.length<=I.highWaterMark,O=0):(I.length-=O,I.awaitDrain=0),I.length===0&&(I.ended||(I.needReadable=!0),se!==O&&I.ended&&ce(this)),we!==null&&this.emit("data",we),we};function $(O,I){if(u("onEofChunk"),!I.ended){if(I.decoder){var se=I.decoder.end();se&&se.length&&(I.buffer.push(se),I.length+=I.objectMode?1:se.length)}I.ended=!0,I.sync?B(O):(I.needReadable=!1,I.emittedReadable||(I.emittedReadable=!0,Z(O)))}}function B(O){var I=O._readableState;u("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(u("emitReadable",I.flowing),I.emittedReadable=!0,R.nextTick(Z,O))}function Z(O){var I=O._readableState;u("emitReadable_",I.destroyed,I.length,I.ended),!I.destroyed&&(I.length||I.ended)&&(O.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,J(O)}function te(O,I){I.readingMore||(I.readingMore=!0,R.nextTick(L,O,I))}function L(O,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&I.length===0);){var se=I.length;if(u("maybeReadMore read 0"),O.read(0),se===I.length)break}I.readingMore=!1}M.prototype._read=function(O){K(this,new D("_read()"))},M.prototype.pipe=function(O,I){var se=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=O;break;case 1:ve.pipes=[ve.pipes,O];break;default:ve.pipes.push(O);break}ve.pipesCount+=1,u("pipe count=%d opts=%j",ve.pipesCount,I);var we=(!I||I.end!==!1)&&O!==R.stdout&&O!==R.stderr,ge=we?Ge:ae;ve.endEmitted?R.nextTick(ge):se.once("end",ge),O.on("unpipe",xe);function xe(be,De){u("onunpipe"),be===se&&De&&De.hasUnpiped===!1&&(De.hasUnpiped=!0,tt())}function Ge(){u("onend"),O.end()}var ze=re(se);O.on("drain",ze);var Et=!1;function tt(){u("cleanup"),O.removeListener("close",ue),O.removeListener("finish",Q),O.removeListener("drain",ze),O.removeListener("error",Tt),O.removeListener("unpipe",xe),se.removeListener("end",Ge),se.removeListener("end",ae),se.removeListener("data",at),Et=!0,ve.awaitDrain&&(!O._writableState||O._writableState.needDrain)&&ze()}se.on("data",at);function at(be){u("ondata");var De=O.write(be);u("dest.write",De),De===!1&&((ve.pipesCount===1&&ve.pipes===O||ve.pipesCount>1&&Se(ve.pipes,O)!==-1)&&!Et&&(u("false write response, pause",ve.awaitDrain),ve.awaitDrain++),se.pause())}function Tt(be){u("onerror",be),ae(),O.removeListener("error",Tt),k(O,"error")===0&&K(O,be)}ne(O,"error",Tt);function ue(){O.removeListener("finish",Q),ae()}O.once("close",ue);function Q(){u("onfinish"),O.removeListener("close",ue),ae()}O.once("finish",Q);function ae(){u("unpipe"),se.unpipe(O)}return O.emit("pipe",se),ve.flowing||(u("pipe resume"),se.resume()),O};function re(O){return function(){var se=O._readableState;u("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&k(O,"data")&&(se.flowing=!0,J(O))}}M.prototype.unpipe=function(O){var I=this._readableState,se={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return O&&O!==I.pipes?this:(O||(O=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,O&&O.emit("unpipe",this,se),this);if(!O){var ve=I.pipes,we=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var ge=0;ge<we;ge++)ve[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=Se(I.pipes,O);return xe===-1?this:(I.pipes.splice(xe,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),O.emit("unpipe",this,se),this)},M.prototype.on=function(O,I){var se=c.prototype.on.call(this,O,I),ve=this._readableState;return O==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):O==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,u("on readable",ve.length,ve.reading),ve.length?B(this):ve.reading||R.nextTick(_e,this)),se},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(O,I){var se=c.prototype.removeListener.call(this,O,I);return O==="readable"&&R.nextTick(Le,this),se},M.prototype.removeAllListeners=function(O){var I=c.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&R.nextTick(Le,this),I};function Le(O){var I=O._readableState;I.readableListening=O.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:O.listenerCount("data")>0&&O.resume()}function _e(O){u("readable nexttick read 0"),O.read(0)}M.prototype.resume=function(){var O=this._readableState;return O.flowing||(u("resume"),O.flowing=!O.readableListening,Ce(this,O)),O.paused=!1,this};function Ce(O,I){I.resumeScheduled||(I.resumeScheduled=!0,R.nextTick(Me,O,I))}function Me(O,I){u("resume",I.reading),I.reading||O.read(0),I.resumeScheduled=!1,O.emit("resume"),J(O),I.flowing&&!I.reading&&O.read(0)}M.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(O){var I=O._readableState;for(u("flow",I.flowing);I.flowing&&O.read()!==null;);}M.prototype.wrap=function(O){var I=this,se=this._readableState,ve=!1;O.on("end",function(){if(u("wrapped end"),se.decoder&&!se.ended){var xe=se.decoder.end();xe&&xe.length&&I.push(xe)}I.push(null)}),O.on("data",function(xe){if(u("wrapped data"),se.decoder&&(xe=se.decoder.write(xe)),!(se.objectMode&&xe==null)&&!(!se.objectMode&&(!xe||!xe.length))){var Ge=I.push(xe);Ge||(ve=!0,O.pause())}});for(var we in O)this[we]===void 0&&typeof O[we]=="function"&&(this[we]=function(Ge){return function(){return O[Ge].apply(O,arguments)}}(we));for(var ge=0;ge<Y.length;ge++)O.on(Y[ge],this.emit.bind(this,Y[ge]));return this._read=function(xe){u("wrapped _read",xe),ve&&(ve=!1,O.resume())},this},typeof Symbol=="function"&&(M.prototype[Symbol.asyncIterator]=function(){return H===void 0&&(H=E(17356)),H(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),M._fromList=ee,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(O,I){if(I.length===0)return null;var se;return I.objectMode?se=I.buffer.shift():!O||O>=I.length?(I.decoder?se=I.buffer.join(""):I.buffer.length===1?se=I.buffer.first():se=I.buffer.concat(I.length),I.buffer.clear()):se=I.buffer.consume(O,I.decoder),se}function ce(O){var I=O._readableState;u("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,R.nextTick(me,I,O))}function me(O,I){if(u("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,I.readable=!1,I.emit("end"),O.autoDestroy)){var se=I._writableState;(!se||se.autoDestroy&&se.finished)&&I.destroy()}}typeof Symbol=="function"&&(M.from=function(O,I){return j===void 0&&(j=E(6314)),j(M,O,I)});function Se(O,I){for(var se=0,ve=O.length;se<ve;se++)if(O[se]===I)return se;return-1}},95689:(a,V,E)=>{"use strict";a.exports=p;var R=E(73157).F,P=R.ERR_METHOD_NOT_IMPLEMENTED,N=R.ERR_MULTIPLE_CALLBACK,k=R.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=R.ERR_TRANSFORM_WITH_LENGTH_0,l=E(63527);E(56698)(p,l);function h(u,f){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new N);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),g(u);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function p(u){if(!(this instanceof p))return new p(u);l.call(this,u),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",_)}function _(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,m){b(u,f,m)}):b(this,null,null)}p.prototype.push=function(u,f){return this._transformState.needTransform=!1,l.prototype.push.call(this,u,f)},p.prototype._transform=function(u,f,m){m(new P("_transform()"))},p.prototype._write=function(u,f,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=f,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},p.prototype._read=function(u){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},p.prototype._destroy=function(u,f){l.prototype._destroy.call(this,u,function(m){f(m)})};function b(u,f,m){if(f)return u.emit("error",f);if(m!=null&&u.push(m),u._writableState.length)throw new c;if(u._transformState.transforming)throw new k;return u.push(null)}},9573:(a,V,E)=>{"use strict";var R=E(65606);a.exports=X;function P(J,ee,ce){this.chunk=J,this.encoding=ee,this.callback=ce,this.next=null}function N(J){var ee=this;this.next=null,this.entry=null,this.finish=function(){Me(ee,J)}}var k;X.WritableState=Y;var c={deprecate:E(94643)},l=E(81914),h=E(48287).Buffer,p=E.g.Uint8Array||function(){};function _(J){return h.from(J)}function b(J){return h.isBuffer(J)||J instanceof p}var u=E(16057),f=E(11922),m=f.getHighWaterMark,g=E(73157).F,v=g.ERR_INVALID_ARG_TYPE,T=g.ERR_METHOD_NOT_IMPLEMENTED,S=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,D=g.ERR_STREAM_DESTROYED,z=g.ERR_STREAM_NULL_VALUES,q=g.ERR_STREAM_WRITE_AFTER_END,H=g.ERR_UNKNOWN_ENCODING,j=u.errorOrDestroy;E(56698)(X,l);function K(){}function Y(J,ee,ce){k=k||E(63527),J=J||{},typeof ce!="boolean"&&(ce=ee instanceof k),this.objectMode=!!J.objectMode,ce&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=m(this,J,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=J.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){$(ee,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new N(this)}Y.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,ce=[];ee;)ce.push(ee),ee=ee.next;return ce},function(){try{Object.defineProperty(Y.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(J){}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(ee){return ne.call(this,ee)?!0:this!==X?!1:ee&&ee._writableState instanceof Y}})):ne=function(ee){return ee instanceof this};function X(J){k=k||E(63527);var ee=this instanceof k;if(!ee&&!ne.call(X,this))return new X(J);this._writableState=new Y(J,this,ee),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),l.call(this)}X.prototype.pipe=function(){j(this,new x)};function M(J,ee){var ce=new q;j(J,ce),R.nextTick(ee,ce)}function G(J,ee,ce,me){var Se;return ce===null?Se=new z:typeof ce!="string"&&!ee.objectMode&&(Se=new v("chunk",["string","Buffer"],ce)),Se?(j(J,Se),R.nextTick(me,Se),!1):!0}X.prototype.write=function(J,ee,ce){var me=this._writableState,Se=!1,O=!me.objectMode&&b(J);return O&&!h.isBuffer(J)&&(J=_(J)),typeof ee=="function"&&(ce=ee,ee=null),O?ee="buffer":ee||(ee=me.defaultEncoding),typeof ce!="function"&&(ce=K),me.ending?M(this,ce):(O||G(this,me,J,ce))&&(me.pendingcb++,Se=o(this,me,O,J,ee,ce)),Se},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&te(this,J))},X.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new H(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(J,ee,ce){return!J.objectMode&&J.decodeStrings!==!1&&typeof ee=="string"&&(ee=h.from(ee,ce)),ee}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function o(J,ee,ce,me,Se,O){if(!ce){var I=C(ee,me,Se);me!==I&&(ce=!0,Se="buffer",me=I)}var se=ee.objectMode?1:me.length;ee.length+=se;var ve=ee.length<ee.highWaterMark;if(ve||(ee.needDrain=!0),ee.writing||ee.corked){var we=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:me,encoding:Se,isBuf:ce,callback:O,next:null},we?we.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else w(J,ee,!1,se,me,Se,O);return ve}function w(J,ee,ce,me,Se,O,I){ee.writelen=me,ee.writecb=I,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new D("write")):ce?J._writev(Se,ee.onwrite):J._write(Se,O,ee.onwrite),ee.sync=!1}function A(J,ee,ce,me,Se){--ee.pendingcb,ce?(R.nextTick(Se,me),R.nextTick(_e,J,ee),J._writableState.errorEmitted=!0,j(J,me)):(Se(me),J._writableState.errorEmitted=!0,j(J,me),_e(J,ee))}function U(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function $(J,ee){var ce=J._writableState,me=ce.sync,Se=ce.writecb;if(typeof Se!="function")throw new S;if(U(ce),ee)A(J,ce,me,ee,Se);else{var O=L(ce)||J.destroyed;!O&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&te(J,ce),me?R.nextTick(B,J,ce,O,Se):B(J,ce,O,Se)}}function B(J,ee,ce,me){ce||Z(J,ee),ee.pendingcb--,me(),_e(J,ee)}function Z(J,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,J.emit("drain"))}function te(J,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(J._writev&&ce&&ce.next){var me=ee.bufferedRequestCount,Se=new Array(me),O=ee.corkedRequestsFree;O.entry=ce;for(var I=0,se=!0;ce;)Se[I]=ce,ce.isBuf||(se=!1),ce=ce.next,I+=1;Se.allBuffers=se,w(J,ee,!0,ee.length,Se,"",O.finish),ee.pendingcb++,ee.lastBufferedRequest=null,O.next?(ee.corkedRequestsFree=O.next,O.next=null):ee.corkedRequestsFree=new N(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ve=ce.chunk,we=ce.encoding,ge=ce.callback,xe=ee.objectMode?1:ve.length;if(w(J,ee,!1,xe,ve,we,ge),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}ce===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}X.prototype._write=function(J,ee,ce){ce(new T("_write()"))},X.prototype._writev=null,X.prototype.end=function(J,ee,ce){var me=this._writableState;return typeof J=="function"?(ce=J,J=null,ee=null):typeof ee=="function"&&(ce=ee,ee=null),J!=null&&this.write(J,ee),me.corked&&(me.corked=1,this.uncork()),me.ending||Ce(this,me,ce),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function re(J,ee){J._final(function(ce){ee.pendingcb--,ce&&j(J,ce),ee.prefinished=!0,J.emit("prefinish"),_e(J,ee)})}function Le(J,ee){!ee.prefinished&&!ee.finalCalled&&(typeof J._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,R.nextTick(re,J,ee)):(ee.prefinished=!0,J.emit("prefinish")))}function _e(J,ee){var ce=L(ee);if(ce&&(Le(J,ee),ee.pendingcb===0&&(ee.finished=!0,J.emit("finish"),ee.autoDestroy))){var me=J._readableState;(!me||me.autoDestroy&&me.endEmitted)&&J.destroy()}return ce}function Ce(J,ee,ce){ee.ending=!0,_e(J,ee),ce&&(ee.finished?R.nextTick(ce):J.once("finish",ce)),ee.ended=!0,J.writable=!1}function Me(J,ee,ce){var me=J.entry;for(J.entry=null;me;){var Se=me.callback;ee.pendingcb--,Se(ce),me=me.next}ee.corkedRequestsFree.next=J}Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){!this._writableState||(this._writableState.destroyed=ee)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(J,ee){ee(J)}},17356:(a,V,E)=>{"use strict";var R=E(65606),P;function N(D,z,q){return z in D?Object.defineProperty(D,z,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[z]=q,D}var k=E(19959),c=Symbol("lastResolve"),l=Symbol("lastReject"),h=Symbol("error"),p=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),u=Symbol("stream");function f(D,z){return{value:D,done:z}}function m(D){var z=D[c];if(z!==null){var q=D[u].read();q!==null&&(D[_]=null,D[c]=null,D[l]=null,z(f(q,!1)))}}function g(D){R.nextTick(m,D)}function v(D,z){return function(q,H){D.then(function(){if(z[p]){q(f(void 0,!0));return}z[b](q,H)},H)}}var T=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((P={get stream(){return this[u]},next:function(){var z=this,q=this[h];if(q!==null)return Promise.reject(q);if(this[p])return Promise.resolve(f(void 0,!0));if(this[u].destroyed)return new Promise(function(Y,ne){R.nextTick(function(){z[h]?ne(z[h]):Y(f(void 0,!0))})});var H=this[_],j;if(H)j=new Promise(v(H,this));else{var K=this[u].read();if(K!==null)return Promise.resolve(f(K,!1));j=new Promise(this[b])}return this[_]=j,j}},N(P,Symbol.asyncIterator,function(){return this}),N(P,"return",function(){var z=this;return new Promise(function(q,H){z[u].destroy(null,function(j){if(j){H(j);return}q(f(void 0,!0))})})}),P),T),x=function(z){var q,H=Object.create(S,(q={},N(q,u,{value:z,writable:!0}),N(q,c,{value:null,writable:!0}),N(q,l,{value:null,writable:!0}),N(q,h,{value:null,writable:!0}),N(q,p,{value:z._readableState.endEmitted,writable:!0}),N(q,b,{value:function(K,Y){var ne=H[u].read();ne?(H[_]=null,H[c]=null,H[l]=null,K(f(ne,!1))):(H[c]=K,H[l]=Y)},writable:!0}),q));return H[_]=null,k(z,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=H[l];K!==null&&(H[_]=null,H[c]=null,H[l]=null,K(j)),H[h]=j;return}var Y=H[c];Y!==null&&(H[_]=null,H[c]=null,H[l]=null,Y(f(void 0,!0))),H[p]=!0}),z.on("readable",g.bind(null,H)),H};a.exports=x},10272:(a,V,E)=>{"use strict";function R(m,g){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(m);g&&(T=T.filter(function(S){return Object.getOwnPropertyDescriptor(m,S).enumerable})),v.push.apply(v,T)}return v}function P(m){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?R(Object(v),!0).forEach(function(T){N(m,T,v[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):R(Object(v)).forEach(function(T){Object.defineProperty(m,T,Object.getOwnPropertyDescriptor(v,T))})}return m}function N(m,g,v){return g in m?Object.defineProperty(m,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[g]=v,m}function k(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function c(m,g){for(var v=0;v<g.length;v++){var T=g[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function l(m,g,v){return g&&c(m.prototype,g),v&&c(m,v),m}var h=E(48287),p=h.Buffer,_=E(59169),b=_.inspect,u=b&&b.custom||"inspect";function f(m,g,v){p.prototype.copy.call(m,g,v)}a.exports=function(){function m(){k(this,m),this.head=null,this.tail=null,this.length=0}return l(m,[{key:"push",value:function(v){var T={data:v,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(v){var T={data:v,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var T=this.head,S=""+T.data;T=T.next;)S+=v+T.data;return S}},{key:"concat",value:function(v){if(this.length===0)return p.alloc(0);for(var T=p.allocUnsafe(v>>>0),S=this.head,x=0;S;)f(S.data,T,x),x+=S.data.length,S=S.next;return T}},{key:"consume",value:function(v,T){var S;return v<this.head.data.length?(S=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?S=this.shift():S=T?this._getString(v):this._getBuffer(v),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var T=this.head,S=1,x=T.data;for(v-=x.length;T=T.next;){var D=T.data,z=v>D.length?D.length:v;if(z===D.length?x+=D:x+=D.slice(0,v),v-=z,v===0){z===D.length?(++S,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=D.slice(z));break}++S}return this.length-=S,x}},{key:"_getBuffer",value:function(v){var T=p.allocUnsafe(v),S=this.head,x=1;for(S.data.copy(T),v-=S.data.length;S=S.next;){var D=S.data,z=v>D.length?D.length:v;if(D.copy(T,T.length-v,0,z),v-=z,v===0){z===D.length?(++x,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=D.slice(z));break}++x}return this.length-=x,T}},{key:u,value:function(v,T){return b(this,P({},T,{depth:0,customInspect:!1}))}}]),m}()},16057:(a,V,E)=>{"use strict";var R=E(65606);function P(p,_){var b=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(_?_(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,R.nextTick(l,this,p)):R.nextTick(l,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(m){!_&&m?b._writableState?b._writableState.errorEmitted?R.nextTick(k,b):(b._writableState.errorEmitted=!0,R.nextTick(N,b,m)):R.nextTick(N,b,m):_?(R.nextTick(k,b),_(m)):R.nextTick(k,b)}),this)}function N(p,_){l(p,_),k(p)}function k(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function c(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(p,_){p.emit("error",_)}function h(p,_){var b=p._readableState,u=p._writableState;b&&b.autoDestroy||u&&u.autoDestroy?p.destroy(_):p.emit("error",_)}a.exports={destroy:P,undestroy:c,errorOrDestroy:h}},19959:(a,V,E)=>{"use strict";var R=E(73157).F.ERR_STREAM_PREMATURE_CLOSE;function P(l){var h=!1;return function(){if(!h){h=!0;for(var p=arguments.length,_=new Array(p),b=0;b<p;b++)_[b]=arguments[b];l.apply(this,_)}}}function N(){}function k(l){return l.setHeader&&typeof l.abort=="function"}function c(l,h,p){if(typeof h=="function")return c(l,null,h);h||(h={}),p=P(p||N);var _=h.readable||h.readable!==!1&&l.readable,b=h.writable||h.writable!==!1&&l.writable,u=function(){l.writable||m()},f=l._writableState&&l._writableState.finished,m=function(){b=!1,f=!0,_||p.call(l)},g=l._readableState&&l._readableState.endEmitted,v=function(){_=!1,g=!0,b||p.call(l)},T=function(z){p.call(l,z)},S=function(){var z;if(_&&!g)return(!l._readableState||!l._readableState.ended)&&(z=new R),p.call(l,z);if(b&&!f)return(!l._writableState||!l._writableState.ended)&&(z=new R),p.call(l,z)},x=function(){l.req.on("finish",m)};return k(l)?(l.on("complete",m),l.on("abort",S),l.req?x():l.on("request",x)):b&&!l._writableState&&(l.on("end",u),l.on("close",u)),l.on("end",v),l.on("finish",m),h.error!==!1&&l.on("error",T),l.on("close",S),function(){l.removeListener("complete",m),l.removeListener("abort",S),l.removeListener("request",x),l.req&&l.req.removeListener("finish",m),l.removeListener("end",u),l.removeListener("close",u),l.removeListener("finish",m),l.removeListener("end",v),l.removeListener("error",T),l.removeListener("close",S)}}a.exports=c},6314:a=>{a.exports=function(){throw new Error("Readable.from is not available in the browser")}},37413:(a,V,E)=>{"use strict";var R;function P(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var N=E(73157).F,k=N.ERR_MISSING_ARGS,c=N.ERR_STREAM_DESTROYED;function l(m){if(m)throw m}function h(m){return m.setHeader&&typeof m.abort=="function"}function p(m,g,v,T){T=P(T);var S=!1;m.on("close",function(){S=!0}),R===void 0&&(R=E(19959)),R(m,{readable:g,writable:v},function(D){if(D)return T(D);S=!0,T()});var x=!1;return function(D){if(!S&&!x){if(x=!0,h(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();T(D||new c("pipe"))}}}function _(m){m()}function b(m,g){return m.pipe(g)}function u(m){return!m.length||typeof m[m.length-1]!="function"?l:m.pop()}function f(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];var T=u(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new k("streams");var S,x=g.map(function(D,z){var q=z<g.length-1,H=z>0;return p(D,q,H,function(j){S||(S=j),j&&x.forEach(_),!q&&(x.forEach(_),T(S))})});return g.reduce(b)}a.exports=f},11922:(a,V,E)=>{"use strict";var R=E(73157).F.ERR_INVALID_OPT_VALUE;function P(k,c,l){return k.highWaterMark!=null?k.highWaterMark:c?k[l]:null}function N(k,c,l,h){var p=P(c,h,l);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var _=h?l:"highWaterMark";throw new R(_,p)}return Math.floor(p)}return k.objectMode?16:16*1024}a.exports={getHighWaterMark:N}},81914:(a,V,E)=>{a.exports=E(37007).EventEmitter},63242:(a,V,E)=>{V=a.exports=E(52341),V.Stream=V,V.Readable=V,V.Writable=E(9573),V.Duplex=E(63527),V.Transform=E(95689),V.PassThrough=E(82571),V.finished=E(19959),V.pipeline=E(37413)},83141:(a,V,E)=>{"use strict";var R=E(92861).Buffer,P=R.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N(x){if(!x)return"utf8";for(var D;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(D)return;x=(""+x).toLowerCase(),D=!0}}function k(x){var D=N(x);if(typeof D!="string"&&(R.isEncoding===P||!P(x)))throw new Error("Unknown encoding: "+x);return D||x}V.I=c;function c(x){this.encoding=k(x);var D;switch(this.encoding){case"utf16le":this.text=f,this.end=m,D=4;break;case"utf8":this.fillLast=_,D=4;break;case"base64":this.text=g,this.end=v,D=3;break;default:this.write=T,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=R.allocUnsafe(D)}c.prototype.write=function(x){if(x.length===0)return"";var D,z;if(this.lastNeed){if(D=this.fillLast(x),D===void 0)return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<x.length?D?D+this.text(x,z):this.text(x,z):D||""},c.prototype.end=u,c.prototype.text=b,c.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function l(x){return x<=127?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:x>>6==2?-1:-2}function h(x,D,z){var q=D.length-1;if(q<z)return 0;var H=l(D[q]);return H>=0?(H>0&&(x.lastNeed=H-1),H):--q<z||H===-2?0:(H=l(D[q]),H>=0?(H>0&&(x.lastNeed=H-2),H):--q<z||H===-2?0:(H=l(D[q]),H>=0?(H>0&&(H===2?H=0:x.lastNeed=H-3),H):0))}function p(x,D,z){if((D[0]&192)!=128)return x.lastNeed=0,"\uFFFD";if(x.lastNeed>1&&D.length>1){if((D[1]&192)!=128)return x.lastNeed=1,"\uFFFD";if(x.lastNeed>2&&D.length>2&&(D[2]&192)!=128)return x.lastNeed=2,"\uFFFD"}}function _(x){var D=this.lastTotal-this.lastNeed,z=p(this,x,D);if(z!==void 0)return z;if(this.lastNeed<=x.length)return x.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,D,0,x.length),this.lastNeed-=x.length}function b(x,D){var z=h(this,x,D);if(!this.lastNeed)return x.toString("utf8",D);this.lastTotal=z;var q=x.length-(z-this.lastNeed);return x.copy(this.lastChar,0,q),x.toString("utf8",D,q)}function u(x){var D=x&&x.length?this.write(x):"";return this.lastNeed?D+"\uFFFD":D}function f(x,D){if((x.length-D)%2==0){var z=x.toString("utf16le",D);if(z){var q=z.charCodeAt(z.length-1);if(q>=55296&&q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",D,x.length-1)}function m(x){var D=x&&x.length?this.write(x):"";if(this.lastNeed){var z=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,z)}return D}function g(x,D){var z=(x.length-D)%3;return z===0?x.toString("base64",D):(this.lastNeed=3-z,this.lastTotal=3,z===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",D,x.length-z))}function v(x){var D=x&&x.length?this.write(x):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function T(x){return x.toString(this.encoding)}function S(x){return x&&x.length?this.write(x):""}},9423:(a,V,E)=>{"use strict";E.d(V,{A:()=>k});function R(c){var l,h=c.Symbol;return typeof h=="function"?h.observable?l=h.observable:(l=h("observable"),h.observable=l):l="@@observable",l}a=E.hmd(a);var P;typeof self!="undefined"?P=self:typeof window!="undefined"?P=window:typeof E.g!="undefined"?P=E.g:P=a;var N=R(P);const k=N},32909:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationService=void 0;var R=E(67291);Object.defineProperty(V,"ExperimentationService",{enumerable:!0,get:function(){return R.ExperimentationService}})},67291:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationService=void 0;const R=E(32845),P=E(73770),N=E(45761);class k extends N.ExperimentationServiceAutoPolling{constructor(l){super(l.telemetry,l.filterProviders||[],l.refetchInterval!=null?l.refetchInterval:0,l.assignmentContextTelemetryPropertyName,l.telemetryEventName,l.storageKey,l.keyValueStorage);this.options=l,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new R.TasApiFeatureProvider(new P.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}V.ExperimentationService=k,k.REFRESH_RATE_IN_MINUTES=30},45761:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationServiceAutoPolling=void 0;const R=E(1714),P=E(23257);class N extends R.ExperimentationServiceBase{constructor(c,l,h,p,_,b,u){super(c,p,_,b,u);if(this.telemetry=c,this.filterProviders=l,this.refreshRateMs=h,this.assignmentContextTelemetryPropertyName=p,this.telemetryEventName=_,this.storageKey=b,this.storage=u,h<1e3&&h!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");h>0&&(this.pollingService=new P.PollingService(h),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(c=!1){if(this.pollingService){this.pollingService.StopPolling();let l=await super.getFeaturesAsync(c);return this.pollingService.StartPolling(),l}else return await super.getFeaturesAsync(c)}}V.ExperimentationServiceAutoPolling=N},1714:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationServiceBase=void 0;const R=E(48823);class P{get features(){return this._features}set features(k){this._features=k,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(k,c,l,h,p){this.telemetry=k,this.assignmentContextTelemetryPropertyName=c,this.telemetryEventName=l,this.storageKey=h,this.storage=p,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(p=new R.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((_,b)=>{this.resolveInitialFetchPromise=_})}async getFeaturesAsync(k=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch(c){}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async l=>await l.getFeatures()));const c=await this.fetchPromise;this.updateFeatures(c,k)}catch(c){}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(k,c=!1){let l={features:[],assignmentContext:"",configs:[]};for(let h of k){for(let p of h.features)l.features.includes(p)||l.features.push(p);for(let p of h.configs){const _=l.configs.find(b=>b.Id===p.Id);_?_.Parameters=Object.assign(Object.assign({},_.Parameters),p.Parameters):l.configs.push(p)}l.assignmentContext+=h.assignmentContext}(c||!this.featuresConsumed)&&(this.features=l),this.storage&&this.storage.setValue(this.storageKey,l)}async loadCachedFeatureData(){let k;this.storage&&(k=await this.storage.getValue(this.storageKey),k!==void 0&&k.configs===void 0&&(k.configs=[])),this.features.features.length===0&&(this.features=k||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(k){return this.featuresConsumed=!0,this.PostEventToTelemetry(k),this.features.features.includes(k)}async isCachedFlightEnabled(k){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(k),this.features.features.includes(k)}async isFlightEnabledAsync(k){const c=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(k),c.features.includes(k)}getTreatmentVariable(k,c){this.featuresConsumed=!0,this.PostEventToTelemetry(`${k}.${c}`);const l=this.features.configs.find(h=>h.Id===k);return l==null?void 0:l.Parameters[c]}async getTreatmentVariableAsync(k,c,l){if(l){const h=this.featuresConsumed,p=this.getTreatmentVariable(k,c);if(p===void 0)this.featuresConsumed=h;else return p}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(k,c)}PostEventToTelemetry(k){this.cachedTelemetryEvents.includes(k)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",k]])),this.cachedTelemetryEvents.push(k))}invokeInit(){this.init()}addFeatureProvider(...k){if(!(k==null||this.featureProviders==null))for(let c of k)this.featureProviders.push(c)}}V.ExperimentationServiceBase=P},96790:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.BaseFeatureProvider=void 0;class E{constructor(P){this.telemetry=P,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let P=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,P}}V.BaseFeatureProvider=E},76492:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.FilteredFeatureProvider=void 0;const R=E(96790);class P extends R.BaseFeatureProvider{constructor(k,c){super(k);this.telemetry=k,this.filterProviders=c,this.cachedTelemetryEvents=[]}getFilters(){let k=new Map;for(let c of this.filterProviders){let l=c.getFilters();for(let h of l.keys()){let p=l.get(h);k.set(h,p)}}return k}PostEventToTelemetry(k){if(this.cachedTelemetryEvents.includes(k))return;const c=JSON.stringify(k);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",c]])),this.cachedTelemetryEvents.push(k)}}V.FilteredFeatureProvider=P},32845:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TasApiFeatureProvider=V.TASAPI_FETCHERROR_EVENTNAME=void 0;const R=E(76492);V.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const P="ErrorType";class N extends R.FilteredFeatureProvider{constructor(c,l,h){super(l,h);this.httpClient=c,this.telemetry=l,this.filterProviders=h}async fetch(){let c=this.getFilters(),l={};for(let u of c.keys()){const f=c.get(u);l[u]=f}let h;try{h=await this.httpClient.get({headers:l})}catch(u){const f=u,m=new Map;f.response?m.set(P,"ServerError"):f.request?m.set(P,"NoResponse"):m.set(P,"GenericError"),this.telemetry.postEvent(V.TASAPI_FETCHERROR_EVENTNAME,m)}if(!h)throw Error(V.TASAPI_FETCHERROR_EVENTNAME);c.keys.length>0&&this.PostEventToTelemetry(l);let p=h.data,_=p.Configs,b=[];for(let u of _)if(!!u.Parameters)for(let f of Object.keys(u.Parameters)){const m=f+(u.Parameters[f]?"":"cf");b.includes(m)||b.push(m)}return{features:b,assignmentContext:p.AssignmentContext,configs:_}}}V.TasApiFeatureProvider=N},73770:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.AxiosHttpClient=void 0;const R=E(86425);class P{constructor(k){this.endpoint=k}get(k){return R.default.get(this.endpoint,Object.assign(Object.assign({},k),{proxy:!1}))}}V.AxiosHttpClient=P},48823:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MemoryKeyValueStorage=void 0;class E{constructor(){this.storage=new Map}async getValue(P,N){return this.storage.has(P)?await Promise.resolve(this.storage.get(P)):await Promise.resolve(N||void 0)}setValue(P,N){this.storage.set(P,N)}}V.MemoryKeyValueStorage=E},23257:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PollingService=void 0;class E{constructor(P){this.fetchInterval=P}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(P){this.onTick=P}StartPolling(P=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(P&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}V.PollingService=E},48318:function(a,V,E){(function(R){"use strict";var P=function(){try{if(R.URLSearchParams&&new R.URLSearchParams("foo=bar").get("foo")==="bar")return R.URLSearchParams}catch(q){}return null}(),N=P&&new P({a:1}).toString()==="a=1",k=P&&new P("s=%2B").get("s")==="+",c="__URLSearchParams__",l=P?function(){var q=new P;return q.append("s"," &"),q.toString()==="s=+%26"}():!0,h=_.prototype,p=!!(R.Symbol&&R.Symbol.iterator);if(P&&N&&k&&l)return;function _(q){q=q||"",(q instanceof URLSearchParams||q instanceof _)&&(q=q.toString()),this[c]=S(q)}h.append=function(q,H){x(this[c],q,H)},h.delete=function(q){delete this[c][q]},h.get=function(q){var H=this[c];return this.has(q)?H[q][0]:null},h.getAll=function(q){var H=this[c];return this.has(q)?H[q].slice(0):[]},h.has=function(q){return z(this[c],q)},h.set=function(H,j){this[c][H]=[""+j]},h.toString=function(){var q=this[c],H=[],j,K,Y,ne;for(K in q)for(Y=g(K),j=0,ne=q[K];j<ne.length;j++)H.push(Y+"="+g(ne[j]));return H.join("&")};var b=!k,u=!b&&P&&!N&&R.Proxy,f;u?(f=new Proxy(P,{construct:function(q,H){return new q(new _(H[0]).toString())}}),f.toString=Function.prototype.toString.bind(_)):f=_,Object.defineProperty(R,"URLSearchParams",{value:f});var m=R.URLSearchParams.prototype;m.polyfill=!0,m.forEach=m.forEach||function(q,H){var j=S(this.toString());Object.getOwnPropertyNames(j).forEach(function(K){j[K].forEach(function(Y){q.call(H,Y,K,this)},this)},this)},m.sort=m.sort||function(){var q=S(this.toString()),H=[],j,K,Y;for(j in q)H.push(j);for(H.sort(),K=0;K<H.length;K++)this.delete(H[K]);for(K=0;K<H.length;K++){var ne=H[K],X=q[ne];for(Y=0;Y<X.length;Y++)this.append(ne,X[Y])}},m.keys=m.keys||function(){var q=[];return this.forEach(function(H,j){q.push(j)}),T(q)},m.values=m.values||function(){var q=[];return this.forEach(function(H){q.push(H)}),T(q)},m.entries=m.entries||function(){var q=[];return this.forEach(function(H,j){q.push([j,H])}),T(q)},p&&(m[R.Symbol.iterator]=m[R.Symbol.iterator]||m.entries);function g(q){var H={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(q).replace(/[!'\(\)~]|%20|%00/g,function(j){return H[j]})}function v(q){return q.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(H){return decodeURIComponent(H)})}function T(q){var H={next:function(){var j=q.shift();return{done:j===void 0,value:j}}};return p&&(H[R.Symbol.iterator]=function(){return H}),H}function S(q){var H={};if(typeof q=="object")if(D(q))for(var j=0;j<q.length;j++){var K=q[j];if(D(K)&&K.length===2)x(H,K[0],K[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var Y in q)q.hasOwnProperty(Y)&&x(H,Y,q[Y]);else{q.indexOf("?")===0&&(q=q.slice(1));for(var ne=q.split("&"),X=0;X<ne.length;X++){var M=ne[X],G=M.indexOf("=");-1<G?x(H,v(M.slice(0,G)),v(M.slice(G+1))):M&&x(H,v(M),"")}}return H}function x(q,H,j){var K=typeof j=="string"?j:j!=null&&typeof j.toString=="function"?j.toString():JSON.stringify(j);z(q,H)?q[H].push(K):q[H]=[K]}function D(q){return!!q&&Object.prototype.toString.call(q)==="[object Array]"}function z(q,H){return Object.prototype.hasOwnProperty.call(q,H)}})(typeof E.g!="undefined"?E.g:typeof window!="undefined"?window:this)},94643:(a,V,E)=>{a.exports=R;function R(N,k){if(P("noDeprecation"))return N;var c=!1;function l(){if(!c){if(P("throwDeprecation"))throw new Error(k);P("traceDeprecation")?console.trace(k):console.warn(k),c=!0}return N.apply(this,arguments)}return l}function P(N){try{if(!E.g.localStorage)return!1}catch(c){return!1}var k=E.g.localStorage[N];return k==null?!1:String(k).toLowerCase()==="true"}},41566:(a,V,E)=>{"use strict";var R;R={value:!0},V.Z7=R=V.M$=void 0;var P=E(12493);Object.defineProperty(V,"M$",{enumerable:!0,get:function(){return P.getExperimentationService}}),R={enumerable:!0,get:function(){return P.getExperimentationServiceAsync}};var N=E(8967);Object.defineProperty(V,"Z7",{enumerable:!0,get:function(){return N.TargetPopulation}})},98142:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MementoKeyValueStorage=void 0;class E{constructor(P){this.mementoGlobalStorage=P}async getValue(P,N){return await this.mementoGlobalStorage.get(P)||N}setValue(P,N){this.mementoGlobalStorage.update(P,N)}}V.MementoKeyValueStorage=E},59052:(a,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});class E{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(P){return!1}isCachedFlightEnabled(P){return Promise.resolve(!1)}isFlightEnabledAsync(P){return Promise.resolve(!1)}getTreatmentVariable(P,N){}getTreatmentVariableAsync(P,N){return Promise.resolve(void 0)}}V.default=E},8967:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TargetPopulation=V.Filters=V.VSCodeFilterProvider=void 0;const R=E(91398);class P{constructor(l,h,p){this.extensionName=l,this.extensionVersion=h,this.targetPopulation=p}static trimVersionSuffix(l){const h=/\-[a-zA-Z0-9]+$/;return l.split(h)[0]}getFilterValue(l){switch(l){case N.ApplicationVersion:return P.trimVersionSuffix(R.version);case N.Build:return R.env.appName;case N.ClientId:return R.env.machineId;case N.ExtensionName:return this.extensionName;case N.ExtensionVersion:return P.trimVersionSuffix(this.extensionVersion);case N.Language:return R.env.language;case N.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let l=new Map,h=Object.values(N);for(let p of h)l.set(p,this.getFilterValue(p));return l}}V.VSCodeFilterProvider=P;var N;(function(c){c.Market="X-MSEdge-Market",c.CorpNet="X-FD-Corpnet",c.ApplicationVersion="X-VSCode-AppVersion",c.Build="X-VSCode-Build",c.ClientId="X-MSEdge-ClientId",c.ExtensionName="X-VSCode-ExtensionName",c.ExtensionVersion="X-VSCode-ExtensionVersion",c.Language="X-VSCode-Language",c.TargetPopulation="X-VSCode-TargetPopulation"})(N||(V.Filters=N={}));var k;(function(c){c.Team="team",c.Internal="internal",c.Insiders="insider",c.Public="public"})(k||(V.TargetPopulation=k={}))},12493:(a,V,E)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getExperimentationServiceAsync=V.getExperimentationService=void 0;const R=E(8967),P=E(32909),N=E(91398),k=E(98142),c=E(59052),l="https://default.exp-tas.com/vscode/ab",h="query-expfeature",p="abexp.assignmentcontext",_="VSCode.ABExp.FeatureData",b=1e3*60*30;function u(m,g,v,T,S,...x){if(!S)throw new Error("Memento storage was not provided.");const D=N.workspace.getConfiguration("telemetry");if(!(N.env.isTelemetryEnabled===void 0?D.get("enableTelemetry",!0):N.env.isTelemetryEnabled))return new c.default;const H=[new R.VSCodeFilterProvider(m,g,v),...x],j=new k.MementoKeyValueStorage(S);return new P.ExperimentationService({filterProviders:H,telemetry:T,storageKey:_,keyValueStorage:j,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:p,telemetryEventName:h,endpoint:l,refetchInterval:b})}V.getExperimentationService=u;async function f(m,g,v,T,S,...x){const D=u(m,g,v,T,S,...x);return await D.initializePromise,D}V.getExperimentationServiceAsync=f},86587:a=>{a.exports=V;function V(E,R){if(E&&R)return V(E)(R);if(typeof E!="function")throw new TypeError("need wrapper function");return Object.keys(E).forEach(function(N){P[N]=E[N]}),P;function P(){for(var N=new Array(arguments.length),k=0;k<N.length;k++)N[k]=arguments[k];var c=E.apply(this,N),l=N[N.length-1];return typeof c=="function"&&c!==l&&Object.keys(l).forEach(function(h){c[h]=l[h]}),c}}},57510:a=>{a.exports=E;var V=Object.prototype.hasOwnProperty;function E(){for(var R={},P=0;P<arguments.length;P++){var N=arguments[P];for(var k in N)V.call(N,k)&&(R[k]=N[k])}return R}},40259:a=>{"use strict";a.exports=function(V){V.prototype[Symbol.iterator]=function*(){for(let E=this.head;E;E=E.next)yield E.value}}},28799:(a,V,E)=>{"use strict";a.exports=R,R.Node=c,R.create=R;function R(l){var h=this;if(h instanceof R||(h=new R),h.tail=null,h.head=null,h.length=0,l&&typeof l.forEach=="function")l.forEach(function(b){h.push(b)});else if(arguments.length>0)for(var p=0,_=arguments.length;p<_;p++)h.push(arguments[p]);return h}R.prototype.removeNode=function(l){if(l.list!==this)throw new Error("removing node which does not belong to this list");var h=l.next,p=l.prev;return h&&(h.prev=p),p&&(p.next=h),l===this.head&&(this.head=h),l===this.tail&&(this.tail=p),l.list.length--,l.next=null,l.prev=null,l.list=null,h},R.prototype.unshiftNode=function(l){if(l!==this.head){l.list&&l.list.removeNode(l);var h=this.head;l.list=this,l.next=h,h&&(h.prev=l),this.head=l,this.tail||(this.tail=l),this.length++}},R.prototype.pushNode=function(l){if(l!==this.tail){l.list&&l.list.removeNode(l);var h=this.tail;l.list=this,l.prev=h,h&&(h.next=l),this.tail=l,this.head||(this.head=l),this.length++}},R.prototype.push=function(){for(var l=0,h=arguments.length;l<h;l++)N(this,arguments[l]);return this.length},R.prototype.unshift=function(){for(var l=0,h=arguments.length;l<h;l++)k(this,arguments[l]);return this.length},R.prototype.pop=function(){if(!!this.tail){var l=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,l}},R.prototype.shift=function(){if(!!this.head){var l=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,l}},R.prototype.forEach=function(l,h){h=h||this;for(var p=this.head,_=0;p!==null;_++)l.call(h,p.value,_,this),p=p.next},R.prototype.forEachReverse=function(l,h){h=h||this;for(var p=this.tail,_=this.length-1;p!==null;_--)l.call(h,p.value,_,this),p=p.prev},R.prototype.get=function(l){for(var h=0,p=this.head;p!==null&&h<l;h++)p=p.next;if(h===l&&p!==null)return p.value},R.prototype.getReverse=function(l){for(var h=0,p=this.tail;p!==null&&h<l;h++)p=p.prev;if(h===l&&p!==null)return p.value},R.prototype.map=function(l,h){h=h||this;for(var p=new R,_=this.head;_!==null;)p.push(l.call(h,_.value,this)),_=_.next;return p},R.prototype.mapReverse=function(l,h){h=h||this;for(var p=new R,_=this.tail;_!==null;)p.push(l.call(h,_.value,this)),_=_.prev;return p},R.prototype.reduce=function(l,h){var p,_=this.head;if(arguments.length>1)p=h;else if(this.head)_=this.head.next,p=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=0;_!==null;b++)p=l(p,_.value,b),_=_.next;return p},R.prototype.reduceReverse=function(l,h){var p,_=this.tail;if(arguments.length>1)p=h;else if(this.tail)_=this.tail.prev,p=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=this.length-1;_!==null;b--)p=l(p,_.value,b),_=_.prev;return p},R.prototype.toArray=function(){for(var l=new Array(this.length),h=0,p=this.head;p!==null;h++)l[h]=p.value,p=p.next;return l},R.prototype.toArrayReverse=function(){for(var l=new Array(this.length),h=0,p=this.tail;p!==null;h++)l[h]=p.value,p=p.prev;return l},R.prototype.slice=function(l,h){h=h||this.length,h<0&&(h+=this.length),l=l||0,l<0&&(l+=this.length);var p=new R;if(h<l||h<0)return p;l<0&&(l=0),h>this.length&&(h=this.length);for(var _=0,b=this.head;b!==null&&_<l;_++)b=b.next;for(;b!==null&&_<h;_++,b=b.next)p.push(b.value);return p},R.prototype.sliceReverse=function(l,h){h=h||this.length,h<0&&(h+=this.length),l=l||0,l<0&&(l+=this.length);var p=new R;if(h<l||h<0)return p;l<0&&(l=0),h>this.length&&(h=this.length);for(var _=this.length,b=this.tail;b!==null&&_>h;_--)b=b.prev;for(;b!==null&&_>l;_--,b=b.prev)p.push(b.value);return p},R.prototype.splice=function(l,h,...p){l>this.length&&(l=this.length-1),l<0&&(l=this.length+l);for(var _=0,b=this.head;b!==null&&_<l;_++)b=b.next;for(var u=[],_=0;b&&_<h;_++)u.push(b.value),b=this.removeNode(b);b===null&&(b=this.tail),b!==this.head&&b!==this.tail&&(b=b.prev);for(var _=0;_<p.length;_++)b=P(this,b,p[_]);return u},R.prototype.reverse=function(){for(var l=this.head,h=this.tail,p=l;p!==null;p=p.prev){var _=p.prev;p.prev=p.next,p.next=_}return this.head=h,this.tail=l,this};function P(l,h,p){var _=h===l.head?new c(p,null,h,l):new c(p,h,h.next,l);return _.next===null&&(l.tail=_),_.prev===null&&(l.head=_),l.length++,_}function N(l,h){l.tail=new c(h,l.tail,null,l),l.head||(l.head=l.tail),l.length++}function k(l,h){l.head=new c(h,null,l.head,l),l.tail||(l.tail=l.head),l.length++}function c(l,h,p,_){if(!(this instanceof c))return new c(l,h,p,_);this.list=_,this.value=l,h?(h.next=this,this.prev=h):this.prev=null,p?(p.prev=this,this.next=p):this.next=null}try{E(40259)(R)}catch(l){}},16064:(a,V,E)=>{a.exports=E(43619).Observable},43619:(a,V)=>{"use strict";var E;E={value:!0},V.Observable=void 0;function R(j,K){if(!(j instanceof K))throw new TypeError("Cannot call a class as a function")}function P(j,K){for(var Y=0;Y<K.length;Y++){var ne=K[Y];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(j,ne.key,ne)}}function N(j,K,Y){return K&&P(j.prototype,K),Y&&P(j,Y),j}var k=function(){return typeof Symbol=="function"},c=function(j){return k()&&Boolean(Symbol[j])},l=function(j){return c(j)?Symbol[j]:"@@"+j};k()&&!c("observable")&&(Symbol.observable=Symbol("observable"));var h=l("iterator"),p=l("observable"),_=l("species");function b(j,K){var Y=j[K];if(Y!=null){if(typeof Y!="function")throw new TypeError(Y+" is not a function");return Y}}function u(j){var K=j.constructor;return K!==void 0&&(K=K[_],K===null&&(K=void 0)),K!==void 0?K:H}function f(j){return j instanceof H}function m(j){m.log?m.log(j):setTimeout(function(){throw j})}function g(j){Promise.resolve().then(function(){try{j()}catch(K){m(K)}})}function v(j){var K=j._cleanup;if(K!==void 0&&(j._cleanup=void 0,!!K))try{if(typeof K=="function")K();else{var Y=b(K,"unsubscribe");Y&&Y.call(K)}}catch(ne){m(ne)}}function T(j){j._observer=void 0,j._queue=void 0,j._state="closed"}function S(j){var K=j._queue;if(!!K){j._queue=void 0,j._state="ready";for(var Y=0;Y<K.length&&(x(j,K[Y].type,K[Y].value),j._state!=="closed");++Y);}}function x(j,K,Y){j._state="running";var ne=j._observer;try{var X=b(ne,K);switch(K){case"next":X&&X.call(ne,Y);break;case"error":if(T(j),X)X.call(ne,Y);else throw Y;break;case"complete":T(j),X&&X.call(ne);break}}catch(M){m(M)}j._state==="closed"?v(j):j._state==="running"&&(j._state="ready")}function D(j,K,Y){if(j._state!=="closed"){if(j._state==="buffering"){j._queue.push({type:K,value:Y});return}if(j._state!=="ready"){j._state="buffering",j._queue=[{type:K,value:Y}],g(function(){return S(j)});return}x(j,K,Y)}}var z=function(){function j(K,Y){R(this,j),this._cleanup=void 0,this._observer=K,this._queue=void 0,this._state="initializing";var ne=new q(this);try{this._cleanup=Y.call(void 0,ne)}catch(X){ne.error(X)}this._state==="initializing"&&(this._state="ready")}return N(j,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(T(this),v(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),j}(),q=function(){function j(K){R(this,j),this._subscription=K}return N(j,[{key:"next",value:function(Y){D(this._subscription,"next",Y)}},{key:"error",value:function(Y){D(this._subscription,"error",Y)}},{key:"complete",value:function(){D(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),j}(),H=function(){function j(K){if(R(this,j),!(this instanceof j))throw new TypeError("Observable cannot be called as a function");if(typeof K!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=K}return N(j,[{key:"subscribe",value:function(Y){return(typeof Y!="object"||Y===null)&&(Y={next:Y,error:arguments[1],complete:arguments[2]}),new z(Y,this._subscriber)}},{key:"forEach",value:function(Y){var ne=this;return new Promise(function(X,M){if(typeof Y!="function"){M(new TypeError(Y+" is not a function"));return}function G(){C.unsubscribe(),X()}var C=ne.subscribe({next:function(o){try{Y(o,G)}catch(w){M(w),C.unsubscribe()}},error:M,complete:X})})}},{key:"map",value:function(Y){var ne=this;if(typeof Y!="function")throw new TypeError(Y+" is not a function");var X=u(this);return new X(function(M){return ne.subscribe({next:function(G){try{G=Y(G)}catch(C){return M.error(C)}M.next(G)},error:function(G){M.error(G)},complete:function(){M.complete()}})})}},{key:"filter",value:function(Y){var ne=this;if(typeof Y!="function")throw new TypeError(Y+" is not a function");var X=u(this);return new X(function(M){return ne.subscribe({next:function(G){try{if(!Y(G))return}catch(C){return M.error(C)}M.next(G)},error:function(G){M.error(G)},complete:function(){M.complete()}})})}},{key:"reduce",value:function(Y){var ne=this;if(typeof Y!="function")throw new TypeError(Y+" is not a function");var X=u(this),M=arguments.length>1,G=!1,C=arguments[1],o=C;return new X(function(w){return ne.subscribe({next:function(A){var U=!G;if(G=!0,!U||M)try{o=Y(o,A)}catch($){return w.error($)}else o=A},error:function(A){w.error(A)},complete:function(){if(!G&&!M)return w.error(new TypeError("Cannot reduce an empty sequence"));w.next(o),w.complete()}})})}},{key:"concat",value:function(){for(var Y=this,ne=arguments.length,X=new Array(ne),M=0;M<ne;M++)X[M]=arguments[M];var G=u(this);return new G(function(C){var o,w=0;function A(U){o=U.subscribe({next:function($){C.next($)},error:function($){C.error($)},complete:function(){w===X.length?(o=void 0,C.complete()):A(G.from(X[w++]))}})}return A(Y),function(){o&&(o.unsubscribe(),o=void 0)}})}},{key:"flatMap",value:function(Y){var ne=this;if(typeof Y!="function")throw new TypeError(Y+" is not a function");var X=u(this);return new X(function(M){var G=[],C=ne.subscribe({next:function(w){if(Y)try{w=Y(w)}catch(U){return M.error(U)}var A=X.from(w).subscribe({next:function(U){M.next(U)},error:function(U){M.error(U)},complete:function(){var U=G.indexOf(A);U>=0&&G.splice(U,1),o()}});G.push(A)},error:function(w){M.error(w)},complete:function(){o()}});function o(){C.closed&&G.length===0&&M.complete()}return function(){G.forEach(function(w){return w.unsubscribe()}),C.unsubscribe()}})}},{key:p,value:function(){return this}}],[{key:"from",value:function(Y){var ne=typeof this=="function"?this:j;if(Y==null)throw new TypeError(Y+" is not an object");var X=b(Y,p);if(X){var M=X.call(Y);if(Object(M)!==M)throw new TypeError(M+" is not an object");return f(M)&&M.constructor===ne?M:new ne(function(G){return M.subscribe(G)})}if(c("iterator")&&(X=b(Y,h),X))return new ne(function(G){g(function(){if(!G.closed){var C=!0,o=!1,w=void 0;try{for(var A=X.call(Y)[Symbol.iterator](),U;!(C=(U=A.next()).done);C=!0){var $=U.value;if(G.next($),G.closed)return}}catch(B){o=!0,w=B}finally{try{!C&&A.return!=null&&A.return()}finally{if(o)throw w}}G.complete()}})});if(Array.isArray(Y))return new ne(function(G){g(function(){if(!G.closed){for(var C=0;C<Y.length;++C)if(G.next(Y[C]),G.closed)return;G.complete()}})});throw new TypeError(Y+" is not observable")}},{key:"of",value:function(){for(var Y=arguments.length,ne=new Array(Y),X=0;X<Y;X++)ne[X]=arguments[X];var M=typeof this=="function"?this:j;return new M(function(G){g(function(){if(!G.closed){for(var C=0;C<ne.length;++C)if(G.next(ne[C]),G.closed)return;G.complete()}})})}},{key:_,get:function(){return this}}]),j}();V.Observable=H,k()&&Object.defineProperty(H,Symbol("extensions"),{value:{symbol:p,hostReportError:m},configurable:!0})},91398:a=>{"use strict";a.exports=require("vscode")},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},8460:()=>{},92382:()=>{},63779:()=>{},77199:()=>{},59169:()=>{},86833:()=>{},59817:()=>{},11138:()=>{},86425:(a,V,E)=>{"use strict";var R=E(65606);function P(he,pe){return function(){return he.apply(pe,arguments)}}const{toString:N}=Object.prototype,{getPrototypeOf:k}=Object,c=(he=>pe=>{const Ne=N.call(pe);return he[Ne]||(he[Ne]=Ne.slice(8,-1).toLowerCase())})(Object.create(null)),l=he=>(he=he.toLowerCase(),pe=>c(pe)===he),h=he=>pe=>typeof pe===he,{isArray:p}=Array,_=h("undefined");function b(he){return he!==null&&!_(he)&&he.constructor!==null&&!_(he.constructor)&&g(he.constructor.isBuffer)&&he.constructor.isBuffer(he)}const u=l("ArrayBuffer");function f(he){let pe;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?pe=ArrayBuffer.isView(he):pe=he&&he.buffer&&u(he.buffer),pe}const m=h("string"),g=h("function"),v=h("number"),T=he=>he!==null&&typeof he=="object",S=he=>he===!0||he===!1,x=he=>{if(c(he)!=="object")return!1;const pe=k(he);return(pe===null||pe===Object.prototype||Object.getPrototypeOf(pe)===null)&&!(Symbol.toStringTag in he)&&!(Symbol.iterator in he)},D=l("Date"),z=l("File"),q=l("Blob"),H=l("FileList"),j=he=>T(he)&&g(he.pipe),K=he=>{let pe;return he&&(typeof FormData=="function"&&he instanceof FormData||g(he.append)&&((pe=c(he))==="formdata"||pe==="object"&&g(he.toString)&&he.toString()==="[object FormData]"))},Y=l("URLSearchParams"),[ne,X,M,G]=["ReadableStream","Request","Response","Headers"].map(l),C=he=>he.trim?he.trim():he.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function o(he,pe,{allOwnKeys:Ne=!1}={}){if(he===null||typeof he=="undefined")return;let Ae,Be;if(typeof he!="object"&&(he=[he]),p(he))for(Ae=0,Be=he.length;Ae<Be;Ae++)pe.call(null,he[Ae],Ae,he);else{const je=Ne?Object.getOwnPropertyNames(he):Object.keys(he),Qe=je.length;let yt;for(Ae=0;Ae<Qe;Ae++)yt=je[Ae],pe.call(null,he[yt],yt,he)}}function w(he,pe){pe=pe.toLowerCase();const Ne=Object.keys(he);let Ae=Ne.length,Be;for(;Ae-- >0;)if(Be=Ne[Ae],pe===Be.toLowerCase())return Be;return null}const A=(()=>typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:E.g)(),U=he=>!_(he)&&he!==A;function $(){const{caseless:he}=U(this)&&this||{},pe={},Ne=(Ae,Be)=>{const je=he&&w(pe,Be)||Be;x(pe[je])&&x(Ae)?pe[je]=$(pe[je],Ae):x(Ae)?pe[je]=$({},Ae):p(Ae)?pe[je]=Ae.slice():pe[je]=Ae};for(let Ae=0,Be=arguments.length;Ae<Be;Ae++)arguments[Ae]&&o(arguments[Ae],Ne);return pe}const B=(he,pe,Ne,{allOwnKeys:Ae}={})=>(o(pe,(Be,je)=>{Ne&&g(Be)?he[je]=P(Be,Ne):he[je]=Be},{allOwnKeys:Ae}),he),Z=he=>(he.charCodeAt(0)===65279&&(he=he.slice(1)),he),te=(he,pe,Ne,Ae)=>{he.prototype=Object.create(pe.prototype,Ae),he.prototype.constructor=he,Object.defineProperty(he,"super",{value:pe.prototype}),Ne&&Object.assign(he.prototype,Ne)},L=(he,pe,Ne,Ae)=>{let Be,je,Qe;const yt={};if(pe=pe||{},he==null)return pe;do{for(Be=Object.getOwnPropertyNames(he),je=Be.length;je-- >0;)Qe=Be[je],(!Ae||Ae(Qe,he,pe))&&!yt[Qe]&&(pe[Qe]=he[Qe],yt[Qe]=!0);he=Ne!==!1&&k(he)}while(he&&(!Ne||Ne(he,pe))&&he!==Object.prototype);return pe},re=(he,pe,Ne)=>{he=String(he),(Ne===void 0||Ne>he.length)&&(Ne=he.length),Ne-=pe.length;const Ae=he.indexOf(pe,Ne);return Ae!==-1&&Ae===Ne},Le=he=>{if(!he)return null;if(p(he))return he;let pe=he.length;if(!v(pe))return null;const Ne=new Array(pe);for(;pe-- >0;)Ne[pe]=he[pe];return Ne},_e=(he=>pe=>he&&pe instanceof he)(typeof Uint8Array!="undefined"&&k(Uint8Array)),Ce=(he,pe)=>{const Ae=(he&&he[Symbol.iterator]).call(he);let Be;for(;(Be=Ae.next())&&!Be.done;){const je=Be.value;pe.call(he,je[0],je[1])}},Me=(he,pe)=>{let Ne;const Ae=[];for(;(Ne=he.exec(pe))!==null;)Ae.push(Ne);return Ae},J=l("HTMLFormElement"),ee=he=>he.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(Ne,Ae,Be){return Ae.toUpperCase()+Be}),ce=(({hasOwnProperty:he})=>(pe,Ne)=>he.call(pe,Ne))(Object.prototype),me=l("RegExp"),Se=(he,pe)=>{const Ne=Object.getOwnPropertyDescriptors(he),Ae={};o(Ne,(Be,je)=>{let Qe;(Qe=pe(Be,je,he))!==!1&&(Ae[je]=Qe||Be)}),Object.defineProperties(he,Ae)},O=he=>{Se(he,(pe,Ne)=>{if(g(he)&&["arguments","caller","callee"].indexOf(Ne)!==-1)return!1;const Ae=he[Ne];if(!!g(Ae)){if(pe.enumerable=!1,"writable"in pe){pe.writable=!1;return}pe.set||(pe.set=()=>{throw Error("Can not rewrite read-only method '"+Ne+"'")})}})},I=(he,pe)=>{const Ne={},Ae=Be=>{Be.forEach(je=>{Ne[je]=!0})};return p(he)?Ae(he):Ae(String(he).split(pe)),Ne},se=()=>{},ve=(he,pe)=>he!=null&&Number.isFinite(he=+he)?he:pe,we="abcdefghijklmnopqrstuvwxyz",ge="0123456789",xe={DIGIT:ge,ALPHA:we,ALPHA_DIGIT:we+we.toUpperCase()+ge},Ge=(he=16,pe=xe.ALPHA_DIGIT)=>{let Ne="";const{length:Ae}=pe;for(;he--;)Ne+=pe[Math.random()*Ae|0];return Ne};function ze(he){return!!(he&&g(he.append)&&he[Symbol.toStringTag]==="FormData"&&he[Symbol.iterator])}const Et=he=>{const pe=new Array(10),Ne=(Ae,Be)=>{if(T(Ae)){if(pe.indexOf(Ae)>=0)return;if(!("toJSON"in Ae)){pe[Be]=Ae;const je=p(Ae)?[]:{};return o(Ae,(Qe,yt)=>{const ei=Ne(Qe,Be+1);!_(ei)&&(je[yt]=ei)}),pe[Be]=void 0,je}}return Ae};return Ne(he,0)},tt=l("AsyncFunction"),at=he=>he&&(T(he)||g(he))&&g(he.then)&&g(he.catch),Tt=((he,pe)=>he?setImmediate:pe?((Ne,Ae)=>(A.addEventListener("message",({source:Be,data:je})=>{Be===A&&je===Ne&&Ae.length&&Ae.shift()()},!1),Be=>{Ae.push(Be),A.postMessage(Ne,"*")}))(`axios@${Math.random()}`,[]):Ne=>setTimeout(Ne))(typeof setImmediate=="function",g(A.postMessage)),ue=typeof queueMicrotask!="undefined"?queueMicrotask.bind(A):typeof R!="undefined"&&R.nextTick||Tt;var Q={isArray:p,isArrayBuffer:u,isBuffer:b,isFormData:K,isArrayBufferView:f,isString:m,isNumber:v,isBoolean:S,isObject:T,isPlainObject:x,isReadableStream:ne,isRequest:X,isResponse:M,isHeaders:G,isUndefined:_,isDate:D,isFile:z,isBlob:q,isRegExp:me,isFunction:g,isStream:j,isURLSearchParams:Y,isTypedArray:_e,isFileList:H,forEach:o,merge:$,extend:B,trim:C,stripBOM:Z,inherits:te,toFlatObject:L,kindOf:c,kindOfTest:l,endsWith:re,toArray:Le,forEachEntry:Ce,matchAll:Me,isHTMLForm:J,hasOwnProperty:ce,hasOwnProp:ce,reduceDescriptors:Se,freezeMethods:O,toObjectSet:I,toCamelCase:ee,noop:se,toFiniteNumber:ve,findKey:w,global:A,isContextDefined:U,ALPHABET:xe,generateString:Ge,isSpecCompliantForm:ze,toJSONObject:Et,isAsyncFn:tt,isThenable:at,setImmediate:Tt,asap:ue};function ae(he,pe,Ne,Ae,Be){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=he,this.name="AxiosError",pe&&(this.code=pe),Ne&&(this.config=Ne),Ae&&(this.request=Ae),Be&&(this.response=Be)}Q.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const be=ae.prototype,De={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(he=>{De[he]={value:he}}),Object.defineProperties(ae,De),Object.defineProperty(be,"isAxiosError",{value:!0}),ae.from=(he,pe,Ne,Ae,Be,je)=>{const Qe=Object.create(be);return Q.toFlatObject(he,Qe,function(ei){return ei!==Error.prototype},yt=>yt!=="isAxiosError"),ae.call(Qe,he.message,pe,Ne,Ae,Be),Qe.cause=he,Qe.name=he.name,je&&Object.assign(Qe,je),Qe};var Ke=null;function Ue(he){return Q.isPlainObject(he)||Q.isArray(he)}function et(he){return Q.endsWith(he,"[]")?he.slice(0,-2):he}function qt(he,pe,Ne){return he?he.concat(pe).map(function(Be,je){return Be=et(Be),!Ne&&je?"["+Be+"]":Be}).join(Ne?".":""):pe}function ot(he){return Q.isArray(he)&&!he.some(Ue)}const ut=Q.toFlatObject(Q,{},null,function(pe){return/^is[A-Z]/.test(pe)});function bt(he,pe,Ne){if(!Q.isObject(he))throw new TypeError("target must be an object");pe=pe||new FormData,Ne=Q.toFlatObject(Ne,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ii,di){return!Q.isUndefined(di[Ii])});const Ae=Ne.metaTokens,Be=Ne.visitor||zt,je=Ne.dots,Qe=Ne.indexes,ei=(Ne.Blob||typeof Blob!="undefined"&&Blob)&&Q.isSpecCompliantForm(pe);if(!Q.isFunction(Be))throw new TypeError("visitor must be a function");function Ot(_i){if(_i===null)return"";if(Q.isDate(_i))return _i.toISOString();if(!ei&&Q.isBlob(_i))throw new ae("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(_i)||Q.isTypedArray(_i)?ei&&typeof Blob=="function"?new Blob([_i]):Buffer.from(_i):_i}function zt(_i,Ii,di){let Nn=_i;if(_i&&!di&&typeof _i=="object"){if(Q.endsWith(Ii,"{}"))Ii=Ae?Ii:Ii.slice(0,-2),_i=JSON.stringify(_i);else if(Q.isArray(_i)&&ot(_i)||(Q.isFileList(_i)||Q.endsWith(Ii,"[]"))&&(Nn=Q.toArray(_i)))return Ii=et(Ii),Nn.forEach(function(qi,En){!(Q.isUndefined(qi)||qi===null)&&pe.append(Qe===!0?qt([Ii],En,je):Qe===null?Ii:Ii+"[]",Ot(qi))}),!1}return Ue(_i)?!0:(pe.append(qt(di,Ii,je),Ot(_i)),!1)}const hi=[],un=Object.assign(ut,{defaultVisitor:zt,convertValue:Ot,isVisitable:Ue});function mn(_i,Ii){if(!Q.isUndefined(_i)){if(hi.indexOf(_i)!==-1)throw Error("Circular reference detected in "+Ii.join("."));hi.push(_i),Q.forEach(_i,function(Nn,Dn){(!(Q.isUndefined(Nn)||Nn===null)&&Be.call(pe,Nn,Q.isString(Dn)?Dn.trim():Dn,Ii,un))===!0&&mn(Nn,Ii?Ii.concat(Dn):[Dn])}),hi.pop()}}if(!Q.isObject(he))throw new TypeError("data must be an object");return mn(he),pe}function Xe(he){const pe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(he).replace(/[!'()~]|%20|%00/g,function(Ae){return pe[Ae]})}function _t(he,pe){this._pairs=[],he&&bt(he,this,pe)}const vi=_t.prototype;vi.append=function(pe,Ne){this._pairs.push([pe,Ne])},vi.toString=function(pe){const Ne=pe?function(Ae){return pe.call(this,Ae,Xe)}:Xe;return this._pairs.map(function(Be){return Ne(Be[0])+"="+Ne(Be[1])},"").join("&")};function kt(he){return encodeURIComponent(he).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nt(he,pe,Ne){if(!pe)return he;const Ae=Ne&&Ne.encode||kt,Be=Ne&&Ne.serialize;let je;if(Be?je=Be(pe,Ne):je=Q.isURLSearchParams(pe)?pe.toString():new _t(pe,Ne).toString(Ae),je){const Qe=he.indexOf("#");Qe!==-1&&(he=he.slice(0,Qe)),he+=(he.indexOf("?")===-1?"?":"&")+je}return he}class zi{constructor(){this.handlers=[]}use(pe,Ne,Ae){return this.handlers.push({fulfilled:pe,rejected:Ne,synchronous:Ae?Ae.synchronous:!1,runWhen:Ae?Ae.runWhen:null}),this.handlers.length-1}eject(pe){this.handlers[pe]&&(this.handlers[pe]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(pe){Q.forEach(this.handlers,function(Ae){Ae!==null&&pe(Ae)})}}var It=zi,Ht={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jn=typeof URLSearchParams!="undefined"?URLSearchParams:_t,Yt=typeof FormData!="undefined"?FormData:null,jt=typeof Blob!="undefined"?Blob:null,Ln={isBrowser:!0,classes:{URLSearchParams:jn,FormData:Yt,Blob:jt},protocols:["http","https","file","blob","url","data"]};const Kt=typeof window!="undefined"&&typeof document!="undefined",Zt=(he=>Kt&&["ReactNative","NativeScript","NS"].indexOf(he)<0)(typeof navigator!="undefined"&&navigator.product),Ji=(()=>typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Oe=Kt&&window.location.href||"http://localhost";var We=Object.freeze({__proto__:null,hasBrowserEnv:Kt,hasStandardBrowserWebWorkerEnv:Ji,hasStandardBrowserEnv:Zt,origin:Oe}),wt={...We,...Ln};function ct(he,pe){return bt(he,new wt.classes.URLSearchParams,Object.assign({visitor:function(Ne,Ae,Be,je){return wt.isNode&&Q.isBuffer(Ne)?(this.append(Ae,Ne.toString("base64")),!1):je.defaultVisitor.apply(this,arguments)}},pe))}function gt(he){return Q.matchAll(/\w+|\[(\w*)]/g,he).map(pe=>pe[0]==="[]"?"":pe[1]||pe[0])}function si(he){const pe={},Ne=Object.keys(he);let Ae;const Be=Ne.length;let je;for(Ae=0;Ae<Be;Ae++)je=Ne[Ae],pe[je]=he[je];return pe}function xt(he){function pe(Ne,Ae,Be,je){let Qe=Ne[je++];if(Qe==="__proto__")return!0;const yt=Number.isFinite(+Qe),ei=je>=Ne.length;return Qe=!Qe&&Q.isArray(Be)?Be.length:Qe,ei?(Q.hasOwnProp(Be,Qe)?Be[Qe]=[Be[Qe],Ae]:Be[Qe]=Ae,!yt):((!Be[Qe]||!Q.isObject(Be[Qe]))&&(Be[Qe]=[]),pe(Ne,Ae,Be[Qe],je)&&Q.isArray(Be[Qe])&&(Be[Qe]=si(Be[Qe])),!yt)}if(Q.isFormData(he)&&Q.isFunction(he.entries)){const Ne={};return Q.forEachEntry(he,(Ae,Be)=>{pe(gt(Ae),Be,Ne,0)}),Ne}return null}function Ut(he,pe,Ne){if(Q.isString(he))try{return(pe||JSON.parse)(he),Q.trim(he)}catch(Ae){if(Ae.name!=="SyntaxError")throw Ae}return(Ne||JSON.stringify)(he)}const Ft={transitional:Ht,adapter:["xhr","http","fetch"],transformRequest:[function(pe,Ne){const Ae=Ne.getContentType()||"",Be=Ae.indexOf("application/json")>-1,je=Q.isObject(pe);if(je&&Q.isHTMLForm(pe)&&(pe=new FormData(pe)),Q.isFormData(pe))return Be?JSON.stringify(xt(pe)):pe;if(Q.isArrayBuffer(pe)||Q.isBuffer(pe)||Q.isStream(pe)||Q.isFile(pe)||Q.isBlob(pe)||Q.isReadableStream(pe))return pe;if(Q.isArrayBufferView(pe))return pe.buffer;if(Q.isURLSearchParams(pe))return Ne.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),pe.toString();let yt;if(je){if(Ae.indexOf("application/x-www-form-urlencoded")>-1)return ct(pe,this.formSerializer).toString();if((yt=Q.isFileList(pe))||Ae.indexOf("multipart/form-data")>-1){const ei=this.env&&this.env.FormData;return bt(yt?{"files[]":pe}:pe,ei&&new ei,this.formSerializer)}}return je||Be?(Ne.setContentType("application/json",!1),Ut(pe)):pe}],transformResponse:[function(pe){const Ne=this.transitional||Ft.transitional,Ae=Ne&&Ne.forcedJSONParsing,Be=this.responseType==="json";if(Q.isResponse(pe)||Q.isReadableStream(pe))return pe;if(pe&&Q.isString(pe)&&(Ae&&!this.responseType||Be)){const Qe=!(Ne&&Ne.silentJSONParsing)&&Be;try{return JSON.parse(pe)}catch(yt){if(Qe)throw yt.name==="SyntaxError"?ae.from(yt,ae.ERR_BAD_RESPONSE,this,null,this.response):yt}}return pe}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(pe){return pe>=200&&pe<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],he=>{Ft.headers[he]={}});var pt=Ft;const St=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Mt=he=>{const pe={};let Ne,Ae,Be;return he&&he.split(`
`).forEach(function(Qe){Be=Qe.indexOf(":"),Ne=Qe.substring(0,Be).trim().toLowerCase(),Ae=Qe.substring(Be+1).trim(),!(!Ne||pe[Ne]&&St[Ne])&&(Ne==="set-cookie"?pe[Ne]?pe[Ne].push(Ae):pe[Ne]=[Ae]:pe[Ne]=pe[Ne]?pe[Ne]+", "+Ae:Ae)}),pe};const mi=Symbol("internals");function ii(he){return he&&String(he).trim().toLowerCase()}function Lt(he){return he===!1||he==null?he:Q.isArray(he)?he.map(Lt):String(he)}function ai(he){const pe=Object.create(null),Ne=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Ae;for(;Ae=Ne.exec(he);)pe[Ae[1]]=Ae[2];return pe}const gi=he=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(he.trim());function Mi(he,pe,Ne,Ae,Be){if(Q.isFunction(Ae))return Ae.call(this,pe,Ne);if(Be&&(pe=Ne),!!Q.isString(pe)){if(Q.isString(Ae))return pe.indexOf(Ae)!==-1;if(Q.isRegExp(Ae))return Ae.test(pe)}}function xi(he){return he.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(pe,Ne,Ae)=>Ne.toUpperCase()+Ae)}function Wi(he,pe){const Ne=Q.toCamelCase(" "+pe);["get","set","has"].forEach(Ae=>{Object.defineProperty(he,Ae+Ne,{value:function(Be,je,Qe){return this[Ae].call(this,pe,Be,je,Qe)},configurable:!0})})}class Ui{constructor(pe){pe&&this.set(pe)}set(pe,Ne,Ae){const Be=this;function je(yt,ei,Ot){const zt=ii(ei);if(!zt)throw new Error("header name must be a non-empty string");const hi=Q.findKey(Be,zt);(!hi||Be[hi]===void 0||Ot===!0||Ot===void 0&&Be[hi]!==!1)&&(Be[hi||ei]=Lt(yt))}const Qe=(yt,ei)=>Q.forEach(yt,(Ot,zt)=>je(Ot,zt,ei));if(Q.isPlainObject(pe)||pe instanceof this.constructor)Qe(pe,Ne);else if(Q.isString(pe)&&(pe=pe.trim())&&!gi(pe))Qe(Mt(pe),Ne);else if(Q.isHeaders(pe))for(const[yt,ei]of pe.entries())je(ei,yt,Ae);else pe!=null&&je(Ne,pe,Ae);return this}get(pe,Ne){if(pe=ii(pe),pe){const Ae=Q.findKey(this,pe);if(Ae){const Be=this[Ae];if(!Ne)return Be;if(Ne===!0)return ai(Be);if(Q.isFunction(Ne))return Ne.call(this,Be,Ae);if(Q.isRegExp(Ne))return Ne.exec(Be);throw new TypeError("parser must be boolean|regexp|function")}}}has(pe,Ne){if(pe=ii(pe),pe){const Ae=Q.findKey(this,pe);return!!(Ae&&this[Ae]!==void 0&&(!Ne||Mi(this,this[Ae],Ae,Ne)))}return!1}delete(pe,Ne){const Ae=this;let Be=!1;function je(Qe){if(Qe=ii(Qe),Qe){const yt=Q.findKey(Ae,Qe);yt&&(!Ne||Mi(Ae,Ae[yt],yt,Ne))&&(delete Ae[yt],Be=!0)}}return Q.isArray(pe)?pe.forEach(je):je(pe),Be}clear(pe){const Ne=Object.keys(this);let Ae=Ne.length,Be=!1;for(;Ae--;){const je=Ne[Ae];(!pe||Mi(this,this[je],je,pe,!0))&&(delete this[je],Be=!0)}return Be}normalize(pe){const Ne=this,Ae={};return Q.forEach(this,(Be,je)=>{const Qe=Q.findKey(Ae,je);if(Qe){Ne[Qe]=Lt(Be),delete Ne[je];return}const yt=pe?xi(je):String(je).trim();yt!==je&&delete Ne[je],Ne[yt]=Lt(Be),Ae[yt]=!0}),this}concat(...pe){return this.constructor.concat(this,...pe)}toJSON(pe){const Ne=Object.create(null);return Q.forEach(this,(Ae,Be)=>{Ae!=null&&Ae!==!1&&(Ne[Be]=pe&&Q.isArray(Ae)?Ae.join(", "):Ae)}),Ne}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([pe,Ne])=>pe+": "+Ne).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(pe){return pe instanceof this?pe:new this(pe)}static concat(pe,...Ne){const Ae=new this(pe);return Ne.forEach(Be=>Ae.set(Be)),Ae}static accessor(pe){const Ae=(this[mi]=this[mi]={accessors:{}}).accessors,Be=this.prototype;function je(Qe){const yt=ii(Qe);Ae[yt]||(Wi(Be,Qe),Ae[yt]=!0)}return Q.isArray(pe)?pe.forEach(je):je(pe),this}}Ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Q.reduceDescriptors(Ui.prototype,({value:he},pe)=>{let Ne=pe[0].toUpperCase()+pe.slice(1);return{get:()=>he,set(Ae){this[Ne]=Ae}}}),Q.freezeMethods(Ui);var Ni=Ui;function Oi(he,pe){const Ne=this||pt,Ae=pe||Ne,Be=Ni.from(Ae.headers);let je=Ae.data;return Q.forEach(he,function(yt){je=yt.call(Ne,je,Be.normalize(),pe?pe.status:void 0)}),Be.normalize(),je}function Vt(he){return!!(he&&he.__CANCEL__)}function ri(he,pe,Ne){ae.call(this,he==null?"canceled":he,ae.ERR_CANCELED,pe,Ne),this.name="CanceledError"}Q.inherits(ri,ae,{__CANCEL__:!0});function Ri(he,pe,Ne){const Ae=Ne.config.validateStatus;!Ne.status||!Ae||Ae(Ne.status)?he(Ne):pe(new ae("Request failed with status code "+Ne.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(Ne.status/100)-4],Ne.config,Ne.request,Ne))}function Hi(he){const pe=/^([-+\w]{1,25})(:?\/\/|:)/.exec(he);return pe&&pe[1]||""}function bi(he,pe){he=he||10;const Ne=new Array(he),Ae=new Array(he);let Be=0,je=0,Qe;return pe=pe!==void 0?pe:1e3,function(ei){const Ot=Date.now(),zt=Ae[je];Qe||(Qe=Ot),Ne[Be]=ei,Ae[Be]=Ot;let hi=je,un=0;for(;hi!==Be;)un+=Ne[hi++],hi=hi%he;if(Be=(Be+1)%he,Be===je&&(je=(je+1)%he),Ot-Qe<pe)return;const mn=zt&&Ot-zt;return mn?Math.round(un*1e3/mn):void 0}}function Ai(he,pe){let Ne=0,Ae=1e3/pe,Be,je;const Qe=(Ot,zt=Date.now())=>{Ne=zt,Be=null,je&&(clearTimeout(je),je=null),he.apply(null,Ot)};return[(...Ot)=>{const zt=Date.now(),hi=zt-Ne;hi>=Ae?Qe(Ot,zt):(Be=Ot,je||(je=setTimeout(()=>{je=null,Qe(Be)},Ae-hi)))},()=>Be&&Qe(Be)]}const $i=(he,pe,Ne=3)=>{let Ae=0;const Be=bi(50,250);return Ai(je=>{const Qe=je.loaded,yt=je.lengthComputable?je.total:void 0,ei=Qe-Ae,Ot=Be(ei),zt=Qe<=yt;Ae=Qe;const hi={loaded:Qe,total:yt,progress:yt?Qe/yt:void 0,bytes:ei,rate:Ot||void 0,estimated:Ot&&yt&&zt?(yt-Qe)/Ot:void 0,event:je,lengthComputable:yt!=null,[pe?"download":"upload"]:!0};he(hi)},Ne)},sn=(he,pe)=>{const Ne=he!=null;return[Ae=>pe[0]({lengthComputable:Ne,total:he,loaded:Ae}),pe[1]]},Bi=he=>(...pe)=>Q.asap(()=>he(...pe));var _n=wt.hasStandardBrowserEnv?function(){const pe=/(msie|trident)/i.test(navigator.userAgent),Ne=document.createElement("a");let Ae;function Be(je){let Qe=je;return pe&&(Ne.setAttribute("href",Qe),Qe=Ne.href),Ne.setAttribute("href",Qe),{href:Ne.href,protocol:Ne.protocol?Ne.protocol.replace(/:$/,""):"",host:Ne.host,search:Ne.search?Ne.search.replace(/^\?/,""):"",hash:Ne.hash?Ne.hash.replace(/^#/,""):"",hostname:Ne.hostname,port:Ne.port,pathname:Ne.pathname.charAt(0)==="/"?Ne.pathname:"/"+Ne.pathname}}return Ae=Be(window.location.href),function(Qe){const yt=Q.isString(Qe)?Be(Qe):Qe;return yt.protocol===Ae.protocol&&yt.host===Ae.host}}():function(){return function(){return!0}}(),Pn=wt.hasStandardBrowserEnv?{write(he,pe,Ne,Ae,Be,je){const Qe=[he+"="+encodeURIComponent(pe)];Q.isNumber(Ne)&&Qe.push("expires="+new Date(Ne).toGMTString()),Q.isString(Ae)&&Qe.push("path="+Ae),Q.isString(Be)&&Qe.push("domain="+Be),je===!0&&Qe.push("secure"),document.cookie=Qe.join("; ")},read(he){const pe=document.cookie.match(new RegExp("(^|;\\s*)("+he+")=([^;]*)"));return pe?decodeURIComponent(pe[3]):null},remove(he){this.write(he,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rn(he){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(he)}function Rn(he,pe){return pe?he.replace(/\/?\/$/,"")+"/"+pe.replace(/^\/+/,""):he}function on(he,pe){return he&&!rn(pe)?Rn(he,pe):pe}const hn=he=>he instanceof Ni?{...he}:he;function Si(he,pe){pe=pe||{};const Ne={};function Ae(Ot,zt,hi){return Q.isPlainObject(Ot)&&Q.isPlainObject(zt)?Q.merge.call({caseless:hi},Ot,zt):Q.isPlainObject(zt)?Q.merge({},zt):Q.isArray(zt)?zt.slice():zt}function Be(Ot,zt,hi){if(Q.isUndefined(zt)){if(!Q.isUndefined(Ot))return Ae(void 0,Ot,hi)}else return Ae(Ot,zt,hi)}function je(Ot,zt){if(!Q.isUndefined(zt))return Ae(void 0,zt)}function Qe(Ot,zt){if(Q.isUndefined(zt)){if(!Q.isUndefined(Ot))return Ae(void 0,Ot)}else return Ae(void 0,zt)}function yt(Ot,zt,hi){if(hi in pe)return Ae(Ot,zt);if(hi in he)return Ae(void 0,Ot)}const ei={url:je,method:je,data:je,baseURL:Qe,transformRequest:Qe,transformResponse:Qe,paramsSerializer:Qe,timeout:Qe,timeoutMessage:Qe,withCredentials:Qe,withXSRFToken:Qe,adapter:Qe,responseType:Qe,xsrfCookieName:Qe,xsrfHeaderName:Qe,onUploadProgress:Qe,onDownloadProgress:Qe,decompress:Qe,maxContentLength:Qe,maxBodyLength:Qe,beforeRedirect:Qe,transport:Qe,httpAgent:Qe,httpsAgent:Qe,cancelToken:Qe,socketPath:Qe,responseEncoding:Qe,validateStatus:yt,headers:(Ot,zt)=>Be(hn(Ot),hn(zt),!0)};return Q.forEach(Object.keys(Object.assign({},he,pe)),function(zt){const hi=ei[zt]||Be,un=hi(he[zt],pe[zt],zt);Q.isUndefined(un)&&hi!==yt||(Ne[zt]=un)}),Ne}var wi=he=>{const pe=Si({},he);let{data:Ne,withXSRFToken:Ae,xsrfHeaderName:Be,xsrfCookieName:je,headers:Qe,auth:yt}=pe;pe.headers=Qe=Ni.from(Qe),pe.url=Nt(on(pe.baseURL,pe.url),he.params,he.paramsSerializer),yt&&Qe.set("Authorization","Basic "+btoa((yt.username||"")+":"+(yt.password?unescape(encodeURIComponent(yt.password)):"")));let ei;if(Q.isFormData(Ne)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)Qe.setContentType(void 0);else if((ei=Qe.getContentType())!==!1){const[Ot,...zt]=ei?ei.split(";").map(hi=>hi.trim()).filter(Boolean):[];Qe.setContentType([Ot||"multipart/form-data",...zt].join("; "))}}if(wt.hasStandardBrowserEnv&&(Ae&&Q.isFunction(Ae)&&(Ae=Ae(pe)),Ae||Ae!==!1&&_n(pe.url))){const Ot=Be&&je&&Pn.read(je);Ot&&Qe.set(Be,Ot)}return pe},Ar=typeof XMLHttpRequest!="undefined"&&function(he){return new Promise(function(Ne,Ae){const Be=wi(he);let je=Be.data;const Qe=Ni.from(Be.headers).normalize();let{responseType:yt,onUploadProgress:ei,onDownloadProgress:Ot}=Be,zt,hi,un,mn,_i;function Ii(){mn&&mn(),_i&&_i(),Be.cancelToken&&Be.cancelToken.unsubscribe(zt),Be.signal&&Be.signal.removeEventListener("abort",zt)}let di=new XMLHttpRequest;di.open(Be.method.toUpperCase(),Be.url,!0),di.timeout=Be.timeout;function Nn(){if(!di)return;const qi=Ni.from("getAllResponseHeaders"in di&&di.getAllResponseHeaders()),ur={data:!yt||yt==="text"||yt==="json"?di.responseText:di.response,status:di.status,statusText:di.statusText,headers:qi,config:he,request:di};Ri(function(wr){Ne(wr),Ii()},function(wr){Ae(wr),Ii()},ur),di=null}"onloadend"in di?di.onloadend=Nn:di.onreadystatechange=function(){!di||di.readyState!==4||di.status===0&&!(di.responseURL&&di.responseURL.indexOf("file:")===0)||setTimeout(Nn)},di.onabort=function(){!di||(Ae(new ae("Request aborted",ae.ECONNABORTED,he,di)),di=null)},di.onerror=function(){Ae(new ae("Network Error",ae.ERR_NETWORK,he,di)),di=null},di.ontimeout=function(){let En=Be.timeout?"timeout of "+Be.timeout+"ms exceeded":"timeout exceeded";const ur=Be.transitional||Ht;Be.timeoutErrorMessage&&(En=Be.timeoutErrorMessage),Ae(new ae(En,ur.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,he,di)),di=null},je===void 0&&Qe.setContentType(null),"setRequestHeader"in di&&Q.forEach(Qe.toJSON(),function(En,ur){di.setRequestHeader(ur,En)}),Q.isUndefined(Be.withCredentials)||(di.withCredentials=!!Be.withCredentials),yt&&yt!=="json"&&(di.responseType=Be.responseType),Ot&&([un,_i]=$i(Ot,!0),di.addEventListener("progress",un)),ei&&di.upload&&([hi,mn]=$i(ei),di.upload.addEventListener("progress",hi),di.upload.addEventListener("loadend",mn)),(Be.cancelToken||Be.signal)&&(zt=qi=>{!di||(Ae(!qi||qi.type?new ri(null,he,di):qi),di.abort(),di=null)},Be.cancelToken&&Be.cancelToken.subscribe(zt),Be.signal&&(Be.signal.aborted?zt():Be.signal.addEventListener("abort",zt)));const Dn=Hi(Be.url);if(Dn&&wt.protocols.indexOf(Dn)===-1){Ae(new ae("Unsupported protocol "+Dn+":",ae.ERR_BAD_REQUEST,he));return}di.send(je||null)})},xr=(he,pe)=>{let Ne=new AbortController,Ae;const Be=function(ei){if(!Ae){Ae=!0,Qe();const Ot=ei instanceof Error?ei:this.reason;Ne.abort(Ot instanceof ae?Ot:new ri(Ot instanceof Error?Ot.message:Ot))}};let je=pe&&setTimeout(()=>{Be(new ae(`timeout ${pe} of ms exceeded`,ae.ETIMEDOUT))},pe);const Qe=()=>{he&&(je&&clearTimeout(je),je=null,he.forEach(ei=>{ei&&(ei.removeEventListener?ei.removeEventListener("abort",Be):ei.unsubscribe(Be))}),he=null)};he.forEach(ei=>ei&&ei.addEventListener&&ei.addEventListener("abort",Be));const{signal:yt}=Ne;return yt.unsubscribe=Qe,[yt,()=>{je&&clearTimeout(je),je=null}]};const Yn=function*(he,pe){let Ne=he.byteLength;if(!pe||Ne<pe){yield he;return}let Ae=0,Be;for(;Ae<Ne;)Be=Ae+pe,yield he.slice(Ae,Be),Ae=Be},Lr=async function*(he,pe,Ne){for await(const Ae of he)yield*Yn(ArrayBuffer.isView(Ae)?Ae:await Ne(String(Ae)),pe)},kr=(he,pe,Ne,Ae,Be)=>{const je=Lr(he,pe,Be);let Qe=0,yt,ei=Ot=>{yt||(yt=!0,Ae&&Ae(Ot))};return new ReadableStream({async pull(Ot){try{const{done:zt,value:hi}=await je.next();if(zt){ei(),Ot.close();return}let un=hi.byteLength;if(Ne){let mn=Qe+=un;Ne(mn)}Ot.enqueue(new Uint8Array(hi))}catch(zt){throw ei(zt),zt}},cancel(Ot){return ei(Ot),je.return()}},{highWaterMark:2})},pn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Wn=pn&&typeof ReadableStream=="function",Jn=pn&&(typeof TextEncoder=="function"?(he=>pe=>he.encode(pe))(new TextEncoder):async he=>new Uint8Array(await new Response(he).arrayBuffer())),Un=(he,...pe)=>{try{return!!he(...pe)}catch(Ne){return!1}},Ki=Wn&&Un(()=>{let he=!1;const pe=new Request(wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return he=!0,"half"}}).headers.has("Content-Type");return he&&!pe}),xn=64*1024,Gi=Wn&&Un(()=>Q.isReadableStream(new Response("").body)),Xi={stream:Gi&&(he=>he.body)};pn&&(he=>{["text","arrayBuffer","blob","formData","stream"].forEach(pe=>{!Xi[pe]&&(Xi[pe]=Q.isFunction(he[pe])?Ne=>Ne[pe]():(Ne,Ae)=>{throw new ae(`Response type '${pe}' is not supported`,ae.ERR_NOT_SUPPORT,Ae)})})})(new Response);const nr=async he=>{if(he==null)return 0;if(Q.isBlob(he))return he.size;if(Q.isSpecCompliantForm(he))return(await new Request(he).arrayBuffer()).byteLength;if(Q.isArrayBufferView(he)||Q.isArrayBuffer(he))return he.byteLength;if(Q.isURLSearchParams(he)&&(he=he+""),Q.isString(he))return(await Jn(he)).byteLength},Sr=async(he,pe)=>{const Ne=Q.toFiniteNumber(he.getContentLength());return Ne==null?nr(pe):Ne};var ta=pn&&(async he=>{let{url:pe,method:Ne,data:Ae,signal:Be,cancelToken:je,timeout:Qe,onDownloadProgress:yt,onUploadProgress:ei,responseType:Ot,headers:zt,withCredentials:hi="same-origin",fetchOptions:un}=wi(he);Ot=Ot?(Ot+"").toLowerCase():"text";let[mn,_i]=Be||je||Qe?xr([Be,je],Qe):[],Ii,di;const Nn=()=>{!Ii&&setTimeout(()=>{mn&&mn.unsubscribe()}),Ii=!0};let Dn;try{if(ei&&Ki&&Ne!=="get"&&Ne!=="head"&&(Dn=await Sr(zt,Ae))!==0){let cn=new Request(pe,{method:"POST",body:Ae,duplex:"half"}),wr;if(Q.isFormData(Ae)&&(wr=cn.headers.get("content-type"))&&zt.setContentType(wr),cn.body){const[zr,In]=sn(Dn,$i(Bi(ei)));Ae=kr(cn.body,xn,zr,In,Jn)}}Q.isString(hi)||(hi=hi?"include":"omit"),di=new Request(pe,{...un,signal:mn,method:Ne.toUpperCase(),headers:zt.normalize().toJSON(),body:Ae,duplex:"half",credentials:hi});let qi=await fetch(di);const En=Gi&&(Ot==="stream"||Ot==="response");if(Gi&&(yt||En)){const cn={};["status","statusText","headers"].forEach(ln=>{cn[ln]=qi[ln]});const wr=Q.toFiniteNumber(qi.headers.get("content-length")),[zr,In]=yt&&sn(wr,$i(Bi(yt),!0))||[];qi=new Response(kr(qi.body,xn,zr,()=>{In&&In(),En&&Nn()},Jn),cn)}Ot=Ot||"text";let ur=await Xi[Q.findKey(Xi,Ot)||"text"](qi,he);return!En&&Nn(),_i&&_i(),await new Promise((cn,wr)=>{Ri(cn,wr,{data:ur,headers:Ni.from(qi.headers),status:qi.status,statusText:qi.statusText,config:he,request:di})})}catch(qi){throw Nn(),qi&&qi.name==="TypeError"&&/fetch/i.test(qi.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,he,di),{cause:qi.cause||qi}):ae.from(qi,qi&&qi.code,he,di)}});const bn={http:Ke,xhr:Ar,fetch:ta};Q.forEach(bn,(he,pe)=>{if(he){try{Object.defineProperty(he,"name",{value:pe})}catch(Ne){}Object.defineProperty(he,"adapterName",{value:pe})}});const fa=he=>`- ${he}`,Rr=he=>Q.isFunction(he)||he===null||he===!1;var yn={getAdapter:he=>{he=Q.isArray(he)?he:[he];const{length:pe}=he;let Ne,Ae;const Be={};for(let je=0;je<pe;je++){Ne=he[je];let Qe;if(Ae=Ne,!Rr(Ne)&&(Ae=bn[(Qe=String(Ne)).toLowerCase()],Ae===void 0))throw new ae(`Unknown adapter '${Qe}'`);if(Ae)break;Be[Qe||"#"+je]=Ae}if(!Ae){const je=Object.entries(Be).map(([yt,ei])=>`adapter ${yt} `+(ei===!1?"is not supported by the environment":"is not available in the build"));let Qe=pe?je.length>1?`since :
`+je.map(fa).join(`
`):" "+fa(je[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+Qe,"ERR_NOT_SUPPORT")}return Ae},adapters:bn};function Ur(he){if(he.cancelToken&&he.cancelToken.throwIfRequested(),he.signal&&he.signal.aborted)throw new ri(null,he)}function jr(he){return Ur(he),he.headers=Ni.from(he.headers),he.data=Oi.call(he,he.transformRequest),["post","put","patch"].indexOf(he.method)!==-1&&he.headers.setContentType("application/x-www-form-urlencoded",!1),yn.getAdapter(he.adapter||pt.adapter)(he).then(function(Ae){return Ur(he),Ae.data=Oi.call(he,he.transformResponse,Ae),Ae.headers=Ni.from(Ae.headers),Ae},function(Ae){return Vt(Ae)||(Ur(he),Ae&&Ae.response&&(Ae.response.data=Oi.call(he,he.transformResponse,Ae.response),Ae.response.headers=Ni.from(Ae.response.headers))),Promise.reject(Ae)})}const kn="1.7.4",lr={};["object","boolean","number","function","string","symbol"].forEach((he,pe)=>{lr[he]=function(Ae){return typeof Ae===he||"a"+(pe<1?"n ":" ")+he}});const $e={};lr.transitional=function(pe,Ne,Ae){function Be(je,Qe){return"[Axios v"+kn+"] Transitional option '"+je+"'"+Qe+(Ae?". "+Ae:"")}return(je,Qe,yt)=>{if(pe===!1)throw new ae(Be(Qe," has been removed"+(Ne?" in "+Ne:"")),ae.ERR_DEPRECATED);return Ne&&!$e[Qe]&&($e[Qe]=!0,console.warn(Be(Qe," has been deprecated since v"+Ne+" and will be removed in the near future"))),pe?pe(je,Qe,yt):!0}};function ht(he,pe,Ne){if(typeof he!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const Ae=Object.keys(he);let Be=Ae.length;for(;Be-- >0;){const je=Ae[Be],Qe=pe[je];if(Qe){const yt=he[je],ei=yt===void 0||Qe(yt,je,he);if(ei!==!0)throw new ae("option "+je+" must be "+ei,ae.ERR_BAD_OPTION_VALUE);continue}if(Ne!==!0)throw new ae("Unknown option "+je,ae.ERR_BAD_OPTION)}}var vt={assertOptions:ht,validators:lr};const Rt=vt.validators;class nt{constructor(pe){this.defaults=pe,this.interceptors={request:new It,response:new It}}async request(pe,Ne){try{return await this._request(pe,Ne)}catch(Ae){if(Ae instanceof Error){let Be;Error.captureStackTrace?Error.captureStackTrace(Be={}):Be=new Error;const je=Be.stack?Be.stack.replace(/^.+\n/,""):"";try{Ae.stack?je&&!String(Ae.stack).endsWith(je.replace(/^.+\n.+\n/,""))&&(Ae.stack+=`
`+je):Ae.stack=je}catch(Qe){}}throw Ae}}_request(pe,Ne){typeof pe=="string"?(Ne=Ne||{},Ne.url=pe):Ne=pe||{},Ne=Si(this.defaults,Ne);const{transitional:Ae,paramsSerializer:Be,headers:je}=Ne;Ae!==void 0&&vt.assertOptions(Ae,{silentJSONParsing:Rt.transitional(Rt.boolean),forcedJSONParsing:Rt.transitional(Rt.boolean),clarifyTimeoutError:Rt.transitional(Rt.boolean)},!1),Be!=null&&(Q.isFunction(Be)?Ne.paramsSerializer={serialize:Be}:vt.assertOptions(Be,{encode:Rt.function,serialize:Rt.function},!0)),Ne.method=(Ne.method||this.defaults.method||"get").toLowerCase();let Qe=je&&Q.merge(je.common,je[Ne.method]);je&&Q.forEach(["delete","get","head","post","put","patch","common"],_i=>{delete je[_i]}),Ne.headers=Ni.concat(Qe,je);const yt=[];let ei=!0;this.interceptors.request.forEach(function(Ii){typeof Ii.runWhen=="function"&&Ii.runWhen(Ne)===!1||(ei=ei&&Ii.synchronous,yt.unshift(Ii.fulfilled,Ii.rejected))});const Ot=[];this.interceptors.response.forEach(function(Ii){Ot.push(Ii.fulfilled,Ii.rejected)});let zt,hi=0,un;if(!ei){const _i=[jr.bind(this),void 0];for(_i.unshift.apply(_i,yt),_i.push.apply(_i,Ot),un=_i.length,zt=Promise.resolve(Ne);hi<un;)zt=zt.then(_i[hi++],_i[hi++]);return zt}un=yt.length;let mn=Ne;for(hi=0;hi<un;){const _i=yt[hi++],Ii=yt[hi++];try{mn=_i(mn)}catch(di){Ii.call(this,di);break}}try{zt=jr.call(this,mn)}catch(_i){return Promise.reject(_i)}for(hi=0,un=Ot.length;hi<un;)zt=zt.then(Ot[hi++],Ot[hi++]);return zt}getUri(pe){pe=Si(this.defaults,pe);const Ne=on(pe.baseURL,pe.url);return Nt(Ne,pe.params,pe.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(pe){nt.prototype[pe]=function(Ne,Ae){return this.request(Si(Ae||{},{method:pe,url:Ne,data:(Ae||{}).data}))}}),Q.forEach(["post","put","patch"],function(pe){function Ne(Ae){return function(je,Qe,yt){return this.request(Si(yt||{},{method:pe,headers:Ae?{"Content-Type":"multipart/form-data"}:{},url:je,data:Qe}))}}nt.prototype[pe]=Ne(),nt.prototype[pe+"Form"]=Ne(!0)});var pi=nt;class fi{constructor(pe){if(typeof pe!="function")throw new TypeError("executor must be a function.");let Ne;this.promise=new Promise(function(je){Ne=je});const Ae=this;this.promise.then(Be=>{if(!Ae._listeners)return;let je=Ae._listeners.length;for(;je-- >0;)Ae._listeners[je](Be);Ae._listeners=null}),this.promise.then=Be=>{let je;const Qe=new Promise(yt=>{Ae.subscribe(yt),je=yt}).then(Be);return Qe.cancel=function(){Ae.unsubscribe(je)},Qe},pe(function(je,Qe,yt){Ae.reason||(Ae.reason=new ri(je,Qe,yt),Ne(Ae.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(pe){if(this.reason){pe(this.reason);return}this._listeners?this._listeners.push(pe):this._listeners=[pe]}unsubscribe(pe){if(!this._listeners)return;const Ne=this._listeners.indexOf(pe);Ne!==-1&&this._listeners.splice(Ne,1)}static source(){let pe;return{token:new fi(function(Be){pe=Be}),cancel:pe}}}var Ye=fi;function dt(he){return function(Ne){return he.apply(null,Ne)}}function Ze(he){return Q.isObject(he)&&he.isAxiosError===!0}const Dt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dt).forEach(([he,pe])=>{Dt[pe]=he});var Qt=Dt;function ci(he){const pe=new pi(he),Ne=P(pi.prototype.request,pe);return Q.extend(Ne,pi.prototype,pe,{allOwnKeys:!0}),Q.extend(Ne,pe,null,{allOwnKeys:!0}),Ne.create=function(Be){return ci(Si(he,Be))},Ne}const Jt=ci(pt);Jt.Axios=pi,Jt.CanceledError=ri,Jt.CancelToken=Ye,Jt.isCancel=Vt,Jt.VERSION=kn,Jt.toFormData=bt,Jt.AxiosError=ae,Jt.Cancel=Jt.CanceledError,Jt.all=function(pe){return Promise.all(pe)},Jt.spread=dt,Jt.isAxiosError=Ze,Jt.mergeConfig=Si,Jt.AxiosHeaders=Ni,Jt.formToJSON=he=>xt(Q.isHTMLForm(he)?new FormData(he):he),Jt.getAdapter=yn.getAdapter,Jt.HttpStatusCode=Qt,Jt.default=Jt,a.exports=Jt},3219:a=>{"use strict";a.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:a=>{"use strict";a.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:a=>{"use strict";a.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:a=>{"use strict";a.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:a=>{"use strict";a.exports={rE:"6.5.7"}},15579:a=>{"use strict";a.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Ba={};function ni(a){var V=Ba[a];if(V!==void 0)return V.exports;var E=Ba[a]={id:a,loaded:!1,exports:{}};return mo[a].call(E.exports,E,E.exports,ni),E.loaded=!0,E.exports}(()=>{ni.n=a=>{var V=a&&a.__esModule?()=>a.default:()=>a;return ni.d(V,{a:V}),V}})(),(()=>{ni.d=(a,V)=>{for(var E in V)ni.o(V,E)&&!ni.o(a,E)&&Object.defineProperty(a,E,{enumerable:!0,get:V[E]})}})(),(()=>{ni.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}()})(),(()=>{ni.hmd=a=>(a=Object.create(a),a.children||(a.children=[]),Object.defineProperty(a,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+a.id)}}),a)})(),(()=>{ni.o=(a,V)=>Object.prototype.hasOwnProperty.call(a,V)})(),(()=>{ni.r=a=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}})(),(()=>{ni.nmd=a=>(a.paths=[],a.children||(a.children=[]),a)})();var Pu={};(()=>{"use strict";ni.r(Pu),ni.d(Pu,{activate:()=>f1,deactivate:()=>v1});var a=ni(91398);const V=async(t,e,i)=>{const n=await Promise.resolve().then(ni.bind(ni,14523)),r=await Promise.resolve().then(ni.bind(ni,28643)),s=new n.AppInsightsCore,d=new r.PostChannel,y={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[d]]};if(i){y.extensionConfig={};const ie={alwaysUseXhrOverride:!0,httpXHROverride:i};y.extensionConfig[d.identifier]=ie}const W=e.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(y,[]),s.addTelemetryInitializer(ie=>{var le,de;!W||(ie.ext=(le=ie.ext)!=null?le:{},ie.ext.utc=(de=ie.ext.utc)!=null?de:{},ie.ext.utc.flags=8462029)}),s},E=async(t,e,i)=>{const n=await V(t,e,i);return{logEvent:(s,d)=>{try{n==null||n.track({name:s,baseData:{name:s,properties:d==null?void 0:d.properties,measurements:d==null?void 0:d.measurements}})}catch(y){throw new Error(`Failed to log event to app insights!
`+y.message)}},flush:async()=>{try{n==null||n.unload()}catch(s){throw new Error(`Failed to flush app insights!
`+s.message)}}}};var R;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})(R||(R={}));class P{constructor(e,i){this._instantiationStatus=R.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=i,this._key=e}sendEventData(e,i){if(!this._telemetryClient){this._instantiationStatus!==R.INSTANTIATED&&this._eventQueue.push({eventName:e,data:i});return}this._telemetryClient.logEvent(e,i)}sendErrorData(e,i){if(!this._telemetryClient){this._instantiationStatus!==R.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:i});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:i})=>this.sendEventData(e,i)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:i})=>this.sendErrorData(e,i)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===R.NOT_INSTANTIATED&&(this._instantiationStatus=R.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=R.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=R.INSTANTIATED}))}}class N{constructor(e,i,n){this.telemetrySender=e,this.vscodeAPI=i,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,i,n,r){r?this.telemetrySender.sendEventData(e,{properties:i,measurements:n}):this.telemetryLogger.logUsage(e,{properties:i,measurements:n})}sendTelemetryEvent(e,i,n){this.internalSendTelemetryEvent(e,i,n,!1)}sendDangerousTelemetryEvent(e,i,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,i,n,!0)}internalSendTelemetryErrorEvent(e,i,n,r){r?this.telemetrySender.sendEventData(e,{properties:i,measurements:n}):this.telemetryLogger.logError(e,{properties:i,measurements:n})}sendTelemetryErrorEvent(e,i,n){this.internalSendTelemetryErrorEvent(e,i,n,!1)}sendDangerousTelemetryErrorEvent(e,i,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,i,n,!0)}internalSendTelemetryException(e,i,n,r){r?this.telemetrySender.sendErrorData(e,{properties:i,measurements:n}):this.telemetryLogger.logError(e,{properties:i,measurements:n})}sendTelemetryException(e,i,n){this.internalSendTelemetryException(e,i,n,!1)}sendDangerousTelemetryException(e,i,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,i,n,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}class k{static applyReplacements(e,i){for(const n of Object.keys(e))for(const r of i)r.lookup.test(n)&&(r.replacementString!==void 0?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return k._instance||(k._instance=new k),k._instance}}const c=async(t,e)=>{let i;try{const r=await Promise.resolve().then(ni.bind(ni,94731));i=new r.ApplicationInsights({instrumentationKey:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),i.initialize()}catch(r){return Promise.reject(r)}return{logEvent:(r,s)=>{const d={...s==null?void 0:s.properties,...s==null?void 0:s.measurements};(e==null?void 0:e.length)&&k.applyReplacements(d,e),i==null||i.track({name:r,data:d})},flush:async()=>{i==null||i.flush()}}};class l extends N{constructor(e,i){let n=d=>c(d,i);k.shouldUseOneDataSystemSDK(e)&&(n=d=>E(d,a));const r={release:navigator.appVersion,platform:"web",architecture:"web"},s=new P(e,n);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(s,a,{additionalCommonProperties:k.getAdditionalCommonProperties(r)})}}var h=Object.defineProperty,p=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const _="PullRequestTree";class b{constructor(){p(this,"_outputChannel"),p(this,"_disposable"),p(this,"_activePerfMarkers",new Map),this._outputChannel=a.window.createOutputChannel("GitHub Pull Request",{log:!0})}startPerfMarker(e){const i=performance.now();this._outputChannel.appendLine(`PERF_MARKER> Start ${e}`),this._activePerfMarkers.set(e,i)}endPerfMarker(e){const i=performance.now();this._outputChannel.appendLine(`PERF_MARKER> End ${e}: ${i-this._activePerfMarkers.get(e)} ms`),this._activePerfMarkers.delete(e)}logString(e,i){return typeof e!="string"&&(e instanceof Error?e=e.message:"toString"in e?e=e.toString():e=JSON.stringify(e)),i?`${i}> ${e}`:e}trace(e,i){this._outputChannel.trace(this.logString(e,i))}debug(e,i){this._outputChannel.debug(this.logString(e,i))}appendLine(e,i){this._outputChannel.info(this.logString(e,i))}warn(e,i){this._outputChannel.warn(this.logString(e,i))}error(e,i){this._outputChannel.error(this.logString(e,i))}dispose(){this._disposable&&this._disposable.dispose()}}const f=new b;var m=ni(57975),g=ni(74353),v=ni.n(g),T=ni(6279),S=ni.n(T),x=ni(53581),D=ni.n(x),z=Object.defineProperty,q=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);v().extend(S(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),v().extend(D()),v().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function H(t,e){const i=Object.create(null);return t.filter(n=>{const r=e(n);return i[r]?!1:(i[r]=!0,!0)})}function j(t){return t.forEach(e=>e.dispose()),[]}function K(t){return{dispose:t}}function Y(t){return K(()=>j(t))}function ne(...t){return(e,i=null,n)=>{const r=Y(t.map(s=>s(d=>e.call(i,d))));return n&&n.push(r),r}}function X(t,e){return(i,n=null,r)=>t(s=>e(s)&&i.call(n,s),null,r)}function M(t){return(e,i=null,n)=>{const r=t(s=>(r.dispose(),e.call(i,s)),null,n);return r}}function G(t){return/^[a-zA-Z]:\\/.test(t)}function C(t,e,i=m.sep){return t===e?!0:(t.charAt(t.length-1)!==i&&(t+=i),G(t)&&(t=t.toLowerCase(),e=e.toLowerCase()),e.startsWith(t))}function o(t,e){return t.reduce((i,n)=>{const r=e(n);return i[r]=[...i[r]||[],n],i},Object.create(null))}class w extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function A(t){return!!t.errors}function U(t){let e=!0;if(!!t.errors&&Array.isArray(t.errors)){for(const i of t.errors)if(!i.field||!i.value||!i.code){e=!1;break}}else e=!1;return e}function $(t){if(!(t instanceof Error))return typeof t=="string"?t:t.gitErrorCode?`${t.message}. Please check git output for more details`:t.stderr?`${t.stderr}. Please check git output for more details`:"Error";let e=t.message,i;if(t.message==="Validation Failed"&&U(t))i=t.errors.map(n=>`Value "${n.value}" cannot be set for field ${n.field} (code: ${n.code})`).join(", ");else{if(t.message.startsWith("Validation Failed:"))return t.message;if(A(t)&&t.errors)return t.errors.map(n=>typeof n=="string"?n:n.message).join(", ")}return i&&(e=`${e}: ${i}`),e}async function B(t){return new Promise(e=>{const i=t(n=>{i.dispose(),e(n)})})}async function Z(t,e){return Promise.race([t,new Promise(i=>{setTimeout(()=>i(void 0),e)})])}function te(t){const e=v()(t),i=Date.now();return e.diff(i,"month"),e.diff(i,"month")<1?e.fromNow():e.diff(i,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}function L(t,e,i=!1){t.startsWith("#")&&(t=t.substring(1));const n=Le(t);if(e){const r=_e(n.r,n.g,n.b),s=.6,d=.18,y=.3,F=(n.r*.2126+n.g*.7152+n.b*.0722)/255,W=Math.max(0,Math.min((F-s)*-1e3,1)),ie=(s-F)*100*W,le=Le(Ce(r.h,r.s,r.l+ie)),de=`#${Ce(r.h,r.s,r.l+ie)}`,ke=i?`#${re({...n,a:d})}`:`rgba(${n.r},${n.g},${n.b},${d})`,Ie=i?`#${re({...le,a:y})}`:`rgba(${le.r},${le.g},${le.b},${y})`;return{textColor:de,backgroundColor:ke,borderColor:Ie}}else return{textColor:`#${Me(n)}`,backgroundColor:`#${t}`,borderColor:`#${t}`}}const re=t=>{const e=[t.r,t.g,t.b];return t.a&&e.push(Math.floor(t.a*255)),e.map(i=>i.toString(16).padStart(2,"0")).join("")};function Le(t){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function _e(t,e,i){t/=255,e/=255,i/=255;let n=Math.min(t,e,i),r=Math.max(t,e,i),s=r-n,d=0,y=0,F=0;return s==0?d=0:r==t?d=(e-i)/s%6:r==e?d=(i-t)/s+2:d=(t-e)/s+4,d=Math.round(d*60),d<0&&(d+=360),F=(r+n)/2,y=s==0?0:s/(1-Math.abs(2*F-1)),y=+(y*100).toFixed(1),F=+(F*100).toFixed(1),{h:d,s:y,l:F}}function Ce(t,e,i){const n=i/100,r=e*Math.min(n,1-n)/100,s=d=>{const y=(d+t/30)%12,F=n-r*Math.max(Math.min(y-3,9-y,1),-1);return Math.round(255*F).toString(16).padStart(2,"0")};return`${s(0)}${s(8)}${s(4)}`}function Me(t){return(.299*t.r+.587*t.g+.114*t.b)/255>.5?"000000":"ffffff"}var J;(function(t){t[t.Period=46]="Period",t[t.Slash=47]="Slash",t[t.A=65]="A",t[t.Z=90]="Z",t[t.Backslash=92]="Backslash",t[t.a=97]="a",t[t.z=122]="z"})(J||(J={}));function ee(t,e){return t<e?-1:t>e?1:0}function ce(t,e,i=0,n=t.length,r=0,s=e.length){for(;i<n&&r<s;i++,r++){const F=t.charCodeAt(i),W=e.charCodeAt(r);if(F<W)return-1;if(F>W)return 1}const d=n-i,y=s-r;return d<y?-1:d>y?1:0}function me(t,e){return Se(t,e,0,t.length,0,e.length)}function Se(t,e,i=0,n=t.length,r=0,s=e.length){for(;i<n&&r<s;i++,r++){let F=t.charCodeAt(i),W=e.charCodeAt(r);if(F===W)continue;const ie=F-W;if(!(ie===32&&I(W))&&!(ie===-32&&I(F)))return O(F)&&O(W)?ie:ce(t.toLowerCase(),e.toLowerCase(),i,n,r,s)}const d=n-i,y=s-r;return d<y?-1:d>y?1:0}function O(t){return t>=97&&t<=122}function I(t){return t>=65&&t<=90}class se{constructor(){q(this,"_value",""),q(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const i=e.charCodeAt(0),n=this._value.charCodeAt(this._pos);return i-n}value(){return this._value[this._pos]}}class ve{constructor(e=!0){this._caseSensitive=e,q(this,"_value"),q(this,"_from"),q(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?ce(e,this._value,0,e.length,this._from,this._to):Se(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class we{constructor(e=!0,i=!0){this._splitOnBackslash=e,this._caseSensitive=i,q(this,"_value"),q(this,"_from"),q(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const i=this._value.charCodeAt(this._to);if(i===47||this._splitOnBackslash&&i===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?ce(e,this._value,0,e.length,this._from,this._to):Se(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var ge;(function(t){t[t.Scheme=1]="Scheme",t[t.Authority=2]="Authority",t[t.Path=3]="Path",t[t.Query=4]="Query",t[t.Fragment=5]="Fragment"})(ge||(ge={}));class xe{constructor(e){this._ignorePathCasing=e,q(this,"_pathIterator"),q(this,"_value"),q(this,"_states",[]),q(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new we(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return me(e,this._value.scheme);if(this._states[this._stateIdx]===2)return me(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return ee(e,this._value.query);if(this._states[this._stateIdx]===5)return ee(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}function Ge(t){const i=t.extensionUri.path,n=i.lastIndexOf(".");return n===-1?!1:i.substr(n+1).length>1}class ze{constructor(){q(this,"segment"),q(this,"value"),q(this,"key"),q(this,"left"),q(this,"mid"),q(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class Et{constructor(e){q(this,"_iter"),q(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new Et(new xe(e))}static forPaths(){return new Et(new we)}static forStrings(){return new Et(new se)}static forConfigKeys(){return new Et(new ve)}clear(){this._root=void 0}set(e,i){const n=this._iter.reset(e);let r;for(this._root||(this._root=new ze,this._root.segment=n.value()),r=this._root;;){const d=n.cmp(r.segment);if(d>0)r.left||(r.left=new ze,r.left.segment=n.value()),r=r.left;else if(d<0)r.right||(r.right=new ze,r.right.segment=n.value()),r=r.right;else if(n.hasNext())n.next(),r.mid||(r.mid=new ze,r.mid.segment=n.value()),r=r.mid;else break}const s=r.value;return r.value=i,r.key=e,s}get(e){var i;return(i=this._getNode(e))==null?void 0:i.value}_getNode(e){const i=this._iter.reset(e);let n=this._root;for(;n;){const r=i.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else if(i.hasNext())i.next(),n=n.mid;else break}return n}has(e){const i=this._getNode(e);return!((i==null?void 0:i.value)===void 0&&(i==null?void 0:i.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,i){const n=this._iter.reset(e),r=[];let s=this._root;for(;s;){const d=n.cmp(s.segment);if(d>0)r.push([1,s]),s=s.left;else if(d<0)r.push([-1,s]),s=s.right;else if(n.hasNext())n.next(),r.push([0,s]),s=s.mid;else{for(i?(s.left=void 0,s.mid=void 0,s.right=void 0):s.value=void 0;r.length>0&&s.isEmpty();){let[y,F]=r.pop();switch(y){case 1:F.left=void 0;break;case 0:F.mid=void 0;break;case-1:F.right=void 0;break}s=F}break}}}findSubstr(e){const i=this._iter.reset(e);let n=this._root,r;for(;n;){const s=i.cmp(n.segment);if(s>0)n=n.left;else if(s<0)n=n.right;else if(i.hasNext())i.next(),r=n.value||r,n=n.mid;else break}return n&&n.value||r}findSuperstr(e){const i=this._iter.reset(e);let n=this._root;for(;n;){const r=i.cmp(n.segment);if(r>0)n=n.left;else if(r<0)n=n.right;else if(i.hasNext())i.next(),n=n.mid;else return n.mid?this._entries(n.mid):void 0}}forEach(e){for(const[i,n]of this)e(n,i)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}async function tt(t,e,i){const n=[];t.replace(e,(d,...y)=>{const F=i(d,...y);return n.push(F),""});const r=await Promise.all(n);let s=0;return t.replace(e,()=>r[s++])}async function at(t,e,i){const n=Math.ceil(t.length/e);for(let r=0;r<n;r++){const s=t.slice(r*e,(r+1)*e);await Promise.all(s.map(i))}}var Tt=Object.defineProperty,ue=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),Q;(function(t){t[t.Head=0]="Head",t[t.RemoteHead=1]="RemoteHead",t[t.Tag=2]="Tag"})(Q||(Q={}));var ae;(function(t){t.BadConfigFile="BadConfigFile",t.AuthenticationFailed="AuthenticationFailed",t.NoUserNameConfigured="NoUserNameConfigured",t.NoUserEmailConfigured="NoUserEmailConfigured",t.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",t.NotAGitRepository="NotAGitRepository",t.NotAtRepositoryRoot="NotAtRepositoryRoot",t.Conflict="Conflict",t.StashConflict="StashConflict",t.UnmergedChanges="UnmergedChanges",t.PushRejected="PushRejected",t.RemoteConnectionError="RemoteConnectionError",t.DirtyWorkTree="DirtyWorkTree",t.CantOpenResource="CantOpenResource",t.GitNotFound="GitNotFound",t.CantCreatePipe="CantCreatePipe",t.CantAccessRemote="CantAccessRemote",t.RepositoryNotFound="RepositoryNotFound",t.RepositoryIsLocked="RepositoryIsLocked",t.BranchNotFullyMerged="BranchNotFullyMerged",t.NoRemoteReference="NoRemoteReference",t.InvalidBranchName="InvalidBranchName",t.BranchAlreadyExists="BranchAlreadyExists",t.NoLocalChanges="NoLocalChanges",t.NoStashFound="NoStashFound",t.LocalChangesOverwritten="LocalChangesOverwritten",t.NoUpstreamBranch="NoUpstreamBranch",t.IsInSubmodule="IsInSubmodule",t.WrongCase="WrongCase",t.CantLockRef="CantLockRef",t.CantRebaseMultipleBranches="CantRebaseMultipleBranches",t.PatchDoesNotApply="PatchDoesNotApply"})(ae||(ae={}));var be;(function(t){t[t.INDEX_MODIFIED=0]="INDEX_MODIFIED",t[t.INDEX_ADDED=1]="INDEX_ADDED",t[t.INDEX_DELETED=2]="INDEX_DELETED",t[t.INDEX_RENAMED=3]="INDEX_RENAMED",t[t.INDEX_COPIED=4]="INDEX_COPIED",t[t.MODIFIED=5]="MODIFIED",t[t.DELETED=6]="DELETED",t[t.UNTRACKED=7]="UNTRACKED",t[t.IGNORED=8]="IGNORED",t[t.INTENT_TO_ADD=9]="INTENT_TO_ADD",t[t.ADDED_BY_US=10]="ADDED_BY_US",t[t.ADDED_BY_THEM=11]="ADDED_BY_THEM",t[t.DELETED_BY_US=12]="DELETED_BY_US",t[t.DELETED_BY_THEM=13]="DELETED_BY_THEM",t[t.BOTH_ADDED=14]="BOTH_ADDED",t[t.BOTH_DELETED=15]="BOTH_DELETED",t[t.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(be||(be={}));const De=class{constructor(){ue(this,"_providers",new Map),ue(this,"_onDidOpenRepository",new a.EventEmitter),ue(this,"onDidOpenRepository",this._onDidOpenRepository.event),ue(this,"_onDidCloseRepository",new a.EventEmitter),ue(this,"onDidCloseRepository",this._onDidCloseRepository.event),ue(this,"_onDidChangeState",new a.EventEmitter),ue(this,"onDidChangeState",this._onDidChangeState.event),ue(this,"_onDidPublish",new a.EventEmitter),ue(this,"onDidPublish",this._onDidPublish.event),ue(this,"_disposables"),ue(this,"_titleAndDescriptionProviders",new Set),ue(this,"_reviewerCommentsProviders",new Set),this._disposables=[]}get repositories(){const t=[];return this._providers.forEach(({repositories:e})=>{e&&t.push(...e)}),t}get state(){if(this._providers.size!==0){for(const[,{state:t}]of this._providers)if(t!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const t=Array.from(this._providers.values()).reduce((e,i)=>e+i.repositories.length,0);a.commands.executeCommand("setContext","gitHubOpenRepositoryCount",t)}registerGitProvider(t){f.appendLine("Registering git provider");const e=this._nextHandle();return this._providers.set(e,t),this._disposables.push(t.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._disposables.push(t.onDidOpenRepository(i=>{f.appendLine(`Repository ${i.rootUri} has been opened`),this._updateReposContext(),this._onDidOpenRepository.fire(i)})),t.onDidChangeState&&this._disposables.push(t.onDidChangeState(i=>this._onDidChangeState.fire(i))),t.onDidPublish&&this._disposables.push(t.onDidPublish(i=>this._onDidPublish.fire(i))),this._updateReposContext(),t.repositories.forEach(i=>{this._onDidOpenRepository.fire(i)}),{dispose:()=>{const i=t==null?void 0:t.repositories;i&&i.length>0&&i.forEach(n=>this._onDidCloseRepository.fire(n)),this._providers.delete(e)}}}getGitProvider(t){const e=Et.forUris();return this._providers.forEach(i=>{const n=i.repositories;if(n&&n.length>0)for(const r of n)e.set(r.rootUri,i)}),e.findSubstr(t)}registerPostCommitCommandsProvider(t){const e=Array.from(this._providers.values()).map(i=>i.registerPostCommitCommandsProvider?i.registerPostCommitCommandsProvider(t):{dispose:()=>{}});return{dispose:()=>e.forEach(i=>i.dispose())}}_nextHandle(){return De._handlePool++}dispose(){this._disposables.forEach(t=>t.dispose())}registerTitleAndDescriptionProvider(t,e){const i={title:t,provider:e};this._titleAndDescriptionProviders.add(i);const n={dispose:()=>this._titleAndDescriptionProviders.delete(i)};return this._disposables.push(n),n}getTitleAndDescriptionProvider(t){if(t){for(const e of this._titleAndDescriptionProviders)if(e.title.toLowerCase().includes(t.toLowerCase()))return e}else return this._titleAndDescriptionProviders.size>0?this._titleAndDescriptionProviders.values().next().value:void 0}registerReviewerCommentsProvider(t,e){const i={title:t,provider:e};this._reviewerCommentsProviders.add(i);const n={dispose:()=>this._reviewerCommentsProviders.delete(i)};return this._disposables.push(n),n}getReviewerCommentsProvider(){return this._reviewerCommentsProviders.size>0?this._reviewerCommentsProviders.values().next().value:void 0}};let Ke=De;ue(Ke,"_handlePool",0);var Ue;(function(t){function e(i){return i&&i.thread&&i.text!==void 0}t.is=e})(Ue||(Ue={}));const et=new Map;function qt(t,e){et.set(t,e)}function ot(t){et.delete(t)}function ut(t){for(const e of et.values())if(e.hasCommentThread(t))return e;f.warn(`Unable to find handler for comment thread ${t.gitHubThreadId}`)}function bt(){for(const t of et.values())if(t.commentController.activeCommentThread)return t}const Xe="githubPullRequests",_t="terminalLinksHandler",vi="createOnPublishBranch",kt="useReviewMode",Nt="fileListLayout",zi="assignCreated",It="pushBranch",Ht="ignoredPullRequestBranches",jn="neverIgnoreDefaultBranch",Yt="overrideDefaultBranch",jt="pullBranch",Ln="pullRequestDescription",Kt="notifications",Zt="postCreate",Ji="queries",Oe="labelCreated",We="focusedMode",wt="createDraft",ct="quickDiff",gt="setAutoMerge",si="showPullRequestNumberInTree",xt="defaultMergeMethod",Ut="defaultDeletionMethod",Ft="selectLocalBranch",pt="selectRemote",St="remotes",Mt="pullPullRequestBranchBeforeCheckout",mi="upstreamRemote",ii="defaultCreateOption",Lt="createDefaultBaseBranch",ai="githubIssues",gi="assignWhenWorking",Mi="issueCompletions",xi="userCompletions",Wi="enabled",Ui="ignoreUserCompletionTrigger",Ni="createInsertFormat",Oi="issueBranchTitle",Vt="useBranchForIssues",ri="workingIssueFormatScm",Ri="ignoreCompletionTrigger",Hi="issueCompletionFormatScm",bi="createIssueTriggers",Ai="default",$i="ignoreMilestones",sn="allowFetch",Bi="experimental.chat",_n="experimental.useQuickChat",Pn="experimental.notificationsView",rn="experimental.notificationsViewPageSize",Rn="experimental.notificationsScore",on="git",hn="pullBeforeCheckout",Si="openDiffOnClick",wi="autoStash",An="github-enterprise",Ar="uri",zn="editor",xr="wordWrap",Yn="comments",Lr="openView",kr="explorer",pn="autoReveal";var Wn=ni(48287),Jn=ni(74945),Un=ni.n(Jn),Ki;(function(t){t[t.Query=0]="Query",t[t.All=1]="All",t[t.LocalPullRequest=2]="LocalPullRequest"})(Ki||(Ki={}));var xn;(function(t){t.Approve="APPROVE",t.RequestChanges="REQUEST_CHANGES",t.Comment="COMMENT"})(xn||(xn={}));var Gi;(function(t){t[t.Open=0]="Open",t[t.Merged=1]="Merged",t[t.Closed=2]="Closed"})(Gi||(Gi={}));var Xi;(function(t){t[t.Mergeable=0]="Mergeable",t[t.NotMergeable=1]="NotMergeable",t[t.Conflict=2]="Conflict",t[t.Unknown=3]="Unknown",t[t.Behind=4]="Behind"})(Xi||(Xi={}));var nr;(function(t){t[t.AwaitingChecks=0]="AwaitingChecks",t[t.Locked=1]="Locked",t[t.Mergeable=2]="Mergeable",t[t.Queued=3]="Queued",t[t.Unmergeable=4]="Unmergeable"})(nr||(nr={}));function Sr(t){return bn(t)?t.id:t.login}function ta(t){var e,i;return bn(t)?(e=t.name)!=null?e:t.slug:(i=t.specialDisplayName)!=null?i:t.login}function bn(t){return"org"in t}function fa(t){return"isAuthor"in t&&"isCommenter"in t}var Rr;(function(t){t.Issue="Issue",t.PullRequest="PullRequest"})(Rr||(Rr={}));var yn;(function(t){t.Success="success",t.Failure="failure",t.Neutral="neutral",t.Pending="pending",t.Unknown="unknown"})(yn||(yn={}));var Ur=ni(32017),jr=ni.n(Ur),kn=ni(77358),lr=ni.n(kn),$e;(function(t){t.LEFT="LEFT",t.RIGHT="RIGHT"})($e||($e={}));var ht;(function(t){t.DISMISSED="DISMISSED",t.VIEWED="VIEWED",t.UNVIEWED="UNVIEWED"})(ht||(ht={}));var vt;(function(t){t.LINE="LINE",t.FILE="FILE"})(vt||(vt={}));const Rt={"copilot-pull-request-reviewer":{name:"Copilot",postComment:a.l10n.t("Copilot is powered by AI, so mistakes are possible. Review output carefully before use.")}};var nt;(function(t){t[t.ADD=0]="ADD",t[t.COPY=1]="COPY",t[t.DELETE=2]="DELETE",t[t.MODIFY=3]="MODIFY",t[t.RENAME=4]="RENAME",t[t.TYPE=5]="TYPE",t[t.UNKNOWN=6]="UNKNOWN",t[t.UNMERGED=7]="UNMERGED"})(nt||(nt={}));class pi{constructor(e,i,n,r,s,d,y){this.baseCommit=e,this.status=i,this.fileName=n,this.previousFileName=r,this.patch=s,this.diffHunks=d,this.blobUrl=y}}class fi{constructor(e,i,n,r,s){this.baseCommit=e,this.blobUrl=i,this.status=n,this.fileName=r,this.previousFileName=s}}var Ye=Object.defineProperty,dt=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),Ze;(function(t){t[t.Context=0]="Context",t[t.Add=1]="Add",t[t.Delete=2]="Delete",t[t.Control=3]="Control"})(Ze||(Ze={}));class Dt{constructor(e,i,n,r,s,d=!0){this.type=e,this.oldLineNumber=i,this.newLineNumber=n,this.positionInHunk=r,this._raw=s,this.endwithLineBreak=d}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function Qt(t){switch(t[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class ci{constructor(e,i,n,r,s){this.oldLineNumber=e,this.oldLength=i,this.newLineNumber=n,this.newLength=r,this.positionInHunk=s,dt(this,"diffLines",[])}}const Jt=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function he(t){let e=0,i=0;for(;(i=t.indexOf("\r",i))!==-1;)i++,e++;return e}function*pe(t){let e=0;for(;e!==-1&&e<t.length;){const i=e;e=t.indexOf(`
`,e);let r=(e!==-1?e:t.length)-i;e!==-1&&(e>0&&t[e-1]==="\r"&&r--,e++),yield t.substr(i,r)}}function*Ne(t){const e=pe(t);let i=e.next(),n,r=-1,s=-1,d=-1;for(;!i.done;){const y=i.value;if(Jt.test(y)){n&&(yield n,n=void 0),r===-1&&(r=0);const F=Jt.exec(y),W=s=Number(F[1]),ie=Number(F[3])||1,le=d=Number(F[5]),de=Number(F[7])||1;n=new ci(W,ie,le,de,r),n.diffLines.push(new Dt(3,-1,-1,r,y))}else if(n){const F=Qt(y);if(F===3)n.diffLines&&n.diffLines.length&&(n.diffLines[n.diffLines.length-1].endwithLineBreak=!1);else{n.diffLines.push(new Dt(F,F!==1?s:-1,F!==2?d:-1,r,y));const W=1+he(y);switch(F){case 0:s+=W,d+=W;break;case 2:s+=W;break;case 1:d+=W;break}}}r!==-1&&++r,i=e.next()}n&&(yield n)}function Ae(t){const e=Ne(t);let i=e.next();const n=[],r=[];for(;!i.done;){const s=i.value;n.push(s);for(let d=0;d<s.diffLines.length;d++){const y=s.diffLines[d];if(!(y.type===2||y.type===3))if(y.type===1)r.push(y.text);else{const F=y.text;r.push(F)}}i=e.next()}return n}function Be(t,e){const i=t.split(/\r?\n/),n=Ne(e);let r=n.next();const s=[],d=[];let y=0,F=!0;for(;!r.done;){const W=r.value;s.push(W);const ie=W.oldLineNumber;for(let le=y+1;le<ie;le++)d.push(i[le-1]);y=ie+W.oldLength-1;for(let le=0;le<W.diffLines.length;le++){const de=W.diffLines[le];if(!(de.type===2||de.type===3))if(de.type===1)d.push(de.text);else{const ke=de.text;d.push(ke)}}if(r=n.next(),r.done){for(let le=W.diffLines.length-1;le>=0;le--)if(W.diffLines[le].type!==2){F=W.diffLines[le].endwithLineBreak;break}}}if(F)if(y<i.length)for(let W=y+1;W<=i.length;W++)d.push(i[W-1]);else d.push("");return d.join(`
`)}function je(t){switch(t){case"removed":return nt.DELETE;case"added":return nt.ADD;case"renamed":return nt.RENAME;case"modified":return nt.MODIFY;default:return nt.UNKNOWN}}async function Qe(t,e){var i;const n=[];for(let r=0;r<t.length;r++){const s=t[r],d=je(s.status);if(!s.patch&&d!==nt.RENAME&&d!==nt.MODIFY&&!(d===nt.ADD&&s.additions===0)){n.push(new fi(e,s.blob_url,d,s.filename,s.previous_filename));continue}const y=s.patch?Ae(s.patch):[];n.push(new pi(e,d,s.filename,s.previous_filename,(i=s.patch)!=null?i:"",y,s.blob_url))}return n}var yt=ni(1182),ei=Object.defineProperty,Ot=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?ei(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const zt=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,hi=/^([a-z-+]+):\/\//,un=t=>{const e=hi.exec(t);if(e){const[d,y]=e;if(y.includes("ssh"))t=t.slice(d.length);else return}const i=zt.exec(t);if(!i)return;const[,n,r,s]=i;return{User:n,Host:r,path:s}},mn=(t,e=Dn.current)=>{const i=un(t);return i&&e(i)};function _i(t){return{...t,Hostname:t.Host}}function Ii(...t){const e=t.filter(i=>!!i);return i=>e.reduce((n,r)=>{try{return{...n,...r(n)}}catch(s){return f.warn(`Failed to parse config for '${i.Host}, this can occur when the extension configurations is invalid or system ssh config files are malformed. Skipping erroneous resolver for now.'`),n}},i)}function di(t){const e=(0,yt.parse)(t);return i=>e.compute(i.Host)}const Nn=class{static fromConfig(t){return Ii(_i,di(t))}};let Dn=Nn;Ot(Dn,"default",_i),Ot(Dn,"current",Nn.default);var qi=Object.defineProperty,En=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),ur;(function(t){t[t.Local=0]="Local",t[t.HTTP=1]="HTTP",t[t.SSH=2]="SSH",t[t.GIT=3]="GIT",t[t.OTHER=4]="OTHER"})(ur||(ur={}));class cn{constructor(e){if(En(this,"type",4),En(this,"host",""),En(this,"owner",""),En(this,"repositoryName",""),En(this,"url"),!this.parseSshProtocol(e))try{this.url=a.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch(i){f.error(`Failed to parse '${e}'`),a.window.showWarningMessage(a.l10n.t("Unable to parse remote '{0}'. Please check that it is correctly formatted.",e))}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const i=mn(e);if(!i)return!1;const{Hostname:n,HostName:r,path:s}=i;return this.host=r||n,this.owner=this.getOwnerName(s)||"",this.repositoryName=this.getRepositoryName(s)||"",this.type=2,!0}getHostName(e){const i=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return i&&i.length>=2?i[1].toLocaleLowerCase()==="www.github.com"?"github.com":i[1]:""}getRepositoryName(e){let i=e.replace(/\\/g,"/");i.endsWith("/")&&(i=i.substr(0,i.length-1));const n=i.lastIndexOf("/"),r=i.substr(n+1);if(!(r===""||r==="/"))return r.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let i=e.replace(/\\/g,"/");i.endsWith("/")&&(i=i.substr(0,i.length-1));const n=i.split("/");if(n.length>1)return n[n.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return a.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch(i){return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const i=this.normalizeUri();if(!i)return!1;const n=e.normalizeUri();return n?i.toString().toLocaleLowerCase()===n.toString().toLocaleLowerCase():!1}}var wr=ni(91565),zr=Object.defineProperty,In=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?zr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),ln;(function(t){t[t.None=0]="None",t[t.GitHubDotCom=1]="GitHubDotCom",t[t.Enterprise=2]="Enterprise"})(ln||(ln={}));var ki;(function(t){t.github="github",t.githubEnterprise="github-enterprise"})(ki||(ki={}));class Ta extends Error{constructor(e){super(e);this.message=e,In(this,"name"),In(this,"stack")}}function vn(t){var e;return!!((e=t.message)==null?void 0:e.startsWith("Resource protected by organization SAML enforcement."))}var qa=Object.defineProperty,cl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?qa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const po=class{static initialize(t){po.icons={reactions:{THUMBS_UP:t.asAbsolutePath(m.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:t.asAbsolutePath(m.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:t.asAbsolutePath(m.join("resources","icons","reactions","confused.png")),EYES:t.asAbsolutePath(m.join("resources","icons","reactions","eyes.png")),HEART:t.asAbsolutePath(m.join("resources","icons","reactions","heart.png")),HOORAY:t.asAbsolutePath(m.join("resources","icons","reactions","hooray.png")),LAUGH:t.asAbsolutePath(m.join("resources","icons","reactions","laugh.png")),ROCKET:t.asAbsolutePath(m.join("resources","icons","reactions","rocket.png"))}}}};let Er=po;cl(Er,"icons");var Zi;(function(t){t[t.Committed=0]="Committed",t[t.Mentioned=1]="Mentioned",t[t.Subscribed=2]="Subscribed",t[t.Commented=3]="Commented",t[t.Reviewed=4]="Reviewed",t[t.NewCommitsSinceReview=5]="NewCommitsSinceReview",t[t.Labeled=6]="Labeled",t[t.Milestoned=7]="Milestoned",t[t.Assigned=8]="Assigned",t[t.HeadRefDeleted=9]="HeadRefDeleted",t[t.Merged=10]="Merged",t[t.Other=11]="Other"})(Zi||(Zi={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Es=function(t,e){return Es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])},Es(t,e)};function Tr(t,e){Es(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var At=function(){return At=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},At.apply(this,arguments)};function Ts(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}function dl(t,e,i,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,n);else for(var y=t.length-1;y>=0;y--)(d=t[y])&&(s=(r<3?d(s):r>3?d(e,i,s):d(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}function vo(t,e){return function(i,n){e(i,n,t)}}function Au(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ha(t,e,i,n){function r(s){return s instanceof i?s:new i(function(d){d(s)})}return new(i||(i=Promise))(function(s,d){function y(ie){try{W(n.next(ie))}catch(le){d(le)}}function F(ie){try{W(n.throw(ie))}catch(le){d(le)}}function W(ie){ie.done?s(ie.value):r(ie.value).then(y,F)}W((n=n.apply(t,e||[])).next())})}function Kn(t,e){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(W){return function(ie){return F([W,ie])}}function F(W){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=W[0]&2?r.return:W[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,W[1])).done)return s;switch(r=0,s&&(W=[W[0]&2,s.value]),W[0]){case 0:case 1:s=W;break;case 4:return i.label++,{value:W[1],done:!1};case 5:i.label++,r=W[1],W=[0];continue;case 7:W=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(W[0]===6||W[0]===2)){i=0;continue}if(W[0]===3&&(!s||W[1]>s[0]&&W[1]<s[3])){i.label=W[1];break}if(W[0]===6&&i.label<s[1]){i.label=s[1],s=W;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(W);break}s[2]&&i.ops.pop(),i.trys.pop();continue}W=e.call(t,i)}catch(ie){W=[6,ie],r=0}finally{n=s=0}if(W[0]&5)throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}}function fl(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]}function go(t,e){for(var i in t)i!=="default"&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function is(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xu(t,e){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var n=i.call(t),r,s=[],d;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(y){d={error:y}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(d)throw d.error}}return s}function Cs(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xu(arguments[e]));return t}function ns(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<i;e++)for(var s=arguments[e],d=0,y=s.length;d<y;d++,r++)n[r]=s[d];return n}function rs(t){return this instanceof rs?(this.v=t,this):new rs(t)}function Du(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,s=[];return r={},d("next"),d("throw"),d("return"),r[Symbol.asyncIterator]=function(){return this},r;function d(de){n[de]&&(r[de]=function(ke){return new Promise(function(Ie,oe){s.push([de,ke,Ie,oe])>1||y(de,ke)})})}function y(de,ke){try{F(n[de](ke))}catch(Ie){le(s[0][3],Ie)}}function F(de){de.value instanceof rs?Promise.resolve(de.value.v).then(W,ie):le(s[0][2],de)}function W(de){y("next",de)}function ie(de){y("throw",de)}function le(de,ke){de(ke),s.shift(),s.length&&y(s[0][0],s[0][1])}}function Iu(t){var e,i;return e={},n("next"),n("throw",function(r){throw r}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(r,s){e[r]=t[r]?function(d){return(i=!i)?{value:rs(t[r](d)),done:r==="return"}:s?s(d):d}:s}}function Fu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof is=="function"?is(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=t[s]&&function(d){return new Promise(function(y,F){d=t[s](d),r(y,F,d.done,d.value)})}}function r(s,d,y,F){Promise.resolve(F).then(function(W){s({value:W,done:y})},d)}}function Md(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hl(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function Tn(t){return t&&t.__esModule?t:{default:t}}function Xn(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Ou(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}var dn=ni(9111),ml=ni(65606),Wr="Invariant Violation",ma=Object.setPrototypeOf,Ca=ma===void 0?function(t,e){return t.__proto__=e,t}:ma,Cn=function(t){Tr(e,t);function e(i){i===void 0&&(i=Wr);var n=t.call(this,typeof i=="number"?Wr+": "+i+" (see https://github.com/apollographql/invariant-packages)":i)||this;return n.framesToPop=1,n.name=Wr,Ca(n,e.prototype),n}return e}(Error);function en(t,e){if(!t)throw new Cn(e)}function pl(t){return function(){return console[t].apply(console,arguments)}}(function(t){t.warn=pl("warn"),t.error=pl("error")})(en||(en={}));var bo={env:{}};if(typeof ml=="object")bo=ml;else try{Function("stub","process = stub")(bo)}catch(t){}var Pd=null;const Ad=null;var Lu=ni(72492),Uu=ni.n(Lu),vl=Object.prototype,yo=vl.toString,Bu=vl.hasOwnProperty,Ns=new Map;function Br(t,e){try{return wo(t,e)}finally{Ns.clear()}}function wo(t,e){if(t===e)return!0;var i=yo.call(t),n=yo.call(e);if(i!==n)return!1;switch(i){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(gl(t,e))return!0;var r=Object.keys(t),s=Object.keys(e),d=r.length;if(d!==s.length)return!1;for(var y=0;y<d;++y)if(!Bu.call(e,r[y]))return!1;for(var y=0;y<d;++y){var F=r[y];if(!wo(t[F],e[F]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==""+e;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(gl(t,e))return!0;for(var W=t.entries(),ie=i==="[object Map]";;){var le=W.next();if(le.done)break;var de=le.value,ke=de[0],Ie=de[1];if(!e.has(ke)||ie&&!wo(Ie,e.get(ke)))return!1}return!0}}return!1}function gl(t,e){var i=Ns.get(t);if(i){if(i.has(e))return!0}else Ns.set(t,i=new Set);return i.add(e),!1}const xd=null;var qu=ni(65606);function Dd(t){return["StringValue","BooleanValue","EnumValue"].indexOf(t.kind)>-1}function Id(t){return["IntValue","FloatValue"].indexOf(t.kind)>-1}function ia(t){return t.kind==="StringValue"}function Hu(t){return t.kind==="BooleanValue"}function Ms(t){return t.kind==="IntValue"}function bl(t){return t.kind==="FloatValue"}function $u(t){return t.kind==="Variable"}function yl(t){return t.kind==="ObjectValue"}function Gu(t){return t.kind==="ListValue"}function Vu(t){return t.kind==="EnumValue"}function wl(t){return t.kind==="NullValue"}function as(t,e,i,n){if(Ms(i)||bl(i))t[e.value]=Number(i.value);else if(Hu(i)||ia(i))t[e.value]=i.value;else if(yl(i)){var r={};i.fields.map(function(d){return as(r,d.name,d.value,n)}),t[e.value]=r}else if($u(i)){var s=(n||{})[i.name.value];t[e.value]=s}else if(Gu(i))t[e.value]=i.values.map(function(d){var y={};return as(y,e,d,n),y[e.value]});else if(Vu(i))t[e.value]=i.value;else if(wl(i))t[e.value]=null;else throw new Cn(17)}function _l(t,e){var i=null;t.directives&&(i={},t.directives.forEach(function(r){i[r.name.value]={},r.arguments&&r.arguments.forEach(function(s){var d=s.name,y=s.value;return as(i[r.name.value],d,y,e)})}));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach(function(r){var s=r.name,d=r.value;return as(n,s,d,e)})),Ps(t.name.value,n,i)}var _o=["connection","include","skip","client","rest","export"];function Ps(t,e,i){if(i&&i.connection&&i.connection.key)if(i.connection.filter&&i.connection.filter.length>0){var n=i.connection.filter?i.connection.filter:[];n.sort();var r=e,s={};return n.forEach(function(F){s[F]=r[F]}),i.connection.key+"("+JSON.stringify(s)+")"}else return i.connection.key;var d=t;if(e){var y=Uu()(e);d+="("+y+")"}return i&&Object.keys(i).forEach(function(F){_o.indexOf(F)===-1&&(i[F]&&Object.keys(i[F]).length?d+="@"+F+"("+JSON.stringify(i[F])+")":d+="@"+F)}),d}function Ha(t,e){if(t.arguments&&t.arguments.length){var i={};return t.arguments.forEach(function(n){var r=n.name,s=n.value;return as(i,r,s,e)}),i}return null}function ss(t){return t.alias?t.alias.value:t.name.value}function pa(t){return t.kind==="Field"}function As(t){return t.kind==="InlineFragment"}function Re(t){return t&&t.type==="id"&&typeof t.generated=="boolean"}function fe(t,e){return e===void 0&&(e=!1),At({type:"id",generated:e},typeof t=="string"?{id:t,typename:void 0}:t)}function Ee(t){return t!=null&&typeof t=="object"&&t.type==="json"}function Pe(t){throw new InvariantError(18)}function Ve(t,e){switch(e===void 0&&(e=Pe),t.kind){case"Variable":return e(t);case"NullValue":return null;case"IntValue":return parseInt(t.value,10);case"FloatValue":return parseFloat(t.value);case"ListValue":return t.values.map(function(d){return Ve(d,e)});case"ObjectValue":{for(var i={},n=0,r=t.fields;n<r.length;n++){var s=r[n];i[s.name.value]=Ve(s.value,e)}return i}default:return t.value}}function Je(t,e){if(t.directives&&t.directives.length){var i={};return t.directives.forEach(function(n){i[n.name.value]=Ha(n,e)}),i}return null}function rt(t,e){return e===void 0&&(e={}),Ci(t.directives).every(function(i){var n=i.directive,r=i.ifArgument,s=!1;return r.value.kind==="Variable"?(s=e[r.value.name.value],en(s!==void 0,13)):s=r.value.value,n.name.value==="skip"?!s:s})}function ft(t){var e=[];return(0,dn.visit)(t,{Directive:function(i){e.push(i.name.value)}}),e}function $t(t,e){return ft(e).some(function(i){return t.indexOf(i)>-1})}function Wt(t){return t&&$t(["client"],t)&&$t(["export"],t)}function ti(t){var e=t.name.value;return e==="skip"||e==="include"}function Ci(t){return t?t.filter(ti).map(function(e){var i=e.arguments,n=e.name.value;en(i&&i.length===1,14);var r=i[0];en(r.name&&r.name.value==="if",15);var s=r.value;return en(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),16),{directive:e,ifArgument:r}}):[]}function Li(t,e){var i=e,n=[];t.definitions.forEach(function(s){if(s.kind==="OperationDefinition")throw new Cn(11);s.kind==="FragmentDefinition"&&n.push(s)}),typeof i=="undefined"&&(en(n.length===1,12),i=n[0].name.value);var r=At(At({},t),{definitions:ns([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:i}}]}}],t.definitions)});return r}function Ti(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach(function(n){typeof n=="undefined"||n===null||Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function Qi(t){Fi(t);var e=t.definitions.filter(function(i){return i.kind==="OperationDefinition"&&i.operation==="mutation"})[0];return invariant(e,1),e}function Fi(t){en(t&&t.kind==="Document",2);var e=t.definitions.filter(function(i){return i.kind!=="FragmentDefinition"}).map(function(i){if(i.kind!=="OperationDefinition")throw new Cn(3);return i});return en(e.length<=1,4),t}function st(t){return Fi(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Fn(t){var e=st(t);return invariant(e,5),e}function Cr(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function na(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function $a(t){var e=st(t);return en(e&&e.operation==="query",6),e}function ju(t){en(t.kind==="Document",7),en(t.definitions.length<=1,8);var e=t.definitions[0];return en(e.kind==="FragmentDefinition",9),e}function xs(t){Fi(t);for(var e,i=0,n=t.definitions;i<n.length;i++){var r=n[i];if(r.kind==="OperationDefinition"){var s=r.operation;if(s==="query"||s==="mutation"||s==="subscription")return r}r.kind==="FragmentDefinition"&&!e&&(e=r)}if(e)return e;throw new Cn(10)}function Na(t){t===void 0&&(t=[]);var e={};return t.forEach(function(i){e[i.name.value]=i}),e}function Ga(t){if(t&&t.variableDefinitions&&t.variableDefinitions.length){var e=t.variableDefinitions.filter(function(i){var n=i.defaultValue;return n}).map(function(i){var n=i.variable,r=i.defaultValue,s={};return as(s,n.name,r),s});return Ti.apply(void 0,ns([{}],e))}return{}}function Fd(t){var e=new Set;if(t.variableDefinitions)for(var i=0,n=t.variableDefinitions;i<n.length;i++){var r=n[i];e.add(r.variable.name.value)}return e}function kl(t,e,i){var n=0;return t.forEach(function(r,s){e.call(this,r,s,t)&&(t[n++]=r)},i),t.length=n,t}var Sl={kind:"Field",name:{kind:"Name",value:"__typename"}};function Ds(t,e){return t.selectionSet.selections.every(function(i){return i.kind==="FragmentSpread"&&Ds(e[i.name.value],e)})}function Va(t){return Ds(st(t)||ju(t),Na(na(t)))?null:t}function ko(t){return function(i){return t.some(function(n){return n.name&&n.name===i.name.value||n.test&&n.test(i)})}}function Is(t,e){var i=Object.create(null),n=[],r=Object.create(null),s=[],d=Va((0,dn.visit)(e,{Variable:{enter:function(y,F,W){W.kind!=="VariableDefinition"&&(i[y.name.value]=!0)}},Field:{enter:function(y){if(t&&y.directives){var F=t.some(function(W){return W.remove});if(F&&y.directives&&y.directives.some(ko(t)))return y.arguments&&y.arguments.forEach(function(W){W.value.kind==="Variable"&&n.push({name:W.value.name.value})}),y.selectionSet&&it(y.selectionSet).forEach(function(W){s.push({name:W.name.value})}),null}}},FragmentSpread:{enter:function(y){r[y.name.value]=!0}},Directive:{enter:function(y){if(ko(t)(y))return null}}}));return d&&kl(n,function(y){return!i[y.name]}).length&&(d=Wu(n,d)),d&&kl(s,function(y){return!r[y.name]}).length&&(d=El(s,d)),d}function So(t){return(0,dn.visit)(Fi(t),{SelectionSet:{enter:function(e,i,n){if(!(n&&n.kind==="OperationDefinition")){var r=e.selections;if(!!r){var s=r.some(function(y){return pa(y)&&(y.name.value==="__typename"||y.name.value.lastIndexOf("__",0)===0)});if(!s){var d=n;if(!(pa(d)&&d.directives&&d.directives.some(function(y){return y.name.value==="export"})))return At(At({},e),{selections:ns(r,[Sl])})}}}}}})}var Rl={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(i){return i.name.value==="key"})),e}};function Ro(t){return Is([Rl],Fi(t))}function Eo(t,e,i){return i===void 0&&(i=!0),e&&e.selections&&e.selections.some(function(n){return To(t,n,i)})}function To(t,e,i){return i===void 0&&(i=!0),pa(e)?e.directives?e.directives.some(ko(t))||i&&Eo(t,e.selectionSet,i):!1:!0}function Od(t,e){Fi(e);var i;return Va(visit(e,{SelectionSet:{enter:function(n,r,s,d){var y=d.join("-");if(!i||y===i||!y.startsWith(i))if(n.selections){var F=n.selections.filter(function(W){return To(t,W)});return Eo(t,n,!1)&&(i=y),__assign(__assign({},n),{selections:F})}else return null}}}))}function zu(t){return function(i){return t.some(function(n){return i.value&&i.value.kind==="Variable"&&i.value.name&&(n.name===i.value.name.value||n.test&&n.test(i))})}}function Wu(t,e){var i=zu(t);return Va((0,dn.visit)(e,{OperationDefinition:{enter:function(n){return At(At({},n),{variableDefinitions:n.variableDefinitions.filter(function(r){return!t.some(function(s){return s.name===r.variable.name.value})})})}},Field:{enter:function(n){var r=t.some(function(d){return d.remove});if(r){var s=0;if(n.arguments.forEach(function(d){i(d)&&(s+=1)}),s===1)return null}}},Argument:{enter:function(n){if(i(n))return null}}}))}function El(t,e){function i(n){if(t.some(function(r){return r.name===n.name.value}))return null}return Va((0,dn.visit)(e,{FragmentSpread:{enter:i},FragmentDefinition:{enter:i}}))}function it(t){var e=[];return t.selections.forEach(function(i){(pa(i)||As(i))&&i.selectionSet?it(i.selectionSet).forEach(function(n){return e.push(n)}):i.kind==="FragmentSpread"&&e.push(i)}),e}function Bt(t){var e=xs(t),i=e.operation;if(i==="query")return t;var n=(0,dn.visit)(t,{OperationDefinition:{enter:function(r){return At(At({},r),{operation:"query"})}}});return n}function Xt(t){Fi(t);var e=Is([{test:function(i){return i.name.value==="client"},remove:!0}],t);return e&&(e=(0,dn.visit)(e,{FragmentDefinition:{enter:function(i){if(i.selectionSet){var n=i.selectionSet.selections.every(function(r){return pa(r)&&r.name.value==="__typename"});if(n)return null}}}})),e}var yi=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),ji=Object.prototype.toString;function an(t){return tn(t,new Map)}function tn(t,e){switch(ji.call(t)){case"[object Array]":{if(e.has(t))return e.get(t);var i=t.slice(0);return e.set(t,i),i.forEach(function(r,s){i[s]=tn(r,e)}),i}case"[object Object]":{if(e.has(t))return e.get(t);var n=Object.create(Object.getPrototypeOf(t));return e.set(t,n),Object.keys(t).forEach(function(r){n[r]=tn(t[r],e)}),n}default:return t}}function Zn(){return typeof qu!="undefined"?"production":"development"}function $n(t){return Zn()===t}function Qn(){return $n("production")===!0}function cr(){return $n("development")===!0}function Kr(){return $n("test")===!0}function Bn(t){try{return t()}catch(e){console.error&&console.error(e)}}function Ma(t){return t.errors&&t.errors.length}function Ld(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){t[e]!==null&&(typeof t[e]=="object"||typeof t[e]=="function")&&!Object.isFrozen(t[e])&&Ld(t[e])}),t}function y1(t){if(cr()||Kr()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return Ld(t)}return t}var Up=Object.prototype.hasOwnProperty;function Ud(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ku(t)}function Ku(t){var e=t[0]||{},i=t.length;if(i>1){var n=[];e=Qu(e,n);for(var r=1;r<i;++r)e=qd(e,t[r],n)}return e}function Bd(t){return t!==null&&typeof t=="object"}function qd(t,e,i){return Bd(e)&&Bd(t)?(Object.isExtensible&&!Object.isExtensible(t)&&(t=Qu(t,i)),Object.keys(e).forEach(function(n){var r=e[n];if(Up.call(t,n)){var s=t[n];r!==s&&(t[n]=qd(Qu(s,i),r,i))}else t[n]=r}),t):e}function Qu(t,e){return t!==null&&typeof t=="object"&&e.indexOf(t)<0&&(Array.isArray(t)?t=t.slice(0):t=At({__proto__:Object.getPrototypeOf(t)},t),e.push(t)),t}var Hd=Object.create({});function w1(t,e){e===void 0&&(e="warn"),!Qn()&&!Hd[t]&&(Kr()||(Hd[t]=!0),e==="error"?console.error(t):console.warn(t))}function _1(t){return JSON.parse(JSON.stringify(t))}var Bp=ni(16064),qp=ni.n(Bp),Hp=qp();const Nr=Hp;function $p(t){for(var e=["query","operationName","variables","extensions","context"],i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];if(e.indexOf(r)<0)throw new Cn(2)}return t}var k1=function(t){Tr(e,t);function e(i,n){var r=t.call(this,i)||this;return r.link=n,r}return e}(Error);function Tl(t){return t.request.length<=1}function S1(t){var e=!1;return new Promise(function(i,n){t.subscribe({next:function(r){e||(e=!0,i(r))},error:n})})}var R1=null;function E1(t){return new Observable(function(e){t.then(function(i){e.next(i),e.complete()}).catch(e.error.bind(e))})}function $d(t){return new Nr(function(e){e.error(t)})}function Gp(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?Cr(e.query):""),e}function Vp(t,e){var i=At({},t),n=function(s){typeof s=="function"?i=At({},i,s(i)):i=At({},i,s)},r=function(){return At({},i)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:r}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return jp(e)}}),e}function jp(t){var e=t.query,i=t.variables,n=t.operationName;return JSON.stringify([n,e,i])}function Gd(t,e){return e?e(t):Nr.of()}function Co(t){return typeof t=="function"?new ra(t):t}function Vd(){return new ra(function(){return Nr.of()})}function zp(t){return t.length===0?Vd():t.map(Co).reduce(function(e,i){return e.concat(i)})}function jd(t,e,i){var n=Co(e),r=Co(i||new ra(Gd));return Tl(n)&&Tl(r)?new ra(function(s){return t(s)?n.request(s)||Nr.of():r.request(s)||Nr.of()}):new ra(function(s,d){return t(s)?n.request(s,d)||Nr.of():r.request(s,d)||Nr.of()})}var Wp=function(t,e){var i=Co(t);if(Tl(i))return i;var n=Co(e);return Tl(n)?new ra(function(r){return i.request(r,function(s){return n.request(s)||Nr.of()})||Nr.of()}):new ra(function(r,s){return i.request(r,function(d){return n.request(d,s)||Nr.of()})||Nr.of()})},ra=function(){function t(e){e&&(this.request=e)}return t.prototype.split=function(e,i,n){return this.concat(jd(e,i,n||new t(Gd)))},t.prototype.concat=function(e){return Wp(this,e)},t.prototype.request=function(e,i){throw new Cn(1)},t.empty=Vd,t.from=zp,t.split=jd,t.execute=Cl,t}();function Cl(t,e){return t.request(Vp(e.context,Gp($p(e))))||Nr.of()}var Kp=ni(9423),qn;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(qn||(qn={}));function zd(t){return t<7}var No=function(t){Tr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype[Kp.A]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(Nr);function Fs(t){return Array.isArray(t)&&t.length>0}function Qp(t){return t.hasOwnProperty("graphQLErrors")}var Yp=function(t){var e="";return Fs(t.graphQLErrors)&&t.graphQLErrors.forEach(function(i){var n=i?i.message:"Error message not found.";e+="GraphQL error: "+n+`
`}),t.networkError&&(e+="Network error: "+t.networkError.message+`
`),e=e.replace(/\n$/,""),e},ja=function(t){Tr(e,t);function e(i){var n=i.graphQLErrors,r=i.networkError,s=i.errorMessage,d=i.extraInfo,y=t.call(this,s)||this;return y.graphQLErrors=n||[],y.networkError=r||null,s?y.message=s:y.message=Yp(y),y.extraInfo=d,y.__proto__=e.prototype,y}return e}(Error),os;(function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"})(os||(os={}));var Jp=function(t,e){return e===void 0&&(e="none"),t&&(t.networkError||e==="none"&&Fs(t.graphQLErrors))},Xp=function(t){Tr(e,t);function e(i){var n=i.queryManager,r=i.options,s=i.shouldSubscribe,d=s===void 0?!0:s,y=t.call(this,function(W){return y.onSubscribe(W)})||this;y.observers=new Set,y.subscriptions=new Set,y.isTornDown=!1,y.options=r,y.variables=r.variables||{},y.queryId=n.generateQueryId(),y.shouldSubscribe=d;var F=st(r.query);return y.queryName=F&&F.name&&F.name.value,y.queryManager=n,y}return e.prototype.result=function(){var i=this;return new Promise(function(n,r){var s={next:function(y){n(y),i.observers.delete(s),i.observers.size||i.queryManager.removeQuery(i.queryId),setTimeout(function(){d.unsubscribe()},0)},error:r},d=i.subscribe(s)})},e.prototype.currentResult=function(){var i=this.getCurrentResult();return i.data===void 0&&(i.data={}),i},e.prototype.getCurrentResult=function(){if(this.isTornDown){var i=this.lastResult;return{data:!this.lastError&&i&&i.data||void 0,error:this.lastError,loading:!1,networkStatus:qn.error}}var n=this.queryManager.getCurrentQueryResult(this),r=n.data,s=n.partial,d=this.queryManager.queryStore.get(this.queryId),y,F=this.options.fetchPolicy,W=F==="network-only"||F==="no-cache";if(d){var ie=d.networkStatus;if(Jp(d,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:ie,error:new ja({graphQLErrors:d.graphQLErrors,networkError:d.networkError})};d.variables&&(this.options.variables=At(At({},this.options.variables),d.variables),this.variables=this.options.variables),y={data:r,loading:zd(ie),networkStatus:ie},d.graphQLErrors&&this.options.errorPolicy==="all"&&(y.errors=d.graphQLErrors)}else{var le=W||s&&F!=="cache-only";y={data:r,loading:le,networkStatus:le?qn.loading:qn.ready}}return s||this.updateLastResult(At(At({},y),{stale:!1})),At(At({},y),{partial:s})},e.prototype.isDifferentFromLastResult=function(i){var n=this.lastResultSnapshot;return!(n&&i&&n.networkStatus===i.networkStatus&&n.stale===i.stale&&Br(n.data,i.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var i=this.queryManager.queryStore.get(this.queryId);i&&(i.networkError=null,i.graphQLErrors=[])},e.prototype.refetch=function(i){var n=this.options.fetchPolicy;return n==="cache-only"?Promise.reject(new Cn(1)):(n!=="no-cache"&&n!=="cache-and-network"&&(n="network-only"),Br(this.variables,i)||(this.variables=At(At({},this.variables),i)),Br(this.options.variables,this.variables)||(this.options.variables=At(At({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,At(At({},this.options),{fetchPolicy:n}),os.refetch))},e.prototype.fetchMore=function(i){var n=this;en(i.updateQuery,2);var r=At(At({},i.query?i:At(At(At({},this.options),i),{variables:At(At({},this.variables),i.variables)})),{fetchPolicy:"network-only"}),s=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(s,r,os.normal,this.queryId).then(function(d){return n.updateQuery(function(y){return i.updateQuery(y,{fetchMoreResult:d.data,variables:r.variables})}),n.queryManager.stopQuery(s),d},function(d){throw n.queryManager.stopQuery(s),d})},e.prototype.subscribeToMore=function(i){var n=this,r=this.queryManager.startGraphQLSubscription({query:i.document,variables:i.variables}).subscribe({next:function(s){var d=i.updateQuery;d&&n.updateQuery(function(y,F){var W=F.variables;return d(y,{subscriptionData:s,variables:W})})},error:function(s){if(i.onError){i.onError(s);return}}});return this.subscriptions.add(r),function(){n.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(i){var n=this.options.fetchPolicy;this.options=At(At({},this.options),i),i.pollInterval?this.startPolling(i.pollInterval):i.pollInterval===0&&this.stopPolling();var r=i.fetchPolicy;return this.setVariables(this.options.variables,n!==r&&(n==="cache-only"||n==="standby"||r==="network-only"),i.fetchResults)},e.prototype.setVariables=function(i,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),this.isTornDown=!1,i=i||this.variables,!n&&Br(i,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=i,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(i){var n=this.queryManager,r=n.getQueryWithPreviousResult(this.queryId),s=r.previousResult,d=r.variables,y=r.document,F=Bn(function(){return i(s,{variables:d})});F&&(n.dataStore.markUpdateQueryResult(y,d,F),n.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(i){Wd(this),this.options.pollInterval=i,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(i){var n=this.lastResult;return this.lastResult=i,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?i:an(i),n},e.prototype.onSubscribe=function(i){var n=this;try{var r=i._subscription._observer;r&&!r.error&&(r.error=Zp)}catch(d){}var s=!this.observers.size;return this.observers.add(i),i.next&&this.lastResult&&i.next(this.lastResult),i.error&&this.lastError&&i.error(this.lastError),s&&this.setUpQuery(),function(){n.observers.delete(i)&&!n.observers.size&&n.tearDownQuery()}},e.prototype.setUpQuery=function(){var i=this,n=this,r=n.queryManager,s=n.queryId;this.shouldSubscribe&&r.addObservableQuery(s,this),this.options.pollInterval&&(Wd(this),r.startPollingQuery(this.options,s));var d=function(y){i.updateLastResult(At(At({},i.lastResult),{errors:y.graphQLErrors,networkStatus:qn.error,loading:!1})),Yu(i.observers,"error",i.lastError=y)};r.observeQuery(s,this.options,{next:function(y){if(i.lastError||i.isDifferentFromLastResult(y)){var F=i.updateLastResult(y),W=i.options,ie=W.query,le=W.variables,de=W.fetchPolicy;r.transform(ie).hasClientExports?r.getLocalState().addExportedVariables(ie,le).then(function(ke){var Ie=i.variables;i.variables=i.options.variables=ke,!y.loading&&F&&de!=="cache-only"&&r.transform(ie).serverQuery&&!Br(Ie,ke)?i.refetch():Yu(i.observers,"next",y)}):Yu(i.observers,"next",y)}},error:d}).catch(d)},e.prototype.tearDownQuery=function(){var i=this.queryManager;this.isTornDown=!0,i.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),i.removeObservableQuery(this.queryId),i.stopQuery(this.queryId),this.observers.clear()},e}(No);function Zp(t){}function Yu(t,e,i){var n=[];t.forEach(function(r){return r[e]&&n.push(r)}),n.forEach(function(r){return r[e](i)})}function Wd(t){var e=t.options.fetchPolicy;en(e!=="cache-first"&&e!=="cache-only",3)}var ev=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initMutation=function(e,i,n){this.store[e]={mutation:i,variables:n||{},loading:!0,error:null}},t.prototype.markMutationError=function(e,i){var n=this.store[e];n&&(n.loading=!1,n.error=i)},t.prototype.markMutationResult=function(e){var i=this.store[e];i&&(i.loading=!1,i.error=null)},t.prototype.reset=function(){this.store={}},t}(),tv=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initQuery=function(e){var i=this.store[e.queryId];en(!i||i.document===e.document||Br(i.document,e.document),19);var n=!1,r=null;e.storePreviousVariables&&i&&i.networkStatus!==qn.loading&&(Br(i.variables,e.variables)||(n=!0,r=i.variables));var s;n?s=qn.setVariables:e.isPoll?s=qn.poll:e.isRefetch?s=qn.refetch:s=qn.loading;var d=[];i&&i.graphQLErrors&&(d=i.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:r,networkError:null,graphQLErrors:d,networkStatus:s,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=qn.fetchMore)},t.prototype.markQueryResult=function(e,i,n){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=Fs(i.errors)?i.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=qn.ready,typeof n=="string"&&this.store[n]&&(this.store[n].networkStatus=qn.ready))},t.prototype.markQueryError=function(e,i,n){!this.store||!this.store[e]||(this.store[e].networkError=i,this.store[e].networkStatus=qn.error,typeof n=="string"&&this.markQueryResultClient(n,!0))},t.prototype.markQueryResultClient=function(e,i){var n=this.store&&this.store[e];n&&(n.networkError=null,n.previousVariables=null,i&&(n.networkStatus=qn.ready))},t.prototype.stopQuery=function(e){delete this.store[e]},t.prototype.reset=function(e){var i=this;Object.keys(this.store).forEach(function(n){e.indexOf(n)<0?i.stopQuery(n):i.store[n].networkStatus=qn.loading})},t}();function iv(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Kd=function(){function t(e){var i=e.cache,n=e.client,r=e.resolvers,s=e.fragmentMatcher;this.cache=i,n&&(this.client=n),r&&this.addResolvers(r),s&&this.setFragmentMatcher(s)}return t.prototype.addResolvers=function(e){var i=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){i.resolvers=Ud(i.resolvers,n)}):this.resolvers=Ud(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var i=e.document,n=e.remoteResult,r=e.context,s=e.variables,d=e.onlyRunForcedResolvers,y=d===void 0?!1:d;return ha(this,void 0,void 0,function(){return Kn(this,function(F){return i?[2,this.resolveDocument(i,n.data,r,s,this.fragmentMatcher,y).then(function(W){return At(At({},n),{data:W.result})})]:[2,n]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return $t(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return this.resolvers?Xt(e):e},t.prototype.prepareContext=function(e){e===void 0&&(e={});var i=this.cache,n=At(At({},e),{cache:i,getCacheKey:function(r){if(i.config)return i.config.dataIdFromObject(r);en(!1,6)}});return n},t.prototype.addExportedVariables=function(e,i,n){return i===void 0&&(i={}),n===void 0&&(n={}),ha(this,void 0,void 0,function(){return Kn(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,i)||{},this.prepareContext(n),i).then(function(s){return At(At({},i),s.exportedVariables)})]:[2,At({},i)]})})},t.prototype.shouldForceResolvers=function(e){var i=!1;return(0,dn.visit)(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(i=n.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),i))return dn.BREAK}}}),i},t.prototype.buildRootValueFromCache=function(e,i){return this.cache.diff({query:Bt(e),variables:i,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,i,n,r,s,d){return n===void 0&&(n={}),r===void 0&&(r={}),s===void 0&&(s=function(){return!0}),d===void 0&&(d=!1),ha(this,void 0,void 0,function(){var y,F,W,ie,le,de,ke,Ie,oe;return Kn(this,function(ye){return y=xs(e),F=na(e),W=Na(F),ie=y.operation,le=ie?iv(ie):"Query",de=this,ke=de.cache,Ie=de.client,oe={fragmentMap:W,context:At(At({},n),{cache:ke,client:Ie}),variables:r,fragmentMatcher:s,defaultOperationType:le,exportedVariables:{},onlyRunForcedResolvers:d},[2,this.resolveSelectionSet(y.selectionSet,i,oe).then(function(Te){return{result:Te,exportedVariables:oe.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,i,n){return ha(this,void 0,void 0,function(){var r,s,d,y,F,W=this;return Kn(this,function(ie){return r=n.fragmentMap,s=n.context,d=n.variables,y=[i],F=function(le){return ha(W,void 0,void 0,function(){var de,ke;return Kn(this,function(Ie){return rt(le,d)?pa(le)?[2,this.resolveField(le,i,n).then(function(oe){var ye;typeof oe!="undefined"&&y.push((ye={},ye[ss(le)]=oe,ye))})]:(As(le)?de=le:(de=r[le.name.value],en(de,7)),de&&de.typeCondition&&(ke=de.typeCondition.name.value,n.fragmentMatcher(i,ke,s))?[2,this.resolveSelectionSet(de.selectionSet,i,n).then(function(oe){y.push(oe)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(F)).then(function(){return Ku(y)})]})})},t.prototype.resolveField=function(e,i,n){return ha(this,void 0,void 0,function(){var r,s,d,y,F,W,ie,le,de,ke=this;return Kn(this,function(Ie){return r=n.variables,s=e.name.value,d=ss(e),y=s!==d,F=i[d]||i[s],W=Promise.resolve(F),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(ie=i.__typename||n.defaultOperationType,le=this.resolvers&&this.resolvers[ie],le&&(de=le[y?s:d],de&&(W=Promise.resolve(de(i,Ha(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}))))),[2,W.then(function(oe){if(oe===void 0&&(oe=F),e.directives&&e.directives.forEach(function(ye){ye.name.value==="export"&&ye.arguments&&ye.arguments.forEach(function(Te){Te.name.value==="as"&&Te.value.kind==="StringValue"&&(n.exportedVariables[Te.value.value]=oe)})}),!e.selectionSet||oe==null)return oe;if(Array.isArray(oe))return ke.resolveSubSelectedArray(e,oe,n);if(e.selectionSet)return ke.resolveSelectionSet(e.selectionSet,oe,n)})]})})},t.prototype.resolveSubSelectedArray=function(e,i,n){var r=this;return Promise.all(i.map(function(s){if(s===null)return null;if(Array.isArray(s))return r.resolveSubSelectedArray(e,s,n);if(e.selectionSet)return r.resolveSelectionSet(e.selectionSet,s,n)}))},t}();function Qd(t){var e=new Set,i=null;return new No(function(n){return e.add(n),i=i||t.subscribe({next:function(r){e.forEach(function(s){return s.next&&s.next(r)})},error:function(r){e.forEach(function(s){return s.error&&s.error(r)})},complete:function(){e.forEach(function(r){return r.complete&&r.complete()})}}),function(){e.delete(n)&&!e.size&&i&&(i.unsubscribe(),i=null)}})}function nv(t,e){return new No(function(i){var n=i.next,r=i.error,s=i.complete,d=0,y=!1,F={next:function(ie){++d,new Promise(function(le){le(e(ie))}).then(function(le){--d,n&&n.call(i,le),y&&F.complete()},function(le){--d,r&&r.call(i,le)})},error:function(ie){r&&r.call(i,ie)},complete:function(){y=!0,d||s&&s.call(i)}},W=t.subscribe(F);return function(){return W.unsubscribe()}})}var rv=Object.prototype.hasOwnProperty,av=function(){function t(e){var i=e.link,n=e.queryDeduplication,r=n===void 0?!1:n,s=e.store,d=e.onBroadcast,y=d===void 0?function(){}:d,F=e.ssrMode,W=F===void 0?!1:F,ie=e.clientAwareness,le=ie===void 0?{}:ie,de=e.localState,ke=e.assumeImmutableResults;this.mutationStore=new ev,this.queryStore=new tv,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(yi?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=i,this.queryDeduplication=r,this.dataStore=s,this.onBroadcast=y,this.clientAwareness=le,this.localState=de||new Kd({cache:s.getCache()}),this.ssrMode=W,this.assumeImmutableResults=!!ke}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(i,n){e.stopQueryNoBroadcast(n)}),this.fetchQueryRejectFns.forEach(function(i){i(new Cn(8))})},t.prototype.mutate=function(e){var i=e.mutation,n=e.variables,r=e.optimisticResponse,s=e.updateQueries,d=e.refetchQueries,y=d===void 0?[]:d,F=e.awaitRefetchQueries,W=F===void 0?!1:F,ie=e.update,le=e.errorPolicy,de=le===void 0?"none":le,ke=e.fetchPolicy,Ie=e.context,oe=Ie===void 0?{}:Ie;return ha(this,void 0,void 0,function(){var ye,Te,Fe,qe=this;return Kn(this,function(He){switch(He.label){case 0:return en(i,9),en(!ke||ke==="no-cache",10),ye=this.generateQueryId(),i=this.transform(i).document,this.setQuery(ye,function(){return{document:i}}),n=this.getVariables(i,n),this.transform(i).hasClientExports?[4,this.localState.addExportedVariables(i,n,oe)]:[3,2];case 1:n=He.sent(),He.label=2;case 2:return Te=function(){var lt={};return s&&qe.queries.forEach(function(mt,Pt){var Ct=mt.observableQuery;if(Ct){var ui=Ct.queryName;ui&&rv.call(s,ui)&&(lt[Pt]={updater:s[ui],query:qe.queryStore.get(Pt)})}}),lt},this.mutationStore.initMutation(ye,i,n),this.dataStore.markMutationInit({mutationId:ye,document:i,variables:n,updateQueries:Te(),update:ie,optimisticResponse:r}),this.broadcastQueries(),Fe=this,[2,new Promise(function(lt,mt){var Pt,Ct;Fe.getObservableFromLink(i,At(At({},oe),{optimisticResponse:r}),n,!1).subscribe({next:function(ui){if(Ma(ui)&&de==="none"){Ct=new ja({graphQLErrors:ui.errors});return}Fe.mutationStore.markMutationResult(ye),ke!=="no-cache"&&Fe.dataStore.markMutationResult({mutationId:ye,result:ui,document:i,variables:n,updateQueries:Te(),update:ie}),Pt=ui},error:function(ui){Fe.mutationStore.markMutationError(ye,ui),Fe.dataStore.markMutationComplete({mutationId:ye,optimisticResponse:r}),Fe.broadcastQueries(),Fe.setQuery(ye,function(){return{document:null}}),mt(new ja({networkError:ui}))},complete:function(){if(Ct&&Fe.mutationStore.markMutationError(ye,Ct),Fe.dataStore.markMutationComplete({mutationId:ye,optimisticResponse:r}),Fe.broadcastQueries(),Ct){mt(Ct);return}typeof y=="function"&&(y=y(Pt));var ui=[];Fs(y)&&y.forEach(function(Di){if(typeof Di=="string")Fe.queries.forEach(function(Sn){var Mn=Sn.observableQuery;Mn&&Mn.queryName===Di&&ui.push(Mn.refetch())});else{var On={query:Di.query,variables:Di.variables,fetchPolicy:"network-only"};Di.context&&(On.context=Di.context),ui.push(Fe.query(On))}}),Promise.all(W?ui:[]).then(function(){Fe.setQuery(ye,function(){return{document:null}}),de==="ignore"&&Pt&&Ma(Pt)&&delete Pt.errors,lt(Pt)})}})})]}})})},t.prototype.fetchQuery=function(e,i,n,r){return ha(this,void 0,void 0,function(){var s,d,y,F,W,ie,le,de,ke,Ie,oe,ye,Te,Fe,qe,He,lt,mt,Pt=this;return Kn(this,function(Ct){switch(Ct.label){case 0:return s=i.metadata,d=s===void 0?null:s,y=i.fetchPolicy,F=y===void 0?"cache-first":y,W=i.context,ie=W===void 0?{}:W,le=this.transform(i.query).document,de=this.getVariables(le,i.variables),this.transform(le).hasClientExports?[4,this.localState.addExportedVariables(le,de,ie)]:[3,2];case 1:de=Ct.sent(),Ct.label=2;case 2:if(i=At(At({},i),{variables:de}),Ie=F==="network-only"||F==="no-cache",oe=Ie,Ie||(ye=this.dataStore.getCache().diff({query:le,variables:de,returnPartialData:!0,optimistic:!1}),Te=ye.complete,Fe=ye.result,oe=!Te||F==="cache-and-network",ke=Fe),qe=oe&&F!=="cache-only"&&F!=="standby",$t(["live"],le)&&(qe=!0),He=this.idCounter++,lt=F!=="no-cache"?this.updateQueryWatch(e,le,i):void 0,this.setQuery(e,function(){return{document:le,lastRequestId:He,invalidated:!0,cancel:lt}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:le,storePreviousVariables:qe,variables:de,isPoll:n===os.poll,isRefetch:n===os.refetch,metadata:d,fetchMoreForQueryId:r}),this.broadcastQueries(),qe){if(mt=this.fetchRequest({requestId:He,queryId:e,document:le,options:i,fetchMoreForQueryId:r}).catch(function(ui){throw Qp(ui)?ui:(He>=Pt.getQuery(e).lastRequestId&&(Pt.queryStore.markQueryError(e,ui,r),Pt.invalidate(e),Pt.invalidate(r),Pt.broadcastQueries()),new ja({networkError:ui}))}),F!=="cache-and-network")return[2,mt];mt.catch(function(){})}return this.queryStore.markQueryResultClient(e,!qe),this.invalidate(e),this.invalidate(r),this.transform(le).hasForcedResolvers?[2,this.localState.runResolvers({document:le,remoteResult:{data:ke},context:ie,variables:de,onlyRunForcedResolvers:!0}).then(function(ui){return Pt.markQueryResult(e,ui,i,r),Pt.broadcastQueries(),ui})]:(this.broadcastQueries(),[2,{data:ke}])}})})},t.prototype.markQueryResult=function(e,i,n,r){var s=n.fetchPolicy,d=n.variables,y=n.errorPolicy;s==="no-cache"?this.setQuery(e,function(){return{newData:{result:i.data,complete:!0}}}):this.dataStore.markQueryResult(i,this.getQuery(e).document,d,r,y==="ignore"||y==="all")},t.prototype.queryListenerForObserver=function(e,i,n){var r=this;function s(d,y){if(n[d])try{n[d](y)}catch(F){}}return function(d,y){if(r.invalidate(e,!1),!!d){var F=r.getQuery(e),W=F.observableQuery,ie=F.document,le=W?W.options.fetchPolicy:i.fetchPolicy;if(le!=="standby"){var de=zd(d.networkStatus),ke=W&&W.getLastResult(),Ie=!!(ke&&ke.networkStatus!==d.networkStatus),oe=i.returnPartialData||!y&&d.previousVariables||Ie&&i.notifyOnNetworkStatusChange||le==="cache-only"||le==="cache-and-network";if(!(de&&!oe)){var ye=Fs(d.graphQLErrors),Te=W&&W.options.errorPolicy||i.errorPolicy||"none";if(Te==="none"&&ye||d.networkError)return s("error",new ja({graphQLErrors:d.graphQLErrors,networkError:d.networkError}));try{var Fe=void 0,qe=void 0;if(y)le!=="no-cache"&&le!=="network-only"&&r.setQuery(e,function(){return{newData:null}}),Fe=y.result,qe=!y.complete;else{var He=W&&W.getLastError(),lt=Te!=="none"&&(He&&He.graphQLErrors)!==d.graphQLErrors;if(ke&&ke.data&&!lt)Fe=ke.data,qe=!1;else{var mt=r.dataStore.getCache().diff({query:ie,variables:d.previousVariables||d.variables,returnPartialData:!0,optimistic:!0});Fe=mt.result,qe=!mt.complete}}var Pt=qe&&!(i.returnPartialData||le==="cache-only"),Ct={data:Pt?ke&&ke.data:Fe,loading:de,networkStatus:d.networkStatus,stale:Pt};Te==="all"&&ye&&(Ct.errors=d.graphQLErrors),s("next",Ct)}catch(ui){s("error",new ja({networkError:ui}))}}}}}},t.prototype.transform=function(e){var i=this.transformCache;if(!i.has(e)){var n=this.dataStore.getCache(),r=n.transformDocument(e),s=Ro(n.transformForLink(r)),d=this.localState.clientQuery(r),y=this.localState.serverQuery(s),F={document:r,hasClientExports:Wt(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:d,serverQuery:y,defaultVars:Ga(st(r))},W=function(ie){ie&&!i.has(ie)&&i.set(ie,F)};W(e),W(r),W(d),W(y)}return i.get(e)},t.prototype.getVariables=function(e,i){return At(At({},this.transform(e).defaultVars),i)},t.prototype.watchQuery=function(e,i){i===void 0&&(i=!0),en(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var n=At({},e);return new Xp({queryManager:this,options:n,shouldSubscribe:i})},t.prototype.query=function(e){var i=this;return en(e.query,12),en(e.query.kind==="Document",13),en(!e.returnPartialData,14),en(!e.pollInterval,15),new Promise(function(n,r){var s=i.watchQuery(e,!1);i.fetchQueryRejectFns.set("query:"+s.queryId,r),s.result().then(n,r).then(function(){return i.fetchQueryRejectFns.delete("query:"+s.queryId)})})},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},t.prototype.addQueryListener=function(e,i){this.setQuery(e,function(n){var r=n.listeners;return r.add(i),{invalidated:!1}})},t.prototype.updateQueryWatch=function(e,i,n){var r=this,s=this.getQuery(e).cancel;s&&s();var d=function(){var y=null,F=r.getQuery(e).observableQuery;if(F){var W=F.getLastResult();W&&(y=W.data)}return y};return this.dataStore.getCache().watch({query:i,variables:n.variables,optimistic:!0,previousResult:d,callback:function(y){r.setQuery(e,function(){return{invalidated:!0,newData:y}})}})},t.prototype.addObservableQuery=function(e,i){this.setQuery(e,function(){return{observableQuery:i}})},t.prototype.removeObservableQuery=function(e){var i=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),i&&i()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(i){i(new Cn(16))});var e=[];return this.queries.forEach(function(i,n){var r=i.observableQuery;r&&e.push(n)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},t.prototype.reFetchObservableQueries=function(e){var i=this;e===void 0&&(e=!1);var n=[];return this.queries.forEach(function(r,s){var d=r.observableQuery;if(d){var y=d.options.fetchPolicy;d.resetLastResults(),y!=="cache-only"&&(e||y!=="standby")&&n.push(d.refetch()),i.setQuery(s,function(){return{newData:null}}),i.invalidate(s)}}),this.broadcastQueries(),Promise.all(n)},t.prototype.observeQuery=function(e,i,n){return this.addQueryListener(e,this.queryListenerForObserver(e,i,n)),this.fetchQuery(e,i)},t.prototype.startQuery=function(e,i,n){return this.addQueryListener(e,n),this.fetchQuery(e,i).catch(function(){}),e},t.prototype.startGraphQLSubscription=function(e){var i=this,n=e.query,r=e.fetchPolicy,s=e.variables;n=this.transform(n).document,s=this.getVariables(n,s);var d=function(F){return i.getObservableFromLink(n,{},F,!1).map(function(W){if((!r||r!=="no-cache")&&(i.dataStore.markSubscriptionResult(W,n,F),i.broadcastQueries()),Ma(W))throw new ja({graphQLErrors:W.errors});return W})};if(this.transform(n).hasClientExports){var y=this.localState.addExportedVariables(n,s).then(d);return new No(function(F){var W=null;return y.then(function(ie){return W=ie.subscribe(F)},F.error),function(){return W&&W.unsubscribe()}})}return d(s)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(i){return i.unsubscribe()}),this.queries.delete(e)},t.prototype.getCurrentQueryResult=function(e,i){i===void 0&&(i=!0);var n=e.options,r=n.variables,s=n.query,d=n.fetchPolicy,y=n.returnPartialData,F=e.getLastResult(),W=this.getQuery(e.queryId).newData;if(W&&W.complete)return{data:W.result,partial:!1};if(d==="no-cache"||d==="network-only")return{data:void 0,partial:!1};var ie=this.dataStore.getCache().diff({query:s,variables:r,previousResult:F?F.data:void 0,returnPartialData:!0,optimistic:i}),le=ie.result,de=ie.complete;return{data:de||y?le:void 0,partial:!de}},t.prototype.getQueryWithPreviousResult=function(e){var i;if(typeof e=="string"){var n=this.getQuery(e).observableQuery;en(n,17),i=n}else i=e;var r=i.options,s=r.variables,d=r.query;return{previousResult:this.getCurrentQueryResult(i,!1).data,variables:s,document:d}},t.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(i,n){i.invalidated&&i.listeners.forEach(function(r){r&&r(e.queryStore.get(n),i.newData)})})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,i,n,r){var s=this;r===void 0&&(r=this.queryDeduplication);var d,y=this.transform(e).serverQuery;if(y){var F=this,W=F.inFlightLinkObservables,ie=F.link,le={query:y,variables:n,operationName:Cr(y)||void 0,context:this.prepareContext(At(At({},i),{forceFetch:!r}))};if(i=le.context,r){var de=W.get(y)||new Map;W.set(y,de);var ke=JSON.stringify(n);if(d=de.get(ke),!d){de.set(ke,d=Qd(Cl(ie,le)));var Ie=function(){de.delete(ke),de.size||W.delete(y),oe.unsubscribe()},oe=d.subscribe({next:Ie,error:Ie,complete:Ie})}}else d=Qd(Cl(ie,le))}else d=No.of({data:{}}),i=this.prepareContext(i);var ye=this.transform(e).clientQuery;return ye&&(d=nv(d,function(Te){return s.localState.runResolvers({document:ye,remoteResult:Te,context:i,variables:n})})),d},t.prototype.fetchRequest=function(e){var i=this,n=e.requestId,r=e.queryId,s=e.document,d=e.options,y=e.fetchMoreForQueryId,F=d.variables,W=d.errorPolicy,ie=W===void 0?"none":W,le=d.fetchPolicy,de,ke;return new Promise(function(Ie,oe){var ye=i.getObservableFromLink(s,d.context,F),Te="fetchRequest:"+r;i.fetchQueryRejectFns.set(Te,oe);var Fe=function(){i.fetchQueryRejectFns.delete(Te),i.setQuery(r,function(He){var lt=He.subscriptions;lt.delete(qe)})},qe=ye.map(function(He){if(n>=i.getQuery(r).lastRequestId&&(i.markQueryResult(r,He,d,y),i.queryStore.markQueryResult(r,He,y),i.invalidate(r),i.invalidate(y),i.broadcastQueries()),ie==="none"&&Fs(He.errors))return oe(new ja({graphQLErrors:He.errors}));if(ie==="all"&&(ke=He.errors),y||le==="no-cache")de=He.data;else{var lt=i.dataStore.getCache().diff({variables:F,query:s,optimistic:!1,returnPartialData:!0}),mt=lt.result,Pt=lt.complete;(Pt||d.returnPartialData)&&(de=mt)}}).subscribe({error:function(He){Fe(),oe(He)},complete:function(){Fe(),Ie({data:de,errors:ke,loading:!1,networkStatus:qn.ready,stale:!1})}});i.setQuery(r,function(He){var lt=He.subscriptions;lt.add(qe)})})},t.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(e,i){var n=this.getQuery(e),r=At(At({},n),i(n));this.queries.set(e,r)},t.prototype.invalidate=function(e,i){i===void 0&&(i=!0),e&&this.setQuery(e,function(){return{invalidated:i}})},t.prototype.prepareContext=function(e){e===void 0&&(e={});var i=this.localState.prepareContext(e);return At(At({},i),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(e){var i=this.queryStore.get(e);return i&&i.networkStatus!==qn.ready&&i.networkStatus!==qn.error},t.prototype.startPollingQuery=function(e,i,n){var r=this,s=e.pollInterval;if(en(s,18),!this.ssrMode){var d=this.pollingInfoByQueryId.get(i);d||this.pollingInfoByQueryId.set(i,d={}),d.interval=s,d.options=At(At({},e),{fetchPolicy:"network-only"});var y=function(){var W=r.pollingInfoByQueryId.get(i);W&&(r.checkInFlight(i)?F():r.fetchQuery(i,W.options,os.poll).then(F,F))},F=function(){var W=r.pollingInfoByQueryId.get(i);W&&(clearTimeout(W.timeout),W.timeout=setTimeout(y,W.interval))};n&&this.addQueryListener(i,n),F()}return i},t.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},t}(),sv=function(){function t(e){this.cache=e}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(e,i,n,r,s){s===void 0&&(s=!1);var d=!Ma(e);s&&Ma(e)&&e.data&&(d=!0),!r&&d&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:i,variables:n})},t.prototype.markSubscriptionResult=function(e,i,n){Ma(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:i,variables:n})},t.prototype.markMutationInit=function(e){var i=this;if(e.optimisticResponse){var n;typeof e.optimisticResponse=="function"?n=e.optimisticResponse(e.variables):n=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var s=i.cache;i.cache=r;try{i.markMutationResult({mutationId:e.mutationId,result:{data:n},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{i.cache=s}},e.mutationId)}},t.prototype.markMutationResult=function(e){var i=this;if(!Ma(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(s){var d=r[s],y=d.query,F=d.updater,W=i.cache.diff({query:y.document,variables:y.variables,returnPartialData:!0,optimistic:!1}),ie=W.result,le=W.complete;if(le){var de=Bn(function(){return F(ie,{mutationResult:e.result,queryName:Cr(y.document)||void 0,queryVariables:y.variables})});de&&n.push({result:de,dataId:"ROOT_QUERY",query:y.document,variables:y.variables})}}),this.cache.performTransaction(function(s){n.forEach(function(y){return s.write(y)});var d=e.update;d&&Bn(function(){return d(s,e.result)})})}},t.prototype.markMutationComplete=function(e){var i=e.mutationId,n=e.optimisticResponse;n&&this.cache.removeOptimistic(i)},t.prototype.markUpdateQueryResult=function(e,i,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:i,query:e})},t.prototype.reset=function(){return this.cache.reset()},t}(),ov="2.6.10",lv=!1,uv=function(){function t(e){var i=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.cache,r=e.ssrMode,s=r===void 0?!1:r,d=e.ssrForceFetchDelay,y=d===void 0?0:d,F=e.connectToDevTools,W=e.queryDeduplication,ie=W===void 0?!0:W,le=e.defaultOptions,de=e.assumeImmutableResults,ke=de===void 0?!1:de,Ie=e.resolvers,oe=e.typeDefs,ye=e.fragmentMatcher,Te=e.name,Fe=e.version,qe=e.link;if(!qe&&Ie&&(qe=ra.empty()),!qe||!n)throw new Cn(4);this.link=qe,this.cache=n,this.store=new sv(n),this.disableNetworkFetches=s||y>0,this.queryDeduplication=ie,this.defaultOptions=le||{},this.typeDefs=oe,y&&setTimeout(function(){return i.disableNetworkFetches=!1},y),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var He=!1;(typeof F=="undefined"?He:F&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=ov,this.localState=new Kd({cache:n,client:this,resolvers:Ie,fragmentMatcher:ye}),this.queryManager=new av({link:this.link,store:this.store,queryDeduplication:ie,ssrMode:s,clientAwareness:{name:Te,version:Fe},localState:this.localState,assumeImmutableResults:ke,onBroadcast:function(){i.devToolsHookCb&&i.devToolsHookCb({action:{},state:{queries:i.queryManager.queryStore.getStore(),mutations:i.queryManager.mutationStore.getStore()},dataWithOptimisticResults:i.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=At(At({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=At(At({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=At(At({},this.defaultOptions.query),e)),en(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=At(At({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=At(At({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,i){return i===void 0&&(i=!1),this.cache.readQuery(e,i)},t.prototype.readFragment=function(e,i){return i===void 0&&(i=!1),this.cache.readFragment(e,i)},t.prototype.writeQuery=function(e){var i=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),i},t.prototype.writeFragment=function(e){var i=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),i},t.prototype.writeData=function(e){var i=this.cache.writeData(e);return this.queryManager.broadcastQueries(),i},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return Cl(this.link,e)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(i){return i()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(i){return i()}))})},t.prototype.onResetStore=function(e){var i=this;return this.resetStoreCallbacks.push(e),function(){i.resetStoreCallbacks=i.resetStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.onClearStore=function(e){var i=this;return this.clearStoreCallbacks.push(e),function(){i.clearStoreCallbacks=i.clearStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t}();const T1=null;var Nl,cv=new Uint8Array(16);function dv(){if(!Nl&&(Nl=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Nl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nl(cv)}const fv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hv(t){return typeof t=="string"&&fv.test(t)}const mv=hv;for(var dr=[],Ju=0;Ju<256;++Ju)dr.push((Ju+256).toString(16).substr(1));function pv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(dr[t[e+0]]+dr[t[e+1]]+dr[t[e+2]]+dr[t[e+3]]+"-"+dr[t[e+4]]+dr[t[e+5]]+"-"+dr[t[e+6]]+dr[t[e+7]]+"-"+dr[t[e+8]]+dr[t[e+9]]+"-"+dr[t[e+10]]+dr[t[e+11]]+dr[t[e+12]]+dr[t[e+13]]+dr[t[e+14]]+dr[t[e+15]]).toLowerCase();if(!mv(i))throw TypeError("Stringified UUID is invalid");return i}const vv=pv;function gv(t,e,i){t=t||{};var n=t.random||(t.rng||dv)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){i=i||0;for(var r=0;r<16;++r)e[i+r]=n[r];return e}return vv(n)}const Yd=gv,bv="[a-zA-Z0-9-]+",Jd=["abstract","virtual","access","alias","async","augments","extends","author","borrows","callback","class","constructor","classdesc","constant","const","constructs","copyright","default","defaultvalue","deprecated","description","desc","enum","event","example","exports","external","host","file","fileoverview","overview","fires","emits","function","func","method","generator","global","hideconstructor","ignore","implements","inheritdoc","inner","instance","interface","kind","lends","license","listens","member","var","memberof","mixes","mixin","module","name","namespace","override","package","param","arg","argument","private","property","prop","protected","public","readonly","requires","returns","return","see","since","static","summary","this","throws","exception","todo","tutorial","type","typedef","variation","version","yields","yield","link"],Xd=["api","author","copyright","deprecated","generated","internal","link","method","package","param","property","return","see","since","throws","todo","uses","var","version"],yv=["a","addindex","addtogroup","anchor","arg","attention","author","authors","b","brief","bug","c","callergraph","callgraph","category","cite","class","code","collaborationgraph","concept","cond","copybrief","copydetails","copydoc","copyright","date","def","defgroup","deprecated","details","diafile","dir","directorygraph","docbookinclude","docbookonly","dontinclude","dot","dotfile","doxyconfig","e","else","elseif","em","emoji","endcode","endcond","enddocbookonly","enddot","endhtmlonly","endif","endinternal","endlatexonly","endlink","endmanonly","endmsc","endparblock","endrtfonly","endsecreflist","endverbatim","enduml","endxmlonly","enum","example","exception","extends","f(","f)","f$","f[","f]","f{","f}","file","fileinfo","fn","groupgraph","headerfile","hidecallergraph","hidecallgraph","hidecollaborationgraph","hidedirectorygraph","hidegroupgraph","hideincludedbygraph","hideincludegraph","hideinheritancegraph","hideinlinesource","hiderefby","hiderefs","hideinitializer","htmlinclude","htmlonly","idlexcept","if","ifnot","image","implements","important","include","includedoc","includedbygraph","includegraph","includelineno","ingroup","inheritancegraph","internal","invariant","interface","latexinclude","latexonly","li","line","lineinfo","link","mainpage","maninclude","manonly","memberof","module","msc","mscfile","n","name","namespace","noop","nosubgrouping","note","overload","p","package","page","par","paragraph","param","parblock","post","pre","private","privatesection","property","protected","protectedsection","protocol","public","publicsection","pure","qualifier","raisewarning","ref","refitem","related","relates","relatedalso","relatesalso","remark","remarks","result","return","returns","retval","rtfinclude","rtfonly","sa","secreflist","section","see","short","showdate","showinitializer","showinlinesource","showrefby","showrefs","since","skip","skipline","snippet","snippetdoc","snippetlineno","static","startuml","struct","subpage","subparagraph","subsection","subsubparagraph","subsubsection","tableofcontents","test","throw","throws","todo","tparam","typedef","union","until","var","verbatim","verbinclude","version","vhdlflow","warning","weakgroup","xmlinclude","xmlonly","xrefitem"];var wv=Object.defineProperty,fr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?wv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),Xu;(function(t){function e(i){return i&&typeof i.gitHubThreadId=="string"}t.is=e})(Xu||(Xu={}));class Mo{constructor(e){fr(this,"commentId"),fr(this,"parent"),fr(this,"mode"),fr(this,"originalAuthor"),fr(this,"label"),fr(this,"reactions"),fr(this,"contextValue"),this.parent=e}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Mo&&e.commentEditId()===this.commentEditId()&&(e.mode=a.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Mo&&e.commentEditId()===this.commentEditId()&&(e.mode=a.CommentMode.Preview,this.doSetBody(this.getCancelEditBody(),!0)),e))}}const Zd=class extends Mo{constructor(t,e,i,n,r){super(t);this.input=e,fr(this,"commentId"),fr(this,"id"),fr(this,"originalBody"),this.mode=a.CommentMode.Preview,this.originalAuthor={name:n.login,iconPath:n.avatarUrl?a.Uri.parse(`${n.avatarUrl}&s=64`):void 0},this.label=i?a.l10n.t("Pending"):void 0,this.contextValue="temporary,canEdit,canDelete",this.originalBody=r?r.rawComment.body:void 0,this.reactions=r?r.reactions:void 0,this.id=Zd.idPool++}async doSetBody(t){typeof t=="string"&&(this.input=t)}set body(t){this.doSetBody(t)}get body(){return new a.MarkdownString(this.input)}get author(){return this.originalAuthor}commentEditId(){return this.id}getCancelEditBody(){return this.originalBody||this.body}};let qr=Zd;fr(qr,"idPool",0);const ef=/```suggestion(\u0020*(\r\n|\n))((?<suggestion>[\s\S]*?)(\r\n|\n))?```/,_v=/<img .*src=['"](?<src>.+?)['"].*?>/g,tf=class extends Mo{constructor(t,e,i,n){super(i);this.githubRepositories=n,fr(this,"commentId"),fr(this,"timestamp"),fr(this,"rawComment"),fr(this,"_rawBody"),fr(this,"replacedBody"),this.rawComment=e,this.originalAuthor={name:e.user.login,iconPath:e.user&&e.user.avatarUrl?a.Uri.parse(e.user.avatarUrl):void 0};const r=e.user?Ka.avatarCirclesAsImageDataUris(t,[e.user],28,28):Promise.resolve([]);this.doSetBody(e.body,!e.user).then(async()=>{const d=await r;d.length>0&&(this.author.iconPath=d[0]),this.refresh()}),this.commentId=e.id.toString(),kf(this,e.reactions),this.label=e.isDraft?a.l10n.t("Pending"):void 0;const s=[];e.canEdit&&s.push("canEdit"),e.canDelete&&s.push("canDelete"),this.suggestion!==void 0&&s.push("hasSuggestion"),this.contextValue=s.join(","),this.timestamp=new Date(e.createdAt)}get author(){var t;return((t=this.rawComment.user)==null?void 0:t.specialDisplayName)?{name:this.rawComment.user.specialDisplayName,iconPath:this.originalAuthor.iconPath}:this.originalAuthor}update(t){const e=this.rawComment;this.rawComment=t;let i=!1;kf(this,t.reactions)&&(i=!0);const n=this.label;this.label=t.isDraft?a.l10n.t("Pending"):void 0,this.label!==n&&(i=!0);const r=[];t.canEdit&&r.push("canEdit"),t.canDelete&&r.push("canDelete"),this.suggestion!==void 0&&r.push("hasSuggestion");const s=this.contextValue;this.contextValue=r.join(","),s!==this.contextValue&&(i=!0),e.body!==t.body&&(this.doSetBody(t.body,!0),i=!1),i&&this.refresh()}refresh(){this.parent.comments=this.parent.comments}get suggestion(){var t;const e=this.rawComment.body.match(ef),i=(t=e==null?void 0:e.groups)==null?void 0:t.suggestion;if(e)return i||""}commentEditId(){return this.commentId}replaceImg(t){return t.replace(_v,(e,i,n,r,{src:s})=>`![image](${s})`)}replaceSuggestion(t){return t.replace(new RegExp(ef,"g"),(e,...i)=>{var n;return`***
Suggested change:
\`\`\`
${(n=i[3])!=null?n:""}
\`\`\`
***`})}async createLocalFilePath(t,e,i,n){const r=a.Uri.joinPath(t,e);try{if((await a.workspace.fs.stat(r)).type===a.FileType.File)return`${r.with({fragment:`${i}-${n}`}).toString()}`}catch(s){return}}async replacePermalink(t){const e=this.githubRepositories;if(!e||e.length===0)return t;const i=new RegExp(`https://github.com/(.+)/${e[0].remote.repositoryName}/blob/([0-9a-f]{40})/(.*)#L([0-9]+)(-L([0-9]+))?`,"g");return tt(t,i,async(n,r,s,d,y,F,W,ie)=>{if(ie&&ie>0&&t.charAt(ie-1)==="(")return n;const le=e.find(Te=>Te.remote.owner.toLocaleLowerCase()===r.toLocaleLowerCase());if(!le)return n;const de=parseInt(y),ke=W?parseInt(W):de+1,Ie=await le.getLines(s,d,de,ke);if(!Ie)return n;const oe=await this.createLocalFilePath(le.rootUri,d,de,ke),ye=W?`Lines ${de} to ${ke} in \`${s.substring(0,7)}\``:`Line ${de} in \`${s.substring(0,7)}\``;return`
***
[${d}](${oe!=null?oe:n})${oe?` ([view on GitHub](${n}))`:""}

${ye}
\`\`\`
${Ie}
\`\`\`
***`})}replaceNewlines(t){return t.replace(/(?<!\s)(\r\n|\n)/g,`  
`)}postpendSpecialAuthorComment(t){return this.rawComment.specialDisplayBodyPostfix?`${t}  

_${this.rawComment.specialDisplayBodyPostfix}_`:t}async replaceBody(t){if(f.trace("Replace comment body",tf.ID),t instanceof a.MarkdownString){const d=await this.replacePermalink(t.value);return this.replaceImg(this.replaceSuggestion(d))}const e=this.replaceNewlines(t),i=(await a.workspace.openTextDocument(this.parent.uri)).languageId,n=new RegExp(`([^/[\`]|^)@(${bv})`,"g"),r=e.replace(n,(d,y,F,W)=>{var ie,le;if(((le=(ie=e.substring(0,W).match(/```/g))==null?void 0:ie.length)!=null?le:0)%2==1||d.includes("]")||d.includes(")"))return d;const de=d.substring(d.startsWith("@")?1:2);return(i==="javascript"||i==="typescript")&&Jd.includes(de)||i==="php"&&Xd.includes(de)?d:`${d.startsWith("@")?"":d.charAt(0)}[@${de}](${m.dirname(this.rawComment.user.url)}/${de})`}),s=await this.replacePermalink(r);return this.postpendSpecialAuthorComment(this.replaceImg(this.replaceSuggestion(s)))}async doSetBody(t,e){this._rawBody=t;const i=await this.replaceBody(t);i!==this.replacedBody&&(this.replacedBody=i,e&&this.refresh())}set body(t){this.doSetBody(t,!1)}get body(){return this.mode===a.CommentMode.Editing?this._rawBody:new a.MarkdownString(this.replacedBody)}getCancelEditBody(){return new a.MarkdownString(this.rawComment.body)}};let Gn=tf;fr(Gn,"ID","GHPRComment");var er;(function(t){t.VIEWED_FILES="github:viewedFiles",t.UNVIEWED_FILES="github:unviewedFiles",t.IN_REVIEW_MODE="github:inReviewMode",t.REPOS_NOT_IN_REVIEW_MODE="github:reposNotInReviewMode",t.REPOS_IN_REVIEW_MODE="github:reposInReviewMode",t.ACTIVE_PR_COUNT="github:activePRCount",t.LOADING_PRS_TREE="github:loadingPrsTree",t.LOADING_ISSUES_TREE="github:loadingIssuesTree",t.CREATE_PR_PERMISSIONS="github:createPrPermissions",t.RESOLVING_CONFLICTS="github:resolvingConflicts",t.PULL_REQUEST_DESCRIPTION_VISIBLE="github:pullRequestDescriptionVisible",t.ACTIVE_COMMENT_HAS_SUGGESTION="github:activeCommentHasSuggestion"})(er||(er={}));var Vi;(function(t){t.OPEN_CHAT="workbench.action.chat.open",t.QUICK_CHAT_OPEN="workbench.action.quickchat.toggle";function e(r,s,d){return a.commands.executeCommand(r,s,d)}t.executeCommand=e;function i(r){return e(`${r}.focus`)}t.focusView=i;function n(r,s){return e("setContext",r,s)}t.setContext=n})(Vi||(Vi={}));var kv=Object.defineProperty,ls=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?kv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const nf="PullRequestOverview";function Zu(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<32;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}class rf{constructor(){ls(this,"_webview"),ls(this,"_disposables",[]),ls(this,"_waitForReady"),ls(this,"_onIsReady",new a.EventEmitter),ls(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const i=this._onIsReady.event(()=>{i.dispose(),e()})})}initialize(){var e;const i=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async n=>{await this._onDidReceiveMessage(n)},null,this._disposables);i&&this._disposables.push(i)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var i;await this._waitForReady,(i=this._webview)==null||i.postMessage({res:e})}async _replyMessage(e,i){var n;const r={seq:e.req,res:i};(n=this._webview)==null||n.postMessage(r)}async _throwError(e,i){var n;const r={seq:e==null?void 0:e.req,err:i};(n=this._webview)==null||n.postMessage(r)}dispose(){this._disposables.forEach(e=>e.dispose())}}class af extends rf{constructor(e){super();this._extensionUri=e,ls(this,"viewType"),ls(this,"_view")}resolveWebviewView(e,i,n){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._disposables.push(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():Vi.focusView(this.viewType)}}async function us(t,e,i,n,r=!1){var s;const d=[],y=[];for(const W of i){const ie=Sr(W);e.has(ie)||(y.push(W),e.add(ie))}const F=await Ka.avatarCirclesAsImageDataUris(t,y,16,16,r);for(let W=0;W<y.length;W++){const ie=y[W];let le;fa(ie)&&(le=ie.isAuthor&&ie.isCommenter?a.l10n.t("Recently edited and reviewed changes to these files"):ie.isAuthor?a.l10n.t("Recently edited these files"):ie.isCommenter?a.l10n.t("Recently reviewed changes to these files"):a.l10n.t("Suggested reviewer")),d.push({label:bn(ie)?`${ie.org}/${ie.slug}`:ie.login,description:ie.name,user:ie,picked:n,detail:le,iconPath:(s=F[W])!=null?s:Sv(ie)})}return d}async function sf(t,e,i,n,r,s){var d;const[y,F]=await Promise.all([t.getAssignableUsers(),r?t.getPullRequestParticipants(r.githubRepository,r.number):void 0]),W=F==null?void 0:F.viewer,ie=(d=F==null?void 0:F.participants)!=null?d:[];let le=y[i];le=le!=null?le:[];const de=new Set,ke=[];if(n.length&&ke.push(us(t.context,de,n!=null?n:[],!0)),W&&!de.has(W.login)&&le.findIndex(oe=>oe.login===W.login)!==-1&&ke.push(us(t.context,de,[W],!1)),ie.length&&ke.push(us(t.context,de,ie,!1)),ke.length!==0&&ke.unshift(Promise.resolve([{kind:a.QuickPickItemKind.Separator,label:a.l10n.t("Suggestions")}])),le.length){const oe=le.length>80;ke.push(us(t.context,de,le,!1,oe))}const Ie=(await Promise.all(ke)).flat();if(Ie.length===0&&Ie.push({label:a.l10n.t("No assignees available for this repository")}),s){const oe=W!=null?W:await t.getCurrentUser(e);Ie.length!==0&&Ie.unshift({kind:a.QuickPickItemKind.Separator,label:a.l10n.t("Users")}),Ie.unshift({label:a.l10n.t("Assign yourself"),user:oe})}return Ie}function Sv(t){return bn(t)?new a.ThemeIcon("organization"):new a.ThemeIcon("account")}async function Rv(t,e,i,n,r,s,d){var y;if(!s)return[];const F=await t.getAssignableUsers(),le=[...(y=(i?await t.getTeamReviewers(d):[])[e])!=null?y:[]];F[e]&&le.push(...F[e]);const de=new Set([n.login]),ke=[];r.length&&ke.push(us(t.context,de,r.map(ye=>ye.reviewer),!0)),ke.push(us(t.context,de,s,!1));const Ie=le.length>60;ke.push(us(t.context,de,le,!1,Ie));const oe=(await Promise.all(ke)).flat();return oe.length===0&&oe.push({label:a.l10n.t("No reviewers available for this repository")}),oe}async function of(t,e,i,n,r,s,d){const y=a.window.createQuickPick(),F=100,W=a.l10n.t("Add reviewers");y.busy=!0,y.canSelectMany=!0,y.matchOnDescription=!0,y.placeholder=W,i&&(y.buttons=[{iconPath:new a.ThemeIcon("organization"),tooltip:a.l10n.t("Show or refresh team reviewers")}]),y.show();const ie=async le=>{const de=setTimeout(()=>{y.placeholder=a.l10n.t("Getting team reviewers can take several minutes. Results will be cached.")},3e3),ke=performance.now();y.items=await Rv(t,e,i,r,s,d,le),f.appendLine(`Setting quick pick reviewers took ${performance.now()-ke}ms`,"QuickPicks"),clearTimeout(de),y.selectedItems=y.items.filter(Ie=>Ie.picked),y.placeholder=W};return await ie(n!==0&&n<=F?fs.Try:fs.None),y.onDidTriggerButton(()=>{y.busy=!0,y.ignoreFocusOut=!0,ie(fs.Force).then(()=>{y.ignoreFocusOut=!1,y.busy=!1})}),y}function Ev(t){return!!t.id&&!!t.project}async function lf(t,e,i,n){try{let r=[];async function s(){const y=await t.getAllProjects(e);return!y||!y.length?[{label:a.l10n.t("No projects created for this repository.")}]:y.map(W=>{const ie={iconPath:new a.ThemeIcon("github-project"),label:W.title,id:W.id,project:W};return i&&i.find(le=>le.id===W.id)&&r.push(ie),ie})}const d=a.window.createQuickPick();d.busy=!0,d.canSelectMany=!0,d.title=a.l10n.t("Set projects"),d.show(),d.items=await s(),d.selectedItems=r,d.busy=!1,t.getOrgProjects(!0),d.onDidAccept(async()=>{d.hide();const y=d.selectedItems.map(F=>Ev(F)?F.project:void 0).filter(F=>F!==void 0);y&&await n(y)})}catch(r){a.window.showErrorMessage(`Failed to add project: ${$(r)}`)}}function Tv(t){return!!t.id&&!!t.milestone}async function uf(t,e,i,n){try{const r={label:a.l10n.t("Remove Milestone")};let s;async function d(){const F=await e.getMilestones();if(!F||!F.length)return[{label:a.l10n.t("No milestones created for this repository.")}];const W=F.map(ie=>{const le={iconPath:new a.ThemeIcon("milestone"),label:ie.title,id:ie.id,milestone:ie};return i&&i.id===ie.id&&(s=le),le});return i&&(W.unshift({label:"Milestones",kind:a.QuickPickItemKind.Separator}),W.unshift(r)),W}const y=a.window.createQuickPick();y.busy=!0,y.canSelectMany=!1,y.title=a.l10n.t("Set milestone"),y.buttons=[{iconPath:new a.ThemeIcon("add"),tooltip:"Create"}],y.onDidTriggerButton(F=>{y.hide();const W=a.window.createInputBox();W.title=a.l10n.t("Create new milestone"),W.placeholder=a.l10n.t("New milestone title"),y.value!==""&&(W.value=y.value),W.show(),W.onDidAccept(async()=>{if(W.hide(),W.value!==""){if(W.value.length>255){a.window.showErrorMessage(a.l10n.t("Failed to create milestone: The title can contain a maximum of 255 characters"));return}for(const ie of y.items)if(ie.label===W.value){a.window.showErrorMessage(a.l10n.t("Failed to create milestone: The milestone '{0}' already exists",W.value));return}try{const ie=await t.createMilestone(e,W.value);ie!==void 0&&await n(ie)}catch(ie){ie.errors&&Array.isArray(ie.errors)&&ie.errors.find(le=>le.code==="already_exists")!==void 0?a.window.showErrorMessage(a.l10n.t("Failed to create milestone: The milestone already exists and might be closed")):a.window.showErrorMessage(`Failed to create milestone: ${$(ie)}`)}}})}),y.show(),y.items=await d(),y.activeItems=s?[s]:i?[y.items[1]]:[y.items[0]],y.busy=!1,y.onDidAccept(async()=>{y.hide();const F=y.selectedItems[0];F&&Tv(F)?await n(F.milestone):F&&F===r&&await n(void 0)})}catch(r){a.window.showErrorMessage(`Failed to add milestone: ${$(r)}`)}}async function cf(t,e,i,n){const r=await t.getLabels(void 0,{owner:i,repo:n}),s=r.map(d=>{var y;return{label:d.name,description:(y=d.description)!=null?y:void 0,picked:e.some(F=>F.name===d.name),iconPath:Ka.asImageDataURI(Wn.Buffer.from(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="2" y="2" width="12" height="12" rx="6" fill="#${d.color}"/>
				</svg>`,"utf8"))}});return{newLabels:r,labelPicks:s}}async function Cv(t,e){async function i(){return(await t.getAuthenticatedUserEmails()).map(s=>({label:s,picked:s.toLowerCase()===e.toLowerCase()}))}const n=await a.window.showQuickPick(i(),{canPickMany:!1,title:a.l10n.t("Choose an email")});return n?n.label:void 0}var Nv=ni(65606),Mv=Object.defineProperty,Pa=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Mv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const va=class extends rf{constructor(t,e,i,n,r,s=va._viewType){super();this._telemetry=t,this._extensionUri=e,Pa(this,"_panel"),Pa(this,"_disposables",[]),Pa(this,"_descriptionNode"),Pa(this,"_item"),Pa(this,"_folderRepositoryManager"),Pa(this,"_scrollPosition",{x:0,y:0}),this._folderRepositoryManager=r,this._panel=a.window.createWebviewPanel(s,n,i,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[a.Uri.joinPath(e,"dist")]}),this._webview=this._panel.webview,super.initialize(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._folderRepositoryManager.onDidChangeActiveIssue(d=>{if(this._folderRepositoryManager&&this._item){const y=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:y})}},null,this._disposables)}static async createOrShow(t,e,i,n,r=!1){const s=r?a.ViewColumn.Beside:a.window.activeTextEditor?a.window.activeTextEditor.viewColumn:a.ViewColumn.One;if(va.currentPanel)va.currentPanel._panel.reveal(s,!0);else{const d=`Issue #${n.number.toString()}`;va.currentPanel=new va(t,e,s||a.ViewColumn.Active,d,i)}await va.currentPanel.update(i,n)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}setPanelTitle(t){try{this._panel.title=t}catch(e){}}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}async updateIssue(t){return Promise.all([this._folderRepositoryManager.resolveIssue(t.remote.owner,t.remote.repositoryName,t.number),t.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t)]).then(e=>{const[i,n,r]=e;if(!i)throw new Error(`Fail to resolve issue #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=i,this.setPanelTitle(`Issue #${t.number.toString()}`),f.debug("pr.initialize",va.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:this._item.number,title:this._item.title,titleHTML:this._item.titleHTML,url:this._item.html_url,createdAt:this._item.createdAt,body:this._item.body,bodyHTML:this._item.bodyHTML,labels:this._item.item.labels,author:{login:this._item.author.login,name:this._item.author.name,avatarUrl:this._item.userAvatar,url:this._item.author.url},state:this._item.state,events:n,repositoryDefaultBranch:r,canEdit:!0,status:{statuses:[]},isIssue:!0,isDarkTheme:a.window.activeColorTheme.kind===a.ColorThemeKind.Dark}})}).catch(e=>{a.window.showErrorMessage($(e))})}async update(t,e){return this._folderRepositoryManager=t,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(),this.updateIssue(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"alert":a.window.showErrorMessage(t.args);return;case"pr.close":return this.close(t);case"pr.comment":return this.createComment(t);case"scroll":this._scrollPosition=t.args.scrollPosition;return;case"pr.edit-comment":return this.editComment(t);case"pr.delete-comment":return this.deleteComment(t);case"pr.edit-description":return this.editDescription(t);case"pr.edit-title":return this.editTitle(t);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(t);case"pr.remove-label":return this.removeLabel(t);case"pr.debug":return this.webviewDebug(t);default:return this.MESSAGE_UNHANDLED}}async addLabels(t){const e=a.window.createQuickPick();try{let i=[];e.busy=!0,e.canSelectMany=!0,e.show(),e.items=await cf(this._folderRepositoryManager,this._item.item.labels,this._item.remote.owner,this._item.remote.repositoryName).then(d=>(i=d.newLabels,d.labelPicks)),e.selectedItems=e.items.filter(d=>d.picked),e.busy=!1;const n=B(e.onDidAccept).then(()=>e.selectedItems),r=B(e.onDidHide),s=await Promise.race([n,r]);if(e.busy=!0,s){await this._item.setLabels(s.map(y=>y.label));const d=s.map(y=>i.find(F=>F.name===y.label));this._item.item.labels=d,await this._replyMessage(t,{added:d})}}catch(i){a.window.showErrorMessage($(i))}finally{e.hide(),e.dispose()}}async removeLabel(t){try{await this._item.removeLabel(t.args);const e=this._item.item.labels.findIndex(i=>i.name===t.args);this._item.item.labels.splice(e,1),this._replyMessage(t,{})}catch(e){a.window.showErrorMessage($(e))}}webviewDebug(t){f.debug(t.args,va.ID)}editDescription(t){this._item.edit({body:t.args.text}).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),a.window.showErrorMessage(`Editing description failed: ${$(e)}`)})}editTitle(t){return this._item.edit({title:t.args.text}).then(e=>this._replyMessage(t,{titleHTML:e.titleHTML})).catch(e=>{this._throwError(t,e),a.window.showErrorMessage(`Editing title failed: ${$(e)}`)})}editCommentPromise(t,e){return this._item.editIssueComment(t,e)}editComment(t){this.editCommentPromise(t.args.comment,t.args.text).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),a.window.showErrorMessage($(e))})}deleteCommentPromise(t){return this._item.deleteIssueComment(t.id.toString())}deleteComment(t){a.window.showWarningMessage(a.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},"Delete").then(e=>{e==="Delete"&&this.deleteCommentPromise(t.args).then(i=>{this._replyMessage(t,{})}).catch(i=>{this._throwError(t,i),a.window.showErrorMessage($(i))})})}close(t){a.commands.executeCommand("pr.close",this._item,t.args).then(e=>{e?this._replyMessage(t,{value:e}):this._throwError(t,"Close cancelled")})}createComment(t){this._item.createIssueComment(t.args).then(e=>{this._replyMessage(t,{value:e})})}set _currentPanel(t){va.currentPanel=t}dispose(){for(this._currentPanel=void 0,this._panel.dispose(),this._webview=void 0;this._disposables.length;){const t=this._disposables.pop();t&&t.dispose()}}getHtmlForWebview(){const t=Zu(),e=a.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; media-src https:; script-src 'nonce-${t}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="${Nv.platform}">
		<div id=app></div>
		<script nonce="${t}" src="${this._webview.asWebviewUri(e).toString()}"></script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}};let Po=va;Pa(Po,"ID","IssueOverviewPanel"),Pa(Po,"currentPanel"),Pa(Po,"_viewType","IssueOverview");var Ml;(function(t){async function e(i,n){const r=await i.getBranchNameForPullRequest(n),s=[],d=await i.getPullRequestRepositoryDefaultBranch(n);if(n.isResolved()){const W=n.head.ref;!(d===n.head.ref)&&!n.isRemoteHeadDeleted&&s.push({label:a.l10n.t("Delete remote branch {0}",`${n.remote.remoteName}/${W}`),description:`${n.remote.normalizedHost}/${n.remote.owner}/${n.remote.repositoryName}`,type:"upstream",picked:!0})}if(r){const W=a.workspace.getConfiguration(Xe).get(`${Ut}.${Ft}`);s.push({label:a.l10n.t("Delete local branch {0}",r.branch),type:"local",picked:!!W});const ie=a.workspace.getConfiguration(Xe).get(`${Ut}.${pt}`);r.remote&&r.createdForPullRequest&&!r.remoteInUse&&s.push({label:a.l10n.t("Delete remote {0}, which is no longer used by any other branch",r.remote),type:"remote",picked:!!ie})}if(a.env.remoteName==="codespaces"&&s.push({label:a.l10n.t("Suspend Codespace"),type:"suspend"}),!s.length)return a.window.showWarningMessage(a.l10n.t("There is no longer an upstream or local branch for Pull Request #{0}",n.number)),{isReply:!0,message:{cancelled:!0}};const y=await a.window.showQuickPick(s,{canPickMany:!0,ignoreFocusOut:!0}),F=[];if(y){const W=n.equals(i.activePullRequest),ie=y.map(async le=>{switch(le.type){case"upstream":await i.deleteBranch(n),F.push(le.type),await i.repository.fetch({prune:!0}),i.repository.rootUri.scheme===oi.VscodeVfs&&await i.repository.checkout(d);return;case"local":if(W){if(i.repository.state.workingTreeChanges.length){const de=a.l10n.t("Yes");if(await a.window.showWarningMessage(a.l10n.t("Your local changes will be lost, do you want to continue?"),{modal:!0},de)===de)await a.commands.executeCommand("git.cleanAll");else return}await i.repository.checkout(d)}return await i.repository.deleteBranch(r.branch,!0),F.push(le.type);case"remote":return F.push(le.type),i.repository.removeRemote(r.remote);case"suspend":return F.push(le.type),a.commands.executeCommand("github.codespaces.disconnectSuspend")}});return await Promise.all(ie),a.commands.executeCommand("pr.refreshList"),{isReply:!1,message:{command:"pr.deleteBranch",branchTypes:F}}}else return{isReply:!0,message:{cancelled:!0}}}t.deleteBranch=e})(Ml||(Ml={}));var za;(function(t){t.Comment="comment",t.Approve="approve",t.RequestChanges="requestChanges"})(za||(za={}));var Ao;(function(t){t[t.None=0]="None",t[t.Available=1]="Available",t[t.ReviewedWithComments=2]="ReviewedWithComments",t[t.ReviewedWithoutComments=3]="ReviewedWithoutComments"})(Ao||(Ao={}));var Pv=Object.defineProperty,cs=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Pv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const ga=class extends Po{constructor(t,e,i,n,r){super(t,e,i,n,r,nf);cs(this,"_repositoryDefaultBranch"),cs(this,"_existingReviewers",[]),cs(this,"_teamsCount",0),cs(this,"_prListeners",[]),cs(this,"_isUpdating",!1),this.registerPrListeners(),Ch(s=>{s&&this._item.update(s),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this.setVisibilityContext(),this._disposables.push(this._panel.onDidChangeViewState(()=>this.setVisibilityContext())),this._disposables.push(r.onDidMergePullRequest(s=>{this._postMessage({command:"update-state",state:Gi.Merged})})),this._disposables.push(r.credentialStore.onDidUpgradeSession(()=>{this.updatePullRequest(this._item)})),this._disposables.push(a.commands.registerCommand("review.approveDescription",s=>this.approvePullRequestCommand(s))),this._disposables.push(a.commands.registerCommand("review.commentDescription",s=>this.submitReviewCommand(s))),this._disposables.push(a.commands.registerCommand("review.requestChangesDescription",s=>this.requestChangesCommand(s))),this._disposables.push(a.commands.registerCommand("review.approveOnDotComDescription",()=>ka(this._item,this._item._telemetry))),this._disposables.push(a.commands.registerCommand("review.requestChangesOnDotComDescription",()=>ka(this._item,this._item._telemetry)))}static async createOrShow(t,e,i,n,r=!1,s=!0){const d=r?a.ViewColumn.Beside:a.window.activeTextEditor?a.window.activeTextEditor.viewColumn:a.ViewColumn.One;if(ga.currentPanel)ga.currentPanel._panel.reveal(d,s);else{const y=`Pull Request #${n.number.toString()}`;ga.currentPanel=new ga(t,e,d||a.ViewColumn.Active,y,i)}await ga.currentPanel.update(i,n)}set _currentPanel(t){ga.currentPanel=t}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerPrListeners(){j(this._prListeners),this._prListeners=[],this._prListeners.push(this._folderRepositoryManager.onDidChangeActivePullRequest(t=>{if(this._folderRepositoryManager&&this._item){const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:e})}})),this._item&&this._prListeners.push(this._item.onDidChangeComments(()=>{this._isUpdating||this.refreshPanel()}))}setVisibilityContext(){return Vi.setContext(er.PULL_REQUEST_DESCRIPTION_VISIBLE,this._panel.visible)}getCurrentUserReviewState(t,e){const i=t.find(n=>Sr(n.reviewer)===e.login);return i==null?void 0:i.state}isUpdateBranchWithGitHubEnabled(){return this._item.isActive||a.workspace.getConfiguration(Xe).get("experimentalUpdateBranchWithGitHub",!1)}async updatePullRequest(t){return Promise.all([this._folderRepositoryManager.resolvePullRequest(t.remote.owner,t.remote.repositoryName,t.number),t.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t),t.getStatusChecks(),t.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(t),this._folderRepositoryManager.getBranchNameForPullRequest(t),this._folderRepositoryManager.getCurrentUser(t.githubRepository),t.canEdit(),this._folderRepositoryManager.getOrgTeamsCount(t.githubRepository),this._folderRepositoryManager.mergeQueueMethodForBranch(t.base.ref,t.remote.owner,t.remote.repositoryName),this._folderRepositoryManager.isHeadUpToDateWithBase(t),t.getMergeability(),this._folderRepositoryManager.credentialStore.getIsEmu(t.remote.authProviderId)]).then(e=>{var i,n;const[r,s,d,y,F,W,ie,le,de,ke,Ie,oe,ye,Te]=e;if(!r)throw new Error(`Fail to resolve Pull Request #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=r,this.registerPrListeners(),this._repositoryDefaultBranch=d,this._teamsCount=ke,this.setPanelTitle(`Pull Request #${t.number.toString()}`);const Fe=t.equals(this._folderRepositoryManager.activePullRequest),qe=W.hasWritePermission,He=W.mergeMethodsAvailability,lt=qe||de,mt=Pl(He);this._existingReviewers=Of(F,s,r.author);const Pt=r.base&&!!r.head&&!r.base.repositoryCloneUrl.equals(r.head.repositoryCloneUrl),Ct=this.isUpdateBranchWithGitHubEnabled(),ui=Pt&&Ol(),Di=this.getCurrentUserReviewState(this._existingReviewers,le);f.debug("pr.initialize",ga.ID);const On={number:r.number,title:r.title,titleHTML:r.titleHTML,url:r.html_url,createdAt:r.createdAt,body:r.body,bodyHTML:r.bodyHTML,labels:r.item.labels,author:{id:r.author.id,login:r.author.login,name:r.author.name,avatarUrl:r.userAvatar,url:r.author.url},state:r.state,events:s,isCurrentlyCheckedOut:Fe,isRemoteBaseDeleted:r.isRemoteBaseDeleted,base:r.base.label,isRemoteHeadDeleted:r.isRemoteHeadDeleted,isLocalHeadDeleted:!ie,head:(n=(i=r.head)==null?void 0:i.label)!=null?n:"",repositoryDefaultBranch:d,canEdit:lt,hasWritePermission:qe,status:y[0],reviewRequirement:y[1],canUpdateBranch:r.item.viewerCanUpdate&&!oe&&Ct,mergeable:ye.mergeability,reviewers:this._existingReviewers,isDraft:r.isDraft,mergeMethodsAvailability:He,defaultMergeMethod:mt,autoMerge:r.autoMerge,allowAutoMerge:r.allowAutoMerge,autoMergeMethod:r.autoMergeMethod,mergeQueueMethod:Ie,mergeQueueEntry:r.mergeQueueEntry,mergeCommitMeta:r.mergeCommitMeta,squashCommitMeta:r.squashCommitMeta,isIssue:!1,projectItems:r.item.projectItems,milestone:r.milestone,assignees:r.assignees,continueOnGitHub:ui,emailForCommit:Te?void 0:le.email,isAuthor:le.login===r.author.login,currentUserReviewState:Di,isDarkTheme:a.window.activeColorTheme.kind===a.ColorThemeKind.Dark,isEnterprise:r.githubRepository.remote.isEnterprise,revertable:r.state===Gi.Merged};this._postMessage({command:"pr.initialize",pullrequest:On}),r.isResolved()&&this._folderRepositoryManager.checkBranchUpToDate(r,!0)}).catch(e=>{a.window.showErrorMessage($(e))})}async update(t,e){return this._folderRepositoryManager!==t&&(this._folderRepositoryManager=t,this.registerPrListeners()),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),(!this._item||this._item.number!==e.number||!this._panel.webview.html)&&(this._panel.webview.html=this.getHtmlForWebview()),a.window.withProgress({location:{viewId:"pr:github"}},()=>this.updatePullRequest(e))}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"pr.checkout":return this.checkoutPullRequest(t);case"pr.merge":return this.mergePullRequest(t);case"pr.change-email":return this.changeEmail(t);case"pr.deleteBranch":return this.deleteBranch(t);case"pr.readyForReview":return this.setReadyForReview(t);case"pr.approve":return this.approvePullRequestMessage(t);case"pr.request-changes":return this.requestChangesMessage(t);case"pr.submit":return this.submitReviewMessage(t);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(t);case"pr.apply-patch":return this.applyPatch(t);case"pr.open-diff":return this.openDiff(t);case"pr.resolve-comment-thread":return this.resolveCommentThread(t);case"pr.checkMergeability":return this._replyMessage(t,await this._item.getMergeability());case"pr.change-reviewers":return this.changeReviewers(t);case"pr.remove-milestone":return this.removeMilestone(t);case"pr.add-milestone":return this.addMilestone(t);case"pr.change-projects":return this.changeProjects(t);case"pr.remove-project":return this.removeProject(t);case"pr.change-assignees":return this.changeAssignees(t);case"pr.add-assignee-yourself":return this.addAssigneeYourself(t);case"pr.copy-prlink":return this.copyPrLink();case"pr.copy-vscodedevlink":return this.copyVscodeDevLink();case"pr.openOnGitHub":return ka(this._item,this._item._telemetry);case"pr.update-automerge":return this.updateAutoMerge(t);case"pr.dequeue":return this.dequeue(t);case"pr.enqueue":return this.enqueue(t);case"pr.update-branch":return this.updateBranch(t);case"pr.gotoChangesSinceReview":return this.gotoChangesSinceReview();case"pr.re-request-review":return this.reRequestReview(t);case"pr.revert":return this.revert(t)}}gotoChangesSinceReview(){this._item.showChangesSinceReview=!0}async changeReviewers(t){let e;try{e=await of(this._folderRepositoryManager,this._item.remote.remoteName,this._item.base.isInOrganization,this._teamsCount,this._item.author,this._existingReviewers,this._item.suggestedReviewers),e.busy=!1;const i=B(e.onDidAccept).then(()=>e.selectedItems.filter(s=>s.user)),n=B(e.onDidHide),r=await Promise.race([i,n]);if(e.busy=!0,r){const s=[],d=[];r.forEach(ie=>{(bn(ie.user)?d:s).push(ie.user.id)});const y=[],F=[];this._existingReviewers.forEach(ie=>{let le=bn(ie.reviewer)?d:s,de=bn(ie.reviewer)?F:y;le.find(ke=>ke===ie.reviewer.id)||de.push(ie.reviewer.id)}),await this._item.requestReview(s,d),await this._item.deleteReviewRequest(y,F);const W=r.map(ie=>({reviewer:ie.user,state:"REQUESTED"}));this._existingReviewers=W,await this._replyMessage(t,{reviewers:W})}}catch(i){f.error($(i)),a.window.showErrorMessage($(i))}finally{e==null||e.hide(),e==null||e.dispose()}}async addMilestone(t){return uf(this._folderRepositoryManager,this._item.githubRepository,this._item.milestone,e=>this.updateMilestone(e,t))}async updateMilestone(t,e){if(!t)return this.removeMilestone(e);await this._item.updateMilestone(t.id),this._replyMessage(e,{added:t})}async removeMilestone(t){try{await this._item.updateMilestone("null"),this._replyMessage(t,{})}catch(e){a.window.showErrorMessage($(e))}}async changeProjects(t){var e;return lf(this._folderRepositoryManager,this._item.githubRepository,(e=this._item.item.projectItems)==null?void 0:e.map(i=>i.project),i=>this.updateProjects(i,t))}async updateProjects(t,e){if(t){const n={projectItems:await this._item.updateProjects(t)};return this._replyMessage(e,n)}}async removeProject(t){return await this._item.removeProjects([t.args]),this._replyMessage(t,{})}async changeAssignees(t){var e,i,n;const r=a.window.createQuickPick();try{r.busy=!0,r.canSelectMany=!0,r.matchOnDescription=!0,r.show(),r.items=await sf(this._folderRepositoryManager,void 0,this._item.remote.remoteName,(e=this._item.assignees)!=null?e:[],this._item),r.selectedItems=r.items.filter(F=>F.picked),r.busy=!1;const s=B(r.onDidAccept).then(()=>r.selectedItems.filter(F=>F.user)),d=B(r.onDidHide),y=await Promise.race([s,d]);if(r.busy=!0,y){const F=y.map(ie=>ie.user),W=(n=(i=this._item.assignees)==null?void 0:i.filter(ie=>!F.find(le=>le.login===ie.login)))!=null?n:[];this._item.assignees=F,await this._item.addAssignees(F.map(ie=>ie.login)),await this._item.deleteAssignees(W.map(ie=>ie.login)),await this._replyMessage(t,{assignees:F})}}catch(s){a.window.showErrorMessage($(s))}finally{r.hide(),r.dispose()}}async addAssigneeYourself(t){var e,i;try{const n=await this._folderRepositoryManager.getCurrentUser();((e=this._item.assignees)==null?void 0:e.find(s=>s.login===n.login))||(this._item.assignees=(i=this._item.assignees)==null?void 0:i.concat(n),await this._item.addAssignees([n.login])),this._replyMessage(t,{assignees:this._item.assignees})}catch(n){a.window.showErrorMessage($(n))}}async applyPatch(t){try{const e=t.args.comment,n=/```diff\n([\s\S]*)\n```/g.exec(e.body),r=a.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,".git",`${e.id}.diff`),s=new TextEncoder;await a.workspace.fs.writeFile(r,s.encode(n[1])),await this._folderRepositoryManager.repository.apply(r.fsPath),await a.workspace.fs.delete(r),a.window.showInformationMessage("Patch applied!")}catch(e){f.error(`Applying patch failed: ${e}`,ga.ID),a.window.showErrorMessage(`Applying patch failed: ${$(e)}`)}}async openDiff(t){try{const e=t.args.comment;return rr.openDiffFromComment(this._folderRepositoryManager,this._item,e)}catch(e){f.error(`Open diff view failed: ${$(e)}`,ga.ID)}}async resolveCommentThread(t){try{t.args.toResolve?await this._item.resolveReviewThread(t.args.threadId):await this._item.unresolveReviewThread(t.args.threadId);const e=await this._item.getTimelineEvents();this._replyMessage(t,e)}catch(e){a.window.showErrorMessage(e),this._replyMessage(t,void 0)}}checkoutPullRequest(t){a.commands.executeCommand("pr.pick",this._item).then(()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})},()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})})}mergePullRequest(t){const{title:e,description:i,method:n,email:r}=t.args;this._folderRepositoryManager.mergePullRequest(this._item,e,i,n,r).then(s=>{a.commands.executeCommand("pr.refreshList"),s.merged||a.window.showErrorMessage(`Merging PR failed: ${s.message}`);const d={state:s.merged?Gi.Merged:Gi.Open,revertable:s.merged,events:s.timeline};this._replyMessage(t,d)}).catch(s=>{a.window.showErrorMessage(`Unable to merge pull request. ${$(s)}`),this._throwError(t,{})})}async changeEmail(t){const e=await Cv(this._item.githubRepository,t.args);return this._replyMessage(t,e!=null?e:t.args)}async deleteBranch(t){const e=await Ml.deleteBranch(this._folderRepositoryManager,this._item);e.isReply?this._replyMessage(t,e.message):(this.refreshPanel(),this._postMessage(e.message))}setReadyForReview(t){this._item.setReadyForReview().then(e=>{a.commands.executeCommand("pr.refreshList"),this._replyMessage(t,e)}).catch(e=>{a.window.showErrorMessage(`Unable to set PR ready for review. ${$(e)}`),this._throwError(t,{})})}async checkoutDefaultBranch(t){var e;try{const i=(e=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:e.name;await this._folderRepositoryManager.checkoutDefaultBranch(t.args),i&&await this._folderRepositoryManager.cleanupAfterPullRequest(i,this._item)}finally{this._replyMessage(t,{})}}updateReviewers(t){if(t&&t.state){const e=this._existingReviewers.find(i=>t.user.login===i.reviewer.login);e?e.state=t.state:this._existingReviewers.push({reviewer:t.user,state:t.state})}}async doReviewCommand(t,e,i){const n={command:"pr.submitting-review",lastReviewType:e};this._postMessage(n);try{const r=await i(t.body);this.updateReviewers(r);const s={command:"pr.append-review",review:r,reviewers:this._existingReviewers};await this._postMessage(s)}catch(r){a.window.showErrorMessage(a.l10n.t("Submitting review failed. {0}",$(r))),this._throwError(void 0,`${$(r)}`)}finally{this._postMessage({command:"pr.append-review"})}}async doReviewMessage(t,e){try{const i=await e(t.args);this.updateReviewers(i),this._replyMessage(t,{review:i,reviewers:this._existingReviewers})}catch(i){a.window.showErrorMessage(a.l10n.t("Submitting review failed. {0}",$(i))),this._throwError(t,`${$(i)}`)}}approvePullRequest(t){return this._item.approve(this._folderRepositoryManager.repository,t)}approvePullRequestMessage(t){return this.doReviewMessage(t,e=>this.approvePullRequest(e))}approvePullRequestCommand(t){return this.doReviewCommand(t,za.Approve,e=>this.approvePullRequest(e))}requestChanges(t){return this._item.requestChanges(t)}requestChangesCommand(t){return this.doReviewCommand(t,za.RequestChanges,e=>this.requestChanges(e))}requestChangesMessage(t){return this.doReviewMessage(t,e=>this.requestChanges(e))}submitReview(t){return this._item.submitReview(xn.Comment,t)}submitReviewCommand(t){return this.doReviewCommand(t,za.Comment,e=>this.submitReview(e))}submitReviewMessage(t){return this.doReviewMessage(t,e=>this.submitReview(e))}reRequestReview(t){let e;const i=[],n=[];for(const r of this._existingReviewers){let s,d;r&&bn(r.reviewer)?(s=r.reviewer.id,d=n):r&&!bn(r.reviewer)&&(s=r.reviewer.id,d=i),d&&s&&(r.state==="REQUESTED"||s===t.args)&&(d.push(s),s===t.args&&(e=r))}this._item.requestReview(i,n).then(()=>{e&&(e.state="REQUESTED"),this._replyMessage(t,{reviewers:this._existingReviewers})})}async revert(t){await this._folderRepositoryManager.createPullRequestHelper.revert(this._telemetry,this._extensionUri,this._folderRepositoryManager,this._item,async e=>{const i={revertable:!e};return this._replyMessage(t,i)})}async copyPrLink(){return a.env.clipboard.writeText(this._item.html_url)}async copyVscodeDevLink(){return a.env.clipboard.writeText(lc(this._item))}async updateAutoMerge(t){let e;!t.args.autoMerge&&!this._item.autoMerge?e={autoMerge:!1}:t.args.autoMerge===!1&&this._item.autoMerge?(await this._item.disableAutoMerge(),e={autoMerge:this._item.autoMerge}):(this._item.autoMerge&&t.args.autoMergeMethod!==this._item.autoMergeMethod&&await this._item.disableAutoMerge(),await this._item.enableAutoMerge(t.args.autoMergeMethod),e={autoMerge:this._item.autoMerge,autoMergeMethod:this._item.autoMergeMethod}),this._replyMessage(t,e)}async dequeue(t){const e=await this._item.dequeuePullRequest();this._replyMessage(t,e)}async enqueue(t){const e=await this._item.enqueuePullRequest();this._replyMessage(t,{mergeQueueEntry:e})}async updateBranch(t){if(!this.isUpdateBranchWithGitHubEnabled())return await a.window.showErrorMessage(a.l10n.t("The pull request branch must be checked out to be updated."),{modal:!0}),this._replyMessage(t,{});if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await a.window.showErrorMessage(a.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(t,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(t,{});let i=Xi.Unknown,n=5;do i=(await this._item.getMergeability()).mergeability,n--,await new Promise(s=>setTimeout(s,1e3));while(n>0&&i===Xi.Unknown);const r={events:await this._item.getTimelineEvents(),mergeable:i};await this.refreshPanel(),this._replyMessage(t,r)}editCommentPromise(t,e){return this._item.editReviewComment(t,e)}deleteCommentPromise(t){return this._item.deleteReviewComment(t.id.toString())}dispose(){super.dispose(),j(this._prListeners)}};let Hr=ga;cs(Hr,"ID","PullRequestOverviewPanel"),cs(Hr,"currentPanel");function Pl(t){const e=a.workspace.getConfiguration(Xe).get(xt);return e&&t.hasOwnProperty(e)&&t[e]?e:["merge","squash","rebase"].find(n=>t[n])}var Av=Object.defineProperty,xv=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Av(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class df{constructor(e,i){this._folderRepoManager=e,this._telemetry=i,xv(this,"_commentController")}get commentController(){return this._commentController}githubReposForPullRequest(e){const i=e?[e.githubRepository]:void 0;if(i&&(e==null?void 0:e.head)){const n=this._folderRepoManager.findExistingGitHubRepository({owner:e.head.owner,repositoryName:e.remote.repositoryName});n&&i.push(n)}return i}}var Dv=Object.defineProperty,ds=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Dv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const ff=class extends df{constructor(t,e,i,n){super(e,n);if(this.pullRequestModel=t,ds(this,"_pendingCommentThreadAdds",[]),ds(this,"_commentHandlerId"),ds(this,"_commentThreadCache",{}),ds(this,"_disposables",[]),ds(this,"_context"),ds(this,"_githubRepositories"),this._commentController=i,this._context=e.context,this._commentHandlerId=Yd(),qt(this._commentHandlerId,this),this.pullRequestModel.reviewThreadsCacheReady)this.initializeThreadsInOpenEditors().then(()=>{this.registerListeners()});else{const r=this.pullRequestModel.onDidChangeReviewThreads(async()=>{r.dispose(),await this.initializeThreadsInOpenEditors(),this.registerListeners()})}this._githubRepositories=this.githubReposForPullRequest(t)}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangeReviewThreads(t=>this.onDidChangeReviewThreads(t))),this._disposables.push(a.window.tabGroups.onDidChangeTabs(async t=>this.onDidChangeOpenTabs(t))),this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(t=>{for(const e in this._commentThreadCache)this._commentThreadCache[e].forEach(i=>{Sf(i,t)})})),this._disposables.push(a.window.onDidChangeActiveTextEditor(t=>{this.refreshContextKey(t)}))}refreshContextKey(t){if(!t)return;const e=t.document.uri;if(e.scheme!==oi.Pr)return;const i=Hn(e);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}async getPREditors(t){const e=[],i=n=>{const r=Hn(n.uri);if(r&&r.prNumber===this.pullRequestModel.number)return n.editor?Promise.resolve(n.editor.document):(f.trace(`Opening text document for PR editor ${n.uri.toString()}`,ff.ID),a.workspace.openTextDocument(n.uri))};for(const n of t){const r=[];n instanceof a.TabInputText?r.push({uri:n.uri}):n instanceof a.TabInputTextDiff?r.push({uri:n.original},{uri:n.modified}):r.push({uri:n.document.uri,editor:n}),e.push(...r.map(i).filter(s=>!!s))}return Promise.all(e)}getCommentThreadCacheKey(t,e){return`${t}-${e?"original":"modified"}`}async addThreadsForEditors(t){const e=this.pullRequestModel.reviewThreadsCache,i=o(e,r=>r.path),n=await this._folderRepoManager.getCurrentUser();for(const r of t){const{fileName:s,isBase:d}=Hn(r.uri),y=this.getCommentThreadCacheKey(s,d);this._commentThreadCache[y]||i[s]&&(this._commentThreadCache[y]=i[s].filter(F=>(F.diffSide===$e.LEFT&&d||F.diffSide===$e.RIGHT&&!d)&&F.endLine!==null).map(F=>{const W=F.endLine-1,ie=F.subjectType===vt.FILE?void 0:Fo(F.startLine-1,W,r.lineAt(W).range.end.character);return Oo(this._context,r.uri,ie,F,this._commentController,n.login,this._githubRepositories)}))}}async initializeThreadsInOpenEditors(){const t=await this.getPREditors(a.window.visibleTextEditors);return this.addThreadsForEditors(t)}allTabs(){return this.filterTabsToPrTabs(a.window.tabGroups.all.map(t=>t.tabs).flat())}filterTabsToPrTabs(t){return t.filter(e=>e.input instanceof a.TabInputText||e.input instanceof a.TabInputTextDiff).map(e=>e.input)}async cleanClosedPrs(){(await this.getPREditors(this.allTabs())).length===0&&this.removeAllCommentsThreads()}async onDidChangeOpenTabs(t){const e=await this.getPREditors(this.filterTabsToPrTabs(t.opened));e.length&&await this.addThreadsForEditors(e),t.closed.length>0&&(await new Promise(i=>setTimeout(i,100)),await this.cleanClosedPrs())}onDidChangeReviewThreads(t){t.added.forEach(async e=>{const i=e.path,n=this._pendingCommentThreadAdds.findIndex(d=>{const y=this._folderRepoManager.gitRelativeRootPath(d.uri.path)===e.path,F=d.range===void 0&&e.subjectType===vt.FILE||d.range&&d.range.end.line+1===e.endLine;return y&&F});let r;if(n>-1)r=this._pendingCommentThreadAdds[n],r.gitHubThreadId=e.id,r.comments=e.comments.map(d=>new Gn(this._context,d,r,this._githubRepositories)),_f(this._context,r,e,this._githubRepositories),this._pendingCommentThreadAdds.splice(n,1);else{const y=(await this.getPREditors(a.window.visibleTextEditors)).find(F=>{const W=Hn(F.uri),ie=e.diffSide===$e.RIGHT&&!(W==null?void 0:W.isBase)||e.diffSide===$e.LEFT&&(W==null?void 0:W.isBase);return(W==null?void 0:W.fileName)===i&&ie});if(y){const F=e.endLine-1,W=e.subjectType===vt.FILE?void 0:Fo(e.startLine-1,F,y.lineAt(F).range.end.character);r=Oo(this._context,y.uri,W,e,this._commentController,(await this._folderRepoManager.getCurrentUser()).login,this._githubRepositories)}}if(!r)return;const s=this.getCommentThreadCacheKey(e.path,e.diffSide===$e.LEFT);this._commentThreadCache[s]?this._commentThreadCache[s].push(r):this._commentThreadCache[s]=[r]}),t.changed.forEach(e=>{const i=this.getCommentThreadCacheKey(e.path,e.diffSide===$e.LEFT),n=this._commentThreadCache[i]?this._commentThreadCache[i].findIndex(r=>r.gitHubThreadId===e.id):-1;if(n>-1){const r=this._commentThreadCache[i][n];xl(this._context,r,e,this._githubRepositories)}}),t.removed.forEach(async e=>{const i=this.getCommentThreadCacheKey(e.path,e.diffSide===$e.LEFT),n=this._commentThreadCache[i].findIndex(r=>r.gitHubThreadId===e.id);if(n>-1){const r=this._commentThreadCache[i][n];this._commentThreadCache[i].splice(n,1),r.dispose()}})}hasCommentThread(t){if(t.uri.scheme!==oi.Pr)return!1;const e=Hn(t.uri);return!(!e||e.prNumber!==this.pullRequestModel.number)}getCommentSide(t){const e=Hn(t.uri);return(e==null?void 0:e.isBase)?$e.LEFT:$e.RIGHT}async createOrReplyComment(t,e,i,n){var r;const s=t.comments.length,d=i?!1:n!==void 0?n:this.pullRequestModel.hasPendingReview,y=await this.optimisticallyAddComment(t,e,d);try{if(s)await this.reply(t,e,i);else{const F=this._folderRepoManager.gitRelativeRootPath(t.uri.path),W=this.getCommentSide(t);this._pendingCommentThreadAdds.push(t),await this.pullRequestModel.createReviewThread(e,F,t.range?t.range.start.line+1:void 0,t.range?t.range.end.line+1:void 0,W,i)}i&&await this.pullRequestModel.submitReview()}catch(F){((r=F.graphQLErrors)==null?void 0:r.length)&&F.graphQLErrors[0].type==="NOT_FOUND"?a.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(W=>{W==="Refresh"&&this.pullRequestModel.invalidate()}):a.window.showErrorMessage(`Creating comment failed: ${F}`),t.comments=t.comments.map(W=>(W instanceof qr&&W.id===y&&(W.mode=a.CommentMode.Editing),W))}}reply(t,e,i){const n=t.comments[0];if(n instanceof Gn)return this.pullRequestModel.createCommentReply(e,n.rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}async optimisticallyEditComment(t,e){const i=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),n=new qr(t,e.body instanceof a.MarkdownString?e.body.value:e.body,!!e.label,i,e);return t.comments=t.comments.map(r=>r instanceof Gn&&r.commentId===e.commentId?n:r),n.id}async editComment(t,e){if(e instanceof Gn){const i=await this.optimisticallyEditComment(t,e);try{await this.pullRequestModel.editReviewComment(e.rawComment,e.body instanceof a.MarkdownString?e.body.value:e.body)}catch(n){a.window.showErrorMessage(`Editing comment failed ${n}`),t.comments=t.comments.map(r=>r instanceof qr&&r.id===i?new Gn(this._context,e.rawComment,t):r)}}else this.createOrReplyComment(t,e.body instanceof a.MarkdownString?e.body.value:e.body,!1)}async deleteComment(t,e){e instanceof Gn?await this.pullRequestModel.deleteReviewComment(e.commentId):t.comments=t.comments.filter(i=>!(i instanceof qr&&i.id===e.id)),await this.pullRequestModel.validateDraftMode()}async startReview(t,e){var i;const n=t.comments.length;let r;try{if(r=await this.optimisticallyAddComment(t,e,!0),n)await this.reply(t,e,!1);else{const s=this._folderRepoManager.gitRelativeRootPath(t.uri.path),d=this.getCommentSide(t);this._pendingCommentThreadAdds.push(t),await this.pullRequestModel.createReviewThread(e,s,t.range?t.range.start.line+1:void 0,t.range?t.range.end.line+1:void 0,d)}this.setContextKey(!0)}catch(s){a.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=s==null?void 0:s.message)!=null?i:s}),t.comments=t.comments.map(d=>(d instanceof qr&&d.id===r&&(d.mode=a.CommentMode.Editing),d))}}async openReview(){await Hr.createOrShow(this._telemetry,this._folderRepoManager.context.extensionUri,this._folderRepoManager,this.pullRequestModel),Hr.scrollToReview(),this._folderRepoManager.telemetry.sendTelemetryEvent("pr.openDescription")}async optimisticallyAddComment(t,e,i){const n=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),r=new qr(t,e,i,n);return this.updateCommentThreadComments(t,[...t.comments,r]),r.id}updateCommentThreadComments(t,e){t.comments=e,Bs(t)}async createCommentOnResolve(t,e){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(t,e,!i)}async resolveReviewThread(t,e){try{e&&await this.createCommentOnResolve(t,e),await this.pullRequestModel.resolveReviewThread(t.gitHubThreadId)}catch(i){a.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(t,e){try{e&&await this.createCommentOnResolve(t,e),await this.pullRequestModel.unresolveReviewThread(t.gitHubThreadId)}catch(i){a.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(t,e){t.parent.uri.scheme===oi.Pr&&(t.reactions&&!t.reactions.find(i=>i.label===e.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(t.rawComment.graphNodeId,e):await this.pullRequestModel.deleteCommentReaction(t.rawComment.graphNodeId,e))}setContextKey(t){a.commands.executeCommand("setContext","prInDraft",t)}removeAllCommentsThreads(){Object.keys(this._commentThreadCache).forEach(t=>{j(this._commentThreadCache[t])})}dispose(){this.removeAllCommentsThreads(),ot(this._commentHandlerId),this._disposables.forEach(t=>t.dispose())}};let hf=ff;ds(hf,"ID","PullRequestCommentController");var Iv=Object.defineProperty,Al=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Iv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Fv{constructor(e,i){this.commentsController=e,this._telemetry=i,Al(this,"_prCommentHandlers",{}),Al(this,"_prCommentingRangeProviders",{}),Al(this,"_activeChangeListeners",new Map),Al(this,"resourceHints",{schemes:[oi.Pr]}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,i){const n=e.uri,r=Hn(n);return!r||!this._prCommentingRangeProviders[r.prNumber]?void 0:this._prCommentingRangeProviders[r.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[r.prNumber])(e,i)}async toggleReaction(e,i){const n=e.parent.uri,r=Hn(n);return!r||!this._prCommentHandlers[r.prNumber]||!this._prCommentHandlers[r.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[r.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[r.prNumber].handler)(e,i)}unregisterCommentController(e){this._prCommentHandlers[e]&&(this._prCommentHandlers[e].dispose(),delete this._prCommentHandlers[e])}registerCommentController(e,i,n){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];this._activeChangeListeners.has(n)||this._activeChangeListeners.set(n,n.onDidChangeActivePullRequest(s=>{var d;s.old&&((d=this._prCommentHandlers[s.old])==null||d.dispose())}));const r=new hf(i,n,this.commentsController,this._telemetry);return this._prCommentHandlers[e]={handler:r,refCount:1,dispose:()=>{!this._prCommentHandlers[e]||(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,i){return this._prCommentingRangeProviders[e]=i,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}function xo(t,e){const i=t.definitions,r=e.definitions.concat(i);return{...e,...t,definitions:r}}var Os;(function(t){t.prTitle="PR_TITLE",t.commitOrPrTitle="COMMIT_OR_PR_TITLE",t.mergeMessage="MERGE_MESSAGE"})(Os||(Os={}));var Do;(function(t){t.prBody="PR_BODY",t.commitMessages="COMMIT_MESSAGES",t.blank="BLANK",t.prTitle="PR_TITLE"})(Do||(Do={}));function Ov(t){return t.__typename==="CheckRun"}var Lv=Object.defineProperty,tr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Lv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Ls=class{constructor(t,e,i,n=!1){tr(this,"id"),tr(this,"graphNodeId"),tr(this,"number"),tr(this,"title"),tr(this,"titleHTML"),tr(this,"html_url"),tr(this,"state",Gi.Open),tr(this,"author"),tr(this,"assignees"),tr(this,"createdAt"),tr(this,"updatedAt"),tr(this,"milestone"),tr(this,"githubRepository"),tr(this,"remote"),tr(this,"item"),tr(this,"bodyHTML"),tr(this,"_onDidInvalidate",new a.EventEmitter),tr(this,"onDidInvalidate",this._onDidInvalidate.event),this.githubRepository=t,this.remote=e,this.item=i,n||this.update(i)}invalidate(){this._onDidInvalidate.fire()}get isOpen(){return this.state===Gi.Open}get isClosed(){return this.state===Gi.Closed}get isMerged(){return this.state===Gi.Merged}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const t=this.userAvatar;if(t){const e=a.Uri.parse(`${t}&s=${64}`),i=e.toString;return e.toString=function(n){return i.call(e,!0)},e}}}get body(){return this.item?this.item.body:""}updateState(t){t.toLowerCase()==="open"?this.state=Gi.Open:this.state=Gi.Closed}update(t){this.id=t.id,this.graphNodeId=t.graphNodeId,this.number=t.number,this.title=t.title,t.titleHTML&&(this.titleHTML=t.titleHTML),(!this.bodyHTML||t.body!==this.body)&&(this.bodyHTML=t.bodyHTML),this.html_url=t.url,this.author=t.user,this.milestone=t.milestone,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.updateState(t.state),t.assignees&&(this.assignees=t.assignees),this.item=t}equals(t){return!(!t||this.number!==t.number||this.html_url!==t.html_url)}async edit(t){try{const{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:n}=await e({mutation:i.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,body:t.body,title:t.title}}});return(n==null?void 0:n.updatePullRequest.pullRequest)&&(this.item.body=n.updatePullRequest.pullRequest.body,this.bodyHTML=n.updatePullRequest.pullRequest.bodyHTML,this.title=n.updatePullRequest.pullRequest.title,this.titleHTML=n.updatePullRequest.pullRequest.titleHTML,this.invalidate()),n.updatePullRequest.pullRequest}catch(e){throw new Error($(e))}}canEdit(){const t=this.author&&this.author.login;return this.githubRepository.isCurrentUser(t)}async createIssueComment(t){const{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:n}=await e({mutation:i.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:t}}});return Ef(n.addComment.commentEdge.node,this.githubRepository)}async editIssueComment(t,e){try{const{mutate:i,schema:n}=await this.githubRepository.ensure(),{data:r}=await i({mutation:n.EditIssueComment,variables:{input:{id:t.graphNodeId,body:e}}});return Ef(r.updateIssueComment.issueComment,this.githubRepository)}catch(i){throw new Error($(i))}}async deleteIssueComment(t){try{const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.call(e.api.issues.deleteComment,{owner:i.owner,repo:i.repositoryName,comment_id:Number(t)})}catch(e){throw new Error($(e))}}async setLabels(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();try{await e.call(e.api.issues.setLabels,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,labels:t})}catch(n){f.error(`Failed to add labels to PR #${this.number}`,Ls.ID),a.window.showWarningMessage(a.l10n.t("Some, or all, labels could not be added to the pull request."))}}async removeLabel(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.call(e.api.issues.removeLabel,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,name:t})}async removeProjects(t){var e;const{mutate:i,schema:n}=await this.githubRepository.ensure();try{await Promise.all(t.map(r=>i({mutation:n.RemovePullRequestFromProject,variables:{input:{itemId:r.id,projectId:r.project.id}}}))),this.item.projectItems=(e=this.item.projectItems)==null?void 0:e.filter(r=>!t.find(s=>s.project.id===r.project.id))}catch(r){f.error(r,Ls.ID)}}async addProjects(t){const{mutate:e,schema:i}=await this.githubRepository.ensure();try{const n=await Promise.all(t.map(r=>e({mutation:i.AddPullRequestToProject,variables:{input:{contentId:this.item.graphNodeId,projectId:r.id}}})));this.item.projectItems||(this.item.projectItems=[]),this.item.projectItems.push(...t.map((r,s)=>({project:r,id:n[s].data.addProjectV2ItemById.item.id})))}catch(n){f.error(n,Ls.ID)}}async updateProjects(t){var e,i;const n=t.filter(s=>{var d;return!((d=this.item.projectItems)==null?void 0:d.find(y=>y.project.id===s.id))}),r=(i=(e=this.item.projectItems)==null?void 0:e.filter(s=>!t.find(d=>d.id===s.project.id)))!=null?i:[];return await this.removeProjects(r),await this.addProjects(n),this.item.projectItems}async getIssueTimelineEvents(){f.debug(`Fetch timeline events of issue #${this.number} - enter`,Ls.ID);const t=this.githubRepository,{query:e,remote:i,schema:n}=await t.ensure();try{const{data:r}=await e({query:n.IssueTimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:this.number}});if(r.repository===null)return f.error("Unexpected null repository when getting issue timeline events",Ls.ID),[];const s=r.repository.pullRequest.timelineItems.nodes;return nc(s,t)}catch(r){return console.log(r),[]}}};let ir=Ls;tr(ir,"ID","IssueModel");var Uv=ni(58667),mf=ni.n(Uv),Bv=ni(8575),qv=ni.n(Bv),Hv=ni(87831),pf=ni.n(Hv),$v=ni(72256),Io=ni.n($v),Gv=Object.defineProperty,hr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Gv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const vf=20,gf="GraphQL";var Dr;(function(t){t.Unknown="unknown",t.Admin="ADMIN",t.Maintain="MAINTAIN",t.Read="READ",t.Triage="TRIAGE",t.Write="WRITE"})(Dr||(Dr={}));var fs;(function(t){t[t.None=0]="None",t[t.Try=1]="Try",t[t.Force=2]="Force"})(fs||(fs={}));var ec;(function(t){t.Unprocessable="UNPROCESSABLE"})(ec||(ec={}));const bf=class{constructor(t,e,i,n,r,s=!1){this._id=t,this.remote=e,this.rootUri=i,this._credentialStore=n,this._telemetry=r,hr(this,"_initialized",!1),hr(this,"_hub"),hr(this,"_metadata"),hr(this,"_toDispose",[]),hr(this,"commentsController"),hr(this,"commentsHandler"),hr(this,"_pullRequestModels",new Map),hr(this,"_queriesSchema"),hr(this,"_areQueriesLimited",!1),hr(this,"_onDidAddPullRequest",new a.EventEmitter),hr(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),hr(this,"query",async(d,y=!1,F)=>{var W,ie;const le=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!le){const ke=(W=d.query.definitions[0].name)==null?void 0:W.value;return f.debug(`Not available for query: ${ke!=null?ke:"unknown"}`,gf),{data:null,loading:!1,networkStatus:qn.error,stale:!1}}let de;try{de=await le.query(d)}catch(ke){if(f.error(`Error querying GraphQL API: ${ke.message}${ke.graphQLErrors?`. ${ke.graphQLErrors.map(Ie=>{var oe;return(oe=Ie.extensions)==null?void 0:oe.code}).join(",")}`:""}`,this.id),F)return d.query=F.query,this.query(d,y);if(ke.graphQLErrors&&ke.graphQLErrors.length&&ke.graphQLErrors.some(Ie=>{var oe;return((oe=Ie.extensions)==null?void 0:oe.code)==="undefinedField"})&&!this._areQueriesLimited)this._areQueriesLimited=!0,this._queriesSchema=xo(Io(),pf()),d.query=this.schema[d.query.definitions[0].name.value],de=await le.query(d);else if(!(y&&vn(ke)))if((ie=ke.message)==null?void 0:ie.includes("401 Unauthorized"))await this._credentialStore.recreate(a.l10n.t("Your authentication session has lost authorization. You need to sign in again to regain authorization.")),de=await le.query(d);else throw ke.graphQLErrors&&ke.graphQLErrors.length&&ke.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(d),ke}return de}),hr(this,"mutate",async(d,y)=>{var F;const W=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!W)return f.debug(`Not available for query: ${d.context}`,gf),{data:null,loading:!1,networkStatus:qn.error,stale:!1};let ie;try{ie=await W.mutate(d)}catch(le){if(y){if(d.mutation=y.mutation,(F=d.variables)==null?void 0:F.input)for(const de of y.deleteProps)delete d.variables.input[de];return this.mutate(d)}else le.graphQLErrors&&le.graphQLErrors.length&&le.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(d);throw le}return ie}),hr(this,"_repoAccessAndMergeMethods"),hr(this,"_branchHasMergeQueue",new Map),hr(this,"_useFallbackChecks",!1),this._queriesSchema=xo(Io(),mf()),s||this.ensureCommentsController()}get hub(){if(!this._hub)throw this._initialized?new Ta("Not authenticated."):new Error("Call ensure() before accessing this property.");return this._hub}equals(t){return this.remote.equals(t.remote)}get pullRequestModels(){return this._pullRequestModels}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=a.comments.createCommentController(`github-browse-${this.remote.normalizedHost}-${this.remote.owner}-${this.remote.repositoryName}`,`Pull Request (${this.remote.owner}/${this.remote.repositoryName})`),this.commentsHandler=new Fv(this.commentsController,this._telemetry),this._toDispose.push(this.commentsHandler),this._toDispose.push(this.commentsController)}catch(t){console.log(t)}}dispose(){this._toDispose.forEach(t=>t.dispose()),this._toDispose=[],this.commentsController=void 0,this.commentsHandler=void 0}get octokit(){return this.hub&&this.hub.octokit}get id(){return`${bf.ID}+${this._id}`}get authMatchesServer(){return this.remote.githubServerType===ln.GitHubDotCom&&this._credentialStore.isAuthenticated(ki.github)?!0:!!(this.remote.githubServerType===ln.Enterprise&&this._credentialStore.isAuthenticated(ki.githubEnterprise))}async codespacesTokenError(t){var e;if(Ol()&&((e=await this._metadata)==null?void 0:e.fork))throw this._telemetry.sendTelemetryErrorEvent("pr.codespacesTokenError",{action:t.context}),new Error(a.l10n.t("This action cannot be completed in a GitHub Codespace on a fork."))}get schema(){return this._queriesSchema}async getMetadataForRepo(t,e){if(this._metadata&&this.remote.owner===t&&this.remote.repositoryName===e)return f.debug(`Using cached metadata for repo ${t}/${e}`,this.id),this._metadata;f.debug("Fetch metadata for repo - enter",this.id);const{octokit:i}=await this.ensure(),n=await i.call(i.api.repos.get,{owner:t,repo:e});return f.debug(`Fetch metadata for repo ${t}/${e} - done`,this.id),{...n.data,currentUser:i.currentUser}}async getMetadata(){var t;if(this._metadata){const i=await this._metadata;return f.debug(`Using cached metadata ${(t=i.owner)==null?void 0:t.login}/${i.name}`,this.id),i}f.debug("Fetch metadata - enter",this.id);const{remote:e}=await this.ensure();return this._metadata=this.getMetadataForRepo(e.owner,e.repositoryName),f.debug(`Fetch metadata ${e.owner}/${e.repositoryName} - done`,this.id),this._metadata}async resolveRemote(){try{const{clone_url:t}=await this.getMetadata();this.remote=ms.remoteAsGitHub(Ul(this.remote.remoteName,t,this.remote.gitProtocol),this.remote.githubServerType)}catch(t){if(f.warn(`Unable to resolve remote: ${t}`),vn(t))return!1}return!0}async ensure(t=!1){this._initialized=!0;const e=this._hub;return this._credentialStore.isAuthenticated(this.remote.authProviderId)?t?this._hub=await this._credentialStore.getHubEnsureAdditionalScopes(this.remote.authProviderId):this._hub=this._credentialStore.getHub(this.remote.authProviderId):(await this._credentialStore.create(void 0,t),this._credentialStore.isAuthenticated(this.remote.authProviderId)||(this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId))),e!==this._hub&&(this._areQueriesLimited||this._credentialStore.areScopesOld(this.remote.authProviderId)?(this._areQueriesLimited=!0,this._queriesSchema=xo(Io(),pf())):this._credentialStore.areScopesExtra(this.remote.authProviderId)?this._queriesSchema=xo(Io(),qv()):this._queriesSchema=xo(Io(),mf())),this}async ensureAdditionalScopes(){return this.ensure(!0)}async getDefaultBranch(){const t=Bf();if(t)return t;try{return(await this.getMetadata()).default_branch}catch(e){f.warn(`Fetching default branch failed: ${e}`,this.id)}return"master"}async getPullRequestTemplates(){try{f.debug("Fetch pull request templates - enter",this.id);const{query:t,remote:e,schema:i}=await this.ensure(),n=await t({query:i.PullRequestTemplates,variables:{owner:e.owner,name:e.repositoryName}});return f.debug("Fetch pull request templates - done",this.id),n.data.repository.pullRequestTemplates.map(r=>r.body)}catch(t){f.error(`Fetching pull request templates failed: ${t}`,this.id)}}async getRepoAccessAndMergeMethods(t=!1){var e,i,n,r,s,d;try{if(!this._repoAccessAndMergeMethods||t){f.debug("Fetch repo permissions and available merge methods - enter",this.id);const y=await this.getMetadata();f.debug("Fetch repo permissions and available merge methods - done",this.id);const F=(i=(e=y.permissions)==null?void 0:e.push)!=null?i:!1;this._repoAccessAndMergeMethods={hasWritePermission:F,mergeMethodsAvailability:{merge:(n=y.allow_merge_commit)!=null?n:!1,squash:(r=y.allow_squash_merge)!=null?r:!1,rebase:(s=y.allow_rebase_merge)!=null?s:!1},viewerCanAutoMerge:(d=y.allow_auto_merge&&F)!=null?d:!1}}return this._repoAccessAndMergeMethods}catch(y){f.warn(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${y}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0},viewerCanAutoMerge:!1}}async mergeQueueMethodForBranch(t){var e,i;if(this._branchHasMergeQueue.has(t))return this._branchHasMergeQueue.get(t);try{f.debug("Fetch branch has merge queue - enter",this.id);const{query:n,remote:r,schema:s}=await this.ensure();if(!s.MergeQueueForBranch)return;const d=await n({query:s.MergeQueueForBranch,variables:{owner:r.owner,name:r.repositoryName,branch:t}});f.debug("Fetch branch has merge queue - done",this.id);const y=Af((i=(e=d.data.repository.mergeQueue)==null?void 0:e.configuration)==null?void 0:i.mergeMethod);return y&&this._branchHasMergeQueue.set(t,y),y}catch(n){f.error(`Fetching branch has merge queue failed: ${n}`,this.id)}}async commit(t,e,i){f.debug(`Committing files to branch ${t} - enter`,this.id);let n=!1;try{const{octokit:r,remote:s}=await this.ensure(),d=(await r.call(r.api.repos.getBranch,{owner:s.owner,repo:s.repositoryName,branch:t})).data.commit.sha,y=(await r.call(r.api.repos.getCommit,{owner:s.owner,repo:s.repositoryName,ref:d})).data.commit.tree.sha,F=[];for(const[le,de]of i)F.push({path:le.substring(1),mode:"100644",content:de.toString()});const W=(await r.call(r.api.git.createTree,{owner:s.owner,repo:s.repositoryName,base_tree:y,tree:F})).data.sha,ie=(await r.call(r.api.git.createCommit,{owner:s.owner,repo:s.repositoryName,message:e,tree:W,parents:[d]})).data.sha;await r.call(r.api.git.updateRef,{owner:s.owner,repo:s.repositoryName,ref:`heads/${t}`,sha:ie}),n=!0}catch(r){f.error(`Committing files to branch ${t} failed: ${r}`,this.id)}return f.debug(`Committing files to branch ${t} - done`,this.id),n}async getAllPullRequests(t){let e;try{f.debug("Fetch all pull requests - enter",this.id);const i=await this.ensure();e=i.remote;const n=i.octokit,r=await n.call(n.api.pulls.list,{owner:e.owner,repo:e.repositoryName,per_page:vf,page:t||1}),s=!!r.headers.link&&r.headers.link.indexOf('rel="next"')>-1;if(!r.data)return f.warn(`No result data for ${e.owner}/${e.repositoryName} Status: ${r.status}`),{items:[],hasMorePages:!1,totalCount:0};const d=r.data.map(y=>y.head.repo?this.createOrUpdatePullRequestModel(Dl(y,this)):(f.appendLine("The remote branch for this PR was already deleted.",this.id),null)).filter(y=>y!==null);return f.debug("Fetch all pull requests - done",this.id),{items:d,hasMorePages:s}}catch(i){if(f.error(`Fetching all pull requests failed: ${i}`,this.id),i.code===404)a.window.showWarningMessage(`Fetching all pull requests for remote '${e==null?void 0:e.remoteName}' failed, please check if the repository ${e==null?void 0:e.owner}/${e==null?void 0:e.repositoryName} is valid.`);else throw i}}async getPullRequestForBranch(t,e){var i;let n;try{f.debug("Fetch pull requests for branch - enter",this.id);const r=await this.ensure();n=r.remote;const{query:s,schema:d}=r,{data:y}=await s({query:d.PullRequestForHead,variables:{owner:n.owner,name:n.repositoryName,headRefName:t}});if(f.debug("Fetch pull requests for branch - done",this.id),(y==null?void 0:y.repository)&&y.repository.pullRequests.nodes.length>0){const F=y.repository.pullRequests.nodes.map(ie=>Lo(ie,this)).filter(ie=>{var le;return((le=ie.head)==null?void 0:le.repo.owner)===e});if(F.length===0)return;const W=(i=F.find(ie=>ie.state.toLowerCase()==="open"))!=null?i:F[0];return this.createOrUpdatePullRequestModel(W)}}catch(r){f.error(`Fetching pull request for branch failed: ${r}`,this.id),r.code===404&&a.window.showWarningMessage(`Fetching pull request for branch for remote '${n==null?void 0:n.remoteName}' failed, please check if the repository ${n==null?void 0:n.owner}/${n==null?void 0:n.repositoryName} is valid.`)}}async canGetProjectsNow(){let{schema:t}=await this.ensure();return!!(t.GetRepoProjects&&t.GetOrgProjects)}async getOrgProjects(){f.debug("Fetch org projects - enter",this.id);let{query:t,remote:e,schema:i}=await this.ensure();const n=[];try{const{data:r}=await t({query:i.GetOrgProjects,variables:{owner:e.owner,after:null}});r&&r.organization.projectsV2&&r.organization.projectsV2.nodes&&r.organization.projectsV2.nodes.forEach(s=>{n.push(s)})}catch(r){return f.error(`Unable to fetch org projects: ${r}`,this.id),n}return f.debug("Fetch org projects - done",this.id),n}async getProjects(){var t;try{f.debug("Fetch projects - enter",this.id);let{query:e,remote:i,schema:n}=await this.ensure();if(!n.GetRepoProjects){const d=await this.ensureAdditionalScopes();e=d.query,i=d.remote,n=d.schema}const{data:r}=await e({query:n.GetRepoProjects,variables:{owner:i.owner,name:i.repositoryName}});f.debug("Fetch projects - done",this.id);const s=[];return r&&((t=r.repository)==null?void 0:t.projectsV2)&&r.repository.projectsV2.nodes&&r.repository.projectsV2.nodes.forEach(d=>{s.push(d)}),s}catch(e){f.error(`Unable to fetch projects: ${e}`,this.id);return}}async getMilestones(t=!1){var e;try{f.debug("Fetch milestones - enter",this.id);const{query:i,remote:n,schema:r}=await this.ensure(),s=["OPEN"];t&&s.push("CLOSED");const{data:d}=await i({query:r.GetMilestones,variables:{owner:n.owner,name:n.repositoryName,states:s}});f.debug("Fetch milestones - done",this.id);const y=[];return d&&((e=d.repository)==null?void 0:e.milestones)&&d.repository.milestones.nodes&&d.repository.milestones.nodes.forEach(F=>{const W=tc(F);W&&y.push(W)}),y}catch(i){f.error(`Unable to fetch milestones: ${i}`,this.id);return}}async getLines(t,e,i,n){var r;f.debug("Fetch milestones - enter",this.id);const{query:s,remote:d,schema:y}=await this.ensure(),{data:F}=await s({query:y.GetFileContent,variables:{owner:d.owner,name:d.repositoryName,expression:`${t}:${e}`}});if(!!((r=F.repository)==null?void 0:r.object.text))return F.repository.object.text.split(`
`).slice(i-1,n).join(`
`)}async getIssues(t,e){try{f.debug("Fetch issues with query - enter",this.id);const{query:i,schema:n}=await this.ensure(),{data:r}=await i({query:n.Issues,variables:{query:`${e} type:issue`}});f.debug("Fetch issues with query - done",this.id);const s=[];return r&&r.search.edges&&r.search.edges.forEach(d=>{d.node.id&&s.push(Df(d.node,this))}),{items:s,hasMorePages:r.search.pageInfo.hasNextPage,totalCount:r.search.issueCount}}catch(i){f.error(`Unable to fetch issues with query: ${i}`,this.id);return}}async getMaxIssue(){try{f.debug("Fetch max issue - enter",this.id);const{query:t,remote:e,schema:i}=await this.ensure(),{data:n}=await t({query:i.MaxIssue,variables:{owner:e.owner,name:e.repositoryName}});return f.debug("Fetch max issue - done",this.id),(n==null?void 0:n.repository)&&n.repository.issues.edges.length===1?n.repository.issues.edges[0].node.number:void 0}catch(t){f.error(`Unable to fetch issues with query: ${t}`,this.id);return}}async getViewerPermission(){try{f.debug("Fetch viewer permission - enter",this.id);const{query:t,remote:e,schema:i}=await this.ensure(),{data:n}=await t({query:i.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return f.debug("Fetch viewer permission - done",this.id),og(n)}catch(t){return f.error(`Unable to fetch viewer permission: ${t}`,this.id),Dr.Unknown}}async fork(){try{f.debug("Fork repository",this.id);const{octokit:t,remote:e}=await this.ensure();return(await t.call(t.api.repos.createFork,{owner:e.owner,repo:e.repositoryName})).data.clone_url}catch(t){f.error(`GitHubRepository> Forking repository failed: ${t}`,this.id);return}}async getRepositoryForkDetails(){try{f.debug("Fetch repository fork details - enter",this.id);const{query:t,remote:e,schema:i}=await this.ensure(),{data:n}=await t({query:i.GetRepositoryForkDetails,variables:{owner:e.owner,name:e.repositoryName}});return f.debug("Fetch repository fork details - done",this.id),n.repository}catch(t){f.error(`Unable to fetch repository fork details: ${t}`,this.id);return}}async getAuthenticatedUser(){return(await this._credentialStore.getCurrentUser(this.remote.authProviderId)).login}async getAuthenticatedUserEmails(){try{f.debug("Fetch authenticated user emails - enter",this.id);const{octokit:t}=await this.ensure(),{data:e}=await t.call(t.api.users.listEmailsForAuthenticated,{});return f.debug("Fetch authenticated user emails - done",this.id),e.map(i=>i.email)}catch(t){return f.error(`Unable to fetch authenticated user emails: ${t}`,this.id),[]}}async getPullRequestsForCategory(t,e){let i;try{f.debug(`Fetch pull request category ${t} - enter`,this.id);const{octokit:n,query:r,schema:s}=await this.ensure(),d=await this.getAuthenticatedUser();i=await this.getMetadata();const{data:y,headers:F}=await n.call(n.api.search.issuesAndPullRequests,{q:cg(i.full_name,d,t),per_page:vf,page:e||1}),W=y.items.map(async ke=>{const Ie=new cn(ke.repository_url),{data:oe}=await r({query:s.PullRequest,variables:{owner:Ie.owner,name:Ie.repositoryName,number:ke.number}});return oe}),ie=!!F.link&&F.link.indexOf('rel="next"')>-1,de=(await Promise.all(W)).map(ke=>ke.repository?this.createOrUpdatePullRequestModel(Lo(ke.repository.pullRequest,this)):(f.appendLine("Pull request doesn't appear to exist.",this.id),null)).filter(ke=>ke!==null);return f.debug(`Fetch pull request category ${t} - done`,this.id),{items:de,hasMorePages:ie,totalCount:y.total_count}}catch(n){if(f.error(`Fetching pull request with query failed: ${n}`,this.id),n.code===404)a.window.showWarningMessage(`Fetching pull requests for remote ${this.remote.remoteName} with query failed, please check if the repo ${i==null?void 0:i.full_name} is valid.`);else throw n}}createOrUpdatePullRequestModel(t){let e=this._pullRequestModels.get(t.number);return e?e.update(t):(e=new rr(this._credentialStore,this._telemetry,this,this.remote,t),e.onDidInvalidate(()=>this.getPullRequest(t.number)),this._pullRequestModels.set(t.number,e),this._onDidAddPullRequest.fire(e)),e}async createPullRequest(t){try{f.debug("Create pull request - enter",this.id);const e=await this.getMetadata(),{mutate:i,schema:n}=await this.ensure(),{data:r}=await i({mutation:n.CreatePullRequest,variables:{input:{repositoryId:e.node_id,baseRefName:t.base,headRefName:t.head,title:t.title,body:t.body,draft:t.draft}}});if(f.debug("Create pull request - done",this.id),!r)throw new Error("Failed to create pull request.");return this.createOrUpdatePullRequestModel(Lo(r.createPullRequest.pullRequest,this))}catch(e){throw f.error(`Unable to create PR: ${e}`,this.id),e}}async revertPullRequest(t,e,i,n){try{f.debug("Revert pull request - enter",this.id);const{mutate:r,schema:s}=await this.ensure(),{data:d}=await r({mutation:s.RevertPullRequest,variables:{input:{pullRequestId:t,title:e,body:i,draft:n}}});if(f.debug("Revert pull request - done",this.id),!d)throw new Error("Failed to create revert pull request.");return this.createOrUpdatePullRequestModel(Lo(d.revertPullRequest.revertPullRequest,this))}catch(r){throw f.error(`Unable to create revert PR: ${r}`,this.id),r}}async getPullRequest(t){try{f.debug(`Fetch pull request ${t} - enter`,this.id);const{query:e,remote:i,schema:n}=await this.ensure(),{data:r}=await e({query:n.PullRequest,variables:{owner:i.owner,name:i.repositoryName,number:t}},!0);if(r.repository===null){f.error("Unexpected null repository when getting PR",this.id);return}return f.debug(`Fetch pull request ${t} - done`,this.id),this.createOrUpdatePullRequestModel(Lo(r.repository.pullRequest,this))}catch(e){f.error(`Unable to fetch PR: ${e}`,this.id);return}}async getIssue(t,e=!1){try{f.debug(`Fetch issue ${t} - enter`,this.id);const{query:i,remote:n,schema:r}=await this.ensure(),{data:s}=await i({query:e?r.IssueWithComments:r.Issue,variables:{owner:n.owner,name:n.repositoryName,number:t}},!0);if(s.repository===null){f.error("Unexpected null repository when getting issue",this.id);return}return f.debug(`Fetch issue ${t} - done`,this.id),new ir(this,n,Df(s.repository.pullRequest,this))}catch(i){f.error(`Unable to fetch PR: ${i}`,this.id);return}}async getFile(t,e){var i;const{octokit:n,remote:r}=await this.ensure();let s="",d;f.debug(`Fetch file ${t} - enter`,this.id);try{if(d=await n.call(n.api.repos.getContent,{owner:r.owner,repo:r.repositoryName,path:t,ref:e}),Array.isArray(d.data))throw new Error(`Unexpected array response when getting file ${t}`);s=(i=d.data.content)!=null?i:""}catch(F){if(f.error(`Unable to fetch file ${t}: ${F}`,this.id),F.status===404)return new Uint8Array(0);throw F}if(s===""&&d.data.encoding==="none"){f.debug(`Fetch blob file ${t} - enter`,this.id);const F=d.data.sha;d=await n.call(n.api.git.getBlob,{owner:r.owner,repo:r.repositoryName,file_sha:F}),s=d.data.content,f.debug(`Fetch blob file ${t} - done`,this.id)}const y=Wn.Buffer.from(s,d.data.encoding);return f.debug(`Fetch file ${t}, file length ${s.length} - done`,this.id),y}async hasBranch(t){var e,i;f.appendLine(`Fetch branch ${t} - enter`,this.id);const{query:n,remote:r,schema:s}=await this.ensure(),{data:d}=await n({query:s.GetBranch,variables:{owner:r.owner,name:r.repositoryName,qualifiedName:`refs/heads/${t}`}});return f.appendLine(`Fetch branch ${t} - done: ${((e=d.repository)==null?void 0:e.ref)!==null}`,this.id),((i=d.repository)==null?void 0:i.ref)!==null}async listBranches(t,e){const{query:i,remote:n,schema:r}=await this.ensure();f.debug(`List branches for ${t}/${e} - enter`,this.id);let s=null,d=!1;const y=[],F=(await this.getMetadataForRepo(t,e)).default_branch,W=new Date().getTime();do try{const{data:ie}=await i({query:r.ListBranches,variables:{owner:n.owner,name:n.repositoryName,first:100,after:s}});if(y.push(...ie.repository.refs.nodes.map(le=>le.name)),new Date().getTime()-W>5e3){f.warn("List branches timeout hit.",this.id);break}d=ie.repository.refs.pageInfo.hasNextPage,s=ie.repository.refs.pageInfo.endCursor}catch(ie){throw f.debug(`List branches for ${t}/${e} failed`,this.id),ie}while(d);return f.debug(`List branches for ${t}/${e} - done`,this.id),y.includes(F)||y.unshift(F),y}async deleteBranch(t){const{octokit:e}=await this.ensure();if(!!t.validatePullRequestModel("Unable to delete branch"))try{await e.call(e.api.git.deleteRef,{owner:t.head.repositoryCloneUrl.owner,repo:t.head.repositoryCloneUrl.repositoryName,ref:`heads/${t.head.ref}`})}catch(i){f.error(`Unable to delete branch: ${i}`,this.id);return}}async getMentionableUsers(){f.debug("Fetch mentionable users - enter",this.id);const{query:t,remote:e,schema:i}=await this.ensure();let n=null,r=!1;const s=[];do try{const d=await t({query:i.GetMentionableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:n}});if(d.data.repository===null)return f.error("Unexpected null repository when getting mentionable users",this.id),[];s.push(...d.data.repository.mentionableUsers.nodes.map(y=>({login:y.login,avatarUrl:Yr(y.avatarUrl,void 0,this.remote.isEnterprise),name:y.name,url:y.url,email:y.email,id:y.id}))),r=d.data.repository.mentionableUsers.pageInfo.hasNextPage,n=d.data.repository.mentionableUsers.pageInfo.endCursor}catch(d){return f.debug(`Unable to fetch mentionable users: ${d}`,this.id),s}while(r);return s}async getAssignableUsers(){f.debug("Fetch assignable users - enter",this.id);const{query:t,remote:e,schema:i}=await this.ensure();let n=null,r=!1;const s=[];do try{const d=await t({query:i.GetAssignableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:n}},!0);if(d.data.repository===null)return f.error("Unexpected null repository when getting assignable users",this.id),[];s.push(...d.data.repository.assignableUsers.nodes.map(y=>({login:y.login,avatarUrl:Yr(y.avatarUrl,void 0,this.remote.isEnterprise),name:y.name,url:y.url,email:y.email,id:y.id}))),r=d.data.repository.assignableUsers.pageInfo.hasNextPage,n=d.data.repository.assignableUsers.pageInfo.endCursor}catch(d){return f.debug(`Unable to fetch assignable users: ${d}`,this.id),d.graphQLErrors&&d.graphQLErrors.length>0&&d.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&a.window.showWarningMessage(`GitHub user features will not work. ${d.graphQLErrors[0].message}`),s}while(r);return s}async getOrgTeamsCount(){if(f.debug("Fetch Teams Count - enter",this.id),!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return 0;const{query:t,remote:e,schema:i}=await this.ensureAdditionalScopes();try{const r=(await t({query:i.GetOrganizationTeamsCount,variables:{login:e.owner}})).data.organization.teams.totalCount;return f.debug("Fetch Teams Count - done",this.id),r}catch(n){return f.debug(`Unable to fetch teams Count: ${n}`,this.id),n.graphQLErrors&&n.graphQLErrors.length>0&&n.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&a.window.showWarningMessage(`GitHub teams features will not work. ${n.graphQLErrors[0].message}`),0}}async getOrgTeams(t){if(f.debug("Fetch Teams - enter",this.id),t===0||t===1&&!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return f.debug("Fetch Teams - exit without fetching teams",this.id),[];const{query:e,remote:i,schema:n}=await this.ensureAdditionalScopes();let r=null,s=!1;const d=[];do try{const y=await e({query:n.GetOrganizationTeams,variables:{login:i.owner,after:r,repoName:i.repositoryName}});y.data.organization.teams.nodes.forEach(F=>{const W={avatarUrl:Yr(F.avatarUrl,void 0,this.remote.isEnterprise),name:F.name,url:F.url,slug:F.slug,id:F.id,org:i.owner};d.push({...W,repositoryNames:F.repositories.nodes.map(ie=>ie.name)})}),s=y.data.organization.teams.pageInfo.hasNextPage,r=y.data.organization.teams.pageInfo.endCursor}catch(y){return f.debug(`Unable to fetch teams: ${y}`,this.id),y.graphQLErrors&&y.graphQLErrors.length>0&&y.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&a.window.showWarningMessage(`GitHub teams features will not work. ${y.graphQLErrors[0].message}`),d}while(s);return f.debug("Fetch Teams - exit",this.id),d}async getPullRequestParticipants(t){f.debug("Fetch participants from a Pull Request",this.id);const{query:e,remote:i,schema:n}=await this.ensure(),r=[];try{const s=await e({query:n.GetParticipants,variables:{owner:i.owner,name:i.repositoryName,number:t,first:18}});if(s.data.repository===null)return f.error("Unexpected null repository when fetching participants",this.id),[];r.push(...s.data.repository.pullRequest.participants.nodes.map(d=>({login:d.login,avatarUrl:Yr(d.avatarUrl,void 0,this.remote.isEnterprise),name:d.name,url:d.url,email:d.email,id:d.id})))}catch(s){f.debug(`Unable to fetch participants from a PullRequest: ${s}`,this.id),s.graphQLErrors&&s.graphQLErrors.length>0&&s.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&a.window.showWarningMessage(`GitHub user features will not work. ${s.graphQLErrors[0].message}`)}return r}async compareCommits(t,e){f.debug("Compare commits - enter",this.id);try{const{remote:i,octokit:n}=await this.ensure(),{data:r}=await n.call(n.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:t,head:e});return f.debug("Compare commits - done",this.id),r}catch(i){f.error(`Unable to compare commits between ${t} and ${e}: ${i}`,this.id)}}isCurrentUser(t){return this._credentialStore.isCurrentUser(t)}async getStatusChecks(t){var e,i,n,r;f.debug("Get Status Checks - enter",this.id);const{query:s,remote:d,schema:y}=await this.ensure(),F=this._useFallbackChecks;let W;try{W=await s({query:F?y.GetChecksWithoutSuite:y.GetChecks,variables:{owner:d.owner,name:d.repositoryName,number:t}},!0)}catch(Ie){if(((e=Ie.message)==null?void 0:e.startsWith("GraphQL error: Resource protected by organization SAML enforcement."))&&!F)return this._useFallbackChecks=!0,this.getStatusChecks(t);throw f.error(`Unable to fetch PR checks: ${Ie}`,this.id),Ie}if(W.data.repository===null||W.data.repository.pullRequest.commits.nodes===void 0||W.data.repository.pullRequest.commits.nodes.length===0)return f.error(`Unable to fetch PR checks: ${(i=W.errors)==null?void 0:i.map(Ie=>Ie.message).join(", ")}`,this.id),[null,null];const ie=W.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup,le=ie?{state:this.mapStateAsCheckState(ie.state),statuses:ie.contexts.nodes.map(Ie=>{var oe,ye,Te,Fe,qe;return Ov(Ie)?{id:Ie.id,url:(ye=(oe=Ie.checkSuite)==null?void 0:oe.app)==null?void 0:ye.url,avatarUrl:((Fe=(Te=Ie.checkSuite)==null?void 0:Te.app)==null?void 0:Fe.logoUrl)&&Yr(Ie.checkSuite.app.logoUrl,void 0,this.remote.isEnterprise),state:this.mapStateAsCheckState(Ie.conclusion),description:Ie.title,context:Ie.name,targetUrl:Ie.detailsUrl,isRequired:Ie.isRequired}:{id:Ie.id,url:(qe=Ie.targetUrl)!=null?qe:void 0,avatarUrl:Ie.avatarUrl?Yr(Ie.avatarUrl,void 0,this.remote.isEnterprise):void 0,state:this.mapStateAsCheckState(Ie.state),description:Ie.description,context:Ie.context,targetUrl:Ie.targetUrl,isRequired:Ie.isRequired}})}:{state:yn.Success,statuses:[]};let de=null;const ke=(n=W.data.repository.pullRequest.baseRef)==null?void 0:n.refUpdateRule;if(ke){const Ie=W.data.repository.pullRequest.url;for(const qe of ke.requiredStatusCheckContexts||[])le.statuses.some(He=>He.context===qe)||(le.state=yn.Pending,le.statuses.push({id:"",url:void 0,avatarUrl:void 0,state:yn.Pending,description:a.l10n.t("Waiting for status to be reported"),context:qe,targetUrl:Ie,isRequired:!0}));const oe=(r=ke.requiredApprovingReviewCount)!=null?r:0,ye=W.data.repository.pullRequest.latestReviews.nodes.filter(qe=>qe.authorCanPushToRepository&&qe.state==="APPROVED"),Te=W.data.repository.pullRequest.reviewsRequestingChanges.nodes.filter(qe=>qe.authorCanPushToRepository);let Fe=yn.Success;ye.length<oe&&(Fe=yn.Failure,Te.length&&(Fe=yn.Pending)),oe>0&&(de={count:oe,approvals:ye.map(qe=>qe.author.login),requestedChanges:Te.map(qe=>qe.author.login),state:Fe})}return f.debug("Get Status Checks - done",this.id),[le.statuses.length?le:null,de]}mapStateAsCheckState(t){switch(t){case"EXPECTED":case"PENDING":case"ACTION_REQUIRED":case"STALE":return yn.Pending;case"ERROR":case"FAILURE":case"TIMED_OUT":case"STARTUP_FAILURE":return yn.Failure;case"SUCCESS":return yn.Success;case"NEUTRAL":case"SKIPPED":return yn.Neutral}return yn.Unknown}};let Mr=bf;hr(Mr,"ID","GitHubRepository");const Vv=/(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/,hs=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/;function Us(t){if(!t)return;const e={owner:void 0,name:void 0,issueNumber:0};return t.length===7?(e.owner=t[2],e.name=t[3],e.issueNumber=parseInt(t[5]),e):t.length===16?(e.owner=t[3]||t[11],e.name=t[4]||t[12],e.issueNumber=parseInt(t[7]||t[14]),e.commentNumber=t[9]!==void 0?parseInt(t[9]):void 0,e):void 0}function Fo(t,e,i){return t!==e&&i===void 0?i=300:i||(i=0),new a.Range(t,0,e,i)}function Oo(t,e,i,n,r,s,d){const y=r.createCommentThread(e,i,[]);y.gitHubThreadId=n.id,y.comments=n.comments.map(ie=>new Gn(t,ie,y,d));const F=yf(n.isResolved);let W=a.CommentThreadApplicability.Current;return n.viewerCanResolve&&!n.isResolved?y.contextValue="canResolve":n.viewerCanUnresolve&&n.isResolved&&(y.contextValue="canUnresolve"),n.isOutdated&&(y.contextValue+="outdated",W=a.CommentThreadApplicability.Outdated),y.state={resolved:F,applicability:W},Bs(y),y.collapsibleState=wf(n,void 0,s),y}function yf(t){return t?a.CommentThreadState.Resolved:a.CommentThreadState.Unresolved}const jv="commentExpandState",C1="collapseAll",zv="expandUnresolved";function wf(t,e,i){var n,r;const s=i&&((n=t.comments[t.comments.length-1].user)==null?void 0:n.login)===i,d=t.comments.length===1&&t.comments[0].body.startsWith("```suggestion")&&t.comments[0].body.endsWith("```");return t.isResolved||!t.isOutdated&&s&&!d?a.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=((r=a.workspace.getConfiguration(Xe))==null?void 0:r.get(jv))===zv),e?a.CommentThreadCollapsibleState.Expanded:a.CommentThreadCollapsibleState.Collapsed)}function _f(t,e,i,n,r){if(!e.range)return;const s=a.window.visibleTextEditors;for(let d of s)if(d.document.uri.toString()===e.uri.toString()){const y=d.document.lineAt(e.range.end.line),F=new a.Range(e.range.start.line,0,e.range.end.line,y.text.length);xl(t,e,i,n,r,F);break}}function xl(t,e,i,n,r,s){var d,y;i.viewerCanResolve&&!i.isResolved?e.contextValue="canResolve":i.viewerCanUnresolve&&i.isResolved&&(e.contextValue="canUnresolve"),i.isOutdated&&(e.contextValue+="outdated");const F=yf(i.isResolved);if(((d=e.state)==null?void 0:d.resolved)!==F&&(e.state={resolved:F,applicability:(y=e.state)==null?void 0:y.applicability}),e.collapsibleState=wf(i,r),s&&(e.range=s),e.comments.length===i.comments.length&&e.comments.every((W,ie)=>W.commentId===`${i.comments[ie].id}`)){let W=0;for(const ie of e.comments)ie instanceof Gn&&ie.update(i.comments[W]),W++}else e.comments=i.comments.map(W=>new Gn(t,W,e,n));Bs(e)}function Bs(t){var e;if(((e=t.state)==null?void 0:e.resolved)===a.CommentThreadState.Resolved){t.label=a.l10n.t("Marked as resolved");return}if(t.comments.length){const i=H(t.comments,n=>n.originalAuthor.name).map(n=>`@${n.originalAuthor.name}`).join(", ");t.label=a.l10n.t("Participants: {0}",i)}else t.label=a.l10n.t("Start discussion")}function kf(t,e){let i=!1;const n=t.reactions,r=Fl().map((s,d)=>{if(!e)return{label:s.label,authorHasReacted:!1,count:0,iconPath:s.icon||""};const y=e.find(W=>W.label===s.label);let F;return y?F={label:y.label,authorHasReacted:y.viewerHasReacted,count:y.count,iconPath:s.icon||"",reactors:y.reactors.map(W=>({name:W}))}:F={label:s.label,authorHasReacted:!1,count:0,iconPath:s.icon||""},!i&&(!n||n[d].authorHasReacted!==F.authorHasReacted||n[d].count!==F.count)&&(i=!0),F});return t.reactions=r,i}function Sf(t,e){e||(t.comments=t.comments.map(i=>(i instanceof Gn&&(i.rawComment.isDraft=!1),i.label=void 0,i)))}function Pr(t){return t===ki.githubEnterprise}function qs(t,e){var i,n,r;return{login:t.login,url:t.html_url,avatarUrl:e?Yr(t.avatar_url,(i=t.gravatar_id)!=null?i:void 0,e.remote.isEnterprise):t.avatar_url,id:t.node_id,email:(n=t.email)!=null?n:void 0,specialDisplayName:Rt[t.login]?(r=t.name)!=null?r:Rt[t.login].name:void 0}}function Rf(t){return{label:t.label,ref:t.ref,sha:t.sha,repo:{cloneUrl:t.repo.clone_url,isInOrganization:!!t.repo.organization,owner:t.repo.owner.login,name:t.repo.name}}}function Dl(t,e){const{number:i,body:n,title:r,html_url:s,user:d,state:y,assignees:F,created_at:W,updated_at:ie,head:le,base:de,labels:ke,node_id:Ie,id:oe,draft:ye}=t,Te={id:oe,graphNodeId:Ie,number:i,body:n!=null?n:"",title:r,titleHTML:r,url:s,user:qs(d,e),state:y,merged:t.merged||!1,assignees:F?F.map(Fe=>qs(Fe,e)):void 0,createdAt:W,updatedAt:ie,viewerCanUpdate:!1,head:le.repo?Rf(le):void 0,base:Rf(de),labels:ke.map(Fe=>({name:"",color:"",...Fe})),isDraft:ye,suggestedReviewers:[],projectItems:[],commits:[],reactionCount:0,commentCount:0};return"mergeable"in t&&(Te.mergeable=t.mergeable?Xi.Mergeable:Xi.NotMergeable),Te}function Wv(t,e){const{number:i,body:n,title:r,html_url:s,user:d,state:y,assignees:F,created_at:W,updated_at:ie,labels:le,node_id:de,id:ke,comments:Ie}=t;return{id:ke,graphNodeId:de,number:i,body:n!=null?n:"",title:r,titleHTML:r,url:s,user:qs(d,e),state:y,assignees:F?F.map(ye=>qs(ye,e)):void 0,createdAt:W,updatedAt:ie,labels:le.map(ye=>{var Te,Fe,qe;return typeof ye=="string"?{name:ye,color:""}:{name:(Te=ye.name)!=null?Te:"",color:(Fe=ye.color)!=null?Fe:"",description:(qe=ye.description)!=null?qe:void 0}}),projectItems:[],reactionCount:0,commentCount:Ie}}function Kv(t,e){return{event:Zi.Reviewed,comments:[],submittedAt:t.submitted_at,body:t.body,bodyHTML:t.body,htmlUrl:t.html_url,user:qs(t.user,e),authorAssociation:t.user.type,state:t.state,id:t.id}}function Qv(t){const e=[],i=Ne(t.diffHunk);let n=i.next();for(;!n.done;){const r=n.value;e.push(r),n=i.next()}return e}function Yv(t){switch(t){case"PullRequestCommit":return Zi.Committed;case"LabeledEvent":return Zi.Labeled;case"MilestonedEvent":return Zi.Milestoned;case"AssignedEvent":return Zi.Assigned;case"HeadRefDeletedEvent":return Zi.HeadRefDeleted;case"IssueComment":return Zi.Commented;case"PullRequestReview":return Zi.Reviewed;case"MergedEvent":return Zi.Merged;default:return Zi.Other}}function Il(t,e){var i,n,r,s;return{id:t.id,prReviewDatabaseId:t.comments.edges&&t.comments.edges.length?(i=t.comments.edges[0].node.pullRequestReview)==null?void 0:i.databaseId:void 0,isResolved:t.isResolved,viewerCanResolve:t.viewerCanResolve,viewerCanUnresolve:t.viewerCanUnresolve,path:t.path,startLine:(n=t.startLine)!=null?n:t.line,endLine:t.line,originalStartLine:(r=t.originalStartLine)!=null?r:t.originalLine,originalEndLine:t.originalLine,diffSide:t.diffSide,isOutdated:t.isOutdated,comments:t.comments.nodes.map(d=>Hs(d,t.isResolved,e)),subjectType:(s=t.subjectType)!=null?s:vt.LINE}}function Hs(t,e,i){var n,r,s;const d=Rt[(r=(n=t.author)==null?void 0:n.login)!=null?r:""],y={id:t.databaseId,url:t.url,body:t.body,specialDisplayBodyPostfix:d==null?void 0:d.postComment,bodyHTML:t.bodyHTML,path:t.path,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,pullRequestReviewId:t.pullRequestReview&&t.pullRequestReview.databaseId,diffHunk:t.diffHunk,position:t.position,commitId:t.commit.oid,originalPosition:t.originalPosition,originalCommitId:t.originalCommit&&t.originalCommit.oid,user:t.author?{...Qr(t.author,i),specialDisplayName:d?(s=t.author.name)!=null?s:d.name:void 0}:void 0,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,isDraft:t.state==="PENDING",inReplyToId:t.replyTo&&t.replyTo.databaseId,reactions:Tf(t.reactionGroups),isResolved:e},F=Qv(y);return y.diffHunks=F,y}function Ef(t,e){var i,n,r;return{id:t.databaseId,url:t.url,body:t.body,specialDisplayBodyPostfix:(r=Rt[(n=(i=t.author)==null?void 0:i.login)!=null?n:""])==null?void 0:r.postComment,bodyHTML:t.bodyHTML,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,user:Qr(t.author,e),createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,diffHunk:""}}function Tf(t){const e=Fl().reduce((n,r)=>(n[r.title]=r,n),{});return t.filter(n=>n.reactors.totalCount>0).map(n=>({label:e[n.content].label,count:n.reactors.totalCount,icon:e[n.content].icon,viewerHasReacted:n.viewerHasReacted,reactors:n.reactors.nodes.map(s=>s.login)}))}function Cf(t,e,i){if(!!i)return{label:`${i.owner.login}:${t}`,ref:t,sha:e,repo:{cloneUrl:i.url,isInOrganization:i.isInOrganization,owner:i.owner.login,name:t}}}function Qr(t,e){var i;return t?{login:t.login,url:t.url,avatarUrl:Yr(t.avatarUrl,void 0,e.remote.isEnterprise),email:t.email,id:t.id,specialDisplayName:Rt[t.login]?(i=t.name)!=null?i:Rt[t.login].name:void 0}:{login:"",url:"",id:""}}function Jv(t,e){var i,n;if(!t.repository)return[];const r=[];for(const s of t.repository.pullRequest.reviewRequests.nodes)if((i=s.requestedReviewer)==null?void 0:i.login){const d={login:s.requestedReviewer.login,url:s.requestedReviewer.url,avatarUrl:Yr(s.requestedReviewer.avatarUrl,void 0,e.isEnterprise),email:s.requestedReviewer.email,name:s.requestedReviewer.name,id:s.requestedReviewer.id,specialDisplayName:Rt[s.requestedReviewer.login]?(n=s.requestedReviewer.name)!=null?n:Rt[s.requestedReviewer.login].name:void 0};r.push(d)}else if(s.requestedReviewer){const d={name:s.requestedReviewer.name,url:s.requestedReviewer.url,avatarUrl:Yr(s.requestedReviewer.avatarUrl,void 0,e.isEnterprise),id:s.requestedReviewer.id,org:e.owner,slug:s.requestedReviewer.slug};r.push(d)}return r}function Nf(t,e){return t?{login:t.login,url:t.url,avatarUrl:Yr(t.avatarUrl,void 0,e.remote.isEnterprise)}:{login:"",url:""}}function Mf(t){if(!!t)return t.map(e=>({id:e.id,project:e.project}))}function tc(t){if(!!t)return{title:t.title,dueOn:t.dueOn,createdAt:t.createdAt,id:t.id,number:t.number}}function Pf(t){if(!t)return null;let e;switch(t.state){case"AWAITING_CHECKS":{e=nr.AwaitingChecks;break}case"LOCKED":{e=nr.Locked;break}case"QUEUED":{e=nr.Queued;break}case"MERGEABLE":{e=nr.Mergeable;break}case"UNMERGEABLE":{e=nr.Unmergeable;break}}return{position:t.position,state:e,url:t.mergeQueue.url}}function Af(t){switch(t){case"MERGE":return"merge";case"REBASE":return"rebase";case"SQUASH":return"squash"}}function ic(t,e){let i;switch(t){case void 0:case"UNKNOWN":i=Xi.Unknown;break;case"MERGEABLE":i=Xi.Mergeable;break;case"CONFLICTING":i=Xi.Conflict;break}return i!==Xi.Conflict&&(e==="BLOCKED"?i=Xi.NotMergeable:e==="BEHIND"&&(i=Xi.Behind)),i}function Lo(t,e){var i,n,r,s,d,y,F,W;const ie={id:t.databaseId,graphNodeId:t.id,url:t.url,number:t.number,state:t.state,body:t.body,bodyHTML:t.bodyHTML,title:t.title,titleHTML:t.titleHTML,createdAt:t.createdAt,updatedAt:t.updatedAt,isRemoteHeadDeleted:!t.headRef,head:Cf((n=(i=t.headRef)==null?void 0:i.name)!=null?n:t.headRefName,t.headRefOid,t.headRepository),isRemoteBaseDeleted:!t.baseRef,base:Cf((s=(r=t.baseRef)==null?void 0:r.name)!=null?s:t.baseRefName,t.baseRefOid,t.baseRepository),user:Qr(t.author,e),merged:t.merged,mergeable:ic(t.mergeable,t.mergeStateStatus),mergeQueueEntry:Pf(t.mergeQueueEntry),hasComments:t.reviewThreads.totalCount>0,autoMerge:!!t.autoMergeRequest,autoMergeMethod:Af((d=t.autoMergeRequest)==null?void 0:d.mergeMethod),allowAutoMerge:t.viewerCanEnableAutoMerge||t.viewerCanDisableAutoMerge,viewerCanUpdate:t.viewerCanUpdate,labels:t.labels.nodes,isDraft:t.isDraft,suggestedReviewers:tg(t.suggestedReviewers),comments:Zv((y=t.comments)==null?void 0:y.nodes,e),projectItems:Mf((F=t.projectItems)==null?void 0:F.nodes),milestone:tc(t.milestone),assignees:(W=t.assignees)==null?void 0:W.nodes.map(le=>Qr(le,e)),commits:Xv(t.commits.nodes),reactionCount:t.reactions.totalCount,commentCount:t.comments.totalCount};return ie.mergeCommitMeta=xf(t.baseRepository.mergeCommitTitle,t.baseRepository.mergeCommitMessage,ie),ie.squashCommitMeta=xf(t.baseRepository.squashMergeCommitTitle,t.baseRepository.squashMergeCommitMessage,ie),ie}function xf(t,e,i){var n,r;if(t===void 0||e===void 0)return;let s="",d="";const y=`(#${i.number})`;switch(t){case Os.prTitle:{s=`${i.title} ${y}`;break}case Os.mergeMessage:{s=`Merge pull request #${i.number} from ${(r=(n=i.head)==null?void 0:n.label)!=null?r:""}`;break}case Os.commitOrPrTitle:{i.commits.length===1?s=`${i.commits[0].message.split(`
`)[0]} ${y}`:s=`${i.title} ${y}`;break}}switch(e){case Do.prBody:{d=i.body;break}case Do.commitMessages:{if(i.commits.length===1&&t===Os.commitOrPrTitle){const F=i.commits[0].message.split(`
`);d=F.length>1?F.slice(1).join(`
`).trim():""}else d=i.commits.map(F=>`* ${F.message}`).join(`

`);break}case Do.prTitle:{d=i.title;break}}return{title:s,description:d}}function Xv(t){return t.map(e=>({message:e.commit.message}))}function Zv(t,e){if(!t)return;const i=[];for(const n of t)i.push({author:Qr(n.author,e),body:n.body,databaseId:n.databaseId,reactionCount:n.reactions.totalCount,createdAt:n.createdAt});return i}function Df(t,e){var i,n,r,s,d,y,F,W,ie;return{id:t.databaseId,graphNodeId:t.id,url:t.url,number:t.number,state:t.state,body:t.body,bodyHTML:t.bodyHTML,title:t.title,titleHTML:t.titleHTML,createdAt:t.createdAt,updatedAt:t.updatedAt,assignees:(i=t.assignees)==null?void 0:i.nodes.map(le=>Qr(le,e)),user:Qr(t.author,e),labels:t.labels.nodes,milestone:tc(t.milestone),repositoryName:(r=(n=t.repository)==null?void 0:n.name)!=null?r:e.remote.repositoryName,repositoryOwner:(d=(s=t.repository)==null?void 0:s.owner.login)!=null?d:e.remote.owner,repositoryUrl:(F=(y=t.repository)==null?void 0:y.url)!=null?F:e.remote.url,projectItems:Mf((W=t.projectItems)==null?void 0:W.nodes),comments:(ie=t.comments.nodes)==null?void 0:ie.map(le=>eg(le)),reactionCount:t.reactions.totalCount,commentCount:t.comments.totalCount}}function eg(t){return{author:t.author,body:t.body,databaseId:t.databaseId,reactionCount:t.reactions.totalCount,createdAt:t.createdAt}}function tg(t){return t?t.map(i=>({login:i.reviewer.login,avatarUrl:i.reviewer.avatarUrl,name:i.reviewer.name,url:i.reviewer.url,isAuthor:i.isAuthor,isCommenter:i.isCommenter,id:i.reviewer.id})).sort(If):[]}function If(t,e){return t.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function ig(t,e){var i,n;const r=(i=t.name)!=null?i:t.slug,s=(n=e.name)!=null?n:e.slug;return r.localeCompare(s,"en",{sensitivity:"accent"})}function ng(t,e){return{event:Zi.Reviewed,comments:t.comments.nodes.map(i=>Hs(i,!1,e)).filter(i=>!i.inReplyToId),submittedAt:t.submittedAt,body:t.body,bodyHTML:t.bodyHTML,htmlUrl:t.url,user:Qr(t.author,e),authorAssociation:t.authorAssociation,state:t.state,id:t.databaseId}}function nc(t,e){const i=[];return t.forEach(n=>{const r=Yv(n.__typename);switch(r){case Zi.Commented:const s=n;i.push({htmlUrl:s.url,body:s.body,bodyHTML:s.bodyHTML,user:Qr(s.author,e),event:r,canEdit:s.viewerCanUpdate,canDelete:s.viewerCanDelete,id:s.databaseId,graphNodeId:s.id,createdAt:s.createdAt});return;case Zi.Reviewed:const d=n;i.push({event:r,comments:[],submittedAt:d.submittedAt,body:d.body,bodyHTML:d.bodyHTML,htmlUrl:d.url,user:Qr(d.author,e),authorAssociation:d.authorAssociation,state:d.state,id:d.databaseId});return;case Zi.Committed:const y=n;i.push({id:y.id,event:r,sha:y.commit.oid,author:y.commit.author.user?Qr(y.commit.author.user,e):{login:y.commit.committer.name},htmlUrl:y.url,message:y.commit.message,authoredDate:new Date(y.commit.authoredDate)});return;case Zi.Merged:const F=n;i.push({id:F.id,event:r,user:Nf(F.actor,e),createdAt:F.createdAt,mergeRef:F.mergeRef.name,sha:F.commit.oid,commitUrl:F.commit.commitUrl,url:F.url,graphNodeId:F.id});return;case Zi.Assigned:const W=n;i.push({id:W.id,event:r,user:Qr(W.user,e),actor:W.actor});return;case Zi.HeadRefDeleted:const ie=n;i.push({id:ie.id,event:r,actor:Nf(ie.actor,e),createdAt:ie.createdAt,headRef:ie.headRefName});return;default:break}}),i}function rg(t,e){var i;return{login:t.user.login,name:t.user.name,avatarUrl:Yr((i=t.user.avatarUrl)!=null?i:"",void 0,e.remote.isEnterprise),url:t.user.url,bio:t.user.bio,company:t.user.company,location:t.user.location,commitContributions:ag(t.user.contributionsCollection),id:t.user.id}}function ag(t){const e=[];return t.commitContributionsByRepository.forEach(i=>{i.contributions.nodes.forEach(n=>{e.push({createdAt:new Date(n.occurredAt),repoNameWithOwner:i.repository.nameWithOwner})})}),e}function Fl(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:Er.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:Er.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:Er.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:Er.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:Er.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:Er.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:Er.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:Er.icons.reactions.EYES}]}async function rc(t,e){let i=1,n=[],r=!1;do{const s=await t({...e,per_page:100,page:i});n=n.concat(s.data),r=!!s.headers.link&&s.headers.link.indexOf('rel="next"')>-1,i+=1}while(r);return n}function sg(t){const e=[];return t.forEach(i=>{var n,r;i.event===Zi.Committed&&e.push({login:i.author.login,name:i.author.name||""}),i.event===Zi.Reviewed&&e.push({login:i.user.login,name:(n=i.user.name)!=null?n:i.user.login}),i.event===Zi.Commented&&e.push({login:i.user.login,name:(r=i.user.name)!=null?r:i.user.login})}),e}function og(t){var e;return t&&((e=t.repository)==null?void 0:e.viewerPermission)&&Object.values(Dr).includes(t.repository.viewerPermission)?t.repository.viewerPermission:Dr.Unknown}function Ff(t,e){return e.path.toLowerCase()===t.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(t.rootUri.path.toLowerCase())&&e.path.substring(t.rootUri.path.length).startsWith("/")}function ac(t,e){const i=[];for(const n of t.repositories.reverse())Ff(n,e)&&i.push(n);if(i.length>0)return i.sort((n,r)=>r.rootUri.path.length-n.rootUri.path.length),i[0]}function Of(t,e,i){const n=e.filter(d=>d.event===Zi.Reviewed).filter(d=>d.state!=="PENDING");let r=[];const s=new Map;s.set(i.login,!0);for(let d=n.length-1;d>=0;d--){const y=n[d],F=y.user;y.state&&!s.get(F.login)&&(s.set(F.login,!0),r.push({reviewer:F,state:y.state}))}return t.forEach(d=>{if(!s.get(Sr(d)))r.push({reviewer:d,state:"REQUESTED"});else{const y=r.find(F=>Sr(F.reviewer)===Sr(d));y.state="REQUESTED"}}),r=r.sort((d,y)=>d.state==="REQUESTED"&&y.state!=="REQUESTED"?1:y.state==="REQUESTED"&&d.state!=="REQUESTED"||ta(d.reviewer).toLowerCase()<ta(y.reviewer).toLowerCase()?-1:1),r}function lg(t){if(!t.subject.url)return;const e=t.repository.owner.login,i=t.repository.name,n=t.subject.url.split("/").pop();return{owner:e,name:i,key:Lf(e,i,n),id:t.id,itemID:n,subject:{title:t.subject.title,type:t.subject.type,url:t.subject.url},lastReadAt:new Date(t.last_read_at),reason:t.reason,unread:t.unread,updatedAd:new Date(t.updated_at)}}function Lf(t,e,i){return`${t}/${e}#${i}`}function ug(t,e,i,n){if(e&&n&&n.sha!==e){let r=t.length-1,s=!1,d=[];for(let y=t.length-1;y>0;y--)if(t[y].event===Zi.Committed&&t[y].sha===e){d.unshift({id:e,event:Zi.NewCommitsSinceReview}),t.splice(r+1,0,...d);break}else s&&t[y].event===Zi.Committed?(d.unshift(t[y]),t.splice(y,1)):!s&&t[y].event===Zi.Reviewed&&t[y].user.login===i&&(r=y,s=!0)}}function cg(t,e,i){return`is:pull-request ${i.replace(/\$\{user\}/g,e)} type:pr repo:${t}`}function Ol(){return a.env.remoteName==="codespaces"&&a.env.uiKind===a.UIKind.Web}async function sc(t){return a.workspace.getConfiguration(An).update(Ar,t,a.ConfigurationTarget.Workspace)}function $s(){const t=a.workspace.getConfiguration(An).get(Ar,"");if(t){let e=a.Uri.parse(t,!0);return e.scheme==="http"&&(e=e.with({scheme:"https"})),e}}function aa(){return!!$s()}function dg(t,e=200){return t?`https://www.gravatar.com/avatar/${t}?s=${e}&d=retro`:void 0}function Yr(t,e,i){var n;return i?e?dg(wr.n1("sha256").update((n=e==null?void 0:e.trim())==null?void 0:n.toLowerCase()).digest("hex")):void 0:t}function fg(t){return a.Uri.parse(`https://${t.remote.host}/${t.remote.owner}/${t.remote.repositoryName}/pulls`)}function hg(t){return a.Uri.parse(`https://${t.remote.host}/${t.remote.owner}/${t.remote.repositoryName}/issues`)}function Uf(t){const e=/[~^:;'".,~#?%*&[\]@\\{}()/]|\/\//g;return t.replace(e,"").trim().substring(0,150).replace(/\s+/g,"-")}const mg=/\$\{(.*?)\}/g;async function Gs(t,e,i,n){return t.replace(mg,(r,s)=>{let d;switch(s){case"user":d=n||r;break;case"issueNumber":d=e?`${e.number}`:r;break;case"issueNumberLabel":d=e?`${Uo(e,i)}`:r;break;case"issueTitle":d=e?e.title:r;break;case"repository":d=i?i.repo:r;break;case"owner":d=i?i.owner:r;break;case"sanitizedIssueTitle":d=e?Uf(e.title):r;break;case"sanitizedLowercaseIssueTitle":d=e?Uf(e.title).toLowerCase():r;break;default:d=r;break}return f.debug(`${r} -> ${d}`,"VariableSubstitution"),d})}function Uo(t,e){const i={issueNumber:t.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==t.remote.owner.toLowerCase()||e.repo.toLowerCase()!==t.remote.repositoryName.toLowerCase())&&(i.owner=t.remote.owner,i.name=t.remote.repositoryName),oc(i)}function oc(t){return!t.owner||!t.name?`#${t.issueNumber}`:`${t.owner}/${t.name}#${t.issueNumber}`}function Bf(){const t=a.workspace.getConfiguration(Xe).get(Yt);if(t)return f.debug("Using override setting for default branch",Mr.ID),t}async function qf(t){const e=[],i=[],n=[];for(const r of t){for(const s of await r.computeAllGitHubRemotes())s.githubServerType===ln.GitHubDotCom?e.push(s):s.githubServerType===ln.Enterprise&&i.push(s);n.push(...await r.computeAllUnknownRemotes())}return{dotComRemotes:e,enterpriseRemotes:i,unknownRemotes:n}}function lc(t){const e=a.Uri.parse(t.html_url);return`https://${a.env.appName.toLowerCase().includes("insider")?"insiders.":""}vscode.dev/github${e.path}`}function Hf(t){const e=a.window.activeColorTheme.kind===a.ColorThemeKind.Dark,i=L(t.color,e,!0);return`<span style="color:${i.textColor};background-color:${i.backgroundColor};">&nbsp;&nbsp;${t.name.trim()}&nbsp;&nbsp;</span>`}class Ll{constructor(e,i,n){this.remoteName=e,this.url=i,this.gitProtocol=n}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=$s())==null?void 0:e.authority)?ki.githubEnterprise:ki.github}get isEnterprise(){return Pr(this.authProviderId)}equals(e){return!(this.remoteName!==e.remoteName||!this.host.includes(e.host)&&!e.host.includes(this.host)||this.owner.toLocaleLowerCase()!==e.owner.toLocaleLowerCase()||this.repositoryName.toLocaleLowerCase()!==e.repositoryName.toLocaleLowerCase())}}function Ul(t,e,i){if(!e)return null;const n=new cn(e);return i&&n.update({type:i.type}),n.host?new Ll(t,e,n):null}function Aa(t){const e=[];for(const i of t.state.remotes){const n=[];i.fetchUrl&&n.push(i.fetchUrl),i.pushUrl&&i.pushUrl!==i.fetchUrl&&n.push(i.pushUrl),n.forEach(r=>{const s=Ul(i.name,r);s&&e.push(s)})}return e}class ms extends Ll{constructor(e,i,n,r){super(e,i,n);this.githubServerType=r}static remoteAsGitHub(e,i){return new ms(e.remoteName,e.url,e.gitProtocol,i)}}var pg=Object.defineProperty,vg=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?pg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class $f{constructor(e,i,n,r,s,d,y){this.ref=e,this.label=i,this.sha=n,this.owner=s,this.name=d,this.isInOrganization=y,vg(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new cn(r)}}function gg(t,e){var i;const n=e.repositoryCloneUrl.repositoryName.toLowerCase(),r=e.owner.toLowerCase();for(const s of t.state.remotes){const d=(i=s.fetchUrl)!=null?i:s.pushUrl;if(!d)continue;const y=Ul(s.name,d),F=y==null?void 0:y.owner.toLowerCase(),W=y==null?void 0:y.repositoryName.toLowerCase();if(F===r&&W===n)return s}}var bg=Object.defineProperty,Vs=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?bg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class uc{constructor(e,i,n,r){this.pullRequest=e,this.folderRepoManager=i,this.change=n,this.sha=r,Vs(this,"_filePath"),Vs(this,"_parentFilePath"),Vs(this,"_viewed")}get filePath(){return this._filePath}get parentFilePath(){return this._parentFilePath}get status(){return this.change.status}get fileName(){return this.change.fileName}get blobUrl(){return this.change.blobUrl}get viewed(){return this._viewed}updateViewed(e){this._viewed!==e&&(this._viewed=e)}async diffHunks(){var e;let i=[];if(this.change instanceof pi)return this.change.diffHunks;if(this.status!==nt.RENAME)try{const n=(e=this.sha)!=null?e:this.pullRequest.head.sha,r=await this.folderRepoManager.repository.diffBetween(this.pullRequest.base.sha,n,this.fileName);i=Ae(r)}catch(n){f.error(`Failed to parse patch for outdated comments: ${n}`)}return i}}class cc extends uc{constructor(e,i,n,r,s,d,y){super(i,e,n,d);if(this.sha=d,Vs(this,"_show"),this._filePath=r,this._parentFilePath=s,y)try{this.showBase()}catch(F){f.warn(`Unable to preload file content for ${r.fsPath} at commit ${d}`)}}async showBase(){if(!this._show&&this.change.status!==nt.ADD){const e=this.change instanceof pi||this.change instanceof fi?this.change.baseCommit:this.sha,i=a.Uri.joinPath(this.folderRepoManager.repository.rootUri,this.fileName).fsPath;this._show=this.folderRepoManager.repository.show(e,i)}return this._show}}class ps extends uc{constructor(e,i,n,r,s){super(i,e,n);this.change=n;const d=i.head.sha,y=n.status===nt.RENAME?n.previousFileName:n.fileName,F=e.repository.rootUri.with({path:a.Uri.file(zs(e.repository.rootUri,n.fileName)).path}),W=e.repository.rootUri.with({path:a.Uri.file(zs(e.repository.rootUri,y)).path});this._filePath=r?n.status===nt.DELETE?Jr(F,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):F:xa(F,i,n.baseCommit,d,n.fileName,!1,n.status,n.previousFileName),this._parentFilePath=r?Jr(W,n.status===nt.RENAME?n.previousFileName:n.fileName,void 0,n.status===nt.ADD?"":s,!1,{base:!0},e.repository.rootUri):xa(W,i,n.baseCommit,d,n.fileName,!0,n.status,n.previousFileName)}get previousFileName(){return this.change.previousFileName}async isPartial(){let e=!1,i;if(this.change.patch===""&&(this.change.status===nt.MODIFY||this.change.status===nt.RENAME||this.change.status===nt.ADD))return!0;this.change.status===nt.DELETE||this.change.status===nt.MODIFY?i=this.change.fileName:this.change.status===nt.RENAME&&(i=this.change.previousFileName);try{i&&(await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,i),e=!0)}catch(n){}return!e}get patch(){return this.change.patch}async diffHunks(){return this.change.diffHunks}}class js extends uc{constructor(e,i,n){super(n,e,i);this.change=i,Vs(this,"fileChangeResourceUri"),Vs(this,"childrenDisposables",[]);const r=n.head.sha,s=i.status===nt.RENAME?i.previousFileName:i.fileName;this._filePath=xa(a.Uri.file(zs(e.repository.rootUri,i.fileName)),n,i.baseCommit,r,i.fileName,!1,i.status,i.previousFileName),this._parentFilePath=xa(a.Uri.file(zs(e.repository.rootUri,s)),n,i.baseCommit,r,i.fileName,!0,i.status,i.previousFileName)}get previousFileName(){return this.change.previousFileName}get blobUrl(){return this.change.blobUrl}}var yg=Object.defineProperty,nn=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?yg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Gf=100,gn=class extends ir{constructor(t,e,i,n,r,s){super(i,n,r,!0);this.credentialStore=t,nn(this,"isDraft"),nn(this,"localBranchName"),nn(this,"mergeBase"),nn(this,"mergeQueueEntry"),nn(this,"conflicts"),nn(this,"suggestedReviewers"),nn(this,"hasChangesSinceLastReview"),nn(this,"_showChangesSinceReview"),nn(this,"_hasPendingReview",!1),nn(this,"_onDidChangePendingReviewState",new a.EventEmitter),nn(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),nn(this,"_reviewThreadsCache",[]),nn(this,"_reviewThreadsCacheInitialized",!1),nn(this,"_onDidChangeReviewThreads",new a.EventEmitter),nn(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),nn(this,"_fileChangeViewedState",{}),nn(this,"_viewedFiles",new Set),nn(this,"_unviewedFiles",new Set),nn(this,"_onDidChangeFileViewedState",new a.EventEmitter),nn(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),nn(this,"_onDidChangeChangesSinceReview",new a.EventEmitter),nn(this,"onDidChangeChangesSinceReview",this._onDidChangeChangesSinceReview.event),nn(this,"_hasComments"),nn(this,"_comments"),nn(this,"_onDidChangeComments",new a.EventEmitter),nn(this,"onDidChangeComments",this._onDidChangeComments.event),nn(this,"_isActive"),nn(this,"_telemetry"),nn(this,"isRemoteHeadDeleted"),nn(this,"head"),nn(this,"isRemoteBaseDeleted"),nn(this,"base"),nn(this,"_fileChanges",new Map),nn(this,"markFilesInProgressRefCount",new Map),this._telemetry=e,this.isActive=!!s,this._showChangesSinceReview=!1,this.update(r)}get isActive(){return this._isActive}set isActive(t){this._isActive=t}clear(){this.comments=[],this._reviewThreadsCacheInitialized=!1,this._reviewThreadsCache=[]}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){return this._reviewThreadsCache}get reviewThreadsCacheReady(){return this._reviewThreadsCacheInitialized}get isMerged(){return this.state===Gi.Merged}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(t){this._hasPendingReview!==t&&(this._hasPendingReview=t,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}get showChangesSinceReview(){return this._showChangesSinceReview}set showChangesSinceReview(t){this._showChangesSinceReview!==t&&(this._showChangesSinceReview=t,this._fileChanges.clear(),this._onDidChangeChangesSinceReview.fire())}get comments(){var t;return(t=this._comments)!=null?t:[]}set comments(t){this._comments=t,this._onDidChangeComments.fire()}get fileChangeViewedState(){return this._fileChangeViewedState}updateState(t){t.toLowerCase()==="open"?this.state=Gi.Open:t.toLowerCase()==="merged"||this.item.merged?this.state=Gi.Merged:this.state=Gi.Closed}update(t){var e;super.update(t),this.isDraft=t.isDraft,this.suggestedReviewers=t.suggestedReviewers,t.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=t.isRemoteHeadDeleted),t.head&&(this.head=new $f(t.head.ref,t.head.label,t.head.sha,t.head.repo.cloneUrl,t.head.repo.owner,t.head.repo.name,t.head.repo.isInOrganization)),t.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=t.isRemoteBaseDeleted),t.base&&(this.base=new $f(t.base.ref,t.base.label,t.base.sha,t.base.repo.cloneUrl,t.base.repo.owner,t.base.repo.name,t.base.repo.isInOrganization)),t.mergeQueueEntry!==void 0&&(this.mergeQueueEntry=(e=t.mergeQueueEntry)!=null?e:void 0),t.hasComments!==void 0&&(this._hasComments=t.hasComments)}isResolved(){return!!this.head}validatePullRequestModel(t){if(this.head)return!0;const e=a.l10n.t("There is no upstream branch for Pull Request #{0}. View it on GitHub for more details",this.number);t?t+=`: ${e}`:t=e;const i=a.l10n.t("Open on GitHub");return a.window.showWarningMessage(t,i).then(n=>{n&&n===i&&a.commands.executeCommand("vscode.open",a.Uri.parse(this.html_url))}),!1}async approve(t,e){var i,n,r,s,d,y;let F,W,ie;return this.isActive?(W=(i=t.state.HEAD)==null?void 0:i.commit,F=(r=(n=await this.githubRepository.getPullRequest(this.number))==null?void 0:n.head)==null?void 0:r.sha,ie=a.l10n.t("The remote head of the PR branch has changed. Please pull the latest changes from the remote branch before approving.")):(W=(s=this.head)==null?void 0:s.sha,F=(y=(d=await this.githubRepository.getPullRequest(this.number))==null?void 0:d.head)==null?void 0:y.sha,ie=a.l10n.t("The remote head of the PR branch has changed. Please refresh the pull request before approving.")),!F||F!==W?Promise.reject(ie):(await this.getPendingReviewId()?this.submitReview(xn.Approve,e):this.createReview(xn.Approve,e)).then(de=>(this._telemetry.sendTelemetryEvent("pr.approve"),this._onDidChangeComments.fire(),de))}async requestChanges(t){return(await this.getPendingReviewId()?this.submitReview(xn.RequestChanges,t):this.createReview(xn.RequestChanges,t)).then(i=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),this._onDidChangeComments.fire(),i))}async close(){const{octokit:t,remote:e}=await this.githubRepository.ensure(),i=await t.call(t.api.pulls.update,{owner:e.owner,repo:e.repositoryName,pull_number:this.number,state:"closed"});return this._telemetry.sendTelemetryEvent("pr.close"),Dl(i.data,this.githubRepository)}async createReview(t,e){const{octokit:i,remote:n}=await this.githubRepository.ensure(),{data:r}=await i.call(i.api.pulls.createReview,{owner:n.owner,repo:n.repositoryName,pull_number:this.number,event:t,body:e});return Kv(r,this.githubRepository)}async submitReview(t,e){let i=await this.getPendingReviewId();const{mutate:n,schema:r}=await this.githubRepository.ensure();if(!i&&t===xn.Comment&&(i=await this.startReview()),i){const{data:s}=await n({mutation:r.SubmitReview,variables:{id:i,event:t||xn.Comment,body:e}});this.hasPendingReview=!1,await this.updateDraftModeContext();const d=ng(s.submitPullRequestReview.pullRequestReview,this.githubRepository),y=this._reviewThreadsCache.find(F=>F.comments.length?F.comments[0].pullRequestReviewId===d.id:void 0);return y&&(y.comments=d.comments,y.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[y],removed:[]})),d}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async updateMilestone(t){const{mutate:e,schema:i}=await this.githubRepository.ensure(),n=t==="null"?null:t;try{await e({mutation:i.UpdatePullRequest,variables:{input:{pullRequestId:this.item.graphNodeId,milestoneId:n}}})}catch(r){f.error(r,gn.ID)}}async addAssignees(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.call(e.api.issues.addAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:t})}async getPendingReviewId(){const{query:t,schema:e}=await this.githubRepository.ensure(),i=await this.githubRepository.getAuthenticatedUser();try{const{data:n}=await t({query:e.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:i}});return n.node.reviews.nodes.length>0?n.node.reviews.nodes[0].id:void 0}catch(n){return}}async getViewerLatestReviewCommit(){var t,e;f.debug("Fetch viewers latest review commit",ir.ID);const{query:i,remote:n,schema:r}=await this.githubRepository.ensure();try{const{data:s}=await i({query:r.LatestReviewCommit,variables:{owner:n.owner,name:n.repositoryName,number:this.number}});return s.repository===null&&f.error("Unexpected null repository while getting last review commit",gn.ID),((t=s.repository)==null?void 0:t.pullRequest.viewerLatestReview)?{sha:(e=s.repository)==null?void 0:e.pullRequest.viewerLatestReview.commit.oid}:void 0}catch(s){return}}async deleteReview(){const t=await this.getPendingReviewId(),{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:n}=await e({mutation:i.DeleteReview,variables:{input:{pullRequestReviewId:t}}}),{comments:r,databaseId:s}=n.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:s,deletedReviewComments:r.nodes.map(d=>Hs(d,!1,this.githubRepository))}}async startReview(t){var e;const{mutate:i,schema:n}=await this.githubRepository.ensure(),{data:r}=await i({mutation:n.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:t||((e=this.head)==null?void 0:e.sha)}}});if(!r)throw new Error("Failed to start review");return this.hasPendingReview=!0,this._onDidChangeComments.fire(),r.addPullRequestReview.pullRequestReview.id}async createReviewThread(t,e,i,n,r,s){if(!this.validatePullRequestModel("Creating comment failed"))return;const d=await this.getPendingReviewId(),{mutate:y,schema:F}=await this.githubRepository.ensure(),{data:W}=await y({mutation:F.AddReviewThread,variables:{input:{path:e,body:t,pullRequestId:this.graphNodeId,pullRequestReviewId:d,startLine:i===n?void 0:i,line:n===void 0?0:n,side:r,subjectType:i===void 0||n===void 0?vt.FILE:vt.LINE}}},{mutation:F.LegacyAddReviewThread,deleteProps:["subjectType"]});if(!W)throw new Error("Creating review thread failed.");if(!W.addPullRequestReviewThread.thread)throw new Error("File has been deleted.");s||(this.hasPendingReview=!0,await this.updateDraftModeContext());const ie=W.addPullRequestReviewThread.thread,le=Il(ie,this.githubRepository);return this._reviewThreadsCache.push(le),this._onDidChangeReviewThreads.fire({added:[le],changed:[],removed:[]}),le}async createCommentReply(t,e,i,n){var r;if(!this.validatePullRequestModel("Creating comment failed"))return;let s=await this.getPendingReviewId();s||(s=await this.startReview(n));const{mutate:d,schema:y}=await this.githubRepository.ensure(),{data:F}=await d({mutation:y.AddComment,variables:{input:{pullRequestReviewId:s,body:t,inReplyTo:e,commitOID:n||((r=this.head)==null?void 0:r.sha)}}});if(!F)throw new Error("Creating comment reply failed.");const{comment:W}=F.addPullRequestReviewComment,ie=Hs(W,!1,this.githubRepository);i&&(ie.isDraft=!1);const le=this._reviewThreadsCache.find(de=>de.comments.some(ke=>ke.graphNodeId===e));return le&&(le.comments.push(ie),this._onDidChangeReviewThreads.fire({added:[],changed:[le],removed:[]})),ie}async validateDraftMode(){const t=!!await this.getPendingReviewId();return t!==this.hasPendingReview&&(this.hasPendingReview=t),await this.updateDraftModeContext(),t}async updateDraftModeContext(){this.isActive&&await a.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(t,e){const{mutate:i,schema:n}=await this.githubRepository.ensure();let r=this._reviewThreadsCache.find(y=>y.comments.some(F=>F.graphNodeId===t.graphNodeId));if(!r)return this.editIssueComment(t,e);const{data:s}=await i({mutation:n.EditComment,variables:{input:{pullRequestReviewCommentId:t.graphNodeId,body:e}}});if(!s)throw new Error("Editing review comment failed.");const d=Hs(s.updatePullRequestReviewComment.pullRequestReviewComment,!!t.isResolved,this.githubRepository);if(r){const y=r.comments.findIndex(F=>F.graphNodeId===t.graphNodeId);r.comments.splice(y,1,d),this._onDidChangeReviewThreads.fire({added:[],changed:[r],removed:[]})}return d}async deleteReviewComment(t){try{const{octokit:e,remote:i}=await this.githubRepository.ensure(),n=Number(t),r=this._reviewThreadsCache.findIndex(s=>s.comments.some(d=>d.id===n));if(r===-1)this.deleteIssueComment(t);else if(await e.call(e.api.pulls.deleteReviewComment,{owner:i.owner,repo:i.repositoryName,comment_id:n}),r>-1){const s=this._reviewThreadsCache[r],d=s.comments.findIndex(y=>y.id===n);s.comments.splice(d,1),s.comments.length===0?(this._reviewThreadsCache.splice(r,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[s]})):this._onDidChangeReviewThreads.fire({added:[],changed:[s],removed:[]})}}catch(e){throw new Error($(e))}}async getFileContent(t,e,i){var n;f.debug("Fetch file content - enter",Mr.ID);const{query:r,remote:s,schema:d}=await this.githubRepository.ensure(),{data:y}=await r({query:d.GetFileContent,variables:{owner:t,name:s.repositoryName,expression:`${e}:${i}`}});if(!!((n=y.repository)==null?void 0:n.object.text))return f.debug("Fetch file content - end",Mr.ID),y.repository.object.text}async compareBaseBranchForMerge(t,e,i,n){var r,s,d;const{octokit:y,remote:F}=await this.githubRepository.ensure(),W=await y.call(y.api.repos.compareCommits,{repo:F.repositoryName,owner:t,base:`${t}:${e}`,head:`${i}:${n}`});return(d=(s=(r=W==null?void 0:W.data)==null?void 0:r.files)==null?void 0:s.filter(ie=>ie!==void 0))!=null?d:[]}async getUpdateBranchFiles(t,e,i){if(this.item.mergeable===Xi.Conflict&&(!i.resolvedConflicts||i.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");const{octokit:n}=await this.githubRepository.ensure(),r=await this.compareBaseBranchForMerge(i.prHeadOwner,i.prHeadBranchName,i.prBaseOwner,t),s=(await n.call(n.api.repos.getCommit,{owner:i.prBaseOwner,repo:i.repositoryName,ref:t})).data.commit.tree.sha,d=await n.call(n.api.git.getTree,{owner:i.prBaseOwner,repo:i.repositoryName,tree_sha:s,recursive:"true"});return(await Promise.all(r.map(async F=>{var W,ie,le,de;if(!F)return;const ke=d.data.tree.find(lt=>lt.path===F.filename),Ie=(W=ke==null?void 0:ke.mode)!=null?W:"100644",ye=(await n.call(n.api.git.getTree,{owner:i.prHeadOwner,repo:i.repositoryName,tree_sha:e,recursive:"true"})).data.tree.find(lt=>lt.path===F.filename),Te=(ie=ye==null?void 0:ye.mode)!=null?ie:"100644";if(F.status==="removed")return{path:F.filename,sha:null,mode:(le=ye==null?void 0:ye.mode)!=null?le:"100644"};const Fe={path:F.filename,mode:Ie},qe=i.resolvedConflicts.get(F.filename);if((qe==null?void 0:qe.resolvedContents)!==void 0){if(F.status!=="modified")throw new Error(`Only modified file are supported for conflict resolution ${F.filename}: ${F.status}`);if(Ie!==Te)throw new Error(`Conflict resolution not supported for file with different modes ${F.filename}: ${Ie} -> ${Te}`);if(F.previous_filename)throw new Error("Conflict resolution not supported for renamed files");return Fe.content=qe.resolvedContents,Fe}if((!F.previous_filename||!this._fileChanges.has(F.previous_filename))&&!this._fileChanges.has(F.filename))return Fe.sha=F.sha,Fe;const{data:He}=await n.call(n.api.repos.getContent,{owner:i.prHeadOwner,repo:i.repositoryName,path:(de=F==null?void 0:F.previous_filename)!=null?de:F.filename,ref:i.prHeadBranchName});if(F.status==="modified"&&F.patch&&He.content){const lt=Wn.Buffer.from(He.content,"base64"),mt=new TextDecoder().decode(lt);Fe.content=Be(mt,F.patch)}else throw f.error(`File ${F.filename} has status ${F.status} and can't be merged.`,Mr.ID),new Error(`File ${F.filename} has status ${F.status} and can't be merged,`);return Fe}))).filter(F=>F!==void 0)}async getLatestBaseCommitSha(){if(!this.base)throw new Error("Base branch not yet set.");const{octokit:e,remote:i}=await this.githubRepository.ensure();return(await e.call(e.api.repos.getBranch,{owner:i.owner,repo:i.repositoryName,branch:this.base.ref})).data.commit.sha}async updateBranch(t){if(this.item.mergeable===Xi.Conflict&&(!t.resolvedConflicts||t.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");f.debug(`Updating branch ${t.prHeadBranchName} to ${t.prBaseBranchName} - enter`,Mr.ID);try{const{octokit:e}=await this.githubRepository.ensure(),i=(await e.call(e.api.repos.getBranch,{owner:t.prHeadOwner,repo:t.repositoryName,branch:t.prHeadBranchName})).data.commit.sha,n=(await e.call(e.api.repos.getCommit,{owner:t.prHeadOwner,repo:t.repositoryName,ref:i})).data.commit.tree.sha,r=await this.getUpdateBranchFiles(t.latestPrBaseSha,n,t),s=(await e.call(e.api.git.createTree,{owner:t.prHeadOwner,repo:t.repositoryName,base_tree:n,tree:r})).data.sha;let d;t.prBaseOwner===t.prHeadOwner?d=`Merge branch \`${t.prBaseBranchName}\` into ${t.prHeadBranchName}`:d=`Merge branch \`${t.prBaseOwner}:${t.prBaseBranchName}\` into ${t.prHeadBranchName}`;const y=(await e.call(e.api.git.createCommit,{owner:t.prHeadOwner,repo:t.repositoryName,message:d,tree:s,parents:[i,t.latestPrBaseSha]})).data.sha;await e.call(e.api.git.updateRef,{owner:t.prHeadOwner,repo:t.repositoryName,ref:`heads/${t.prHeadBranchName}`,sha:y})}catch(e){return f.error(`Updating branch ${t.prHeadBranchName} to ${t.prBaseBranchName} failed: ${e}`,Mr.ID),!1}return f.debug(`Updating branch ${t.prHeadBranchName} to ${t.prBaseBranchName} - done`,Mr.ID),!0}async getReviewRequests(){f.debug("Get Review Requests - enter",gn.ID);const t=this.githubRepository,{remote:e,query:i,schema:n}=await t.ensure(),{data:r}=await i({query:this.credentialStore.isAuthenticatedWithAdditionalScopes(t.remote.authProviderId)?n.GetReviewRequestsAdditionalScopes:n.GetReviewRequests,variables:{number:this.number,owner:e.owner,name:e.repositoryName}});if(r.repository===null)return f.error("Unexpected null repository while getting review requests",gn.ID),[];const s=Jv(r,e);return f.debug("Get Review Requests - done",gn.ID),s}async requestReview(t,e){const{mutate:i,schema:n}=await this.githubRepository.ensure();await i({mutation:n.AddReviewers,variables:{input:{pullRequestId:this.graphNodeId,teamIds:e,userIds:t}}})}async deleteReviewRequest(t,e){const{octokit:i,remote:n}=await this.githubRepository.ensure();await i.call(i.api.pulls.removeRequestedReviewers,{owner:n.owner,repo:n.repositoryName,pull_number:this.number,reviewers:t,team_reviewers:e})}async deleteAssignees(t){const{octokit:e,remote:i}=await this.githubRepository.ensure();await e.call(e.api.issues.removeAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:t})}diffThreads(t,e){const i=[],n=[],r=[];e.forEach(s=>{const d=t.find(y=>y.id===s.id);d?jr()(s,d)||n.push(s):i.push(s)}),t.forEach(s=>{e.find(d=>d.id===s.id)||r.push(s)}),this._onDidChangeReviewThreads.fire({added:i,changed:n,removed:r})}async initializeReviewThreadCacheAndReviewComments(){const{remote:t}=await this.githubRepository.ensure(),e=await this.getRawReviewComments();this.setReviewThreadCacheFromRaw(e),this.comments=e.map(i=>i.comments.nodes.map(n=>Hs(n,i.isResolved,this.githubRepository),t)).reduce((i,n)=>i.concat(n),[]).sort((i,n)=>i.createdAt>n.createdAt?1:-1)}setReviewThreadCacheFromRaw(t){const e=t.map(n=>Il(n,this.githubRepository)),i=this._reviewThreadsCache;return this._reviewThreadsCache=e,this.diffThreads(i,e),e}async getRawReviewComments(){const{remote:t,query:e,schema:i}=await this.githubRepository.ensure();let n=null,r=!1;const s=[];try{do{const{data:d}=await e({query:i.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number,after:n}},!1,{query:i.LegacyPullRequestComments});s.push(...d.repository.pullRequest.reviewThreads.nodes),r=d.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,n=d.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(r&&s.length<1e3);return s}catch(d){return f.error(`Failed to get pull request review comments: ${d}`,gn.ID),[]}}async getReviewThreads(){const t=await this.getRawReviewComments();return this.setReviewThreadCacheFromRaw(t)}async getCommits(){try{f.debug(`Fetch commits of PR #${this.number} - enter`,gn.ID);const{remote:t,octokit:e}=await this.githubRepository.ensure(),i=await rc(e.api.pulls.listCommits,{pull_number:this.number,owner:t.owner,repo:t.repositoryName});return f.debug(`Fetch commits of PR #${this.number} - done`,gn.ID),i}catch(t){return a.window.showErrorMessage(`Fetching commits failed: ${$(t)}`),[]}}async getCommitChangedFiles(t){var e;try{f.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - enter`,gn.ID);const{octokit:i,remote:n}=await this.githubRepository.ensure(),r=await i.call(i.api.repos.getCommit,{owner:n.owner,repo:n.repositoryName,ref:t.sha});return f.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - done`,gn.ID),(e=r.data.files)!=null?e:[]}catch(i){return a.window.showErrorMessage(`Fetching commit file changes failed: ${$(i)}`),[]}}async getTimelineEvents(){var t;f.debug(`Fetch timeline events of PR #${this.number} - enter`,gn.ID);const{query:e,remote:i,schema:n}=await this.githubRepository.ensure();try{const[{data:r},s,d,y]=await Promise.all([e({query:n.TimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:this.number}}),this.getViewerLatestReviewCommit(),this.githubRepository.getAuthenticatedUser(),this.getReviewThreads()]);r.repository===null&&f.error("Unexpected null repository when fetching timeline",gn.ID);const F=(t=r.repository)==null?void 0:t.pullRequest.timelineItems.nodes,W=F?nc(F,this.githubRepository):[];return this.addReviewTimelineEventComments(W,y),ug(W,s==null?void 0:s.sha,d,this.head),f.debug(`Fetch timeline events of PR #${this.number} - done`,gn.ID),W}catch(r){return f.error(`Failed to get pull request timeline events: ${r}`,gn.ID),console.log(r),[]}}addReviewTimelineEventComments(t,e){const i=t.filter(W=>W.event===Zi.Reviewed),n=e.reduce((W,ie)=>W.concat(ie.comments),[]),r=i.reduce((W,ie)=>(W[ie.id]=ie,ie.comments=[],W),{}),s=n.reduce((W,ie)=>(W[ie.id]=ie,W),{}),d=[];let y=n.length;for(;y-- >0;){const W=n[y];if(!W.inReplyToId){d.unshift(W);continue}const ie=s[W.inReplyToId];ie.childComments=ie.childComments||[],ie.childComments=[W,...W.childComments||[],...ie.childComments]}d.forEach(W=>{const ie=r[W.pullRequestReviewId];ie&&(ie.comments=ie.comments.concat(W).concat(W.childComments||[]))}),e.forEach(W=>{if(!W.prReviewDatabaseId||!r[W.prReviewDatabaseId])return;const ie=r[W.prReviewDatabaseId];ie.reviewThread={threadId:W.id,canResolve:W.viewerCanResolve,canUnresolve:W.viewerCanUnresolve,isResolved:W.isResolved}});const F=i.filter(W=>{var ie;return((ie=W.state)==null?void 0:ie.toLowerCase())==="pending"})[0];F&&(F.comments=n.filter(W=>W.isDraft))}async getStatusChecks(){return this.githubRepository.getStatusChecks(this.number)}static async openChanges(t,e){var i;const n=((i=t.activePullRequest)==null?void 0:i.number)===e.number,r=e.fileChanges.size>0?e.fileChanges.values():await e.getFileChangesInfo(),s=[];for(const d of r){let y;d instanceof fi?y=new js(t,d,e):y=new ps(t,e,d,n,e.mergeBase),s.push([y.filePath,y.parentFilePath,y.filePath])}return t.telemetry.sendTelemetryEvent("pr.openChanges"),a.commands.executeCommand("vscode.changes",a.l10n.t("Changes in Pull Request #{0}",e.number),s)}static async openDiffFromComment(t,e,i){const r=(await e.getFileChangesInfo()).find(y=>y.fileName===i.path||y.previousFileName===i.path);if(!r)throw new Error("Can't find matching file");const s=i.path.split("/"),d=i.diffHunks&&i.diffHunks.length>0?i.diffHunks[0].newLineNumber:void 0;this.openDiff(t,e,r,s[s.length-1],d)}static async openFirstDiff(t,e){const i=await e.getFileChangesInfo();if(!i.length)return;const n=i[0];this.openDiff(t,e,n,n.fileName)}static async openDiff(t,e,i,n,r){let s,d;if(e.equals(t.activePullRequest)){const y=a.Uri.file(m.resolve(t.repository.rootUri.fsPath,i.fileName));s=i.status===nt.DELETE?Jr(y,void 0,void 0,"",!1,{base:!1},t.repository.rootUri):y;const F=e.mergeBase||e.base.sha;d=Jr(y,i.status===nt.RENAME?i.previousFileName:i.fileName,void 0,i.status===nt.ADD?"":F,!1,{base:!0},t.repository.rootUri)}else{const y=e.head.sha,F=i.status===nt.RENAME?i.previousFileName:i.fileName;s=xa(a.Uri.file(zs(t.repository.rootUri,i.fileName)),e,i.baseCommit,y,i.fileName,!1,i.status,i.previousFileName),d=xa(a.Uri.file(zs(t.repository.rootUri,F)),e,i.baseCommit,y,i.fileName,!0,i.status,i.previousFileName)}a.commands.executeCommand("vscode.diff",d,s,`${n} (Pull Request)`,r?{selection:{start:{line:r,character:0},end:{line:r,character:0}}}:{})}get fileChanges(){return this._fileChanges}async getFileChangesInfo(){this._fileChanges.clear();const t=await this.getRawFileChangesInfo(),e=this.mergeBase||this.base.sha,i=await Qe(t,e);return i.forEach(n=>{this._fileChanges.set(n.fileName,n)}),i}async getRawFileChangesInfo(){var t;f.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,gn.ID);const e=this.githubRepository,{octokit:i,remote:n}=await e.ensure();if(!this.base){const ie=await i.call(i.api.pulls.get,{owner:n.owner,repo:n.repositoryName,pull_number:this.number});this.update(Dl(ie.data,e))}let r=this.base.sha;const s=await this.getViewerLatestReviewCommit(),d=this.hasChangesSinceLastReview;if(this.hasChangesSinceLastReview=s!==void 0&&((t=this.head)==null?void 0:t.sha)!==s.sha,this._showChangesSinceReview&&this.hasChangesSinceLastReview&&s!=null&&(r=s.sha),this.item.merged){const ie=await rc(i.api.pulls.listFiles,{repo:n.repositoryName,owner:n.owner,pull_number:this.number});return this.mergeBase=this.base.sha,ie}const{data:y}=await i.call(i.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${this.base.repositoryCloneUrl.owner}:${r}`,head:`${this.head.repositoryCloneUrl.owner}:${this.head.sha}`});this.mergeBase=y.merge_base_commit.sha;const F=100;let W=[];return y.files&&y.files.length>=F?(f.debug(`More than ${F} files changed, fetching all file changes of PR #${this.number}`,gn.ID),W=await rc(i.api.pulls.listFiles,{owner:this.base.repositoryCloneUrl.owner,pull_number:this.number,repo:n.repositoryName})):W=y.files?y.files:[],d!==void 0&&d!==this.hasChangesSinceLastReview&&this.hasChangesSinceLastReview&&this._showChangesSinceReview&&this._onDidChangeChangesSinceReview.fire(),f.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${W.length} `,gn.ID),W}get autoMerge(){return!!this.item.autoMerge}get autoMergeMethod(){return this.item.autoMergeMethod}get allowAutoMerge(){return!!this.item.allowAutoMerge}get mergeCommitMeta(){return this.item.mergeCommitMeta}get squashCommitMeta(){return this.item.squashCommitMeta}get hasComments(){return this._hasComments}async getMergeability(){var t,e,i,n,r,s;try{f.debug(`Fetch pull request mergeability ${this.number} - enter`,gn.ID);const{query:d,remote:y,schema:F}=await this.githubRepository.ensure(),{data:W}=((t=await this.credentialStore.getCurrentUser(this.remote.authProviderId))==null?void 0:t.login)==="alexr00"?await d({query:F.PullRequestMergeabilityMergeRequirements,variables:{owner:y.owner,name:y.repositoryName,number:this.number},context:{headers:{"GraphQL-Features":"pull_request_merge_requirements_api"}}}):await d({query:F.PullRequestMergeability,variables:{owner:y.owner,name:y.repositoryName,number:this.number}});W.repository===null&&f.error("Unexpected null repository while getting mergeability",gn.ID),f.debug(`Fetch pull request mergeability ${this.number} - done`,gn.ID);const ie=ic((e=W.repository)==null?void 0:e.pullRequest.mergeable,(i=W.repository)==null?void 0:i.pullRequest.mergeStateStatus);return this.item.mergeable=ie,this.conflicts=(s=(r=(n=W.repository)==null?void 0:n.pullRequest.mergeRequirements)==null?void 0:r.conditions.find(le=>le.__typename==="PullRequestMergeConflictStateCondition"))==null?void 0:s.conflicts,this.update(this.item),{mergeability:ie,conflicts:this.conflicts}}catch(d){return f.error(`Unable to fetch PR Mergeability: ${d}`,gn.ID),{mergeability:Xi.Unknown}}}async setReadyForReview(){try{const{mutate:t,schema:e}=await this.githubRepository.ensure(),{data:i}=await t({mutation:e.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.readyForReview.success");const n={isDraft:i.markPullRequestReadyForReview.pullRequest.isDraft,mergeable:ic(i.markPullRequestReadyForReview.pullRequest.mergeable,i.markPullRequestReadyForReview.pullRequest.mergeStateStatus),allowAutoMerge:i.markPullRequestReadyForReview.pullRequest.viewerCanEnableAutoMerge||i.markPullRequestReadyForReview.pullRequest.viewerCanDisableAutoMerge};return this.item.isDraft=n.isDraft,this.item.mergeable=n.mergeable,this.item.allowAutoMerge=n.allowAutoMerge,n}catch(t){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),t}}updateCommentReactions(t,e){const i=this._reviewThreadsCache.find(n=>n.comments.some(r=>r.graphNodeId===t));if(i){const n=i.comments.find(r=>r.graphNodeId===t);n&&(n.reactions=Tf(e),this._onDidChangeReviewThreads.fire({added:[],changed:[i],removed:[]}))}}async addCommentReaction(t,e){const i=Fl().reduce((y,F)=>(y[F.label]=F.title,y),{}),{mutate:n,schema:r}=await this.githubRepository.ensure(),{data:s}=await n({mutation:r.AddReaction,variables:{input:{subjectId:t,content:i[e.label]}}});if(!s)throw new Error("Add comment reaction failed.");const d=s.addReaction.subject.reactionGroups;return this.updateCommentReactions(t,d),s}async deleteCommentReaction(t,e){const i=Fl().reduce((y,F)=>(y[F.label]=F.title,y),{}),{mutate:n,schema:r}=await this.githubRepository.ensure(),{data:s}=await n({mutation:r.DeleteReaction,variables:{input:{subjectId:t,content:i[e.label]}}});if(!s)throw new Error("Delete comment reaction failed.");const d=s.removeReaction.subject.reactionGroups;return this.updateCommentReactions(t,d),s}undoOptimisticResolveState(t){t&&(t.isResolved=!t.isResolved,t.viewerCanResolve=!t.viewerCanResolve,t.viewerCanUnresolve=!t.viewerCanUnresolve,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}))}async resolveReviewThread(t){const e=this._reviewThreadsCache.find(i=>i.id===t);try{f.debug("Resolve review thread - enter",gn.ID);const{mutate:i,schema:n}=await this.githubRepository.ensure();e&&e.viewerCanResolve&&(e.isResolved=!0,e.viewerCanResolve=!1,e.viewerCanUnresolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}));const{data:r}=await i({mutation:n.ResolveReviewThread,variables:{input:{threadId:t}}},{mutation:n.LegacyResolveReviewThread,deleteProps:[]});if(!r)throw this.undoOptimisticResolveState(e),new Error("Resolve review thread failed.");const s=this._reviewThreadsCache.findIndex(d=>d.id===t);if(s>-1){const d=Il(r.resolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(s,1,d),this._onDidChangeReviewThreads.fire({added:[],changed:[d],removed:[]})}f.debug("Resolve review thread - done",gn.ID)}catch(i){f.error(`Resolve review thread failed: ${i}`,gn.ID),this.undoOptimisticResolveState(e)}}async unresolveReviewThread(t){const e=this._reviewThreadsCache.find(i=>i.id===t);try{f.debug("Unresolve review thread - enter",gn.ID);const{mutate:i,schema:n}=await this.githubRepository.ensure();e&&e.viewerCanUnresolve&&(e.isResolved=!1,e.viewerCanUnresolve=!1,e.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}));const{data:r}=await i({mutation:n.UnresolveReviewThread,variables:{input:{threadId:t}}},{mutation:n.LegacyUnresolveReviewThread,deleteProps:[]});if(!r)throw this.undoOptimisticResolveState(e),new Error("Unresolve review thread failed.");const s=this._reviewThreadsCache.findIndex(d=>d.id===t);if(s>-1){const d=Il(r.unresolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(s,1,d),this._onDidChangeReviewThreads.fire({added:[],changed:[d],removed:[]})}f.debug("Unresolve review thread - done",gn.ID)}catch(i){f.error(`Unresolve review thread failed: ${i}`,gn.ID),this.undoOptimisticResolveState(e)}}async enableAutoMerge(t){try{const{mutate:e,schema:i}=await this.githubRepository.ensure(),{data:n}=await e({mutation:i.EnablePullRequestAutoMerge,variables:{input:{mergeMethod:t.toUpperCase(),pullRequestId:this.graphNodeId}}});if(!n)throw new Error("Enable auto-merge failed.");this.item.autoMerge=!0,this.item.autoMergeMethod=t}catch(e){if(e.message==='GraphQL error: ["Pull request Pull request is in clean status"]')a.window.showWarningMessage(a.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw e}}async disableAutoMerge(){try{const{mutate:t,schema:e}=await this.githubRepository.ensure(),{data:i}=await t({mutation:e.DisablePullRequestAutoMerge,variables:{input:{pullRequestId:this.graphNodeId}}});if(!i)throw new Error("Disable auto-merge failed.");this.item.autoMerge=!1}catch(t){if(t.message==='GraphQL error: ["Pull request Pull request is in clean status"]')a.window.showWarningMessage(a.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw t}}async dequeuePullRequest(){f.debug(`Dequeue pull request ${this.number} - enter`,Mr.ID);const{mutate:t,schema:e}=await this.githubRepository.ensure();if(!e.DequeuePullRequest)return!1;try{return await t({mutation:e.DequeuePullRequest,variables:{input:{id:this.graphNodeId}}}),f.debug(`Dequeue pull request ${this.number} - done`,Mr.ID),this.mergeQueueEntry=void 0,!0}catch(i){return f.error(`Dequeueing pull request failed: ${i}`,Mr.ID),!1}}async enqueuePullRequest(){var t;f.debug(`Enqueue pull request ${this.number} - enter`,Mr.ID);const{mutate:e,schema:i}=await this.githubRepository.ensure();if(!!i.EnqueuePullRequest)try{const{data:n}=await e({mutation:i.EnqueuePullRequest,variables:{input:{pullRequestId:this.graphNodeId}}});return f.debug(`Enqueue pull request ${this.number} - done`,Mr.ID),(t=Pf(n==null?void 0:n.enqueuePullRequest.mergeQueueEntry))!=null?t:void 0}catch(n){f.error(`Enqueuing pull request failed: ${n}`,Mr.ID)}}async initializePullRequestFileViewState(){const{query:t,schema:e,remote:i}=await this.githubRepository.ensure(),n=[];let r=null,s=!1;do{const{data:d}=await t({query:e.PullRequestFiles,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:r}});d.repository.pullRequest.files.nodes.forEach(y=>{this._fileChangeViewedState[y.path]!==y.viewerViewedState&&n.push({fileName:y.path,viewed:y.viewerViewedState}),this.setFileViewedState(y.path,y.viewerViewedState,!1)}),s=d.repository.pullRequest.files.pageInfo.hasNextPage,r=d.repository.pullRequest.files.pageInfo.endCursor}while(s);n.length&&this._onDidChangeFileViewedState.fire({changed:n})}updateMarkFilesInProgressRefCount(t,e){const i=[];for(const n of t){let r=this.markFilesInProgressRefCount.get(n)||0;e==="increment"?r++:r--,r===0?(this.markFilesInProgressRefCount.delete(n),i.push(n)):this.markFilesInProgressRefCount.set(n,r)}return i}async markFiles(t,e,i){const n=t.map(F=>C(this.githubRepository.rootUri.path,F,"/")?F.substring(this.githubRepository.rootUri.path.length+1):F);this.updateMarkFilesInProgressRefCount(n,"increment");const{mutate:r}=await this.githubRepository.ensure(),s=this.graphNodeId,d=i==="viewed"?"markFileAsViewed":"unmarkFileAsViewed";for(let F=0;F<n.length;F+=Gf){const W=n.slice(F,F+Gf),ie=lr()`mutation Batch${d}{
				${W.map((le,de)=>`alias${de}: ${d}(
						input: {path: "${le}", pullRequestId: "${s}"}
					) { clientMutationId }
					`)}
			}`;await r({mutation:ie})}this.updateMarkFilesInProgressRefCount(n,"decrement").forEach(F=>this.setFileViewedState(F,i==="viewed"?ht.VIEWED:ht.UNVIEWED,e))}async unmarkAllFilesAsViewed(){return this.markFiles(Array.from(this.fileChanges.keys()),!0,"unviewed")}setFileViewedState(t,e,i){const n=a.Uri.joinPath(this.githubRepository.rootUri,t),r=this.githubRepository.rootUri.scheme===oi.VscodeVfs?n.path:n.fsPath;switch(e){case ht.DISMISSED:{this._viewedFiles.delete(r),this._unviewedFiles.delete(r);break}case ht.UNVIEWED:{this._viewedFiles.delete(r),this._unviewedFiles.add(r);break}case ht.VIEWED:this._viewedFiles.add(r),this._unviewedFiles.delete(r)}this._fileChangeViewedState[t]=e,i&&this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:e}]})}getViewedFileStates(){return{viewed:this._viewedFiles,unviewed:this._unviewedFiles}}};let rr=gn;nn(rr,"ID","PullRequestModel");var wg=Object.defineProperty,dc=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?wg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);let ba;class Bl extends a.Disposable{constructor(e){super(()=>this.disposables.forEach(i=>i.dispose()));this._storageUri=e,dc(this,"SUBPATH","temp"),dc(this,"disposables",[]),dc(this,"persistInSessionDisposables",[])}get path(){return a.Uri.joinPath(this._storageUri,this.SUBPATH)}dispose(){j(this.disposables),j(this.persistInSessionDisposables)}addDisposable(e,i){if(i)this.persistInSessionDisposables.push(e);else{if(this.disposables.length>30){const n=this.disposables.shift();n==null||n.dispose()}this.disposables.push(e)}}async writeState(e,i,n,r){let s=this.path;const d=a.workspace.workspaceFolders&&a.workspace.workspaceFolders.length>0?a.workspace.workspaceFolders[0].name:void 0;d&&(s=a.Uri.joinPath(s,d)),e&&(s=a.Uri.joinPath(s,e)),await a.workspace.fs.createDirectory(s);const y=a.Uri.joinPath(s,i);await a.workspace.fs.writeFile(y,n);const F={dispose:()=>{try{return a.workspace.fs.delete(y,{recursive:!0})}catch(W){}}};return this.addDisposable(F,r),y}async readState(e,i){let n=this.path;const r=a.workspace.workspaceFolders&&a.workspace.workspaceFolders.length>0?a.workspace.workspaceFolders[0].name:void 0;r&&(n=a.Uri.joinPath(n,r)),n=a.Uri.joinPath(n,e);const s=a.Uri.joinPath(n,i);return a.workspace.fs.readFile(s)}static async init(e){if(e.globalStorageUri&&!ba){ba=new Bl(e.globalStorageUri);try{await a.workspace.fs.delete(ba.path,{recursive:!0})}catch(i){f.appendLine(`TemporaryState> Error in initialization: ${i.message}`)}try{await a.workspace.fs.createDirectory(ba.path)}catch(i){f.appendLine(`TemporaryState> Error in initialization: ${i.message}`)}return e.subscriptions.push(ba),ba}}static async write(e,i,n,r=!1){if(!!ba)return ba.writeState(e,i,n,r)}static async read(e,i){if(!!ba)return ba.readState(e,i)}}function sa(t){return JSON.parse(t)}function Hn(t){try{return JSON.parse(t.query)}catch(e){}}function Vf(t){try{return JSON.parse(t.query)}catch(e){}}function jf(t){try{return JSON.parse(t.query)}catch(e){}}function Wa(t,e,i){return t.with({scheme:e,query:JSON.stringify(i)})}const _g=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],zf=[".aac",".avi",".bmp",".flv",".gif",".ico",".jpe",".jpeg",".jpg",".m1v",".m2a",".m2v",".m3a",".mid",".midi",".mk3d",".mks",".mkv",".mov",".movie",".mp2",".mp2a",".mp3",".mp4",".mp4a",".mp4v",".mpe",".mpeg",".mpg",".mpg4",".mpga",".oga",".ogg",".opus",".ogv",".png",".psd",".qt",".spx",".svg",".tga",".tif",".tiff",".wav",".webm",".webp",".wma",".wmv",".woff"],Wf=a.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function fc(t,e){try{const{commit:i,baseCommit:n,headCommit:r,isBase:s,path:d}=JSON.parse(t.query),y=m.extname(d);if(!zf.includes(y))return;const F=t.scheme===oi.Review?i:s?n:r,W=m.join(e.rootUri.fsPath,d).replace(/\\/g,"/"),{object:ie}=await e.getObjectDetails(F,W),{mimetype:le}=await e.detectObjectType(ie);if(le==="text/plain")return;if(_g.indexOf(le)>-1){const de=await e.buffer(F,W);return Bl.write(m.dirname(d),m.basename(d),de)}}catch(i){return}}var Ka;(function(t){const e="userIcons";function i(ie){return`${Sr(ie)}.jpg`}function n(ie){return a.Uri.joinPath(ie.globalStorageUri,e)}function r(ie,le){return a.Uri.joinPath(n(ie),i(le))}function s(ie){return a.Uri.joinPath(n(ie),"cache.log")}async function d(ie,le,de){await a.workspace.fs.createDirectory(n(ie));const ke=r(ie,le);return await a.workspace.fs.writeFile(ke,de),ke}async function y(ie,le){try{const de=r(ie,le);return a.workspace.fs.readFile(de)}catch(de){return}}function F(ie){return a.Uri.parse(`data:image/svg+xml;size:${ie.byteLength};base64,${ie.toString("base64")}`)}t.asImageDataURI=F;async function W(ie,le,de,ke,Ie){let oe;const ye=s(ie);try{const He=await a.workspace.fs.readFile(ye);oe=JSON.parse(He.toString())}catch(He){oe=[]}const Te=oe.length,Fe=await Promise.all(le.map(async He=>{const lt=He.avatarUrl;if(lt===void 0)return;let mt,Pt=!1;try{const Sn=await y(ie,He);if(!Sn)throw new Error("Temporary state not initialized");mt=Wn.Buffer.from(Sn)}catch(Sn){if(Ie)return;Pt=!0;const Mn=async()=>{const Ss=await(await Un()(lt.toString())).arrayBuffer();await d(ie,He,new Uint8Array(Ss)),mt=Wn.Buffer.from(Ss)};try{await Mn()}catch(ul){await Mn()}}if(!mt)return;if(Pt){const Sn=i(He);oe.push(Sn)}const Ct=`data:image/jpeg;size:${mt.byteLength};base64,${mt.toString("base64")}`,ui=`<svg width="${ke}" height="${de}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<image href="${Ct}" width="${ke}" height="${de}" style="clip-path: inset(0 0 0 0 round 50%);"/>
		</svg>`,Di=Wn.Buffer.from(ui);return F(Di)})),qe=Math.max(le.length,200);if(oe.length>Te&&Te>0&&oe.length>qe){const He=oe.splice(0,50);await Promise.all(He.map(async lt=>{try{await a.workspace.fs.delete(a.Uri.joinPath(n(ie),lt))}catch(mt){f.error(`Failed to delete avatar from cache: ${mt}`)}}))}return await a.workspace.fs.writeFile(ye,Wn.Buffer.from(JSON.stringify(oe))),Fe}t.avatarCirclesAsImageDataUris=W})(Ka||(Ka={}));function Jr(t,e,i,n,r,s,d){const y={path:e||t.path,ref:i,commit:n,base:s.base,isOutdated:r,rootPath:d.path};let F=t.path;return s.replaceFileExtension&&(F=`${F}.git`),t.with({scheme:oi.Review,path:F,query:JSON.stringify(y)})}function hc(t,e,i,n,r){const s={prNumber:e,fileName:i,status:n,previousFileName:r};return t.with({scheme:oi.FileChange,query:JSON.stringify(s)})}function Kf(t){try{return t.query?JSON.parse(t.query):void 0}catch(e){}}function xa(t,e,i,n,r,s,d,y){const F={baseCommit:i,headCommit:n,isBase:s,fileName:r,prNumber:e.number,status:d,remoteName:e.githubRepository.remote.remoteName,previousFileName:y},W=t.path;return t.with({scheme:oi.Pr,path:W,query:JSON.stringify(F)})}function Qf(t){let e;return t instanceof rr?e=`${t.remote.url}:${t.number}`:typeof t=="string"?e=t:e=`${t.remote}:${t.prNumber}`,e}function mc(t){const e=Qf(t),i={prIdentifier:e};return a.Uri.parse(`PRNode:${e}`).with({scheme:oi.PRNode,query:JSON.stringify(i)})}function pc(t){return a.Uri.from({scheme:oi.Notification,path:t.key})}function kg(t){if(t.scheme===oi.Notification)try{return{key:t.path}}catch(e){}}var oi;(function(t){t.File="file",t.Review="review",t.Pr="pr",t.PRNode="prnode",t.FileChange="filechange",t.GithubPr="githubpr",t.GitPr="gitpr",t.VscodeVfs="vscode-vfs",t.Comment="comment",t.MergeOutput="merge-output",t.Notification="notification"})(oi||(oi={}));function zs(t,e){return t.scheme===oi.File?m.resolve(t.fsPath,e):m.posix.resolve(t.path,e)}class Sg extends a.EventEmitter{handleUri(e){this.fire(e)}}const Rg=new Sg,Ws="GitHub.vscode-pull-request-github",vc="git",Yf="ghpr",Jf="initialize",Xf="statechange",Ks="github:focusedReview";var Da;(function(t){t.Timestamp="Timestamp",t.Priority="Priority"})(Da||(Da={}));function ql(t){return t.kind==="notification"}function Bo(t){return t===void 0||t===0?0:t-1}function N1(t,e){for(let i=0;i<t.length;i++){const n=t[i];for(let r=0;r<n.diffLines.length;r++)if(n.diffLines[r].positionInHunk===e)return n.diffLines[r]}}function Hl(t,e,i){const n=Ne(t);let r=n.next(),s=0;for(;!r.done;){const d=r.value;if(!(d.oldLineNumber>e))if(d.oldLineNumber+d.oldLength-1<e)s+=d.newLength-d.oldLength;else{if(i===d.newLength)return s+=d.newLength-d.oldLength,e+s;for(const y of d.diffLines){if(y.oldLineNumber>e)return e+s;y.type===Ze.Add?s++:y.type===Ze.Delete&&s--}return e+s}r=n.next()}return e+s}function qo(t,e){const i=Ne(t);let n=i.next(),r=0;for(;!n.done;){const s=n.value;if(!(s.newLineNumber>e))if(s.newLineNumber+s.newLength-1<e)r+=s.oldLength-s.newLength;else{for(const d of s.diffLines){if(d.newLineNumber>e)return e+r;d.type===Ze.Add?r--:d.type===Ze.Delete&&r++}return e+r}n=i.next()}return e+r}function Zf(t,e,i="GetCommentingRanges"){t.length===0&&f.debug("No commenting ranges: File contains no diffs.",i);const n=[];for(let r=0;r<t.length;r++){const s=t[r];let d,y;if(e){let F;for(let W=0;W<s.diffLines.length;W++){const ie=s.diffLines[W];ie.type===Ze.Delete?(d!==void 0||(d=Bo(ie.oldLineNumber)),F=Bo(ie.oldLineNumber)):d!==void 0&&F!==void 0&&(n.push(new a.Range(d,0,F,0)),d=void 0,F=void 0)}d!==void 0&&F!==void 0?(n.push(new a.Range(d,0,F,0)),d=void 0,F=void 0):n.length===0&&f.debug("No commenting ranges: Diff is in base and none of the diff hunks could be added.",i)}else s.newLineNumber?(d=Bo(s.newLineNumber),y=Bo(s.newLength),n.push(new a.Range(d,0,d+y,0))):f.debug("No commenting ranges: Diff is not base and newLineNumber is undefined.",i)}return f.debug(`Found ${n.length} commenting ranges.`,i),n}var Eg=Object.defineProperty,vs=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Eg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class ar{constructor(){vs(this,"children"),vs(this,"childrenDisposables"),vs(this,"parent"),vs(this,"label"),vs(this,"accessibilityInformation"),vs(this,"id")}getParent(){if(this.parent instanceof ar)return this.parent}async reveal(e,i){try{await this.parent.reveal(e||this,i)}catch(n){f.error(n,"TreeNode")}}refresh(e){return this.parent.refresh(e)}async cachedChildren(){return this.children&&this.children.length?this.children:this.getChildren()}async getChildren(e=!0){return this.children&&this.children.length&&e&&(j(this.children),this.children=[]),[]}updateFromCheckboxChanged(e){}dispose(){this.childrenDisposables&&(j(this.childrenDisposables),this.childrenDisposables=[])}}class eh extends ar{constructor(e){super();vs(this,"label",""),this.label=e}getTreeItem(){return new a.TreeItem(this.label)}}var Tg=Object.defineProperty,$r=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Tg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);function $l(t,e={}){const i=a.window.activeTextEditor,n={...e,viewColumn:a.ViewColumn.Active};return i&&i.document.uri.path===t.path&&(n.selection=i.selection),{command:"vscode.open",arguments:[t,n],title:"Open File"}}async function gc(t,e,i,n,r){let s=await fc(e,t.repository)||e,d=await fc(i,t.repository)||i;(s.scheme==="data"||d.scheme==="data")&&(r===nt.ADD&&(s=Wf),r===nt.DELETE&&(d=Wf));const y=i.path.split("/");return{command:"vscode.diff",arguments:[s,d,`${y[y.length-1]} (Pull Request)`,n],title:"Open Changed File in PR"}}class Qs extends ar{constructor(e,i,n,r){super();this.parent=e,this.pullRequestManager=i,this.pullRequest=n,this.changeModel=r,$r(this,"iconPath"),$r(this,"fileChangeResourceUri"),$r(this,"contextValue"),$r(this,"command"),$r(this,"opts"),$r(this,"checkboxState"),$r(this,"childrenDisposables",[]);var s;const d=(s=this.pullRequest.fileChangeViewedState[this.changeModel.fileName])!=null?s:ht.UNVIEWED;this.contextValue=`${oi.FileChange}:${nt[this.changeModel.status]}:${d===ht.VIEWED?"viewed":"unviewed"}`,this.label=m.basename(this.changeModel.fileName),this.iconPath=a.ThemeIcon.File,this.opts={},this.updateShowOptions(),this.fileChangeResourceUri=hc(a.Uri.file(this.changeModel.fileName),this.pullRequest.number,this.changeModel.fileName,this.changeModel.status,this.changeModel.change instanceof pi?this.changeModel.change.previousFileName:void 0),this.updateViewed(d),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(y=>{[...y.added,...y.removed].some(F=>F.path===this.changeModel.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(y=>{const F=y.changed.find(W=>W.fileName===this.changeModel.fileName&&W.viewed!==this.changeModel.viewed);F&&(this.updateViewed(F.viewed),this.refresh(this))})),this.accessibilityInformation={label:`${this.label} pull request diff`,role:"link"}}get status(){return this.changeModel.status}get fileName(){return this.changeModel.fileName}get blobUrl(){return this.changeModel.blobUrl}get sha(){return this.changeModel.sha}get tooltip(){return this.resourceUri.fsPath}get resourceUri(){return this.changeModel.filePath.with({query:this.fileChangeResourceUri.query})}get description(){return a.workspace.getConfiguration(Xe).get(Nt)==="flat"?!0:""}updateViewed(e){var i,n;this.changeModel.updateViewed(e),this.contextValue=`${oi.FileChange}:${nt[this.changeModel.status]}:${e===ht.VIEWED?"viewed":"unviewed"}`,this.checkboxState=e===ht.VIEWED?{state:a.TreeItemCheckboxState.Checked,tooltip:a.l10n.t("Mark File as Unviewed"),accessibilityInformation:{label:a.l10n.t("Mark file {0} as unviewed",(i=this.label)!=null?i:"")}}:{state:a.TreeItemCheckboxState.Unchecked,tooltip:a.l10n.t("Mark File as Viewed"),accessibilityInformation:{label:a.l10n.t("Mark file {0} as viewed",(n=this.label)!=null?n:"")}},this.pullRequestManager.setFileViewedContext()}async markFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"viewed"),this.pullRequestManager.setFileViewedContext()}async unmarkFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"unviewed"),this.pullRequestManager.setFileViewedContext()}updateFromCheckboxChanged(e){const i=e===a.TreeItemCheckboxState.Checked?ht.VIEWED:ht.UNVIEWED;this.updateViewed(i)}updateShowOptions(){var e,i;const n=this.pullRequest.reviewThreadsCache,s=(o(n,d=>d.path)[this.changeModel.fileName]||[]).filter(d=>!d.isOutdated);if(s.length){s.sort((F,W)=>F.endLine-W.endLine);const d=(e=s[0].startLine)!=null?e:s[0].originalStartLine,y=(i=s[0].endLine)!=null?i:s[0].originalEndLine;this.opts.selection=new a.Range(d,0,y,0)}else delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return $l(this.changeModel.filePath)}async openDiff(e,i){var n;const r=await gc(e,this.changeModel.parentFilePath,this.changeModel.filePath,{...this.opts,...i},this.changeModel.status);return a.commands.executeCommand(r.command,...(n=r.arguments)!=null?n:[])}}class bc extends Qs{constructor(e,i,n,r){super(e,i,n,r);this.parent=e,this.fileChangeResourceUri=hc(a.Uri.parse(r.blobUrl),r.pullRequest.number,r.fileName,r.status,r.previousFileName),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]}}get description(){let e=a.workspace.asRelativePath(m.dirname(this.changeModel.fileName),!1);return e==="."&&(e=""),e}async openDiff(){return a.commands.executeCommand(this.command.command)}openFileCommand(){return this.command}}class yc extends Qs{constructor(e,i,n,r){super(i,e,n,r);this.folderRepositoryManager=e,this.parent=i,this.pullRequest=n,this.changeModel=r}get comments(){return this.pullRequest.comments.filter(e=>e.path===this.changeModel.fileName&&e.position!==null)}getTreeItem(){return this}async resolve(){this.status===nt.ADD?this.command=$l(this.changeModel.filePath):this.command=await gc(this.folderRepositoryManager,this.changeModel.parentFilePath,this.changeModel.filePath,void 0,this.changeModel.status)}}class Ys extends Qs{constructor(e,i,n,r,s,d){super(e,i,n,r);this.parent=e,this.pullRequest=n,this.changeModel=r,this.isCurrent=s,this._comments=d,$r(this,"_useViewChangesCommand",!1)}get comments(){return this._comments?this._comments:this.pullRequest.comments.filter(e=>!this.sha||this.sha===this.pullRequest.head.sha?e.position&&e.path===this.changeModel.fileName:e.path===this.changeModel.fileName&&e.originalCommitId===this.sha)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===nt.DELETE||this.status===nt.ADD){const ke=this.changeModel.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===nt.DELETE?[this.changeModel.parentFilePath,ke,`${this.fileName}`,{}]:[ke,this.changeModel.parentFilePath,`${this.fileName}`,{}],title:"Open Diff"}}const{path:e,ref:i,commit:n,rootPath:r}=sa(this.changeModel.filePath.query),s=`${n}^`,d={path:e,ref:i,commit:s,base:!0,isOutdated:!0,rootPath:r},y=this.changeModel.filePath.with({query:JSON.stringify(d)});let F=this.changeModel.filePath;this.isCurrent&&(F=this.pullRequestManager.repository.rootUri.with({path:m.posix.join(d.rootPath,d.path)}));const W={},ie=this.pullRequest.reviewThreadsCache,de=(o(ie,ke=>ke.path)[this.fileName]||[]).filter(ke=>ke.isOutdated).sort((ke,Ie)=>ke.endLine-Ie.endLine);return de.length&&(W.selection=new a.Range(de[0].originalStartLine,0,de[0].originalEndLine,0)),{command:"vscode.diff",arguments:[y,F,`${this.fileName} from ${(n||"").substr(0,8)}`,W],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():a.workspace.getConfiguration(on,this.pullRequestManager.repository.rootUri).get(Si,!0)&&this.status!==nt.ADD?this.command=await gc(this.pullRequestManager,this.changeModel.parentFilePath,this.changeModel.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class Gl extends ar{constructor(e,i,n,r,s,d,y){super();this.parent=e,this.fileName=i,this.previousFileName=n,this.status=r,this.baseBranch=s,this.headBranch=d,this.isLocal=y,$r(this,"description"),$r(this,"iconPath"),$r(this,"fileChangeResourceUri"),$r(this,"tooltip"),$r(this,"command");const F=y?oi.GitPr:oi.GithubPr;this.label=i,this.tooltip=i,this.iconPath=a.ThemeIcon.File,this.fileChangeResourceUri=a.Uri.file(i).with({scheme:F,query:JSON.stringify({status:r,fileName:i})});let W=Wa(a.Uri.file(i),F,{fileName:i,branch:s}),ie=Wa(a.Uri.file(i),F,{fileName:i,branch:d});switch(r){case nt.ADD:W=Wa(a.Uri.file(i),F,{fileName:i,branch:s,isEmpty:!0});break;case nt.RENAME:W=Wa(a.Uri.file(n),F,{fileName:n,branch:s,isEmpty:!0});break;case nt.DELETE:ie=Wa(a.Uri.file(i),F,{fileName:i,branch:d,isEmpty:!0});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[W,ie,`${i} (Pull Request Preview)`]}}get resourceUri(){return a.Uri.file(this.fileName).with({query:this.fileChangeResourceUri.query})}getTreeItem(){return this}}function wc(t){return t.filter(e=>e instanceof Ys)}var Cg=Object.defineProperty,oa=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Cg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Xr=class extends df{constructor(t,e,i,n,r,s){super(e,s);this._reviewManager=t,this._repository=i,this._reviewModel=n,this._gitApi=r,oa(this,"_localToDispose",[]),oa(this,"_commentHandlerId"),oa(this,"_workspaceFileChangeCommentThreads",{}),oa(this,"_reviewSchemeFileChangeCommentThreads",{}),oa(this,"_obsoleteFileChangeCommentThreads",{}),oa(this,"_visibleNormalTextEditors",[]),oa(this,"_pendingCommentThreadAdds",[]),oa(this,"_context"),oa(this,"resourceHints",{schemes:[oi.Review]}),oa(this,"_commentContentChangedListner");var d,y;this._context=this._folderRepoManager.context,this._commentController=a.comments.createCommentController(`github-review-${(d=e.activePullRequest)==null?void 0:d.remote.owner}-${(y=e.activePullRequest)==null?void 0:y.remote.owner}-${e.activePullRequest.number}`,a.l10n.t("Pull Request ({0})",e.activePullRequest.title)),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this.updateResourcesWithCommentingRanges(),this._localToDispose.push(this._folderRepoManager.onDidChangeActivePullRequest(()=>this.updateResourcesWithCommentingRanges())),this._localToDispose.push(this._commentController),this._commentHandlerId=Yd(),qt(this._commentHandlerId,this)}async initialize(){this._visibleNormalTextEditors=a.window.visibleTextEditors.filter(t=>t.document.uri.scheme!=="comment"),await this._folderRepoManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}async createOutdatedCommentThread(t,e){const i=e.comments[0].originalCommitId,n=a.Uri.file(m.join(`commit~${i.substr(0,8)}`,t)),r=Jr(n,t,void 0,i,!0,{base:e.diffSide===$e.LEFT},this._repository.rootUri),s=e.subjectType===vt.FILE?void 0:Fo(e.originalStartLine-1,e.originalEndLine-1);return Oo(this._context,r,s,e,this._commentController,(await this._folderRepoManager.getCurrentUser()).login,this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createWorkspaceCommentThread(t,e,i){let n=i.startLine,r=i.endLine;const s=await this._repository.diffWithHEAD(e);s&&(n=Hl(s,n),r=Hl(s,r));let d;if(i.subjectType!==vt.FILE){const y=n-1,F=r-1;(y<0||F<0)&&f.error(`Mapped new position for workspace comment thread is invalid. Original: (${i.startLine}, ${i.endLine}) New: (${y}, ${F})`),d=Fo(y,F)}return Oo(this._context,t,d,i,this._commentController,(await this._folderRepoManager.getCurrentUser()).login,this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createReviewCommentThread(t,e,i){var n;if(!((n=this._folderRepoManager.activePullRequest)==null?void 0:n.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const r=Jr(t,e,void 0,this._folderRepoManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),s=i.subjectType===vt.FILE?void 0:Fo(i.startLine-1,i.endLine-1);return Oo(this._context,r,s,i,this._commentController,(await this._folderRepoManager.getCurrentUser()).login,this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async doInitializeCommentThreads(t){for(const i in this._workspaceFileChangeCommentThreads)j(this._workspaceFileChangeCommentThreads[i]);this._workspaceFileChangeCommentThreads={};for(const i in this._reviewSchemeFileChangeCommentThreads)j(this._reviewSchemeFileChangeCommentThreads[i]);this._reviewSchemeFileChangeCommentThreads={};for(const i in this._obsoleteFileChangeCommentThreads)j(this._obsoleteFileChangeCommentThreads[i]);this._obsoleteFileChangeCommentThreads={};const e=o(t,i=>i.path);Object.keys(e).forEach(i=>{const n=e[i],r=n[0];if(r){const s=m.join(this._repository.rootUri.path,r.path).replace(/\\/g,"/"),d=this._repository.rootUri.with({path:s});let y=[],F=[],W=[];const ie=n.map(async le=>{le.isOutdated?W.push(await this.createOutdatedCommentThread(i,le)):le.diffSide===$e.RIGHT?y.push(await this.createWorkspaceCommentThread(d,i,le)):F.push(await this.createReviewCommentThread(d,i,le))});Promise.all(ie),this._workspaceFileChangeCommentThreads[i]=y,this._reviewSchemeFileChangeCommentThreads[i]=F,this._obsoleteFileChangeCommentThreads[i]=W}}),this.updateResourcesWithCommentingRanges()}updateResourcesWithCommentingRanges(){var t,e;if(this._folderRepoManager.activePullRequest&&this._folderRepoManager.activePullRequest.fileChanges.size<30){for(const[i,n]of(e=(t=this._folderRepoManager.activePullRequest)==null?void 0:t.fileChanges.entries())!=null?e:[])if(n.status!==nt.DELETE){const r=a.Uri.joinPath(this._folderRepoManager.repository.rootUri,i);f.trace(`Prefetching commenting ranges for ${r.toString()}`,Xr.ID),a.workspace.openTextDocument(r)}}}async initializeCommentThreads(){const t=this._folderRepoManager.activePullRequest;if(!(!t||!t.isResolved()))return this.doInitializeCommentThreads(t.reviewThreadsCache)}async registerListeners(){const t=this._folderRepoManager.activePullRequest;!t||(this._localToDispose.push(t.onDidChangePendingReviewState(e=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(i=>{for(const n in i)i[n].forEach(r=>{Sf(r,e),Bs(r)})})})),this._localToDispose.push(t.onDidChangeReviewThreads(e=>{const i=this.githubReposForPullRequest(this._folderRepoManager.activePullRequest);e.added.forEach(async n=>{const{path:r}=n,s=this._pendingCommentThreadAdds.findIndex(async F=>{const W=this._folderRepoManager.gitRelativeRootPath(F.uri.path);if(W!==n.path)return!1;const ie=await this.getContentDiff(F.uri,W);return(F.range?qo(ie,F.range.end.line):0)+1===n.endLine});let d;if(s>-1)d=this._pendingCommentThreadAdds[s],d.gitHubThreadId=n.id,d.comments=n.comments.map(F=>new Gn(this._context,F,d,i)),_f(this._context,d,n,i),this._pendingCommentThreadAdds.splice(s,1);else{const F=m.join(this._repository.rootUri.path,r).replace(/\\/g,"/"),W=this._repository.rootUri.with({path:F});n.isOutdated?d=await this.createOutdatedCommentThread(r,n):n.diffSide===$e.RIGHT?d=await this.createWorkspaceCommentThread(W,r,n):d=await this.createReviewCommentThread(W,r,n)}const y=n.isOutdated?this._obsoleteFileChangeCommentThreads:n.diffSide===$e.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;y[r]?y[r].push(d):y[r]=[d]}),e.changed.forEach(n=>{const r=n.isOutdated?this._obsoleteFileChangeCommentThreads:n.diffSide===$e.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,s=r[n.path]?r[n.path].findIndex(d=>d.gitHubThreadId===n.id):-1;if(s>-1){const d=r[n.path][s];xl(this._context,d,n,i)}}),e.removed.forEach(n=>{const r=n.isOutdated?this._obsoleteFileChangeCommentThreads:n.diffSide===$e.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,s=r[n.path]?r[n.path].findIndex(d=>d.gitHubThreadId===n.id):-1;if(s>-1){const d=r[n.path][s];r[n.path].splice(s,1),d.dispose()}}),this.updateResourcesWithCommentingRanges()})),this._localToDispose.push(a.window.onDidChangeActiveTextEditor(e=>this.onDidChangeActiveTextEditor(e))))}onDidChangeActiveTextEditor(t){var e;if((e=this._commentContentChangedListner)==null||e.dispose(),this._commentContentChangedListner=void 0,(t==null?void 0:t.document.uri.scheme)!==oi.Comment)return;const i=()=>{t.document.getText().includes("```suggestion")?Vi.setContext(er.ACTIVE_COMMENT_HAS_SUGGESTION,!0):Vi.setContext(er.ACTIVE_COMMENT_HAS_SUGGESTION,!1)};this._commentContentChangedListner=a.workspace.onDidChangeTextDocument(n=>{n.document.uri.toString()===t.document.uri.toString()&&i()}),i()}updateCommentExpandState(t){const e=this._folderRepoManager.activePullRequest;if(!e)return;const i=this.githubReposForPullRequest(e);function n(y,F){if(F.size!==0)for(const W of F.keys()){const ie=F.get(W),le=y[W];for(const de of le){const ke=ie.get(de.gitHubThreadId);xl(this._context,de,ke,i,t)}}}const r=new Map,s=new Map,d=new Map;for(const y of e.reviewThreadsCache){let F;y.isOutdated?F=r:y.diffSide===$e.RIGHT?F=d:F=s,F.has(y.path)||F.set(y.path,new Map),F.get(y.path).set(y.id,y)}n(this._obsoleteFileChangeCommentThreads,r),n(this._reviewSchemeFileChangeCommentThreads,s),n(this._workspaceFileChangeCommentThreads,d)}visibleEditorsEqual(t,e){if(t=t.filter(i=>i.document.uri.scheme!=="comment"),e=e.filter(i=>i.document.uri.scheme!=="comment"),t=H(t,i=>i.document.uri.toString()),e=H(e,i=>i.document.uri.toString()),t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!e.find(r=>r.document.uri.toString()===t[i].document.uri.toString()))return!1;return!0}hasCommentThread(t){return t.uri.scheme===oi.Review?!0:Ff(this._repository,t.uri)?t.uri.scheme===this._repository.rootUri.scheme:!1}async provideCommentingRanges(t,e){let i=t.uri.query&&t.uri.query!==""?sa(t.uri.query):void 0;if(i){const r=this.findMatchedFileChangeForReviewDiffView(this._reviewModel.localFileChanges,t.uri);if(r)return f.debug("Found matched file for commenting ranges.",Xr.ID),{ranges:Zf(await r.changeModel.diffHunks(),i.base,Xr.ID),enableFileComments:!0}}const n=ac(this._gitApi,t.uri);if((n==null?void 0:n.rootUri.toString())!==this._repository.rootUri.toString()){t.uri.scheme!=="output"&&f.debug("No commenting ranges: File is not in the current repository.",Xr.ID);return}if(t.uri.scheme===this._repository.rootUri.scheme){if(!this._folderRepoManager.activePullRequest.isResolved()){f.debug("No commenting ranges: Active PR has not been resolved.",Xr.ID);return}const r=this._folderRepoManager.gitRelativeRootPath(t.uri.path),s=wc(this._reviewModel.localFileChanges).find(y=>y.fileName===r),d=[];if(s){const y=await s.changeModel.diffHunks();if(s.status===nt.RENAME&&y.length===0){f.debug("No commenting ranges: File was renamed with no diffs.",Xr.ID);return}const F=await this.getContentDiff(t.uri,s.fileName);for(let W=0;W<y.length;W++){const ie=y[W],le=Hl(F,ie.newLineNumber,t.lineCount),de=Hl(F,ie.newLineNumber+ie.newLength-1,t.lineCount);le>0&&de>0&&d.push(new a.Range(le-1,0,de-1,0))}d.length===0&&f.debug("No commenting ranges: File has diffs, but they could not be mapped to current lines.",Xr.ID)}else f.debug("No commenting ranges: File does not match any of the files in the review.",Xr.ID);return f.debug(`Providing ${d.length} commenting ranges for ${m.basename(t.uri.fsPath)}.`,Xr.ID),{ranges:d,enableFileComments:d.length>0}}else f.debug("No commenting ranges: File scheme differs from repository scheme.",Xr.ID)}async getContentDiff(t,e,i=!0){var n,r,s,d;const y=a.window.visibleTextEditors.find(F=>F.document.uri.toString()===t.toString());if(!((n=this._folderRepoManager.activePullRequest)==null?void 0:n.head))throw f.error("Failed to get content diff. Cannot get content diff without an active pull request head."),new Error("Cannot get content diff without an active pull request head.");try{if(y&&y.document.isDirty&&a.workspace.getConfiguration("files",y.document.uri).get("autoSave")!=="afterDelay"){const F=y.document.getText(),ie=(await this._repository.getObjectDetails(this._folderRepoManager.activePullRequest.head.sha,e)).object,le=await this._repository.hashObject(F);return await this._repository.diffBlobs(ie,le)}else return await this._repository.diffWith(this._folderRepoManager.activePullRequest.head.sha,e)}catch(F){if(f.error(`Failed to get content diff. ${$(F)}`),(r=F.stderr)==null?void 0:r.includes("bad object")){if(((s=this._repository.state.HEAD)==null?void 0:s.upstream)&&i){const W=a.workspace.getConfiguration(Xe).get(Mt,"pull");if((W==="pull"||W==="pullAndMergeBase"||W==="pullAndUpdateBase"||W===!0)&&a.workspace.getConfiguration(Xe).get(jt,"prompt")==="always")try{return await this._repository.pull(),this.getContentDiff(t,e,!1)}catch(le){}else if((d=this._repository.state.HEAD)==null?void 0:d.commit)return this._repository.diffWith(this._repository.state.HEAD.commit,e)}this._folderRepoManager.activePullRequest.isOpen&&a.window.showErrorMessage(a.l10n.t("Unable to get comment locations for commit {0}. This commit is not available locally and there is no remote branch.",this._folderRepoManager.activePullRequest.head.sha)),f.warn(`Unable to get comment locations for commit ${this._folderRepoManager.activePullRequest.head.sha}. This commit is not available locally and there is no remote branch.`,Xr.ID)}throw F}}findMatchedFileChangeForReviewDiffView(t,e){const i=sa(e.query),n=t.filter(r=>{const s=r.changeModel;if(s instanceof js||s.fileName!==i.path)return!1;if(s.filePath.scheme!=="review"&&s.sha===i.commit)return!0;const d=s.filePath.query?JSON.parse(s.filePath.query):void 0;if(d&&d.commit===i.commit)return!0;const y=s.parentFilePath.query?JSON.parse(s.parentFilePath.query):void 0;return!!(y&&y.commit===i.commit)});if(n&&n.length)return n[0]}getCommentSide(t){return t.uri.scheme===oi.Review&&sa(t.uri.query).base?$e.LEFT:$e.RIGHT}async startReview(t,e){var i;const n=t.comments.length;let r;try{if(r=await this.optimisticallyAddComment(t,e,!0),n){const s=t.comments[0];if(s instanceof Gn)await this._folderRepoManager.activePullRequest.createCommentReply(e,s.rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const s=this._folderRepoManager.gitRelativeRootPath(t.uri.path),d=this.getCommentSide(t);this._pendingCommentThreadAdds.push(t);let y,F;if(t.range){if(d===$e.RIGHT){const W=await this.getContentDiff(t.uri,s);y=qo(W,t.range.start.line),F=qo(W,t.range.end.line)}else y=t.range.start.line,F=t.range.end.line;y++,F++}await this._folderRepoManager.activePullRequest.createReviewThread(e,s,y,F,d)}}catch(s){a.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=s==null?void 0:s.message)!=null?i:s}),t.comments=t.comments.map(d=>(d instanceof qr&&d.id===r&&(d.mode=a.CommentMode.Editing),d))}}async openReview(){await this._reviewManager.openDescription(),Hr.scrollToReview()}async optimisticallyAddComment(t,e,i){const n=await this._folderRepoManager.getCurrentUser(),r=new qr(t,e,i,n);return this.updateCommentThreadComments(t,[...t.comments,r]),r.id}updateCommentThreadComments(t,e){t.comments=e,Bs(t)}async optimisticallyEditComment(t,e){const i=await this._folderRepoManager.getCurrentUser(),n=new qr(t,e.body instanceof a.MarkdownString?e.body.value:e.body,!!e.label,i,e);return t.comments=t.comments.map(r=>r instanceof Gn&&r.commentId===e.commentId?n:r),n.id}async createOrReplyComment(t,e,i,n){var r;if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const s=t.comments.length,d=i?!1:n!==void 0?n:this._folderRepoManager.activePullRequest.hasPendingReview,y=await this.optimisticallyAddComment(t,e,d);try{if(s){const F=t.comments[0];if(F instanceof Gn)await this._folderRepoManager.activePullRequest.createCommentReply(e,F.rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const F=this._folderRepoManager.gitRelativeRootPath(t.uri.path);this._pendingCommentThreadAdds.push(t);const W=this.getCommentSide(t);let ie,le;if(t.range){if(W===$e.RIGHT){const de=await this.getContentDiff(t.uri,F);ie=qo(de,t.range.start.line),le=qo(de,t.range.end.line)}else ie=t.range.start.line,le=t.range.end.line;ie++,le++}await this._folderRepoManager.activePullRequest.createReviewThread(e,F,ie,le,W,i)}i&&await this._folderRepoManager.activePullRequest.submitReview()}catch(F){((r=F.graphQLErrors)==null?void 0:r.length)&&F.graphQLErrors[0].type==="NOT_FOUND"?a.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(W=>{W==="Refresh"&&this._reviewManager.updateComments()}):a.window.showErrorMessage(`Creating comment failed: ${F}`),t.comments=t.comments.map(W=>(W instanceof qr&&W.id===y&&(W.mode=a.CommentMode.Editing),W))}}async createSuggestionsFromChanges(t,e){const i=this._folderRepoManager.activePullRequest;if(!i)return;const n=this._folderRepoManager.gitRelativeRootPath(t.path),r=`\`\`\`suggestion
${e.suggestionContent}
\`\`\``;await i.createReviewThread(r,n,e.originalStartLine,e.originalStartLine+e.originalLineLength-1,$e.RIGHT,!1)}async createCommentOnResolve(t,e){if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const i=await this._folderRepoManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(t,e,!i)}async resolveReviewThread(t,e){try{e&&await this.createCommentOnResolve(t,e),await this._folderRepoManager.activePullRequest.resolveReviewThread(t.gitHubThreadId)}catch(i){a.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(t,e){try{e&&await this.createCommentOnResolve(t,e),await this._folderRepoManager.activePullRequest.unresolveReviewThread(t.gitHubThreadId)}catch(i){a.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(t,e){if(e instanceof Gn){const i=await this.optimisticallyEditComment(t,e);try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");await this._folderRepoManager.activePullRequest.editReviewComment(e.rawComment,e.body instanceof a.MarkdownString?e.body.value:e.body)}catch(n){a.window.showErrorMessage($(n)),t.comments=t.comments.map(r=>r instanceof qr&&r.id===i?new Gn(this._context,e.rawComment,t):r)}}}async deleteComment(t,e){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");e instanceof Gn?await this._folderRepoManager.activePullRequest.deleteReviewComment(e.commentId):t.comments=t.comments.filter(n=>!(n instanceof qr&&n.id===e.id)),t.comments.length===0?t.dispose():Bs(t);const i=await this._folderRepoManager.activePullRequest.validateDraftMode();i!==this._folderRepoManager.activePullRequest.hasPendingReview&&(this._folderRepoManager.activePullRequest.hasPendingReview=i),this.update()}catch(i){throw new Error($(i))}}async update(){await this._folderRepoManager.activePullRequest.validateDraftMode()}async toggleReaction(t,e){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");t.reactions&&!t.reactions.find(i=>i.label===e.label&&!!i.authorHasReacted)?await this._folderRepoManager.activePullRequest.addCommentReaction(t.rawComment.graphNodeId,e):await this._folderRepoManager.activePullRequest.deleteCommentReaction(t.rawComment.graphNodeId,e)}catch(i){throw new Error($(i))}}async applySuggestion(t){const e=t.parent.range,i=t.suggestion;if(i===void 0||!e)throw new Error("Comment doesn't contain a suggestion");const n=a.window.visibleTextEditors.find(r=>t.parent.uri.toString()===r.document.uri.toString());if(!n)throw new Error("Cannot find the editor to apply the suggestion to.");await n.edit(r=>{r.replace(e.with(void 0,n.document.lineAt(e.end.line).range.end),i)})}dispose(){ot(this._commentHandlerId),this._localToDispose.forEach(t=>t.dispose())}};let _c=Xr;oa(_c,"ID","ReviewCommentController");function th(){const t={merged:!1,closed:!1},e=a.workspace.getConfiguration(Xe).get(kt,t);return e!=="auto"?e:a.env.appHost==="vscode.dev"||a.env.appHost==="github.dev"?{merged:!0,closed:!0}:t}class Vl{constructor(e,i){this.reviewManager=e,this.folderRepositoryManager=i}static getSettingsValue(){return a.workspace.getConfiguration(Xe).get(_t)}static registerProvider(e,i,n){e.push(a.window.registerTerminalLinkProvider(new Vl(i,n)))}provideTerminalLinks(e,i){var n;const r=e.line.indexOf("https://github.com");if(r===-1)return[];const s=e.line.substring(r),d=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),y=s.match(d);if(y&&y.length===4){const F=y[1],W=y[2],ie=y[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(de=>de.remote.owner===F&&de.remote.repositoryName===W)>-1&&((n=this.reviewManager.repository.state.HEAD)==null?void 0:n.name)===ie)return[{startIndex:r,length:e.line.length-r,tooltip:a.l10n.t("Create a Pull Request"),url:s}]}return[]}openLink(e){return a.env.openExternal(a.Uri.parse(e.url))}handleTerminalLink(e){const i=Vl.getSettingsValue();if(i==="github"){this.openLink(e);return}if(i==="vscode"){this.reviewManager.createPullRequest();return}const n="Yes",r="Don't Show Again";a.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?",n,"No, continue to github.com",r).then(s=>{switch(s){case n:{this.reviewManager.createPullRequest();break}case r:{a.workspace.getConfiguration(Xe).update(_t,"github",a.ConfigurationTarget.Global),this.openLink(e);break}default:this.openLink(e)}})}}var Ng=Object.defineProperty,Mg=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ng(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const ih="github-pr-remote",nh="github-pr-owner-number",Pg="github-pr-base-branch",rh=/branch\.(.+)\.github-pr-owner-number/,Ag=/branch\.(.+)\.remote/,fn=class{static async checkoutFromFork(t,e,i,n){const r=await fn.calculateUniqueBranchNameForPR(t,e);i||(f.appendLine(`Branch ${r} is from a fork. Create a remote first.`,fn.ID),n.report({message:a.l10n.t("Creating git remote for {0}",`${e.remote.owner}/${e.remote.repositoryName}`)}),i=await fn.createRemote(t,e.remote,e.head.repositoryCloneUrl));const s=`${e.head.ref}:${r}`;f.debug(`Fetch ${i}/${e.head.ref}:${r} - start`,fn.ID),n.report({message:a.l10n.t("Fetching branch {0}",s)}),await t.fetch(i,s),f.debug(`Fetch ${i}/${e.head.ref}:${r} - done`,fn.ID),n.report({message:a.l10n.t("Checking out {0}",s)}),await t.checkout(r),await t.setBranchUpstream(r,`refs/remotes/${i}/${e.head.ref}`),await fn.associateBranchWithPullRequest(t,e,r)}static async fetchAndCheckout(t,e,i,n){var r;if(!i.validatePullRequestModel("Checkout pull request failed"))return;const s=fn.getHeadRemoteForPullRequest(e,i),d=i.head.repositoryCloneUrl.owner!==i.base.repositoryCloneUrl.owner;if(!s||d)return fn.checkoutFromFork(t,i,s&&s.remoteName,n);const y=i.head.ref,F=s.remoteName;let W;try{if(W=await t.getBranch(y),((r=t.state.HEAD)==null?void 0:r.name)===W.name){f.appendLine(`Tried to checkout ${y}, but branch is already checked out.`,fn.ID);return}if(f.debug(`Checkout ${y}`,fn.ID),n.report({message:a.l10n.t("Checking out {0}",y)}),await t.checkout(y),!W.upstream){const ie=`refs/remotes/${F}/${y}`;await t.setBranchUpstream(y,ie)}W.behind!==void 0&&W.behind>0&&W.ahead===0&&(f.debug("Pull from upstream",fn.ID),n.report({message:a.l10n.t("Pulling {0}",y)}),await t.pull())}catch(ie){f.appendLine(`Branch ${F}/${y} doesn't exist on local disk yet.`,fn.ID);const le=`refs/remotes/${F}/${y}`;f.appendLine(`Fetch tracked branch ${le}`,fn.ID),n.report({message:a.l10n.t("Fetching branch {0}",y)}),await t.fetch(F,y);const de=await t.getBranch(le);n.report({message:a.l10n.t("Creating and checking out branch {0}",y)}),await t.createBranch(y,!0,de.commit),await t.setBranchUpstream(y,le)}await fn.associateBranchWithPullRequest(t,i,y)}static async checkoutExistingPullRequestBranch(t,e,i){const n=fn.buildPullRequestMetadata(e),r=await t.getConfigs(),s=y=>r.filter(({key:F})=>y===F).map(({value:F})=>F)[0],d=r.map(y=>{const F=rh.exec(y.key);return{branch:F&&F.length?F[1]:null,value:y.value}}).filter(y=>y.branch&&y.value===n);if(d&&d.length){const y=d[0].branch;i.report({message:a.l10n.t("Checking out branch {0}",y)}),await t.checkout(y);const F=a.workspace.getConfiguration(Xe).get(Mt,"pull");if(F==="pull"||F==="pullAndMergeBase"||F==="pullAndUpdateBase"||F===!0){const ie=s(`branch.${y}.remote`),le=s(`branch.${y}.merge`);i.report({message:a.l10n.t("Fetching branch {0}",y)}),await t.fetch(ie,le)}const W=await t.getBranch(d[0].branch);return W.upstream===void 0?!1:(W.behind!==void 0&&W.behind>0&&W.ahead===0&&(f.debug("Pull from upstream",fn.ID),i.report({message:a.l10n.t("Pulling branch {0}",y)}),await t.pull()),!0)}else return!1}static async getBranchNRemoteForPullRequest(t,e){let i=null;try{const n=fn.buildPullRequestMetadata(e),r=await t.getConfigs(),s=r.map(d=>{const y=rh.exec(d.key);return{branch:y&&y.length?y[1]:null,value:d.value}}).find(d=>!!d.branch&&d.value===n);if(s){i=s.branch;const d=`branch.${i}.remote`,y=r.filter(le=>le.key===d).map(le=>le.value);let F;y.length&&(F=y[0]);let W=!1;if(F){const le=`remote.${F}.github-pr-remote`;r.filter(ke=>ke.key===le&&ke.value).length&&(W=!0)}let ie;return W&&(ie=r.some(le=>!!(Ag.exec(le.key)&&le.key!==`branch.${i}.remote`&&le.value===F))),{branch:i,remote:F,createdForPullRequest:W,remoteInUse:ie}}}catch(n){return i?{branch:i}:(f.error(`getBranchNRemoteForPullRequest failed ${n}`,fn.ID),null)}return null}static buildPullRequestMetadata(t){return`${t.base.repositoryCloneUrl.owner}#${t.base.repositoryCloneUrl.repositoryName}#${t.number}`}static buildBaseBranchMetadata(t,e,i){return`${t}#${e}#${i}`}static parsePullRequestMetadata(t){if(t){const e=/(.*)#(.*)#(.*)/g.exec(t);if(e&&e.length===4){const[,i,n,r]=e;return{owner:i,repositoryName:n,prNumber:Number(r)}}}}static getMetadataKeyForBranch(t){return`branch.${t}.${nh}`}static async getMatchingPullRequestMetadataForBranch(t,e){try{const i=this.getMetadataKeyForBranch(e),n=await t.getConfig(i);return fn.parsePullRequestMetadata(n)}catch(i){return}}static async createRemote(t,e,i){f.appendLine(`create remote for ${i}.`,fn.ID);const n=Aa(t);for(const s of n)if(new cn(s.url).equals(i))return s.remoteName;const r=fn.getUniqueRemoteName(t,i.owner);return i.update({type:e.gitProtocol.type}),await t.addRemote(r,i.toString()),await t.setConfig(`remote.${r}.${ih}`,"true"),r}static async isRemoteCreatedForPullRequest(t,e){try{f.debug(`Check if remote '${e}' is created for pull request - start`,fn.ID);const i=await t.getConfig(`remote.${e}.${ih}`);return f.debug(`Check if remote '${e}' is created for pull request - end`,fn.ID),i==="true"}catch(i){return!1}}static async calculateUniqueBranchNameForPR(t,e){const i=`pr/${e.author.login}/${e.number}`;let n=i,r=1;for(;;)try{await t.getBranch(n),n=`${i}-${r++}`}catch(s){break}return n}static getUniqueRemoteName(t,e){let i=e,n=1;const r=Aa(t);for(;r.find(s=>s.remoteName===i);)i=`${e}${n++}`;return i}static getHeadRemoteForPullRequest(t,e){return t.find(i=>i.gitProtocol&&i.gitProtocol.owner.toLowerCase()===e.head.repositoryCloneUrl.owner.toLowerCase()&&i.gitProtocol.repositoryName.toLowerCase()===e.head.repositoryCloneUrl.repositoryName.toLowerCase())}static async associateBranchWithPullRequest(t,e,i){try{e&&f.appendLine(`associate ${i} with Pull Request #${e.number}`,fn.ID);const n=`branch.${i}.${nh}`;await t.setConfig(n,e?fn.buildPullRequestMetadata(e):" ")}catch(n){e&&f.error(`associate ${i} with Pull Request #${e.number} failed`,fn.ID)}}static async associateBaseBranchWithBranch(t,e,i,n,r){try{f.appendLine(`associate ${e} with base branch ${i}/${n}#${r}`,fn.ID);const s=`branch.${e}.${Pg}`;await t.setConfig(s,fn.buildBaseBranchMetadata(i,n,r))}catch(s){f.error(`associate ${e} with base branch ${i}/${n}#${r} failed`,fn.ID)}}};let Ir=fn;Mg(Ir,"ID","PullRequestGitHelper");const kc=new AbortController().signal,ah=new AbortController;ah.abort();const M1=ah.signal,P1=t=>{const e=new AbortController;if(!t)return e;if(t.aborted&&e.abort(),t!==kc){const i=new WeakRef(e);onAbort(t)(()=>{var n;return(n=i.deref())==null?void 0:n.abort()})}return e},xg=()=>{let t,e;const i=new Promise((n,r)=>{t=n,e=r});return{resolve:t,reject:e,promise:i}};class Sc extends Error{constructor(e="Operation cancelled"){super(e);this.message=e,this.isTaskCancelledError=!0}}const sh={dispose:()=>{}};var oh;(function(t){t.once=(e,i)=>{let n=!1,r;return r=e(s=>{i(s),r?r.dispose():n=!0}),n?(r.dispose(),sh):r},t.toPromise=(e,i)=>i?i.aborted?Promise.reject(new Sc):new Promise((n,r)=>{const s=Dg(i)(()=>{d.dispose(),r(new Sc)}),d=t.once(e,y=>{s.dispose(),n(y)})}):new Promise(n=>t.once(e,n))})(oh||(oh={}));const Dg=t=>{const e=new Ig;if(t.aborted)return e.emit(),e.addListener;const i=()=>{e.emit(),t.removeEventListener("abort",i)};return t.addEventListener("abort",i),e.addListener};class Ho{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(const i of this.listeners)i(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}const i=this.listeners.indexOf(e);i!==-1&&(this.listeners.length===2?this.listeners=i===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,i).concat(this.listeners.slice(i+1)))}}class A1 extends Ho{constructor(){super(...arguments);this.addListener=e=>{const i=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),i}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}}class Ig extends Ho{constructor(){super(...arguments);this.addListener=e=>this.lastValue?(e(this.lastValue.value),sh):this.addListenerInner(e)}emit(e){this.lastValue={value:e},super.emit(e),this.listeners=void 0}}var lh=ni(65606);const Fg=t=>{if("error"in t)throw t.error;return"success"in t?t.success:t.value},Og=()=>{if(typeof performance!="undefined"){const t=performance.now();return()=>performance.now()-t}else{const t=lh.hrtime.bigint();return()=>Number(lh.hrtime.bigint()-t)/1e6}};class jl{constructor(e=()=>!1,i=()=>!1){this.errorFilter=e,this.resultFilter=i,this.successEmitter=new Ho,this.failureEmitter=new Ho,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new jl(this.errorFilter,this.resultFilter)}async invoke(e,...i){const n=this.successEmitter.size||this.failureEmitter.size?Og():null;try{const r=await e(...i);return this.resultFilter(r)?(n&&this.failureEmitter.emit({duration:n(),handled:!0,reason:{value:r}}),{value:r}):(n&&this.successEmitter.emit({duration:n()}),{success:r})}catch(r){const s=r,d=this.errorFilter(s);if(n&&this.failureEmitter.emit({duration:n(),handled:d,reason:{error:s}}),!d)throw s;return{error:s}}}}class Lg extends Error{constructor(e,i){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${i} available)`);this.isBulkheadRejectedError=!0}}class Ug{constructor(e,i){this.capacity=e,this.queueCapacity=i,this.active=0,this.queue=[],this.onRejectEmitter=new Ho,this.executor=new jl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,i=kc){if(i.aborted)throw new Sc;if(this.active<this.capacity){this.active++;try{return await e({signal:i})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:n,reject:r,promise:s}=xg();return this.queue.push({signal:i,fn:e,resolve:n,reject:r}),s}throw this.onRejectEmitter.emit(),new Lg(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();!e||Promise.resolve().then(()=>this.execute(e.fn,e.signal)).then(e.resolve).catch(e.reject)}}class Bg{constructor(){this.executor=new jl,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,i=kc){return Fg(await this.executor.invoke(e,{signal:i}))}}const zl=(t,e)=>e?i=>i instanceof t&&e(i):i=>i instanceof t,qg=()=>!0,$o=()=>!1;class ya{constructor(e){this.options=e}orType(e,i){const n=zl(e,i);return new ya({...this.options,errorFilter:r=>this.options.errorFilter(r)||n(r)})}orWhen(e){return new ya({...this.options,errorFilter:i=>this.options.errorFilter(i)||e(i)})}orWhenResult(e){return new ya({...this.options,resultFilter:i=>this.options.resultFilter(i)||e(i)})}orResultType(e,i){const n=zl(e,i);return new ya({...this.options,resultFilter:r=>this.options.resultFilter(r)||n(r)})}}const x1=new Bg,D1=new ya({errorFilter:qg,resultFilter:$o});function I1(t,e){return new ya({errorFilter:zl(t,e),resultFilter:$o})}function F1(t){return new ya({errorFilter:t,resultFilter:$o})}function O1(t,e){return new ya({errorFilter:$o,resultFilter:zl(t,e)})}function L1(t){return new ya({errorFilter:$o,resultFilter:t})}function uh(t,e=0){return new Ug(t,e)}function U1(t){return(e,i,n)=>{const r=n.value;if(typeof r!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof r}`);n.value=function(...s){const d=s[s.length-1]instanceof AbortSignal?s.pop():void 0;return t.execute(y=>r.apply(this,[...s,y]),d)}}}function B1(t,e){return new TimeoutPolicy(t,typeof e=="string"?{strategy:e}:e)}function q1(...t){return{_altReturn:void 0,onFailure:t[0].onFailure,onSuccess:t[0].onSuccess,wrapped:t,execute(e,i){const n=(r,s)=>s===t.length?e(r):t[s].execute(d=>n({...r,...d},s+1),r.signal);return Promise.resolve(n({signal:i},0))}}}function H1(t,e){var i;return new RetryPolicy({backoff:e.backoff||new ConstantBackoff(0),maxAttempts:(i=e.maxAttempts)!=null?i:Infinity},new ExecuteWrapper(t.options.errorFilter,t.options.resultFilter))}function $1(t,e){return new CircuitBreakerPolicy(e,new ExecuteWrapper(t.options.errorFilter,t.options.resultFilter))}function G1(t,e){return new FallbackPolicy(new ExecuteWrapper(t.options.errorFilter,t.options.resultFilter),typeof e=="function"?e:()=>e)}const ch=void 0;var Hg=ni(65606);let dh=!1;const fh=class{static async getApiHost(t){const e=Hg.env.GITHUB_TEST_SERVER;if(e){if(dh)return a.Uri.parse(e);const n=a.l10n.t("Yes");if(await a.window.showInformationMessage(a.l10n.t("The 'GITHUB_TEST_SERVER' environment variable is set to '{0}'. Use this as the GitHub API endpoint?",e),{modal:!0},n)===n)return dh=!0,a.Uri.parse(e)}const i=t instanceof a.Uri?t:a.Uri.parse(t.host);return i.authority==="github.com"?a.Uri.parse("https://api.github.com"):a.Uri.parse(`${i.scheme}://${i.authority}`)}static getApiPath(t,e){return(t instanceof a.Uri?t:a.Uri.parse(t.host)).authority==="github.com"?e:`/api/v3${e}`}};var $g=Object.defineProperty,Wl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?$g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Js=class{constructor(){Wl(this,"_knownServers",new Map([...Array.from(Js._githubDotComServers.keys()).map(t=>[t,ln.GitHubDotCom]),...Array.from(Js._gheServers.keys()).map(t=>[t,ln.Enterprise])]))}static isGithubDotCom(t){return this._githubDotComServers.has(t)}static isNeverGitHub(t){return this._neverGitHubServers.has(t)}async isGitHub(t){var e;if(t===null)return ln.None;const i=t.authority.toLowerCase();if(t.path.endsWith(".wiki")||i.match(/gist[.]github[.]com/))return ln.None;if(Js.isGithubDotCom(i))return ln.GitHubDotCom;const n=Array.from(this._knownServers.keys()).find(F=>i.endsWith(F)),r=$s();if(t.authority.toLowerCase()===(r==null?void 0:r.authority.toLowerCase())&&(!n||this._knownServers.get(n)===ln.None))return ln.Enterprise;if(n)return(e=this._knownServers.get(n))!=null?e:ln.None;const[s,d]=await Js.getOptions(t,"HEAD","/rate_limit");let y=ln.None;try{const F=await Un()(s.toString(),d),W=[];F.headers.forEach((de,ke)=>{W.push(ke)}),f.debug(`All headers: ${W.join(", ")}`,"GitHubServer");const ie=F.headers.get("x-github-request-id"),le=F.headers.get("x-github-enterprise-version");if(!ie&&!le){const[de]=await Js.getOptions(t,"HEAD","/status"),Ie=await(await Un()(de.toString())).text();if(Ie.startsWith("GitHub lives!"))y=ln.Enterprise;else{f.appendLine(`Received fallback response from the server: ${Ie}`,"GitHubServer");const oe=JSON.parse(Ie);oe.documentation_url&&oe.documentation_url.startsWith("https://docs.github.com/enterprise")&&(y=ln.Enterprise)}}else y=ie!=null?le?ln.Enterprise:ln.GitHubDotCom:ln.None;return y}catch(F){return f.warn(`No response from host ${t}: ${F.message}`,"GitHubServer"),y}finally{f.debug(`Host ${t} is associated with GitHub: ${y}`,"GitHubServer"),this._knownServers.set(i,y)}}static async getOptions(t,e="GET",i,n){const r={"user-agent":"GitHub VSCode Pull Requests"};n&&(r.authorization=`token ${n}`);const s=a.Uri.joinPath(await fh.getApiHost(t),fh.getApiPath(t,i)),d={hostname:s.authority,port:443,method:e,headers:r,agent:ch};return[s,d]}};let Go=Js;Wl(Go,"_githubDotComServers",new Set().add("github.com").add("ssh.github.com")),Wl(Go,"_gheServers",new Set().add("ghe.com")),Wl(Go,"_neverGitHubServers",new Set().add("bitbucket.org").add("gitlab.com"));const Rc="github.pullRequest.pullNotification.show",hh="github.pullRequest.repos",Ec="github.pullRequest.previousCreateMethod";function V1(t){t.globalState.setKeysForSync([Rc])}var Kl;(function(t){async function e(){try{await a.commands.executeCommand("git.checkout")}catch(i){await a.commands.executeCommand("remoteHub.switchToBranch")}}t.checkout=e})(Kl||(Kl={}));var Gg=Object.defineProperty,Qa=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Gg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Tc{constructor(e,i,n,r){this._repository=e,this._upstream=i,this._into=n,this.push=r,Qa(this,"startingConflictsCount"),Qa(this,"_lastReportedRemainingCount"),Qa(this,"_disposables",[]),Qa(this,"_onConflictCountChanged",new a.EventEmitter),Qa(this,"onConflictCountChanged",this._onConflictCountChanged.event),Qa(this,"_finishedCommit",new a.EventEmitter),Qa(this,"message"),this.startingConflictsCount=this.remainingConflicts.length,this._lastReportedRemainingCount=this.startingConflictsCount,this._repository.inputBox.value=this.message=`Merge branch '${this._upstream}' into ${this._into}`,this._watchForRemainingConflictsChange()}_watchForRemainingConflictsChange(){this._disposables.push(a.window.tabGroups.onDidChangeTabs(async e=>{e.closed.length>0&&(await this._repository.status(),this._reportProgress())})),this._disposables.push(this._repository.state.onDidChange(async()=>{this._reportProgress()}))}_reportProgress(){if(this._lastReportedRemainingCount===0)return;const e=this.remainingConflicts.length;this._lastReportedRemainingCount!==e&&(this._onConflictCountChanged.fire(this._lastReportedRemainingCount-e),this._lastReportedRemainingCount=e),this._lastReportedRemainingCount===0&&this.listenForCommit()}async listenForCommit(){let e;const i=await new Promise(n=>{var r;const s=(r=this._repository.state.HEAD)==null?void 0:r.commit;e=this._repository.state.onDidChange(()=>{var d;((d=this._repository.state.HEAD)==null?void 0:d.commit)!==s&&this._repository.state.indexChanges.length===0&&this._repository.state.mergeChanges.length===0&&n(!0)}),this._disposables.push(e)});e==null||e.dispose(),i&&this.push&&this._repository.push(),this._finishedCommit.fire(i)}get remainingConflicts(){return this._repository.state.mergeChanges}async closeMergeEditors(){for(const e of a.window.tabGroups.all)for(const i of e.tabs)i.input instanceof a.TabInputTextMerge&&a.window.tabGroups.close(i)}async abort(){this._repository.inputBox.value="";const e=this._repository.state.onDidChange(async()=>{this._repository.state.mergeChanges.length===0&&(await new Promise(i=>setTimeout(i,1e3)),this.closeMergeEditors(),e.dispose())});this._disposables.push(e),await this._repository.mergeAbort(),this._finishedCommit.fire(!1)}async first(){this.remainingConflicts.length!==0&&(await Vi.focusView("workbench.scm"),this._reportProgress(),await Promise.all(this.remainingConflicts.map(e=>Vi.executeCommand("git.openMergeEditor",e.uri))))}static async begin(e,i,n,r){const s=new Tc(e,i,n,r);if(s.remainingConflicts.length===0)return;const d=new Vg(s,e);return s._disposables.push(d),s.first(),s}finished(){return B(this._finishedCommit.event)}dispose(){j(this._disposables)}}class Vg{constructor(e,i){this._conflictModel=e,this._repository=i,Qa(this,"_disposables",[]),a.window.withProgress({location:a.ProgressLocation.Notification,cancellable:!0},async(n,r)=>{const s=d=>{n.report({message:a.l10n.t("Use the Source Control view to resolve conflicts, {0} of {0} remaining",this._conflictModel.remainingConflicts.length,this._conflictModel.startingConflictsCount),increment:d})};return s(0),new Promise(d=>{this._disposables.push(this._conflictModel.onConflictCountChanged(y=>{const F=y*(100/this._conflictModel.startingConflictsCount);s(F),this._conflictModel.remainingConflicts.length===0&&d(!0)})),this._disposables.push(r.onCancellationRequested(()=>{this._conflictModel.abort(),d(!1)}))})}).then(async n=>{if(n){const r=a.l10n.t("Commit"),s=a.l10n.t("Abort Merge");let d;this._conflictModel.push?d=a.l10n.t("All conflicts resolved. Commit and push the resolution to continue."):d=a.l10n.t("All conflicts resolved. Commit the resolution to continue.");const y=await a.window.showInformationMessage(d,r,s);y===r?await this._repository.commit(this._conflictModel.message):y===s&&await this._conflictModel.abort()}})}dispose(){j(this._disposables)}}var jg=Object.defineProperty,Ql=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?jg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class zg{constructor(e){this._conflictResolutionModel=e,Ql(this,"_disposables",[]),Ql(this,"_treeView"),Ql(this,"_onDidChangeTreeData",new a.EventEmitter),Ql(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._treeView=a.window.createTreeView("github:conflictResolution",{treeDataProvider:this}),this._disposables.push(this._treeView),this._disposables.push(this._conflictResolutionModel.onAddedResolution(()=>this._onDidChangeTreeData.fire())),Vi.focusView("github:conflictResolution")}async getTreeItem(e){const i=a.Uri.from({path:e.conflict.prHeadFilePath,scheme:"conflictResolution"}),n=new a.TreeItem(i);return this._conflictResolutionModel.isResolved(e.conflict.prHeadFilePath)?(n.iconPath=new a.ThemeIcon("check"),n.command={command:"vscode.diff",arguments:[this._conflictResolutionModel.baseUri(e.conflict),this._conflictResolutionModel.mergeOutputUri(e.conflict),`Merge result for ${e.conflict.prHeadFilePath}`],title:a.l10n.t("View Merge Result")}):n.command={command:"pr.resolveConflict",title:a.l10n.t("Resolve Conflict"),arguments:[e.conflict]},n}async getChildren(e){if(e)return[];const i=new a.MarkdownString;i.isTrusted={enabledCommands:["pr.exitConflictResolutionMode","pr.completeMerge"]};let n=[];return this._conflictResolutionModel.isResolvable()?(this._conflictResolutionModel.areAllConflictsResolved?i.appendMarkdown(a.l10n.t(`All conflicts have been resolved.

[Complete merge](command:pr.completeMerge)

[Exit without merging](command:pr.exitConflictResolutionMode)`)):i.appendMarkdown(a.l10n.t("Resolve all conflicts or [exit conflict resolution mode](command:pr.exitConflictResolutionMode)")),n=Array.from(this._conflictResolutionModel.startingConflicts.values()).map(r=>({conflict:r}))):i.appendMarkdown(a.l10n.t(`Not all conflicts can be resolved here. Check out the pull request to manually resolve conflicts.

[Exit conflict resolution mode](command:pr.exitConflictResolutionMode)`)),this._treeView.message=i,n}dispose(){j(this._disposables)}}var Wg=Object.defineProperty,Yl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Wg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);async function Kg(t,e,i,n){let r="";return n||(r=await t.repository.show(i,a.Uri.joinPath(t.repository.rootUri,e).fsPath)),new TextEncoder().encode(r)}class mh{constructor(){Yl(this,"_onDidChangeFile",new a.EventEmitter),Yl(this,"onDidChangeFile",this._onDidChangeFile.event),Yl(this,"changedFiles",new Map),Yl(this,"_editableBranch")}set editableBranch(e){this.changedFiles.clear(),this._editableBranch=e}hasChanges(){return[...this.changedFiles.values()].some(e=>e.modified)}async tryReadFile(e,i){var n;return this.changedFiles.has(e.toString())||(!i||i.isEmpty)&&this.changedFiles.set(e.toString(),{file:new TextEncoder().encode(""),modified:!1}),(n=this.changedFiles.get(e.toString()))==null?void 0:n.file}writeFile(e,i,n){this.changedFiles.set(e.toString(),{file:i,modified:!0})}watch(e,i){return{dispose:()=>{}}}stat(e){return{type:a.FileType.File,ctime:0,mtime:0,size:0,permissions:a.FilePermission.Readonly}}readDirectory(e){return[]}createDirectory(e){}delete(e,i){}rename(e,i,n){}}class ph extends mh{constructor(e){super();this._gitHubRepositories=e}gitHubRepositoryForOwner(e){return e?this._gitHubRepositories.find(i=>me(i.remote.owner,e)===0):this._gitHubRepositories[0]}set gitHubRepository(e){this._gitHubRepositories=[e]}async readFile(e){const i=jf(e),n=await this.tryReadFile(e,i);if(n)return n;const r=this.gitHubRepositoryForOwner(i==null?void 0:i.owner);if(!r)throw new Error(`No GitHub repository found for owner ${i.owner}`);const s=await r.getFile(i.fileName,i.branch);return this.changedFiles.set(e.toString(),{file:s,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e,i){const n=new Map;for(const[r,s]of this.changedFiles)s.modified&&n.set(a.Uri.parse(r).path,s.file);return this._gitHubRepositories[0].commit(i,e,n)}}class Qg extends mh{constructor(e){super();this.folderRepositoryManager=e}async readFile(e){const i=jf(e);if(!i||i.isEmpty)return new TextEncoder().encode("");const n=await Kg(this.folderRepositoryManager,i.fileName,i.branch,!!i.isEmpty);return this.changedFiles.set(e.toString(),{file:n,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e){var i;if(this.folderRepositoryManager.repository.state.indexChanges.length>0||this.folderRepositoryManager.repository.state.workingTreeChanges.length>0)return a.window.showWarningMessage("Please commit or stash your other changes before applying these changes."),!1;const n=[];for(const[r,s]of this.changedFiles)if(s.modified){const d=a.Uri.joinPath(this.folderRepositoryManager.repository.rootUri,a.Uri.parse(r).path);await a.workspace.fs.writeFile(d,s.file),n.push(d.fsPath)}return await this.folderRepositoryManager.repository.add(n),await this.folderRepositoryManager.repository.commit(e),((i=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:i.upstream)?(await this.folderRepositoryManager.repository.push(this.folderRepositoryManager.repository.state.HEAD.upstream.remote,this.folderRepositoryManager.repository.state.HEAD.upstream.name),!0):!1}}var Yg=Object.defineProperty,Ya=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Yg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const vh=`<<<<<<< HEAD:file.txt
A
=======
B
>>>>>>> fa7472b59e45e5b86c985a175aac33af7a8322a3:file.txt`;class Jg{constructor(e){this._conflictResolutionModel=e,Ya(this,"_createTime",0),Ya(this,"_modifiedTimes",new Map),Ya(this,"_mergedFiles",new Map),Ya(this,"_onDidChangeFile",new a.EventEmitter),Ya(this,"onDidChangeFile",this._onDidChangeFile.event),this._createTime=new Date().getTime()}get mergeResults(){return this._mergedFiles}watch(e,i){return{dispose:()=>{}}}stat(e){var i,n,r;return{type:a.FileType.File,ctime:this._createTime,mtime:(i=this._modifiedTimes.get(e.path))!=null?i:0,size:(r=(n=this._mergedFiles.get(e.path))==null?void 0:n.length)!=null?r:0}}readDirectory(e){throw new Error("Method not implemented.")}createDirectory(e){throw new Error("Method not implemented.")}async readFile(e){return this._mergedFiles.has(e.path)||this.updateFile(e.path,Wn.Buffer.from(vh)),this._mergedFiles.get(e.path)}writeFile(e,i,n){this.updateFile(e.path,i)}delete(e,i){throw new Error("Method not implemented.")}rename(e,i,n){throw new Error("Method not implemented.")}updateFile(e,i){this._mergedFiles.set(e,i),this._modifiedTimes.set(e,new Date().getTime())}clear(){const e=[];for(const i of this._mergedFiles.keys())e.push({uri:a.Uri.from({scheme:this._conflictResolutionModel.mergeScheme,path:i}),type:a.FileChangeType.Changed}),this.updateFile(i,Wn.Buffer.from(vh));this._onDidChangeFile.fire(e)}dispose(){this._onDidChangeFile.dispose(),this._mergedFiles.clear()}}class Xg{constructor(e,i,n){this._telemetry=e,this._conflictResolutionModel=i,this._githubRepositories=n,Ya(this,"_disposables",[]),Ya(this,"_mergeOutputProvider"),Ya(this,"_onExitConflictResolutionMode",new a.EventEmitter),this._mergeOutputProvider=new Jg(this._conflictResolutionModel),this._disposables.push(this._mergeOutputProvider)}async openConflict(e){const i=this._conflictResolutionModel.prHeadUri(e),n=this._conflictResolutionModel.baseUri(e),r={uri:i,title:a.l10n.t("Pull Request Head")},s={uri:n,title:a.l10n.t("{0} Branch",this._conflictResolutionModel.prBaseBranchName)},d=this._conflictResolutionModel.mergeBaseUri(e),y=this._conflictResolutionModel.mergeOutputUri(e),F={base:d,input1:r,input2:s,output:y};await Vi.executeCommand("_open.mergeEditor",F)}register(){this._disposables.push(a.workspace.registerFileSystemProvider(oi.GithubPr,new ph(this._githubRepositories),{isReadonly:!0})),this._disposables.push(a.workspace.registerFileSystemProvider(this._conflictResolutionModel.mergeScheme,this._mergeOutputProvider)),this._disposables.push(a.commands.registerCommand("pr.resolveConflict",e=>this.openConflict(e))),this._disposables.push(a.commands.registerCommand("pr.acceptMerge",async e=>this.acceptMerge(e))),this._disposables.push(a.commands.registerCommand("pr.exitConflictResolutionMode",async()=>{const e=a.l10n.t("Exit and lose changes");if(await a.window.showWarningMessage(a.l10n.t("Are you sure you want to exit conflict resolution mode? All changes will be lost."),{modal:!0},e)===e)return this.exitConflictResolutionMode(!1)})),this._disposables.push(a.commands.registerCommand("pr.completeMerge",async()=>this.exitConflictResolutionMode(!0))),this._disposables.push(new zg(this._conflictResolutionModel))}async acceptMerge(e){if(!(e instanceof a.Uri))return;const{activeTab:i}=a.window.tabGroups.activeTabGroup;if(!i||!(i.input instanceof a.TabInputTextMerge))return;if((await Vi.executeCommand("mergeEditor.acceptMerge")).successful){const r=new TextDecoder().decode(this._mergeOutputProvider.mergeResults.get(e.path));this._conflictResolutionModel.addResolution(e.path.substring(1),r)}}async enterConflictResolutionMode(){this._telemetry.sendTelemetryEvent("pr.conflictResolution.start"),await Vi.setContext(er.RESOLVING_CONFLICTS,!0),this.register(),this.openConflict(this._conflictResolutionModel.startingConflicts[0])}async exitConflictResolutionMode(e){this._telemetry.sendTelemetryEvent("pr.conflictResolution.exit",{allConflictsResolved:e.toString()}),this._mergeOutputProvider.clear(),await Vi.setContext(er.RESOLVING_CONFLICTS,!1);const i=[];for(const n of a.window.tabGroups.all)for(const r of n.tabs)r.input instanceof a.TabInputTextMerge&&r.input.result.scheme===this._conflictResolutionModel.mergeScheme&&i.push(r);await a.window.tabGroups.close(i),this._onExitConflictResolutionMode.fire(e),this.dispose()}async enterConflictResolutionAndWaitForExit(){return await this.enterConflictResolutionMode(),B(this._onExitConflictResolutionMode.event)}dispose(){this._disposables.forEach(e=>e.dispose())}}var Zg=Object.defineProperty,Vo=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Zg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class e0{constructor(e,i,n,r,s,d,y,F){this.startingConflicts=e,this.repositoryName=i,this.prBaseOwner=n,this.latestPrBaseSha=r,this.prHeadOwner=s,this.prHeadBranchName=d,this.prBaseBranchName=y,this.prMergeBaseRef=F,Vo(this,"_startingConflicts",new Map),Vo(this,"_resolvedConflicts",new Map),Vo(this,"_onAddedResolution",new a.EventEmitter),Vo(this,"onAddedResolution",this._onAddedResolution.event),Vo(this,"mergeScheme",`${oi.MergeOutput}-${new Date().getTime()}`);for(const W of e)this._startingConflicts.set(W.prHeadFilePath,W)}isResolvable(){return Array.from(this._startingConflicts.values()).every(e=>!e.filePathConflict&&!e.modeConflict)}addResolution(e,i){this._resolvedConflicts.set(e,{prHeadFilePath:e,resolvedContents:i}),this._onAddedResolution.fire()}isResolved(e){if(!this._startingConflicts.has(e))throw new Error("Not a conflict file");return this._resolvedConflicts.has(e)}get areAllConflictsResolved(){return this._resolvedConflicts.size===this._startingConflicts.size}get resolvedConflicts(){if(this._resolvedConflicts.size!==this._startingConflicts.size)throw new Error("Not all conflicts have been resolved");return this._resolvedConflicts}mergeOutputUri(e){return a.Uri.parse(`${this.mergeScheme}:/${e.prHeadFilePath}`)}mergeBaseUri(e){const i=a.Uri.file(e.prHeadFilePath);return Wa(i,oi.GithubPr,{fileName:e.prHeadFilePath,branch:this.prMergeBaseRef,owner:this.prBaseOwner})}baseUri(e){const i=a.Uri.file(e.prHeadFilePath);return Wa(i,oi.GithubPr,{fileName:e.prHeadFilePath,branch:this.latestPrBaseSha,owner:this.prBaseOwner})}prHeadUri(e){const i=a.Uri.file(e.prHeadFilePath);return Wa(i,oi.GithubPr,{fileName:e.prHeadFilePath,branch:this.prHeadBranchName,owner:this.prHeadOwner})}}var t0=Object.defineProperty,Yi=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?t0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);async function i0(t){var e;const i=t.head;if(!i)throw new Error("No head found for pull request");const n=await t.getLatestBaseCommitSha(),r=t.base.owner,s=i.owner,d=i.ref,y=(await t.githubRepository.ensure()).remote.repositoryName,F=[];if(t.item.mergeable===Xi.Conflict){const W=await t.compareBaseBranchForMerge(s,d,r,n);if(t.item.mergeable===Xi.Conflict&&W.length>=300)return;const ie=new Map;for(const de of t.fileChanges.values())de.previousFileName&&ie.set(de.previousFileName,de);const le=new Set(t.conflicts);for(const de of W){const ke=(e=t.fileChanges.get(de.filename))!=null?e:ie.get(de.filename);if(ke&&(le.size===0||le.has(ke.fileName))){const Ie=ke.fileName;let oe=!1,ye=!1,Te=!1;de.status==="modified"&&(oe=!0),(de.previous_filename||ke.previousFileName)&&(ye=!0),F.push({prHeadFilePath:Ie,contentsConflict:oe,filePathConflict:ye,modeConflict:Te})}}}return new e0(F,y,r,n,s,d,t.base.ref,t.mergeBase)}class gh extends Error{constructor(e){super();this.repository=e}get message(){return a.l10n.t("{0} has no GitHub remotes",this.repository.rootUri.toString())}}class n0 extends Error{constructor(e){super();this.repository=e}get message(){return a.l10n.t("{0} has a detached HEAD (create a branch first",this.repository.rootUri.toString())}}class r0 extends Error{constructor(e,i,n){super();this.branchName=e,this.upstreamRef=i,this.problem=n}get message(){const{upstreamRef:{remote:e,name:i},branchName:n,problem:r}=this;return a.l10n.t("The upstream ref {0} for branch {1} {2}.",`${e}/${i}`,n,r)}}const bh="ReposManagerStateContext";var Fr;(function(t){t.Initializing="Initializing",t.NeedsAuthentication="NeedsAuthentication",t.RepositoriesLoaded="RepositoriesLoaded"})(Fr||(Fr={}));var yh;(function(t){t[t.PullRequest=0]="PullRequest",t[t.IssueSearch=1]="IssueSearch"})(yh||(yh={}));const a0="templateBody",wh=class{constructor(t,e,i,n,r,s,d){this._id=t,this.context=e,this._repository=i,this.telemetry=n,this._git=r,this._credentialStore=s,this.createPullRequestHelper=d,Yi(this,"_subs"),Yi(this,"_activePullRequest"),Yi(this,"_activeIssue"),Yi(this,"_githubRepositories"),Yi(this,"_allGitHubRemotes",[]),Yi(this,"_mentionableUsers"),Yi(this,"_fetchMentionableUsersPromise"),Yi(this,"_assignableUsers"),Yi(this,"_teamReviewers"),Yi(this,"_fetchAssignableUsersPromise"),Yi(this,"_fetchTeamReviewersPromise"),Yi(this,"_gitBlameCache",{}),Yi(this,"_githubManager"),Yi(this,"_repositoryPageInformation",new Map),Yi(this,"_addedUpstreamCount",0),Yi(this,"_onDidMergePullRequest",new a.EventEmitter),Yi(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),Yi(this,"_onDidChangeActivePullRequest",new a.EventEmitter),Yi(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),Yi(this,"_onDidChangeActiveIssue",new a.EventEmitter),Yi(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),Yi(this,"_onDidLoadRepositories",new a.EventEmitter),Yi(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),Yi(this,"_onDidChangeRepositories",new a.EventEmitter),Yi(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),Yi(this,"_onDidChangeAssignableUsers",new a.EventEmitter),Yi(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),Yi(this,"_onDidChangeGithubRepositories",new a.EventEmitter),Yi(this,"onDidChangeGithubRepositories",this._onDidChangeGithubRepositories.event),Yi(this,"_onDidDispose",new a.EventEmitter),Yi(this,"onDidDispose",this._onDidDispose.event),Yi(this,"_sessionIgnoredRemoteNames",new Set),Yi(this,"_updatingRepositories"),Yi(this,"totalFetchedPages",new Map),Yi(this,"_updateMessageShown",!1),Yi(this,"_createGitHubRepositoryBulkhead",uh(1,300)),this._subs=[],this._githubRepositories=[],this._githubManager=new Go,this._subs.push(a.workspace.onDidChangeConfiguration(async y=>{y.affectsConfiguration(`${Xe}.${St}`)&&await this.updateRepositories()})),this._subs.push(s.onDidInitialize(()=>this.updateRepositories())),this.cleanStoredRepoState()}cleanStoredRepoState(){const t=new Date().valueOf()-30*864e5,e=this.context.globalState.get(hh);if(e==null?void 0:e.repos){let i=!1;Object.keys(e.repos).forEach(n=>{var r;((r=e.repos[n].stateModifiedTime)!=null?r:0)<t&&(i=!0,delete e.repos[n])}),i&&this.context.globalState.update(hh,e)}}get id(){return`${wh.ID}+${this._id}`}get gitHubRepositories(){return this._githubRepositories}async computeAllUnknownRemotes(){const e=Aa(this.repository).filter(s=>s.host),i=await Promise.all(e.map(s=>this._githubManager.isGitHub(s.gitProtocol.normalizeUri()))).catch(s=>(f.error(`Resolving GitHub remotes failed: ${s}`),a.window.showErrorMessage(a.l10n.t("Resolving GitHub remotes failed: {0}",$(s))),[])),n=[];let r=0;for(const s of e)i[r]===ln.None&&n.push(s),r++;return n}async computeAllGitHubRemotes(){const e=Aa(this.repository).filter(s=>s.host),i=await Promise.all(e.map(s=>this._githubManager.isGitHub(s.gitProtocol.normalizeUri()))).catch(s=>(f.error(`Resolving GitHub remotes failed: ${s}`),a.window.showErrorMessage(a.l10n.t("Resolving GitHub remotes failed: {0}",$(s))),[])),n=[];let r=0;for(const s of e)i[r]!==ln.None&&n.push(ms.remoteAsGitHub(s,i[r])),r++;return n}async getActiveGitHubRemotes(t){const e=a.workspace.getConfiguration(Xe).get(St);if(!e)return f.error("Unable to read remotes setting"),Promise.resolve([]);const i=e.filter(n=>!t.some(r=>r.remoteName===n));return i.length===e.length?f.warn(`No remotes found. The following remotes are missing: ${i.join(", ")}`):f.debug(`Not all remotes found. The following remotes are missing: ${i.join(", ")}`,this.id),f.debug(`Displaying configured remotes: ${e.join(", ")}`,this.id),e.map(n=>t.find(r=>r.remoteName===n)).filter(n=>!!n&&!this._sessionIgnoredRemoteNames.has(n.remoteName))}get activeIssue(){return this._activeIssue}set activeIssue(t){this._activeIssue=t,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(t){var e,i;if(t===this._activePullRequest)return;const n=(e=this._activePullRequest)==null?void 0:e.number;this._activePullRequest&&(this._activePullRequest.isActive=!1),t&&(t.isActive=!0,(i=t.githubRepository.commentsHandler)==null||i.unregisterCommentController(t.number));const r=t==null?void 0:t.number;this._activePullRequest=t,this._onDidChangeActivePullRequest.fire({old:n,new:r})}get repository(){return this._repository}set repository(t){this._repository=t}get credentialStore(){return this._credentialStore}setFileViewedContext(){var t;const e=(t=this.activePullRequest)==null?void 0:t.getViewedFileStates();e?(Vi.setContext(er.VIEWED_FILES,Array.from(e.viewed)),Vi.setContext(er.UNVIEWED_FILES,Array.from(e.unviewed))):this.clearFileViewedContext()}clearFileViewedContext(){Vi.setContext(er.VIEWED_FILES,[]),Vi.setContext(er.UNVIEWED_FILES,[])}async loginAndUpdate(){if(!this._credentialStore.isAnyAuthenticated()){const t=new Promise(e=>{const i=this.onDidChangeRepositories(()=>{i.dispose(),e()})});await this._credentialStore.login(ki.github),await t}}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const t=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return t.length?(await a.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),f.appendLine(`Found GitHub remote for folder ${this.repository.rootUri.fsPath}`)):f.appendLine(`No GitHub remotes found for folder ${this.repository.rootUri.fsPath}`),t}async updateRepositories(t=!1){return this._updatingRepositories&&await this._updatingRepositories,this._updatingRepositories=this.doUpdateRepositories(t),this._updatingRepositories}checkForAuthMatch(t){let e=0,i=0;for(const r of t)r.githubServerType===ln.GitHubDotCom?e++:r.githubServerType===ln.Enterprise&&i++;let n=this._credentialStore.isAuthenticated(ki.github)||this._credentialStore.isAuthenticated(ki.githubEnterprise);return e>0&&this._credentialStore.isAuthenticated(ki.github)||i>0&&this._credentialStore.isAuthenticated(ki.githubEnterprise)||n&&(n=!1),a.commands.executeCommand("setContext","github:authenticated",n),n}async doUpdateRepositories(t){if(this._git.state==="uninitialized")return f.appendLine("Cannot updates repositories as git is uninitialized"),!1;const e=await this.getActiveRemotes(),i=this.checkForAuthMatch(e);if(this.credentialStore.isAnyAuthenticated()&&e.length===0&&(await this.computeAllUnknownRemotes()).every(W=>Go.isNeverGitHub(a.Uri.parse(W.normalizedHost).authority)))return this._onDidLoadRepositories.fire(Fr.RepositoriesLoaded),!0;const n=[],r=[],s=[];this._githubRepositories.forEach(F=>s.push(F));const d=e.filter(F=>this._credentialStore.isAuthenticated(F.authProviderId));for(const F of d){const W=await this.createGitHubRepository(F,this._credentialStore);r.push(W.resolveRemote()),n.push(W)}const y=async F=>{for(const W of F){this._sessionIgnoredRemoteNames.add(W.remote.remoteName),this.removeGitHubRepository(W.remote);const ie=n.indexOf(W);ie>-1&&n.splice(ie,1)}};return Promise.all(r).then(async F=>{const W=[];for(let le=0;le<F.length;le++)F[le]||W.push(n[le]);if(W.length>0){const le=await this._credentialStore.showSamlMessageAndAuth(W.map(Ie=>Ie.remote.owner)),de=le.canceled?[]:await Promise.all(W.map(Ie=>Ie.resolveRemote())),ke=le.canceled?W:de.map((Ie,oe)=>Ie?void 0:W[oe]).filter(Ie=>!!Ie);if(ke.length>0){if(ke.length===n.length)return await a.window.showErrorMessage(a.l10n.t("SAML access was not provided. GitHub Pull Requests will not work."),{modal:!0}),this.dispose(),!0;await a.window.showErrorMessage(a.l10n.t("SAML access was not provided. Some GitHub repositories will not be available."),{modal:!0}),y(ke)}}this._githubRepositories=n,s.filter(le=>this._githubRepositories.indexOf(le)<0).forEach(le=>le.dispose());const ie=s.length!==this._githubRepositories.length?this.gitHubRepositories.filter(le=>!s.some(de=>de.remote.equals(le.remote))):[];return ie.length>0&&this._onDidChangeGithubRepositories.fire(this._githubRepositories),this._githubRepositories.length&&ie.length>0&&await this.checkIfMissingUpstream()?(this.updateRepositories(t),!0):(this.activePullRequest&&this.getMentionableUsers(ie.length>0),this.getAssignableUsers(ie.length>0),i&&e.length?this._onDidLoadRepositories.fire(Fr.RepositoriesLoaded):i||this._onDidLoadRepositories.fire(Fr.NeedsAuthentication),t||this._onDidChangeRepositories.fire({added:ie.length>0}),!0)})}async checkIfMissingUpstream(){var t;try{const i=await(await this.getOrigin()).getMetadata(),n=a.workspace.getConfiguration(Xe);if(i.fork&&i.parent&&n.get(mi,"add")==="add"){const r=new cn(i.parent.git_url);if(!this._githubRepositories.some(d=>me(d.remote.owner,r.owner)===0&&me(d.remote.repositoryName,r.repositoryName)===0)){const y=!this.repository.state.remotes.some(F=>F.name==="upstream")?"upstream":(t=i.parent.owner)==null?void 0:t.login;if(y){if(this.gitHubRepositories[0].remote.gitProtocol.type===ur.SSH?await this.repository.addRemote(y,i.parent.ssh_url):await this.repository.addRemote(y,i.parent.clone_url),this._addedUpstreamCount++,this._addedUpstreamCount>1){const W=a.l10n.t("Set to `never`");a.window.showInformationMessage(a.l10n.t("An `upstream` remote has been added for this repository. You can disable this feature by setting `githubPullRequests.upstreamRemote` to `never`."),W).then(ie=>{ie===W&&n.update(mi,"never",a.ConfigurationTarget.Global)})}return!0}}}}catch(e){f.appendLine(`Missing upstream check failed: ${e}`)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const t=[];return Object.keys(this._assignableUsers).forEach(e=>{t.push(...this._assignableUsers[e])}),t}}async getCachedFromGlobalState(t){f.appendLine(`Trying to use globalState for ${t}.`);const e=a.Uri.joinPath(this.context.globalStorageUri,t);let i;try{i=await a.workspace.fs.stat(e)}catch(s){}if(!i){f.appendLine(`GlobalState does not exist for ${t}.`);return}const n={};if((await Promise.all(this._githubRepositories.map(async s=>{const d=`${s.remote.owner}/${s.remote.repositoryName}.json`,y=a.Uri.joinPath(e,d);let F,W;try{F=await a.workspace.fs.readFile(y),W=JSON.parse(F.toString())}catch(ie){ie instanceof Error&&ie.message.includes("Unexpected non-whitespace character after JSON")&&f.error(`Error parsing ${t} cache for ${s.remote.remoteName}.`)}if(F&&F.toString())return n[s.remote.remoteName]=W!=null?W:[],!0}))).every(s=>s))return f.appendLine(`Using globalState ${t} for ${Object.keys(n).length}.`),n;f.appendLine(`No globalState for ${t}.`)}async saveInGlobalState(t,e){const i=a.Uri.joinPath(this.context.globalStorageUri,t);await Promise.all(this._githubRepositories.map(async n=>{const r=`${n.remote.owner}/${n.remote.repositoryName}.json`,s=a.Uri.joinPath(i,r);await a.workspace.fs.writeFile(s,new TextEncoder().encode(JSON.stringify(e[n.remote.remoteName])))}))}createFetchMentionableUsersPromise(){const t={};return new Promise(e=>{const i=this._githubRepositories.map(async n=>{const r=await n.getMentionableUsers();t[n.remote.remoteName]=r});Promise.all(i).then(()=>{this._mentionableUsers=t,this._fetchMentionableUsersPromise=void 0,this.saveInGlobalState("mentionableUsers",t).then(()=>e(t))})})}async getMentionableUsers(t){if(t&&delete this._mentionableUsers,this._mentionableUsers)return f.appendLine("Using in-memory cached mentionable users."),this._mentionableUsers;const e=await this.getCachedFromGlobalState("mentionableUsers");return this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),e!=null?e:this._fetchMentionableUsersPromise)}async getAssignableUsers(t){if(t&&delete this._assignableUsers,this._assignableUsers)return f.appendLine("Using in-memory cached assignable users."),this._assignableUsers;const e=await this.getCachedFromGlobalState("assignableUsers");if(!this._fetchAssignableUsersPromise){const i={},n=[];return this._fetchAssignableUsersPromise=new Promise(r=>{const s=this._githubRepositories.map(async d=>{const y=await d.getAssignableUsers();i[d.remote.remoteName]=y.sort(If),n.push(...y)});Promise.all(s).then(()=>{this._assignableUsers=i,this._fetchAssignableUsersPromise=void 0,this.saveInGlobalState("assignableUsers",i),r(i),this._onDidChangeAssignableUsers.fire(n)})}),e!=null?e:this._fetchAssignableUsersPromise}return this._fetchAssignableUsersPromise}async getTeamReviewers(t){if(t===fs.Force&&delete this._teamReviewers,this._teamReviewers)return f.appendLine("Using in-memory cached team reviewers."),this._teamReviewers;const e=t===fs.Force?void 0:await this.getCachedFromGlobalState("teamReviewers");if(e)return this._teamReviewers=e,e||{};if(!this._fetchTeamReviewersPromise){const i={};return this._fetchTeamReviewersPromise=new Promise(async n=>{var r;const s=new Map;for(const d of this._githubRepositories){if(!s.has(d.remote.owner))try{const F=await d.getOrgTeams(t);s.set(d.remote.owner,F)}catch(F){break}const y=(r=s.get(d.remote.owner))!=null?r:[];i[d.remote.remoteName]=y.filter(F=>F.repositoryNames.includes(d.remote.repositoryName)).sort(ig)}this._teamReviewers=i,this._fetchTeamReviewersPromise=void 0,this.saveInGlobalState("teamReviewers",i),n(i)})}return this._fetchTeamReviewersPromise}createFetchOrgProjectsPromise(){const t={};return new Promise(async e=>{var i;const n=new Map;for(const r of this._githubRepositories){if(!n.has(r.remote.owner))try{const s=await r.getOrgProjects();n.set(r.remote.owner,s)}catch(s){break}t[r.remote.remoteName]=(i=n.get(r.remote.owner))!=null?i:[]}await this.saveInGlobalState("orgProjects",t),e(t)})}async getOrgProjects(t){if(t)return this.createFetchOrgProjectsPromise();const e=await this.getCachedFromGlobalState("orgProjects");return e!=null?e:this.createFetchOrgProjectsPromise()}async getAllProjects(t,e){const i=!!(await t.getMetadata()).organization,[n,r]=await Promise.all([t.getProjects(),i?this.getOrgProjects(e):void 0]);return[...n!=null?n:[],...r?r[t.remote.remoteName]:[]]}async getOrgTeamsCount(t){return(await t.getMetadata()).organization?t.getOrgTeamsCount():0}async getPullRequestParticipants(t,e){return{participants:await t.getPullRequestParticipants(e),viewer:await this.getCurrentUser(t)}}async getGitHubRemotes(){const t=this._githubRepositories;if(!t||!t.length)return[];const e=t.map(r=>r.remote).flat(),i=await Promise.all(e.map(r=>this._githubManager.isGitHub(r.gitProtocol.normalizeUri()))).catch(r=>(f.error(`Resolving GitHub remotes failed: ${r}`),a.window.showErrorMessage(a.l10n.t("Resolving GitHub remotes failed: {0}",$(r))),[])),n=e.map((r,s)=>ms.remoteAsGitHub(r,i[s]));return this.checkForAuthMatch(n)?n:[]}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const t=this._githubRepositories;if(!t||!t.length||!this.repository.getRefs)return[];const e=(await this.repository.getRefs({pattern:"refs/heads/"})).filter(s=>s.name!==void 0).map(s=>s.name),i=[],n=100;for(let s=0;s<e.length;s+=n){const d=e.slice(s,s+n);i.push(d)}const r=[];for(const s of i)r.push(...await Promise.all(s.map(async d=>{const y=await Ir.getMatchingPullRequestMetadataForBranch(this.repository,d);if(y){const{owner:F,prNumber:W}=y,ie=t.find(le=>le.remote.owner.toLocaleLowerCase()===F.toLocaleLowerCase());if(ie){const le=await ie.getPullRequest(W);if(le)return le.localBranchName=d,le}}})));return r.filter(s=>s!==void 0)}async getLabels(t,e){const i=t?t.githubRepository:this._githubRepositories.find(F=>F.remote.owner===(e==null?void 0:e.owner)&&F.remote.repositoryName===(e==null?void 0:e.repo));if(!i)throw new Error("No matching repository found for getting labels.");const{remote:n,octokit:r}=await i.ensure();let s=!1,d=1,y=[];do{const F=await r.call(r.api.issues.listLabelsForRepo,{owner:n.owner,repo:n.repositoryName,per_page:100,page:d});y=y.concat(F.data.map(W=>{var ie;return{name:W.name,color:W.color,description:(ie=W.description)!=null?ie:void 0}})),y=y.sort((W,ie)=>W.name.localeCompare(ie.name)),s=!!F.headers.link&&F.headers.link.indexOf('rel="next"')>-1,d+=1}while(s);return y}async deleteLocalPullRequest(t,e){if(!t.localBranchName)return;await this.repository.deleteBranch(t.localBranchName,e);let i;try{i=await this.repository.getConfig(`branch.${t.localBranchName}.remote`)}catch(r){}if(!i)return;await Ir.isRemoteCreatedForPullRequest(this.repository,i)&&((await this.repository.getConfigs()).some(({key:d,value:y})=>/^branch.*\.remote$/.test(d)&&y===i)||await this.repository.removeRemote(i)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(t={fetchNextPage:!1},e,i=0,n=Ki.All,r){const s=i===0?this._githubRepositories.filter(de=>this.repository.state.remotes.find(ke=>ke.name===de.remote.remoteName)):this._githubRepositories;if(!s.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:0};const d=()=>this.totalFetchedPages.get(e)||0,y=de=>this.totalFetchedPages.set(e,de);for(const de of s){const ke=de.remote.url.toString()+e;this._repositoryPageInformation.get(ke)||this._repositoryPageInformation.set(ke,{pullRequestPage:0,hasMorePages:null})}let F=0;const W={hasMorePages:!1,items:[],totalCount:0},ie=de=>{F++,de&&(W.items=W.items.concat(de.items),W.hasMorePages=de.hasMorePages,W.totalCount=de.totalCount)},le=this._githubRepositories.filter(de=>{const ke=this._repositoryPageInformation.get(de.remote.url.toString()+e);return ke&&(t.fetchNextPage===!1||ke.hasMorePages!==!1)});for(let de=0;de<le.length;de++){const ke=le[de],Ie=ke.remote.url.toString()+e;let oe=this._repositoryPageInformation.get(Ie);oe||(f.warn(`No page information for ${Ie}`),oe={pullRequestPage:0,hasMorePages:null},this._repositoryPageInformation.set(Ie,oe));const ye=oe,Te=async Fe=>{const qe=r?await Gs(r,void 0,{base:await ke.getDefaultBranch(),owner:ke.remote.owner,repo:ke.remote.repositoryName}):void 0;switch(i){case 0:return n===Ki.All?ke.getAllPullRequests(Fe):ke.getPullRequestsForCategory(qe||"",Fe);case 1:return ke.getIssues(ye.pullRequestPage,qe)}};if(t.fetchNextPage?(ye.pullRequestPage++,ie(await Te(ye.pullRequestPage)),y(d()+1)):(ye.pullRequestPage===0&&(ye.pullRequestPage=1),(await Promise.all(Array.from({length:ye.pullRequestPage}).map((qe,He)=>Te(He+1)))).forEach(qe=>ie(qe))),ye.hasMorePages=W.hasMorePages,W.items.length&&(t.fetchNextPage||t.fetchNextPage===!1&&!t.fetchOnePagePerRepo&&F>=d()))return d()===0&&y(F),{items:W.items,hasMorePages:ye.hasMorePages,hasUnsearchedRepositories:de<le.length-1,totalCount:W.totalCount}}return{items:W.items,hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:W.totalCount}}async getPullRequests(t,e={fetchNextPage:!1},i){const n=t.toString()+(i||"");return this.fetchPagedData(e,n,0,t,i)}async createMilestone(t,e){try{const{data:i}=await t.octokit.call(t.octokit.api.issues.createMilestone,{owner:t.remote.owner,repo:t.remote.repositoryName,title:e});return{title:i.title,dueOn:i.due_on,createdAt:i.created_at,id:i.node_id,number:i.number}}catch(i){a.window.showErrorMessage(a.l10n.t(`Failed to create a milestone
{0}`,$(i)));return}}async getRepoForIssue(t){const e=new Ll(t.repositoryName,t.repositoryUrl,new cn(t.repositoryUrl));return this.createGitHubRepository(e,this.credentialStore,!0,!0)}async getIssues(t){if(this.gitHubRepositories.length!==0)try{const e=await this.fetchPagedData({fetchNextPage:!1,fetchOnePagePerRepo:!1},`issuesKey${t}`,1,Ki.All,t),i={items:[],hasMorePages:e.hasMorePages,hasUnsearchedRepositories:e.hasUnsearchedRepositories,totalCount:e.totalCount};for(const n of e.items){const r=await this.getRepoForIssue(n);i.items.push(new ir(r,r.remote,n))}return i}catch(e){return f.error(`Error fetching issues with query ${t}: ${e instanceof Error?e.message:e}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[],totalCount:0}}}async getMaxIssue(){const t=await Promise.all(this._githubRepositories.map(i=>i.getMaxIssue()));let e=0;for(const i of t)i!==void 0&&(e=Math.max(e,i));return e}async getIssueTemplates(){const t="{docs,.github}/ISSUE_TEMPLATE/*.md";return a.workspace.findFiles(new a.RelativePattern(this._repository.rootUri,t),null)}async getPullRequestTemplateBody(t){try{const e=await this.getPullRequestTemplateWithCache(t);return e||this.getOwnerPullRequestTemplate(t)}catch(e){f.error(`Error fetching pull request template for ${t}: ${e instanceof Error?e.message:e}`,this.id)}}async getPullRequestTemplateWithCache(t){const e=`${a0}+${this.repository.rootUri.toString()}`,i=this.getPullRequestTemplate(t).then(s=>(s?this.context.workspaceState.update(e,s):this.context.workspaceState.update(e,null),s)),n=this.context.workspaceState.keys().includes(e),r=this.context.workspaceState.get(e);if(n){if(r===null)return;if(r)return r}return i}async getOwnerPullRequestTemplate(t){const e=await this.createGitHubRepositoryFromOwnerName(t,".github");if(!e)return;const i=await e.getPullRequestTemplates();if(i&&(i==null?void 0:i.length)>0)return i[0]}async getPullRequestTemplate(t){const e=this.gitHubRepositories.find(n=>n.remote.owner===t);if(!e)return;const i=await e.getPullRequestTemplates();return i?i[0]:void 0}async getPullRequestDefaults(t){var e,i;if(!t&&!this.repository.state.HEAD)throw new n0(this.repository);const n=await this.getOrigin(t),r=await n.getMetadata(),s=(e=a.workspace.getConfiguration(Xe).inspect(St))==null?void 0:e.defaultValue,d=a.workspace.getConfiguration(Xe).get(St),y=!d||(s==null?void 0:s.every((W,ie)=>d[ie]===W)),F=r.fork&&r.parent&&y?r.parent:await(this.findRepo(Xs("upstream"))||n).getMetadata();return{owner:F.owner.login,repo:F.name,base:(i=Bf())!=null?i:F.default_branch}}async getPullRequestDefaultRepo(){const t=await this.getPullRequestDefaults();return this.findRepo(e=>e.remote.owner===t.owner&&e.remote.repositoryName===t.repo)||this._githubRepositories[0]}async getMetadata(t){const e=this.findRepo(Xs(t));return e&&e.getMetadata()}async getHeadCommitMessage(){const{repository:t}=this;if(t.state.HEAD&&t.state.HEAD.commit){const{message:e}=await t.getCommit(t.state.HEAD.commit);return e}return""}async getTipCommitMessage(t){f.debug(`Git tip message for branch ${t} - enter`,this.id);const{repository:e}=this;let{commit:i}=await e.getBranch(t),n="",r=0;do{if(i){let s=await e.getCommit(i);if(s.parents.length<=1){n=s.message;break}else i=s.parents[0]}r++}while(n===""&&i&&r<5);return f.debug(`Git tip message for branch ${t} - done`,this.id),n}async getOrigin(t){if(!this._githubRepositories.length)throw new gh(this.repository);const e=t?t.upstream:this.upstreamRef;if(e){const r=this.findRepo(Xs(e.remote));if(!r){const s=(await this.getAllGitHubRemotes()).find(d=>d.remoteName===e.remote);if(s)return this.createAndAddGitHubRepository(s,this._credentialStore);throw f.error(`The remote '${e.remote}' is not a GitHub repository.`),new r0(this.repository.state.HEAD.name,e,"is not a GitHub repo")}return r}const[i,...n]=this._githubRepositories;return n.length&&(this.findRepo(Xs("origin"))||this.findRepo(s0))||i}findRepo(t){return this._githubRepositories.filter(t)[0]}get upstreamRef(){const{HEAD:t}=this.repository.state;return t&&t.upstream}async createPullRequest(t){var e;const i=this._githubRepositories.find(r=>r.remote.owner===t.owner&&r.remote.repositoryName===t.repo);if(!i)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);let n;try{n=await i.createPullRequest(t);const r=t.head.indexOf(":"),s=t.head.slice(r+1);return await Ir.associateBranchWithPullRequest(this._repository,n,s),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(t.draft||"").toString()}),n}catch(r){if(r.message.indexOf("No commits between ")>-1){if((e=this._repository.state.HEAD)==null?void 0:e.ahead){const s=a.l10n.t({message:"Push Commits",comment:"Pushes the local commits to the remote."});return await a.window.showInformationMessage(a.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to push your local commits and create the pull request?`,t.base,t.head),{modal:!0},s)===s?(await this._repository.push(),this.createPullRequest(t)):void 0}if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length){const s=a.l10n.t("Commit Changes");return await a.window.showInformationMessage(a.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to commit your changes and create the pull request?`,t.base,t.head),{modal:!0},s)===s?(await this._repository.add(this._repository.state.indexChanges.map(y=>y.uri.fsPath)),await this.repository.commit(`${t.title}${t.body?`
${t.body}`:""}`),await this._repository.push(),this.createPullRequest(t)):void 0}}if(f.error(`Creating pull requests failed: ${r}`,this.id),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(t.draft||"").toString()}),n)return n;throw new Error($(r))}}async createIssue(t){try{const e=this._githubRepositories.find(s=>s.remote.owner===t.owner&&s.remote.repositoryName===t.repo);if(!e)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);await e.ensure();const{data:i}=await e.octokit.call(e.octokit.api.issues.create,t),n=Wv(i,e),r=new ir(e,e.remote,n);return this.telemetry.sendTelemetryEvent("issue.create.success"),r}catch(e){f.error(` Creating issue failed: ${e}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),a.window.showWarningMessage(a.l10n.t("Creating issue failed: {0}",$(e)))}}async assignIssue(t,e){try{const i=this._githubRepositories.find(r=>r.remote.owner===t.remote.owner&&r.remote.repositoryName===t.remote.repositoryName);if(!i)throw new Error(`No matching repository ${t.remote.repositoryName} found for ${t.remote.owner}`);await i.ensure();const n={assignees:[e],owner:t.remote.owner,repo:t.remote.repositoryName,issue_number:t.number};await i.octokit.call(i.octokit.api.issues.addAssignees,n),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(i){f.error(`Assigning issue failed: ${i}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),a.window.showWarningMessage(a.l10n.t("Assigning issue failed: {0}",$(i)))}}getCurrentUser(t){return t||(t=this.gitHubRepositories[0]),this._credentialStore.getCurrentUser(t.remote.authProviderId)}async mergePullRequest(t,e,i,n,r){var s,d,y;f.debug(`Merging PR: ${t.number} method: ${n} for user: "${r}" - enter`,this.id);const{mutate:F,schema:W}=await t.githubRepository.ensure(),ie=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,le=this.repository.state.HEAD&&this.repository.state.HEAD.commit,de=t.head&&t.head.sha,ke=this.repository.state.workingTreeChanges.length>0;let Ie=(s=t.head)==null?void 0:s.sha;if(ie===de){if(Ie=le,le!==de){const{ahead:ye}=this.repository.state.HEAD,Te=a.l10n.t(`You have {0} unpushed commits on this PR branch.

Would you like to proceed anyway?`,ye!=null?ye:"unknown"),Fe=a.l10n.t(`You have 1 unpushed commit on this PR branch.

Would you like to proceed anyway?`);if(ye&&await a.window.showWarningMessage(ye>1?Te:Fe,{modal:!0},a.l10n.t("Yes"))===void 0)return{merged:!1,message:a.l10n.t("unpushed changes")}}if(ke&&await a.window.showWarningMessage(a.l10n.t(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`),{modal:!0},a.l10n.t("Yes"))===void 0)return{merged:!1,message:a.l10n.t("uncommitted changes")}}const oe={pullRequestId:t.graphNodeId,commitHeadline:e,commitBody:i,expectedHeadOid:Ie,authorEmail:r,mergeMethod:(y=n==null?void 0:n.toUpperCase())!=null?y:(d=a.workspace.getConfiguration(Xe).get(xt,"merge"))==null?void 0:d.toUpperCase()};return F({mutation:W.MergePullRequest,variables:{input:oe}}).then(ye=>{var Te,Fe;return f.debug(`Merging PR: ${t.number}} - done`,this.id),this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),{merged:!0,message:"",timeline:nc((Fe=(Te=ye.data)==null?void 0:Te.mergePullRequest.pullRequest.timelineItems.nodes)!=null?Fe:[],t.githubRepository)}}).catch(ye=>{this.telemetry.sendTelemetryErrorEvent("pr.merge.failure");const Te=ye.graphQLErrors;if((Te==null?void 0:Te.length)&&Te.find(Fe=>{var qe;return Fe.type===ec.Unprocessable&&((qe=Fe.message)==null?void 0:qe.includes("Head branch was modified"))}))return{merged:!1,message:a.l10n.t("Head branch was modified. Pull, review, then try again.")};throw ye})}async deleteBranch(t){await t.githubRepository.deleteBranch(t)}async getBranchDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(r=>{const s=r.key,d=/^branch\.(.*)\.(.*)$/.exec(s);if(d&&d.length===3){const y=d[1];e.has(y)||e.set(y,{});const F=e.get(y);if(d[2]==="remote"&&(F.remote=r.value),d[2]==="github-pr-owner-number"){const W=Ir.parsePullRequestMetadata(r.value);F.metadata=W}e.set(y,F)}});const i=[];e.forEach((r,s)=>{if(r.metadata){const d=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl;(d?d.owner===r.metadata.owner&&d.repositoryName===r.metadata.repositoryName&&this.activePullRequest&&this.activePullRequest.number===r.metadata.prNumber:!1)||i.push({label:`${s}`,description:`${r.metadata.repositoryName}/${r.metadata.owner} #${r.metadata.prNumber}`,picked:!1,metadata:r.metadata})}});const n=await Promise.all(i.map(async r=>{var s;const d=r.metadata,y=this._githubRepositories.find(le=>le.remote.owner.toLowerCase()===d.owner.toLowerCase()&&le.remote.repositoryName.toLowerCase()===d.repositoryName.toLowerCase());if(!y)return r;const{remote:F,query:W,schema:ie}=await y.ensure();try{const{data:le}=await W({query:ie.PullRequestState,variables:{owner:F.owner,name:F.repositoryName,number:d.prNumber}});r.legacy=((s=le.repository)==null?void 0:s.pullRequest.state)!=="OPEN"}catch{}return r}));return n.forEach(r=>{r.legacy?r.picked=!0:r.description=a.l10n.t("{0} is still Open",r.description)}),n}gitRelativeRootPath(t){return m.relative(this._repository.rootUri.path,t).replace(/\\/g,"/")}async cleanupAfterPullRequest(t,e){var i;const n=await this.getPullRequestDefaults();if(t===n.base){f.debug("Not cleaning up default branch.",this.id);return}if(e.author.login===(await this.getCurrentUser()).login){f.debug("Not cleaning up user's branch.",this.id);return}const s=(i=(await this.repository.getBranch(t)).upstream)==null?void 0:i.remote;try{f.debug(`Cleaning up branch ${t}`,this.id),await this.repository.deleteBranch(t)}catch(y){return}if(!s)return;const d=await this.getDeleatableRemotes(void 0);d.has(s)&&d.get(s).createdForPullRequest&&(f.debug(`Cleaning up remote ${s}`,this.id),this.repository.removeRemote(s))}async getDeleatableRemotes(t){const e=await this.repository.getConfigs(),i=new Map;return e.forEach(n=>{const r=n.key;let s=/^branch\.(.*)\.(.*)$/.exec(r);if(s&&s.length===3){const d=s[1];if(s[2]==="remote"){const y=n.value;i.has(y)||i.set(y,{branches:new Set}),(t==null?void 0:t.has(d))||i.get(y).branches.add(d)}}if(s=/^remote\.(.*)\.(.*)$/.exec(r),s&&s.length===3){const d=s[1];i.has(d)||i.set(d,{branches:new Set});const y=i.get(d);s[2]==="github-pr-remote"&&(y.createdForPullRequest=n.value==="true"),s[2]==="url"&&(y.url=n.value)}}),i}async getRemoteDeletionItems(t){const e=await this.getDeleatableRemotes(t),i=[];return e.forEach((n,r)=>{if(n.branches.size===0){let s=n.createdForPullRequest?"":a.l10n.t("Not created by GitHub Pull Request extension");n.url&&(s=s?`${s} ${n.url}`:n.url),i.push({label:r,description:s,picked:n.createdForPullRequest,remote:r})}}),i}async deleteBranches(t,e,i,n,r,s){const d=()=>{r++,i.report({message:a.l10n.t("Deleted {0} of {1} branches",r,n)})},y=async F=>{await Ir.associateBranchWithPullRequest(this.repository,void 0,F)};await at(t,5,async F=>{try{await this.repository.deleteBranch(F.label,!0),await Ir.getMatchingPullRequestMetadataForBranch(this.repository,F.label)&&await y(F.label),d()}catch(W){if(typeof W.stderr=="string"&&W.stderr.includes("not found"))e.add(F.label),await y(F.label),d();else if(typeof W.stderr=="string"&&W.stderr.includes("unable to access")&&s)s.push(F);else throw W}}),s&&s.length&&await this.deleteBranches(s,e,i,n,r)}async deleteLocalBranchesNRemotes(){return new Promise(async t=>{const e=a.window.createQuickPick();e.canSelectMany=!0,e.ignoreFocusOut=!0,e.placeholder=a.l10n.t("Choose local branches you want to delete permanently"),e.show(),e.busy=!0;const i=await this.getBranchDeletionItems(),n=await this.getPullRequestDefaults();e.items=i,e.selectedItems=i.filter(s=>s.picked&&!(s.label===n.base&&s.metadata.owner===n.owner&&s.metadata.repositoryName===n.repo)),e.busy=!1,i.length===0&&(e.canSelectMany=!1,e.items=[{label:a.l10n.t("No local branches to delete"),picked:!1}]);let r=!0;e.onDidAccept(async()=>{if(e.busy=!0,r){const s=e.selectedItems,d=new Set;s.length&&await a.window.withProgress({location:a.ProgressLocation.Notification,title:a.l10n.t("Cleaning up")},async F=>{try{await this.deleteBranches(s,d,F,s.length,0,[])}catch(W){e.hide(),a.window.showErrorMessage(a.l10n.t("Deleting branches failed: {0} {1}",W.message,W.stderr))}}),r=!1;const y=await this.getRemoteDeletionItems(d);y&&y.length?(e.canSelectMany=!0,e.placeholder=a.l10n.t("Choose remotes you want to delete permanently"),e.items=y,e.selectedItems=y.filter(F=>F.picked)):e.hide()}else{const s=e.selectedItems;s.length&&await a.window.withProgress({location:a.ProgressLocation.Notification,title:a.l10n.t("Deleting {0} remotes...",s.length)},async()=>{await at(s,5,async d=>{await this.repository.removeRemote(d.label)})}),e.hide()}e.busy=!1}),e.onDidHide(()=>{t()})})}async revert(t,e,i,n){const r=this._githubRepositories.find(d=>d.remote.owner===t.remote.owner&&d.remote.repositoryName===t.remote.repositoryName);if(!r)throw new Error(`No matching repository ${t.remote.repositoryName} found for ${t.remote.owner}`);return await r.revertPullRequest(t.graphNodeId,e,i,n)}async getPullRequestRepositoryDefaultBranch(t){return await t.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(t){return await t.githubRepository.getRepoAccessAndMergeMethods()}async mergeQueueMethodForBranch(t,e,i){var n;return await((n=this.gitHubRepositories.find(r=>r.remote.owner===e&&r.remote.repositoryName===i))==null?void 0:n.mergeQueueMethodForBranch(t))}async fulfillPullRequestMissingInfo(t){try{if(!t.isResolved())return;f.debug("Fulfill pull request missing info - start",this.id);const e=t.githubRepository,{octokit:i,remote:n}=await e.ensure();if(!t.base){const{data:r}=await i.call(i.api.pulls.get,{owner:n.owner,repo:n.repositoryName,pull_number:t.number});t.update(Dl(r,e))}if(!t.mergeBase){const{data:r}=await i.call(i.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${t.base.repositoryCloneUrl.owner}:${t.base.ref}`,head:`${t.head.repositoryCloneUrl.owner}:${t.head.ref}`});t.mergeBase=r.merge_base_commit.sha}}catch(e){a.window.showErrorMessage(a.l10n.t("Fetching Pull Request merge base failed: {0}",$(e)))}f.debug("Fulfill pull request missing info - done",this.id)}async resolveItem(t,e){let i=this._githubRepositories.find(n=>n.remote.owner.toLowerCase()===t.toLowerCase()&&n.remote.repositoryName.toLowerCase()===e.toLowerCase());return i||(f.appendLine(`GitHubRepository not found: ${t}/${e}`,this.id),i=await this.createGitHubRepositoryFromOwnerName(t,e)),i}async resolveIssueOrPullRequest(t,e,i){let n=await this.resolveIssue(t,e,i,!0);return n||(n=await this.resolvePullRequest(t,e,i)),n}async resolvePullRequest(t,e,i){const n=await this.resolveItem(t,e);if(f.appendLine(`Found GitHub repo for pr #${i}: ${n?"yes":"no"}`,this.id),n){const r=await n.getPullRequest(i);return f.appendLine(`Found GitHub pr repo for pr #${i}: ${r?"yes":"no"}`,this.id),r}}async resolveIssue(t,e,i,n=!1){const r=await this.resolveItem(t,e);if(r)return r.getIssue(i,n)}async resolveUser(t,e,i){var n;f.debug(`Fetch user ${i}`,this.id);const r=await this.createGitHubRepositoryFromOwnerName(t,e),{query:s,schema:d}=await r.ensure();try{const{data:y}=await s({query:d.GetUser,variables:{login:i}});return rg(y,r)}catch(y){((n=y.message)==null?void 0:n.startsWith("GraphQL error: Could not resolve to a User with the login of"))||f.warn(y.message)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await Ir.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(t,e,i,n){try{return e?this.getMatchingPullRequestMetadataFromGitHubWithRemoteName(e,n):this.getMatchingPullRequestMetadataFromGitHubWithUrl(t,i,n)}catch(r){return f.error(`Unable to get matching pull request metadata from GitHub: ${r}`,this.id),null}}async getMatchingPullRequestMetadataFromGitHubWithUrl(t,e,i){var n,r;if(!e)return null;let s=this.gitHubRepositories.find(F=>F.remote.url.toLowerCase()===e.toLowerCase()),d;if(!s&&this.gitHubRepositories.length>0){d=new cn(e);const F=Ul(d.repositoryName,e,d);F&&(s=await this.createGitHubRepository(F,this.credentialStore,!0,!0))}const y=await this.doGetMatchingPullRequestMetadataFromGitHub(s,i);if(y&&t.upstream===void 0&&d&&s&&t.name){const F=await Ir.createRemote(this.repository,s==null?void 0:s.remote,d),W=`refs/remotes/${F}/${(n=y.model.head)==null?void 0:n.name}`;await this.repository.fetch({remote:F,ref:(r=y.model.head)==null?void 0:r.name}),await this.repository.setBranchUpstream(t.name,W)}return y}async getMatchingPullRequestMetadataFromGitHubWithRemoteName(t,e){if(!t)return null;const i=this.gitHubRepositories.find(n=>n.remote.remoteName===t);return this.doGetMatchingPullRequestMetadataFromGitHub(i,e)}async doGetMatchingPullRequestMetadataFromGitHub(t,e){if(!t||!e)return null;const i=await(t==null?void 0:t.getMetadata());if(!(i==null?void 0:i.owner))return null;const n=this.gitHubRepositories.filter(r=>{var s,d,y;return i.fork?r.remote.owner===((d=(s=i.parent)==null?void 0:s.owner)==null?void 0:d.login)&&r.remote.repositoryName===i.parent.name:r.remote.owner===((y=i.owner)==null?void 0:y.login)&&r.remote.repositoryName===i.name});for(const r of n){const s=await r.getPullRequestForBranch(e,i.owner.login);if(s)return{owner:r.remote.owner,repositoryName:r.remote.repositoryName,prNumber:s.number,model:s}}return null}async checkoutExistingPullRequestBranch(t,e){return await Ir.checkoutExistingPullRequestBranch(this.repository,t,e)}async getBranchNameForPullRequest(t){return await Ir.getBranchNRemoteForPullRequest(this.repository,t)}async fetchAndCheckout(t,e){await Ir.fetchAndCheckout(this.repository,this._allGitHubRemotes,t,e)}async checkout(t){return this.repository.checkout(t)}async tryMergeBaseIntoHead(t,e){var i;if(await this.isHeadUpToDateWithBase(t))return!0;const n=a.env.appHost==="vscode.dev"||a.env.appHost==="github.dev";if(!t.isActive||n){const d=await a.window.withProgress({location:a.ProgressLocation.Notification,title:a.l10n.t("Finding conflicts...")},()=>i0(t));if(d===void 0)return await a.window.showErrorMessage(a.l10n.t("Unable to resolved conflicts for this pull request. There are too many file changes."),{modal:!0,detail:n?void 0:a.l10n.t("Please check out the pull request to resolve conflicts.")}),!1;let y=!0;if(t.item.mergeable===Xi.Conflict){const F=await Promise.all([this.createGitHubRepositoryFromOwnerName(t.head.owner,t.head.repositoryCloneUrl.repositoryName),this.createGitHubRepositoryFromOwnerName(t.base.owner,t.base.repositoryCloneUrl.repositoryName)]),W=new Xg(this.telemetry,d,F);y=await W.enterConflictResolutionAndWaitForExit(),W.dispose()}return y?t.updateBranch(d):!1}if(this.repository.state.workingTreeChanges.length>0||this.repository.state.indexChanges.length>0)return await a.window.showErrorMessage(a.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),!1;const r=(i=gg(this.repository,t.base))==null?void 0:i.name;if(!r)return!1;const s=`${r}/${t.base.ref}`;if(await a.window.withProgress({location:a.ProgressLocation.Notification},async d=>{d.report({message:a.l10n.t("Fetching branch {0}",s)}),await this.repository.fetch({ref:t.base.ref,remote:r}),d.report({message:a.l10n.t("Merging branch {0} into {1}",s,this.repository.state.HEAD.name)});try{await this.repository.merge(s)}catch(y){if(y.gitErrorCode!==ae.Conflict)throw y}}),t.item.mergeable===Xi.Conflict){const d=await Tc.begin(this.repository,t.base.ref,this.repository.state.HEAD.name,e);await(d==null?void 0:d.finished()),d==null||d.dispose()}else await this.repository.push();return!0}async isHeadUpToDateWithBase(t){if(!t.head)return!1;const e=this._githubRepositories.find(s=>s.remote.owner===t.remote.owner&&s.remote.repositoryName===t.remote.repositoryName),i=`${t.head.owner}:${t.head.ref}`,n=`${t.base.owner}:${t.base.ref}`,r=await(e==null?void 0:e.compareCommits(n,i));return(r==null?void 0:r.behind_by)===0}async fetchById(t,e){const i=await t.getPullRequest(e);if(i)return i;a.window.showErrorMessage(a.l10n.t("Pull request number {0} does not exist in {1}",e,`${t.remote.owner}/${t.remote.repositoryName}`),{modal:!0})}async checkoutDefaultBranch(t){var e,i,n,r;let s;try{if(s=await this.repository.getBranch(t),((e=this.repository.state.HEAD)==null?void 0:e.name)===s.name){const F=a.l10n.t("Choose a Branch");a.window.showInformationMessage(a.l10n.t("The default branch is already checked out."),F).then(W=>{if(W===F)return Kl.checkout()});return}a.workspace.getConfiguration(on).get(hn,!1)&&s.upstream&&await this.repository.fetch({remote:s.upstream.remote,ref:`${s.upstream.name}:${s.name}`}),s.upstream&&t===s.upstream.name?await this.repository.checkout(t):await Kl.checkout();const y=[];for(const F of a.window.tabGroups.all)for(const W of F.tabs){let ie;W.input instanceof a.TabInputText?ie=W.input.uri:W.input instanceof a.TabInputTextDiff?ie=W.input.original:W.input instanceof a.TabInputWebview&&(ie=W.input.viewType),(ie instanceof a.Uri&&ie.scheme===oi.Review||typeof ie=="string"&&ie.endsWith(nf))&&y.push(a.window.tabGroups.close(W))}await Promise.all(y)}catch(d){if(d.gitErrorCode&&d.gitErrorCode===ae.DirtyWorkTree){a.window.showErrorMessage(a.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches"));return}f.error(`Exiting failed: ${d}. Target branch ${t} used to find branch ${(i=s==null?void 0:s.name)!=null?i:"unknown"} with upstream ${(r=(n=s==null?void 0:s.upstream)==null?void 0:n.name)!=null?r:"unknown"}.`),a.window.showErrorMessage(`Exiting failed: ${d}`)}}async pullBranchConfiguration(){return this.context.globalState.get(Rc,!1)&&(this.context.globalState.update(Rc,!1),await a.workspace.getConfiguration(Xe).update(jt,"never",a.ConfigurationTarget.Global)),a.workspace.getConfiguration(Xe).get(jt,"prompt")}async pullBranch(t){var e;((e=this._repository.state.HEAD)==null?void 0:e.name)===t.name&&await this._repository.pull()}async promptPullBrach(t,e,i){if(!this._updateMessageShown||i){this._updateMessageShown=!0;const n=a.l10n.t("Pull"),r=a.l10n.t("Always Pull"),s=a.l10n.t("Never Show Again"),d=[n];i||d.push(r,s),await a.window.showInformationMessage(a.l10n.t("There are updates available for pull request {0}.",`${t.number}: ${t.title}`),{},...d)===n?(await this.pullBranch(e),this._updateMessageShown=!1):s?await a.workspace.getConfiguration(Xe).update(jt,"never",a.ConfigurationTarget.Global):r&&(await a.workspace.getConfiguration(Xe).update(jt,"always",a.ConfigurationTarget.Global),await this.pullBranch(e))}}async checkBranchUpToDate(t,e){var i,n;if(((i=this.activePullRequest)==null?void 0:i.id)!==t.id)return;const r=this._repository.state.HEAD;if(r){const s=r.upstream?r.upstream.remote:null,d=r.upstream?r.upstream.name:r.name;if(s){try{e&&a.workspace.getConfiguration(Xe).get(sn,!0)&&await this._repository.fetch(s,d)}catch(F){F.stderr&&(F.stderr.startsWith("fatal: couldn't find remote ref")||a.window.showErrorMessage(a.l10n.t("An error occurred when fetching the repository: {0}",F.stderr))),f.error(`Error when fetching: ${(n=F.stderr)!=null?n:F}`,this.id)}const y=await this.pullBranchConfiguration();if(r.behind!==void 0&&r.behind>0)switch(y){case"always":{const F=a.workspace.getConfiguration(on).get(wi,!1);return F?this.promptPullBrach(t,r,F):this.pullBranch(r)}case"prompt":return this.promptPullBrach(t,r);case"never":return}}}}findExistingGitHubRepository(t){return this._githubRepositories.find(e=>e.remote.owner.toLowerCase()===t.owner.toLowerCase()&&e.remote.repositoryName.toLowerCase()===t.repositoryName.toLowerCase()&&(!t.remoteName||e.remote.remoteName===t.remoteName))}async createAndAddGitHubRepository(t,e,i){const n=this._id+this._githubRepositories.length*.1,r=new Mr(n,ms.remoteAsGitHub(t,await this._githubManager.isGitHub(t.gitProtocol.normalizeUri())),this.repository.rootUri,e,this.telemetry,i);return this._githubRepositories.push(r),r}removeGitHubRepository(t){const e=this._githubRepositories.findIndex(i=>i.remote.owner.toLowerCase()===t.owner.toLowerCase()&&i.remote.repositoryName.toLowerCase()===t.repositoryName.toLowerCase()&&(!t.remoteName||i.remote.remoteName===t.remoteName));e>-1&&this._githubRepositories.splice(e,1)}async createGitHubRepository(t,e,i,n=!1){return this._createGitHubRepositoryBulkhead.execute(async()=>{var r;return(r=this.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repositoryName,remoteName:n?void 0:t.remoteName}))!=null?r:await this.createAndAddGitHubRepository(t,e,i)})}async createGitHubRepositoryFromOwnerName(t,e){var i,n;const r=this.findExistingGitHubRepository({owner:t,repositoryName:e});if(r)return r;const d=Aa(this.repository).find(F=>F.owner===t&&F.repositoryName===e),y=(i=d==null?void 0:d.url)!=null?i:`https://github.com/${t}/${e}`;return this.createAndAddGitHubRepository(new Ll((n=d==null?void 0:d.remoteName)!=null?n:e,y,new cn(y)),this._credentialStore)}async findUpstreamForItem(t){let e,i;for(const r of this.gitHubRepositories){if(!e&&r.remote.owner===t.remote.owner&&r.remote.repositoryName===t.remote.repositoryName){e=r;continue}const s=await r.getRepositoryForkDetails();if(s&&s.isFork&&s.parent.owner.login===t.remote.owner&&s.parent.name===t.remote.repositoryName){const d=await r.getViewerPermission();if(d===Dr.Admin||d===Dr.Maintain||d===Dr.Write){i=r.remote;break}}}let n=!1;if(e&&!i){const r=await t.githubRepository.getViewerPermission();(r===Dr.Read||r===Dr.Triage||r===Dr.Unknown)&&(n=!0)}return{needsFork:n,upstream:e,remote:i}}async forkWithProgress(t,e,i,n){t.report({message:a.l10n.t("Forking {0}...",i)});const r=await e.fork();if(t.report({increment:50}),!r){a.window.showErrorMessage(a.l10n.t("Unable to create a fork of {0}. Check that your GitHub credentials are correct.",i));return}const s=n.state.remotes.length>1?"origin":n.state.remotes[0].name;return t.report({message:a.l10n.t("Adding remotes. This may take a few moments.")}),await n.renameRemote(s,"upstream"),await n.addRemote(s,r),await new Promise(d=>{if(this.gitHubRepositories.length===0){const y=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>0&&(y.dispose(),d())})}else d()}),t.report({increment:50}),s}async doFork(t,e,i){return a.window.withProgress({location:a.ProgressLocation.Notification,title:a.l10n.t("Creating Fork")},async n=>{try{return this.forkWithProgress(n,t,e,i)}catch(r){a.window.showErrorMessage(`Creating fork failed: ${r}`)}})}async tryOfferToFork(t){const e=`${t.remote.owner}/${t.remote.repositoryName}`,i=a.l10n.t("Fork"),n=a.l10n.t("Don't Fork");switch(await a.window.showInformationMessage(a.l10n.t("You don't have permission to push to {0}. Do you want to fork {0}? This will modify your git remotes to set `origin` to the fork, and `upstream` to {0}.",e),{modal:!0},i,n)){case i:return this.doFork(t,e,this.repository);case n:return!1;default:return}}getTitleAndDescriptionProvider(t){return this._git.getTitleAndDescriptionProvider(t)}getAutoReviewer(){return this._git.getReviewerCommentsProvider()}dispose(){this._subs.forEach(t=>t.dispose()),this._onDidDispose.fire()}};let gs=wh;Yi(gs,"ID","FolderRepositoryManager");function j1(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const s0=t=>{const{currentUser:e=null}=t.octokit;return e&&t.remote.owner===e.login},Xs=t=>({remote:{remoteName:e}})=>e===t,o0=async t=>{const e=await t;if(!e)return;const i=e.indexOf(`
`);return{title:i===-1?e:e.substr(0,i),body:i===-1?"":e.slice(i+1).trim()}};var l0=Object.defineProperty,_h=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?l0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class u0{constructor(){_h(this,"_onDidChangeFile",new a.EventEmitter),_h(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,i){return{dispose:()=>{}}}stat(e){return{type:a.FileType.File,ctime:0,mtime:new Date().getTime(),size:0}}readDirectory(e){return[]}createDirectory(e){}writeFile(e,i,n){}delete(e,i){}rename(e,i,n){}}class kh extends u0{constructor(e,i){super();this.gitAPI=e,this.credentialStore=i}async waitForRepos(e){f.appendLine("Waiting for repositories.","RepositoryFileSystemProvider");let i;const n=new Promise(d=>{i=this.gitAPI.onDidOpenRepository(()=>{f.appendLine("Found at least one repository.","RepositoryFileSystemProvider"),i==null||i.dispose(),i=void 0,d()})});let r;const s=new Promise(d=>{r=setTimeout(()=>{f.appendLine("Timed out while waiting for repositories.","RepositoryFileSystemProvider"),d()},e)});await Promise.race([n,s]),r&&clearTimeout(r),i&&i.dispose()}async waitForAuth(){if(!this.credentialStore.isAnyAuthenticated())return new Promise(e=>this.credentialStore.onDidGetSession(()=>e()))}}var c0=Object.defineProperty,d0=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?c0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class f0 extends kh{constructor(e,i,n){super(i,n);this.reposManagers=e,d0(this,"_prFileChangeContentProviders",{})}registerTextDocumentContentProvider(e,i){return this._prFileChangeContentProviders[e]=i,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}resolveChanges(e,i,n,r){const s=i.equals(n.activePullRequest);return e.map(d=>d instanceof fi?new js(n,d,i):new ps(n,i,d,s,r))}waitForGitHubRepos(e,i){return new Promise(n=>{const r=setTimeout(()=>{s.dispose(),n()},i),s=e.onDidLoadRepositories(d=>{d===Fr.RepositoriesLoaded&&(clearTimeout(r),s.dispose(),n())})})}async tryRegisterNewProvider(e,i){await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3);const n=this.reposManagers.getManagerForFile(e);if(!n)return;let r=n.findRepo(W=>W.remote.remoteName===i.remoteName);if(r||(await this.waitForGitHubRepos(n,1e4),r=n.findRepo(W=>W.remote.remoteName===i.remoteName)),!r)return;const s=await n.resolvePullRequest(r.remote.owner,r.remote.repositoryName,i.prNumber);if(!s)return;const d=await s.getFileChangesInfo(),y=s.mergeBase;if(!y)return;const F=this.resolveChanges(d,s,n,y);this.registerTextDocumentContentProvider(s.number,async W=>{const ie=Hn(W);if(!ie)return"";const le=F.find(de=>de.fileName===ie.fileName);return le?Mc(n,s,ie,le):(f.error(`Cannot find content for document ${W.toString()}`,"PR"),"")})}async readFileWithProvider(e,i){const n=this._prFileChangeContentProviders[i];if(n){const r=await n(e);return typeof r=="string"?new TextEncoder().encode(r):r}}async readFile(e){var i;const n=Hn(e);if(!n||n.prNumber===void 0)return new TextEncoder().encode("");const r=await this.readFileWithProvider(e,n.prNumber);return r||(await this.tryRegisterNewProvider(e,n),(i=await this.readFileWithProvider(e,n.prNumber))!=null?i:new TextEncoder().encode(""))}}let Cc;function Nc(t){return!Cc&&t&&(Cc=new f0(t.reposManager,t.gitAPI,t.credentialStore)),Cc}async function Mc(t,e,i,n){if(i.isBase&&n.status===nt.ADD||!i.isBase&&n.status===nt.DELETE)return"";const r=await n.diffHunks();let s=!1;if(n instanceof ps&&(s=await n.isPartial()),n instanceof js||n instanceof ps&&s)try{return i.isBase?e.githubRepository.getFile(n.previousFileName||n.fileName,i.baseCommit):e.githubRepository.getFile(n.fileName,i.headCommit)}catch(d){return f.error(`Fetching file content failed: ${d}`,"PR"),a.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(y=>{y==="Open on GitHub"&&n.blobUrl&&a.commands.executeCommand("vscode.open",a.Uri.parse(n.blobUrl))}),""}if(n instanceof ps)if(n.status===nt.ADD||n.status===nt.DELETE)if(i.isBase){const y=[];for(let F=0;F<r.length;F++)for(let W=0;W<r[F].diffLines.length;W++){const ie=r[F].diffLines[W];ie.type===Ze.Add||(ie.type===Ze.Delete?y.push(ie.text):ie.type===Ze.Control||y.push(ie.text))}return y.join(`
`)}else{const y=[];for(let F=0;F<r.length;F++)for(let W=0;W<r[F].diffLines.length;W++){const ie=r[F].diffLines[W];ie.type===Ze.Add?y.push(ie.text):ie.type===Ze.Delete||ie.type===Ze.Control||y.push(ie.text)}return y.join(`
`)}else{const y=n.status===nt.RENAME?n.previousFileName:n.fileName,F=a.Uri.joinPath(t.repository.rootUri,y),W=await t.repository.show(i.baseCommit,F.fsPath);return i.isBase?W:Be(W,n.patch)}return""}var h0=Object.defineProperty,Sh=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?h0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class m0{constructor(){Sh(this,"_progress",Promise.resolve()),Sh(this,"_endProgress",new a.EventEmitter)}get progress(){return this._progress}startProgress(){this.endProgress(),this._progress=new Promise(e=>{const i=this._endProgress.event(()=>{i.dispose(),e()})})}endProgress(){this._endProgress.fire()}}var p0=Object.defineProperty,Rh=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?p0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Eh{constructor(e,i,n,r,s=`${e}:${i}`){this.owner=e,this.name=i,this.description=n,this.remote=r,this.label=s,Rh(this,"detail"),Rh(this,"picked")}static fromRemote(e){return new this(e.owner,e.repositoryName,e.url,e)}}var v0=Object.defineProperty,Jl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?v0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class g0{constructor(){Jl(this,"_localFileChanges"),Jl(this,"_onDidChangeLocalFileChanges",new a.EventEmitter),Jl(this,"onDidChangeLocalFileChanges",this._onDidChangeLocalFileChanges.event),Jl(this,"_obsoleteFileChanges",[])}get hasLocalFileChanges(){return!!this._localFileChanges}get localFileChanges(){var e;return(e=this._localFileChanges)!=null?e:[]}set localFileChanges(e){this._localFileChanges=e,this._onDidChangeLocalFileChanges.fire()}get obsoleteFileChanges(){return this._obsoleteFileChanges}set obsoleteFileChanges(e){this._obsoleteFileChanges=e}clear(){this.obsoleteFileChanges=[],this._localFileChanges=void 0}}var b0=Object.defineProperty,Vn=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?b0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Th=class{constructor(t,e,i,n,r,s,d,y,F,W,ie){this._id=t,this._context=e,this._repository=i,this._folderRepoManager=n,this._telemetry=r,this.changesInPrDataProvider=s,this._pullRequestsTree=d,this._showPullRequest=y,this._activePrViewCoordinator=F,this._createPullRequestHelper=W,this._gitApi=ie,Vn(this,"_localToDispose",[]),Vn(this,"_disposables"),Vn(this,"_reviewModel",new g0),Vn(this,"_lastCommitSha"),Vn(this,"_updateMessageShown",!1),Vn(this,"_validateStatusInProgress"),Vn(this,"_reviewCommentController"),Vn(this,"_quickDiffProvider"),Vn(this,"_inMemGitHubContentProvider"),Vn(this,"_statusBarItem"),Vn(this,"_prNumber"),Vn(this,"_isShowingLastReviewChanges",!1),Vn(this,"_previousRepositoryState"),Vn(this,"_switchingToReviewMode"),Vn(this,"_changesSinceLastReviewProgress",new m0),Vn(this,"justSwitchedToReviewMode",!1),Vn(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._disposables=[],this._previousRepositoryState={HEAD:i.state.HEAD,remotes:Aa(this._repository)},this.registerListeners(),ie.state==="initialized"&&this.updateState(!0),this.pollForStatusChange()}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(t){this._switchingToReviewMode=t,t||this.updateState(!0)}registerListeners(){this._disposables.push(this._repository.state.onDidChange(t=>{const e=this._previousRepositoryState.HEAD,i=this._repository.state.HEAD;if(!e&&!i)return;let n;!e||!i?n=!1:n=e.upstream?i.upstream&&e.upstream.name===i.upstream.name&&e.upstream.remote===i.upstream.remote:!i.upstream;const r=n&&e.ahead===i.ahead&&e.behind===i.behind&&e.commit===i.commit&&e.name===i.name&&e.remote===i.remote&&e.type===i.type,s=Aa(this._repository),d=this._previousRepositoryState.remotes.length===s.length&&this._previousRepositoryState.remotes.every(y=>s.some(F=>y.equals(F)));(!r||!d)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:s},this.updateState(!0)),e&&i&&this.updateBaseBranchMetadata(e,i)})),this._disposables.push(a.workspace.onDidChangeConfiguration(t=>{this.updateFocusedViewMode(),t.affectsConfiguration(`${Xe}.${Ht}`)&&this.validateStateAndResetPromise(!0,!1)})),this._disposables.push(this._folderRepoManager.onDidChangeActivePullRequest(t=>{this.updateFocusedViewMode(),this.registerQuickDiff()})),Vl.registerProvider(this._disposables,this,this._folderRepoManager)}async updateBaseBranchMetadata(t,e){var i;if(!t.commit||t.commit!==e.commit||!e.name||!t.name||t.name===e.name)return;let n=this._folderRepoManager.gitHubRepositories.find(r=>{var s;return r.remote.remoteName===((s=t.upstream)==null?void 0:s.remote)});if(n){const r=await n.getMetadata();return r.fork&&t.name===r.default_branch&&(n=(i=this._folderRepoManager.gitHubRepositories.find(s=>{var d,y,F;return s.remote.owner===((y=(d=r.parent)==null?void 0:d.owner)==null?void 0:y.login)&&s.remote.repositoryName===((F=r.parent)==null?void 0:F.name)}))!=null?i:n),Ir.associateBaseBranchWithBranch(this.repository,e.name,n.remote.owner,n.remote.repositoryName,t.name)}}registerQuickDiff(){if(a.workspace.getConfiguration(Xe).get(ct)){this._quickDiffProvider&&(this._quickDiffProvider.dispose(),this._quickDiffProvider=void 0);const t=this._folderRepoManager.activePullRequest?a.l10n.t("GitHub pull request #{0}",this._folderRepoManager.activePullRequest.number):a.l10n.t("GitHub pull request");this._disposables.push(this._quickDiffProvider=a.window.registerQuickDiffProvider({scheme:"file"},{provideOriginalResource:e=>{const i=this.reviewModel.localFileChanges.find(n=>n.changeModel.filePath.toString()===e.toString());if(i)return i.changeModel.parentFilePath}},t,this.repository.rootUri))}}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=a.window.createStatusBarItem("github.pullrequest.status",a.StatusBarAlignment.Left),this._statusBarItem.name=a.l10n.t("GitHub Active Pull Request")),this._statusBarItem}get repository(){return this._repository}get reviewModel(){return this._reviewModel}pollForStatusChange(){setTimeout(async()=>{!this._validateStatusInProgress&&this._folderRepoManager.activePullRequest&&await this.updateComments(),this.pollForStatusChange()},1e3*60*5)}get id(){return`${Th.ID}+${this._id}`}async updateState(t=!1,e=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(f.appendLine("Queuing additional validate state",this.id),this._validateStatusInProgress=this._validateStatusInProgress.then(async i=>await this.validateStatusAndSetContext(t,e)),this._validateStatusInProgress):(f.appendLine("Validate state in progress",this.id),this._validateStatusInProgress=this.validateStatusAndSetContext(t,e),this._validateStatusInProgress)}async validateStatusAndSetContext(t,e){let i;const n=new Promise(s=>{i=setTimeout(()=>{i&&(clearTimeout(i),i=void 0,f.error("Timeout occurred while validating state.",this.id),this._telemetry.sendTelemetryErrorEvent("pr.validateStateTimeout",{version:this._context.extension.packageJSON.version})),s()},1e3*60*2)}),r=new Promise(s=>{this.validateStateAndResetPromise(t,e).then(()=>{a.commands.executeCommand("setContext","github:stateValidated",!0).then(()=>{i&&(clearTimeout(i),i=void 0),s()})})});return Promise.race([r,n])}async offerIgnoreBranch(t){const e="githubPullRequest.showOfferIgnoreBranch";if(!this._context.workspaceState.get(e,!0))return!1;const n="githubPullRequest.offerIgnoreBranchTime",r=this._context.workspaceState.get(n,0),s=new Date().getTime();if(s-r<1e3*60*60*24)return!1;const{base:d}=await this._folderRepoManager.getPullRequestDefaults(t);if(d!==t)return!1;await this._context.workspaceState.update(n,s);const y=a.l10n.t("Ignore Pull Request"),F=a.l10n.t("Don't Show Again"),W=await a.window.showInformationMessage(a.l10n.t("There's a pull request associated with the default branch '{0}'. Do you want to ignore this Pull Request?",t),y,F);if(W===y){f.appendLine(`Branch ${t} will now be ignored in ${Ht}.`,this.id);const ie=a.workspace.getConfiguration(Xe),le=ie.get(Ht,[]);return le.push(t),await ie.update(Ht,le),!0}else if(W===F)return await this._context.workspaceState.update(e,!1),!1;return!1}async getUpstreamUrlAndName(t){if(t.upstream)return{remoteName:t.upstream.remote,branchName:t.upstream.name,url:void 0};try{const e=await this.repository.getConfig(`branch.${t.name}.remote`),i=await this.repository.getConfig(`branch.${t.name}.merge`);let n;return i&&(n=i.substring("refs/heads/".length)),{url:e,branchName:n,remoteName:void 0}}catch(e){return f.appendLine(`Failed to get upstream for branch ${t.name} from git config.`,this.id),{url:void 0,branchName:void 0,remoteName:void 0}}}async checkGitHubForPrBranch(t){const{url:e,branchName:i,remoteName:n}=await this.getUpstreamUrlAndName(this._repository.state.HEAD),r=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub(t,n,e,i);if(r)return f.appendLine(`Found matching pull request metadata on GitHub for current branch ${t.name}. Repo: ${r.owner}/${r.repositoryName} PR: ${r.prNumber}`),await Ir.associateBranchWithPullRequest(this._repository,r.model,t.name),r}async resolvePullRequest(t){try{this._prNumber=t.prNumber;const{owner:e,repositoryName:i}=t;f.appendLine("Resolving pull request",this.id);let n=await this._folderRepoManager.resolvePullRequest(e,i,t.prNumber);if(!n||!n.isResolved()||!await n.githubRepository.hasBranch(n.base.name)){await this.clear(!0),this._prNumber=void 0,f.appendLine("This PR is no longer valid",this.id);return}return n}catch(e){f.appendLine(`Pull request cannot be resolved: ${e.message}`,this.id)}}async validateStateAndResetPromise(t,e){return this.validateState(t,e).then(()=>{this._validateStatusInProgress=void 0})}async validateState(t,e){var i,n,r,s;f.appendLine("Validating state...",this.id);const d=this._lastCommitSha;if(this._lastCommitSha=void 0,!await this._folderRepoManager.updateRepositories(!1))return;if(!this._repository.state.HEAD){await this.clear(!0);return}const y=this._repository.state.HEAD,F=a.workspace.getConfiguration(Xe).get(Ht),W=(n=y.remote)!=null?n:(i=y.upstream)==null?void 0:i.remote;if((F==null?void 0:F.find(Fe=>Fe===y.name))&&(W==="origin"||!((s=await((r=this._folderRepoManager.gitHubRepositories.find(Fe=>Fe.remote.remoteName===W))==null?void 0:r.getMetadata()))==null?void 0:s.fork))){f.appendLine(`Branch ${y.name} is ignored in ${Ht}.`,this.id),await this.clear(!0);return}let ie=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(ie||(f.appendLine(`No matching pull request metadata found locally for current branch ${y.name}`,this.id),ie=await this.checkGitHubForPrBranch(y)),!ie){f.appendLine(`No matching pull request metadata found on GitHub for current branch ${y.name}`,this.id),await this.clear(!0);return}if(f.appendLine(`Found matching pull request metadata for current branch ${y.name}. Repo: ${ie.owner}/${ie.repositoryName} PR: ${ie.prNumber}`,this.id),!(y.upstream?y.upstream.remote:null)){f.appendLine(`Current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`,this.id),await this.clear(!0);return}f.appendLine(`current branch ${this._repository.state.HEAD.name} is associated with pull request #${ie.prNumber}`,this.id);const de=this._prNumber;let ke=await this.resolvePullRequest(ie);if(!ke){f.appendLine(`Unable to resolve PR #${ie.prNumber}`,this.id);return}if(f.appendLine(`Resolved PR #${ie.prNumber}, state is ${ke.state}`,this.id),ke.state!==Gi.Open){const Fe=await this.checkGitHubForPrBranch(y);if(Fe&&(Fe==null?void 0:Fe.prNumber)!==ke.number){const qe=await this.resolvePullRequest(Fe);qe&&(ke=qe)}}const Ie=y.commit!==d&&y.ahead===0&&y.behind===0;if(de===ke.number&&!Ie&&this._isShowingLastReviewChanges===ke.showChangesSinceReview)return;this._isShowingLastReviewChanges=ke.showChangesSinceReview,de!==ke.number&&this.clear(!1);const oe=th();if(ke.isClosed&&!oe.closed){f.appendLine("This PR is closed",this.id),await this.clear(!0);return}if(ke.isMerged&&!oe.merged){f.appendLine("This PR is merged",this.id),await this.clear(!0);return}a.workspace.getConfiguration(Xe).get(jn,!1)||this.offerIgnoreBranch(y.name);const Te=this._folderRepoManager.activePullRequest;this._folderRepoManager.activePullRequest=ke,this._lastCommitSha=ke.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this._folderRepoManager.checkBranchUpToDate(ke,!0)),f.appendLine("Fetching pull request data",this.id),t||M(this._reviewModel.onDidChangeLocalFileChanges)(()=>{ke&&this._upgradePullRequestEditors(ke)}),this.initializePullRequestData(ke),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,ke,this._reviewModel,this.justSwitchedToReviewMode,this._changesSinceLastReviewProgress),f.appendLine("Register comments provider",this.id),await this.registerCommentController(),this._activePrViewCoordinator.setPullRequest(ke,this._folderRepoManager,this,Te),this._localToDispose.push(ke.onDidChangeChangesSinceReview(async Fe=>{this._changesSinceLastReviewProgress.startProgress(),this.changesInPrDataProvider.refresh(),await this.updateComments(),await this.reopenNewReviewDiffs(),this._changesSinceLastReviewProgress.endProgress()})),f.appendLine("Register in memory content provider",this.id),await this.registerGitHubInMemContentProvider(),this.statusBarItem.text="$(git-pull-request) "+a.l10n.t("Pull Request #{0}",ke.number),this.statusBarItem.command={command:"pr.openDescription",title:a.l10n.t("View Pull Request Description"),arguments:[ke]},f.appendLine("Display pull request status bar indicator.",this.id),this.statusBarItem.show(),this.layout(ke,e,this.justSwitchedToReviewMode?!1:t),this.justSwitchedToReviewMode=!1}layout(t,e,i){const n=this._context.workspaceState.get(Ks);if(f.appendLine(`Using focus mode = ${n}.`,this.id),f.appendLine(`State validation silent = ${i}.`,this.id),f.appendLine(`PR show should show = ${this._showPullRequest.shouldShow}.`,this.id),(!i||this._showPullRequest.shouldShow)&&n)this._doFocusShow(t,e);else if(!this._showPullRequest.shouldShow&&n){const r=this._showPullRequest.onChangedShowValue(s=>{f.appendLine(`PR show value changed = ${s}.`,this.id),s&&this._doFocusShow(t,e),r.dispose()});this._localToDispose.push(r)}}async reopenNewReviewDiffs(){let t=!1;await Promise.all(a.window.tabGroups.all.map(e=>e.tabs.map(i=>{if(i.input instanceof a.TabInputTextDiff&&i.input.original.scheme===oi.Review)for(const n of this._reviewModel.localFileChanges){const r=sa(i.input.original.query);if(n.fileName===r.path){t=!0,a.window.tabGroups.close(i).then(s=>n.openDiff(this._folderRepoManager,{preview:i.isPreview}));break}}return Promise.resolve(void 0)})).flat()),!t&&this._reviewModel.localFileChanges.length&&this._reviewModel.localFileChanges[0].openDiff(this._folderRepoManager,{preview:!0})}openDiff(){if(this._reviewModel.localFileChanges.length){let t=[];for(const i of this._reviewModel.localFileChanges)if(i.status===nt.MODIFY)if(zf.includes(m.extname(i.fileName)))t.push(i);else{t.unshift(i);break}(t.length?t[0]:this._reviewModel.localFileChanges[0]).openDiff(this._folderRepoManager)}}_doFocusShow(t,e){if(a.workspace.getConfiguration(Yn).get(Lr)!=="never"&&t.hasComments&&Vi.executeCommand("workbench.action.focusCommentsPanel"),this._activePrViewCoordinator.show(t),e){const n=a.workspace.getConfiguration(Xe).get(We);if(n==="firstDiff")if(this._reviewModel.localFileChanges.length)this.openDiff();else{const r=this._reviewModel.onDidChangeLocalFileChanges(()=>{r.dispose(),this.openDiff()})}else{if(n==="overview")return this.openDescription();if(n==="multiDiff")return rr.openChanges(this._folderRepoManager,t)}}}async _upgradePullRequestEditors(t){const e=new Set;await Promise.all(a.window.tabGroups.all.map(n=>n.tabs.map(r=>{if(r.input instanceof a.TabInputTextDiff&&r.input.original.scheme===oi.Pr&&r.input.modified.scheme===oi.Pr){const s=Hn(r.input.original),d=Hn(r.input.modified);if((s==null?void 0:s.prNumber)===t.number&&(d==null?void 0:d.prNumber)===t.number)return e.add([s,d]),a.window.tabGroups.close(r)}return Promise.resolve(void 0)})).flat());const i=[];if(e.size){for(const n of this.reviewModel.localFileChanges)for(const r of e)if(Array.isArray(r)){const s=r[1];if(n.fileName===s.fileName){i.push(n.openDiff(this._folderRepoManager,{preview:!1})),e.delete(r);break}}}return Promise.all(i)}async createSuggestionFromChange(t,e){if(!this._reviewModel.localFileChanges.find(r=>r.changeModel.filePath.toString()===t.uri.toString()))return;const n=[];for(const r of e){const s=t.getText(new a.Range(r.modifiedStartLineNumber-1,0,r.modifiedEndLineNumber-1,t.lineAt(r.modifiedEndLineNumber-1).range.end.character)),d=r.originalEndLineNumber<r.originalStartLineNumber?r.originalStartLineNumber:r.originalEndLineNumber;n.push({suggestionContent:s,originalLineLength:d-r.originalStartLineNumber+1,originalStartLine:r.originalStartLineNumber,diffLine:r})}await Promise.all(n.map(async r=>{var s;try{await((s=this._reviewCommentController)==null?void 0:s.createSuggestionsFromChanges(t.uri,r)),await a.commands.executeCommand("git.revertSelectedRanges",r.diffLine)}catch(d){a.window.showErrorMessage(a.l10n.t("The change is outside the commenting range."),{modal:!0})}}))}trimContextFromHunk(t){let e=t.oldLineNumber,i=t.oldLength,n=1;for(;n<t.diffLines.length&&t.diffLines[n].type===Ze.Context;n++)e++,i--;let r=t.diffLines.length-1;for(;r>=0&&t.diffLines[r].type===Ze.Context;r--)i--;let s=t.diffLines.slice(n,r+1);s.every(d=>d.type===Ze.Add)&&(n>1?(n--,e--,i++):r<t.diffLines.length-1?(r++,i++):(n=1,r=t.diffLines.length-1),s=t.diffLines.slice(n,r+1)),t.diffLines=s,t.oldLength=i,t.oldLineNumber=e}convertDiffHunkToSuggestion(t){return this.trimContextFromHunk(t),{suggestionContent:t.diffLines.filter(e=>e.type===Ze.Add||e.type==Ze.Context).map(e=>e.text).join(`
`),originalLineLength:t.oldLength,originalStartLine:t.oldLineNumber}}async createSuggestionsFromChanges(t){const e=t.map(s=>s.toString());let i=!1,n=[];const r=[];if(await a.window.withProgress({location:a.ProgressLocation.Window,title:"Converting changes to suggestions"},async()=>{await Promise.all(this._folderRepoManager.repository.state.workingTreeChanges.map(async s=>{!e.includes(s.uri.toString())||s.status!==be.MODIFIED||(n=Ae(await this._folderRepoManager.repository.diffWithHEAD(s.uri.fsPath)),await Promise.allSettled(n.map(async d=>{var y;try{await((y=this._reviewCommentController)==null?void 0:y.createSuggestionsFromChanges(s.uri,this.convertDiffHunkToSuggestion(d))),r.push(s.uri)}catch(F){i=!0}})))}))}),i)r.length?a.window.showWarningMessage(a.l10n.t("Not all changes could be converted to suggestions."),{detail:a.l10n.t(`{0} of {1} changes converted. Some of the changes may be outside of commenting ranges.
Your changes are still available locally.`,r.length,n.length),modal:!0}):a.window.showWarningMessage(a.l10n.t("No changes could be converted to suggestions."),{detail:a.l10n.t("All of the changes are outside of commenting ranges."),modal:!0});else{const s=a.l10n.t("Reset all changes");a.window.showInformationMessage(a.l10n.t("All changes have been converted to suggestions."),{modal:!0,detail:a.l10n.t("Do you want to reset your local changes?")},s).then(d=>{if(d===s)return Promise.all(r.map(y=>this._folderRepoManager.repository.checkout(y.fsPath)))})}}async updateComments(){var t;const e=this._repository.state.HEAD;if(!e)return;const i=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!i||!(e.upstream?e.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const r=await this._folderRepoManager.resolvePullRequest(i.owner,i.repositoryName,this._prNumber);if(!r||!r.isResolved()){f.warn("This PR is no longer valid",this.id);return}return await this._folderRepoManager.checkBranchUpToDate(r,!1),await this.initializePullRequestData(r),await((t=this._reviewCommentController)==null?void 0:t.update()),Promise.resolve(void 0)}async getLocalChangeNodes(t,e){const i=[],n=t.mergeBase||t.base.sha,r=t.head.sha;for(let s=0;s<e.length;s++){const d=e[s],y=m.join(this._repository.rootUri.path,d.fileName).replace(/\\/g,"/"),F=this._repository.rootUri.with({path:y}),W=d.status===nt.DELETE?Jr(F,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):F,ie=Jr(F,d.status===nt.RENAME?d.previousFileName:d.fileName,void 0,d.status===nt.ADD?"":n,!1,{base:!0},this._repository.rootUri),le=new cc(this._folderRepoManager,t,d,W,ie,r,e.length<20),de=new Ys(this.changesInPrDataProvider,this._folderRepoManager,t,le);i.push(de)}return i}async initializePullRequestData(t){try{const e=await t.getFileChangesInfo();this._reviewModel.localFileChanges=await this.getLocalChangeNodes(t,e),await Promise.all([t.initializeReviewThreadCacheAndReviewComments(),t.initializePullRequestFileViewState()]),this._folderRepoManager.setFileViewedContext();const i=t.comments.filter(s=>!s.position),n=o(i,s=>s.originalCommitId),r=[];for(const s in n){const d=n[s],y=o(d,F=>F.path);for(const F in y){const W=y[F],ie=a.Uri.file(m.join(`commit~${s.substr(0,8)}`,F)),le=new cc(this._folderRepoManager,t,{status:nt.MODIFY,fileName:F,blobUrl:void 0},Jr(ie,F,void 0,W[0].originalCommitId,!0,{base:!1},this._repository.rootUri),Jr(ie,F,void 0,W[0].originalCommitId,!0,{base:!0},this._repository.rootUri),s),de=new Ys(this.changesInPrDataProvider,this._folderRepoManager,t,le,!1,W);r.push(de)}}return this._reviewModel.obsoleteFileChanges=r,Promise.resolve(void 0)}catch(e){f.error(`Failed to initialize PR data ${e}`,this.id)}}async registerGitHubInMemContentProvider(){var t,e;try{(t=this._inMemGitHubContentProvider)==null||t.dispose(),this._inMemGitHubContentProvider=void 0;const i=this._folderRepoManager.activePullRequest;if(!i)return;const n=await i.getFileChangesInfo(),r=i.mergeBase;if(!r)return;const s=n.map(d=>d instanceof fi?new js(this._folderRepoManager,d,i):new ps(this._folderRepoManager,i,d,!0,r));this._inMemGitHubContentProvider=(e=Nc())==null?void 0:e.registerTextDocumentContentProvider(i.number,async d=>{const y=Hn(d);if(!y)return"";const F=s.find(W=>W.fileName===y.fileName);return F?Mc(this._folderRepoManager,i,y,F):(f.error(`Cannot find content for document ${d.toString()}`,"PR"),"")})}catch(i){f.error(`Failed to register in mem content provider: ${i}`,this.id)}}async registerCommentController(){var t;if(((t=this._folderRepoManager.activePullRequest)==null?void 0:t.reviewThreadsCacheReady)&&this._reviewModel.hasLocalFileChanges)await this.doRegisterCommentController();else{const e=this._reviewModel.onDidChangeLocalFileChanges(async()=>{var i;((i=this._folderRepoManager.activePullRequest)==null?void 0:i.reviewThreadsCache)&&this._reviewModel.hasLocalFileChanges&&(e&&e.dispose(),await this.doRegisterCommentController())})}}async doRegisterCommentController(){this._reviewCommentController||(this._reviewCommentController=new _c(this,this._folderRepoManager,this._repository,this._reviewModel,this._gitApi,this._telemetry),await this._reviewCommentController.initialize())}async switch(t){var e,i;f.appendLine(`Switch to Pull Request #${t.number} - start`,this.id),this.statusBarItem.text=a.l10n.t("{0} Switching to Review Mode","$(sync~spin)"),this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await a.window.withProgress({location:a.ProgressLocation.Notification},async r=>{await this._folderRepoManager.checkoutExistingPullRequestBranch(t,r)||await this._folderRepoManager.fetchAndCheckout(t,r)});const n=a.workspace.getConfiguration(Xe).get(Mt,"pull");(n==="pullAndMergeBase"||n==="pullAndUpdateBase")&&await this._folderRepoManager.tryMergeBaseIntoHead(t,n==="pullAndUpdateBase")}catch(n){f.error(`Checkout failed #${JSON.stringify(n)}`,this.id),this.switchingToReviewMode=!1,n.message==="User aborted"||(n.gitErrorCode&&(n.gitErrorCode===ae.LocalChangesOverwritten||n.gitErrorCode===ae.DirtyWorkTree)?a.window.showErrorMessage(a.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")):((e=n.stderr)==null?void 0:e.startsWith("fatal: couldn't find remote ref"))&&n.gitCommand==="fetch"?a.window.showInformationMessage("The remote branch for this pull request has been deleted. The file contents may not match the remote."):a.window.showErrorMessage($(n))),((i=this._folderRepoManager.activePullRequest)==null?void 0:i.number)===t.number?this.setStatusForPr(this._folderRepoManager.activePullRequest):this.statusBarItem.hide();return}try{this.statusBarItem.text="$(sync~spin) "+a.l10n.t("Fetching additional data: {0}",`pr/${t.number}`),this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(t),this._upgradePullRequestEditors(t),this._telemetry.sendTelemetryEvent("pr.checkout"),f.appendLine(`Switch to Pull Request #${t.number} - done`,this.id)}finally{this.setStatusForPr(t),await this._repository.status()}}setStatusForPr(t){this.switchingToReviewMode=!1,this.justSwitchedToReviewMode=!0,this.statusBarItem.text=a.l10n.t("Pull Request #{0}",t.number),this.statusBarItem.command=void 0,this.statusBarItem.show()}async publishBranch(t){const e=await this._folderRepoManager.getAllGitHubRemotes();let i=(await this.getRemote(e,a.l10n.t("Pick a remote to publish the branch '{0}' to:",t.name))).remote;if(!i||t.name===void 0)return;const n=await this._folderRepoManager.createGitHubRepository(i,this._folderRepoManager.credentialStore),r=await n.getViewerPermission();if(r===Dr.Read||r===Dr.Triage||r===Dr.Unknown){const d=await this._folderRepoManager.tryOfferToFork(n);if(!d)return;i=(await this._folderRepoManager.getGitHubRemotes()).find(y=>y.remoteName===d)}if(!i)return;const s=i;return new Promise(async d=>{const y=a.window.createInputBox();y.value=t.name,y.ignoreFocusOut=!0,y.prompt=e.length===1?a.l10n.t("The branch '{0}' is not published yet, pick a name for the upstream branch",t.name):a.l10n.t("Pick a name for the upstream branch");const F=async function(W){try{y.busy=!0,await this._reposManager.getBranch(s,W)?y.validationMessage=a.l10n.t("Branch '{0}' already exists in {1}",W,`${s.owner}/${s.repositoryName}`):y.validationMessage=void 0}catch(ie){y.validationMessage=void 0}y.busy=!1};await F(t.name),y.onDidChangeValue(F.bind(this)),y.onDidAccept(async()=>{y.validationMessage=void 0,y.hide();try{await this._repository.push(s.remoteName,`${t.name}:${y.value}`,!0)}catch(ie){throw ie.gitErrorCode===ae.PushRejected&&(a.window.showWarningMessage(a.l10n.t("Can't push refs to remote, try running 'git pull' first to integrate with your change"),{modal:!0}),d(void 0)),ie.gitErrorCode===ae.RemoteConnectionError&&(a.window.showWarningMessage(a.l10n.t("Could not read from remote repository '{0}'. Please make sure you have the correct access rights and the repository exists.",s.remoteName),{modal:!0}),d(void 0)),ie}const W=await this._repository.getBranch(t.name);(!W||!W.upstream)&&d(void 0),d(W)}),y.show()})}async getRemote(t,e,i){if(!t.length){a.window.showWarningMessage(a.l10n.t("No GitHub remotes found. Add a remote and try again."));return}if(t.length===1&&!i)return Eh.fromRemote(t[0]);if(t.length===1&&i&&i.owner===t[0].owner&&i.name===t[0].repositoryName)return i;let n=!1;const r=t.map(d=>{const y=Eh.fromRemote(d);if(i){const{owner:F,name:W}=i;y.picked=y.owner===F&&y.name===W,y.picked&&(n=!0)}return y});!n&&i&&r.unshift(i);const s=await a.window.showQuickPick(r,{ignoreFocusOut:!0,placeHolder:e});if(!!s)return s}async createPullRequest(t){const e=async i=>{if(!i)return;const n=a.workspace.getConfiguration(Xe).get(Zt,"openOverview");if(n==="openOverview"){const r=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Ko(this._telemetry,i,r,this._folderRepoManager,!0)}else if(n.startsWith("checkoutDefaultBranch")){const r=await this._folderRepoManager.getPullRequestRepositoryDefaultBranch(i);r&&(n==="checkoutDefaultBranch"&&await this._folderRepoManager.checkoutDefaultBranch(r),n==="checkoutDefaultBranchAndShow"?(await a.commands.executeCommand("pr:github.focus"),await this._folderRepoManager.checkoutDefaultBranch(r),await this._pullRequestsTree.expandPullRequest(i)):n==="checkoutDefaultBranchAndCopy"&&await Promise.all([this._folderRepoManager.checkoutDefaultBranch(r),a.env.clipboard.writeText(i.html_url)]))}await this.updateState(!1,!1)};return this._createPullRequestHelper.create(this._telemetry,this._context.extensionUri,this._folderRepoManager,t,e)}async openDescription(){const t=this._folderRepoManager.activePullRequest;if(!t)return;const e=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Ko(this._telemetry,t,e,this._folderRepoManager,!0)}get isCreatingPullRequest(){var t,e;return(e=(t=this._createPullRequestHelper)==null?void 0:t.isCreatingPullRequest)!=null?e:!1}async updateFocusedViewMode(){a.workspace.getConfiguration(Xe).get(We)?(a.commands.executeCommand("setContext",Ks,!0),await this._context.workspaceState.update(Ks,!0)):(a.commands.executeCommand("setContext",Ks,!1),this._context.workspaceState.update(Ks,!1))}async clear(t){var e,i;if(t){const n=this._folderRepoManager.activePullRequest;n&&this._activePrViewCoordinator.removePullRequest(n),this.changesInPrDataProvider&&await this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this._updateMessageShown=!1,this._reviewModel.clear(),this._localToDispose.forEach(r=>r.dispose()),n==null||n.clear(),this._folderRepoManager.setFileViewedContext()}(e=this._reviewCommentController)==null||e.dispose(),this._reviewCommentController=void 0,(i=this._inMemGitHubContentProvider)==null||i.dispose(),this._inMemGitHubContentProvider=void 0}async provideTextDocumentContent(t){const{path:e,commit:i,base:n}=sa(t.query);let r=wc(this._reviewModel.localFileChanges).filter(s=>s.fileName===e).filter(s=>s.sha===i||`${s.sha}^`===i);if(r.length){const s=r[0],d=i===s.sha?Ze.Delete:Ze.Add;return(await s.changeModel.diffHunks()).map(F=>F.diffLines.filter(W=>W.type!==d).map(W=>W.text)).reduce((F,W)=>F.concat(...W),[]).join(`
`)}if(r=wc(this._reviewModel.obsoleteFileChanges).filter(s=>s.fileName===e).filter(s=>s.sha===i||`${s.sha}^`===i),r.length){const s=r[0],d=i===s.sha?Ze.Delete:Ze.Add,y=[],F=o(s.comments,W=>String(W.originalPosition));for(const W in F){if(!F[W][0].diffHunks)continue;const ie=F[W][0].diffHunks.map(le=>le.diffLines.filter(de=>de.type!==d).map(de=>de.text)).reduce((le,de)=>le.concat(...de),[]);y.push(...ie)}return y.join(`
`)}else if(n&&i&&this._folderRepoManager.activePullRequest)return(await this._folderRepoManager.activePullRequest.githubRepository.getFile(e,i)).toString()}dispose(){this.clear(!0),j(this._disposables)}static getReviewManagerForRepository(t,e,i){return t.find(n=>n._folderRepoManager.gitHubRepositories.some(r=>r.equals(e)&&(!i||n._folderRepoManager.repository===i)))}static getReviewManagerForFolderManager(t,e){return t.find(i=>i._folderRepoManager===e)}};let Or=Th;Vn(Or,"ID","Review");class y0{constructor(){Vn(this,"_shouldShow",!1),Vn(this,"_onChangedShowValue",new a.EventEmitter),Vn(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const i=this._shouldShow;this._shouldShow=e,i!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}var w0=Object.defineProperty,Xl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?w0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class wa extends ar{constructor(e,i,n,r,s){super();this.parent=e,this.label=i,this.pullRequestModel=n,this.repository=r,this.folderRepositoryManager=s,Xl(this,"command"),Xl(this,"contextValue"),Xl(this,"tooltip"),Xl(this,"iconPath"),this.command={title:a.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]},this.iconPath=new a.ThemeIcon("git-pull-request"),this.tooltip=a.l10n.t("Description of pull request #{0}",n.number),this.accessibilityInformation={label:a.l10n.t("Pull request page of pull request number {0}",n.number),role:"button"}}async getTreeItem(){return this.updateContextValue(),this}updateContextValue(){const e=this.pullRequestModel.equals(this.folderRepositoryManager.activePullRequest);this.contextValue="description"+(e?":active":":nonactive")+(this.pullRequestModel.hasChangesSinceLastReview?":hasChangesSinceReview":"")+(this.pullRequestModel.showChangesSinceReview?":showingChangesSinceReview":":showingAllChanges")+(this.pullRequestModel.item.isRemoteHeadDeleted?"":":hasHeadRef")}}var _0=Object.defineProperty,Zl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?_0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Ia extends ar{constructor(e,i){super();this.parent=e,this.label=i,Zl(this,"collapsibleState"),Zl(this,"children",[]),Zl(this,"pathToChild",new Map),Zl(this,"checkboxState"),this.collapsibleState=a.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(i=>{i instanceof Ia&&i.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof Ia&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children,this.children.forEach(i=>{i.parent=this}))}sort(){if(this.children.length<=1)return;const e=[],i=[];this.children.forEach(n=>{n instanceof Ia?(n.sort(),e.push(n)):i.push(n)}),e.sort((n,r)=>n.label<r.label?-1:1),i.sort((n,r)=>n.label<r.label?-1:1),this.children=[...e,...i]}addFile(e){const i=e.changeModel.fileName.split("/");this.addPathRecc(i,e)}addPathRecc(e,i){if(e.length<=0)return;if(e.length===1){i.parent=this,this.children.push(i);return}const n=e[0],r=e.slice(1);let s=this.pathToChild.get(n);s||(s=new Ia(this,n),this.pathToChild.set(n,s),this.children.push(s)),s.addPathRecc(r,i)}allChildrenViewed(){for(const e of this.children)if(e instanceof Ia){if(!e.allChildrenViewed())return!1}else if(e.checkboxState.state!==a.TreeItemCheckboxState.Checked)return!1;return!0}setCheckboxState(e){this.checkboxState=e?{state:a.TreeItemCheckboxState.Checked,tooltip:a.l10n.t("Mark all files unviewed"),accessibilityInformation:{label:a.l10n.t("Mark all files in folder {0} as unviewed",this.label)}}:{state:a.TreeItemCheckboxState.Unchecked,tooltip:a.l10n.t("Mark all files viewed"),accessibilityInformation:{label:a.l10n.t("Mark all files in folder {0} as viewed",this.label)}}}getTreeItem(){return this.setCheckboxState(this.allChildrenViewed()),this}}var k0=Object.defineProperty,Zs=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?k0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Pc=class extends ar{constructor(t,e,i,n,r){super();this.parent=t,this._folderReposManager=e,this.pullRequestModel=i,this._isLocal=n,this._notificationProvider=r,Zs(this,"_fileChanges"),Zs(this,"_commentController"),Zs(this,"_disposables",[]),Zs(this,"_inMemPRContentProvider"),Zs(this,"_command"),this.registerSinceReviewChange(),this.registerConfigurationChange(),this._disposables.push(this.pullRequestModel.onDidInvalidate(()=>this.refresh(this))),this._disposables.push(this._folderReposManager.onDidChangeActivePullRequest(s=>{(s.new===this.pullRequestModel.number||s.old===this.pullRequestModel.number)&&this.refresh(this)}))}get command(){return this._command}set command(t){this._command=t}get repository(){return this._folderReposManager.repository}async getChildren(){var t;super.getChildren(),f.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Pc.ID);try{const e=new wa(this,a.l10n.t("Description"),this.pullRequestModel,this.repository,this._folderReposManager);if(!this.pullRequestModel.isResolved())return[e];[,this._fileChanges,,]=await Promise.all([this.pullRequestModel.initializePullRequestFileViewState(),this.resolveFileChangeNodes(),this._commentController?new Promise(r=>r()):this.resolvePRCommentController(),this.pullRequestModel.validateDraftMode()]),this._inMemPRContentProvider||(this._inMemPRContentProvider=(t=Nc())==null?void 0:t.registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this)));const i=[e];if(a.workspace.getConfiguration(Xe).get(Nt)==="tree"){const r=new Ia(this,"");this._fileChanges.forEach(s=>r.addFile(s)),r.finalize(),r.label===""?i.push(...r.children):i.push(r)}else i.push(...this._fileChanges);return this.pullRequestModel.showChangesSinceReview!==void 0&&this.reopenNewPrDiffs(this.pullRequestModel),this.children=i,this.pullRequestModel.initializeReviewThreadCache(),i}catch(e){return f.error(e),[]}}registerSinceReviewChange(){this._disposables.push(this.pullRequestModel.onDidChangeChangesSinceReview(t=>{this.refresh(this)}))}registerConfigurationChange(){this._disposables.push(a.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${Xe}.${si}`)&&this.refresh()}))}async reopenNewPrDiffs(t){let e=!1;a.window.tabGroups.all.map(i=>{i.tabs.map(n=>{if(n.input instanceof a.TabInputTextDiff&&n.input.original.scheme===oi.Pr&&n.input.modified.scheme===oi.Pr&&this._fileChanges)for(const r of this._fileChanges){const s=Hn(n.input.original),d=Hn(n.input.modified),y=Hn(r.changeModel.filePath);if((s==null?void 0:s.prNumber)===t.number&&(d==null?void 0:d.prNumber)===t.number&&r.fileName===d.fileName&&(y==null?void 0:y.headCommit)!==d.headCommit){e=!0,a.window.tabGroups.close(n).then(F=>r.openDiff(this._folderReposManager,{preview:n.isPreview}));break}}})}),t.showChangesSinceReview&&!e&&this._fileChanges&&this._fileChanges.length&&!t.isActive&&this._fileChanges[0].openDiff(this._folderReposManager,{preview:!0})}async resolvePRCommentController(){this.pullRequestModel.equals(this._folderReposManager.activePullRequest)||(await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners())}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(async t=>{t||(await this.getFileChanges()).forEach(e=>{e instanceof yc&&e.comments.forEach(i=>i.isDraft=t)})}))}async getFileChanges(t){return(!this._fileChanges||t)&&(this._fileChanges=await this.resolveFileChangeNodes()),this._fileChanges}async resolveFileChangeNodes(){if(!this.pullRequestModel.isResolved())return[];const t=[],e=this.pullRequestModel.equals(this._folderReposManager.activePullRequest);e&&this._folderReposManager.activePullRequest!==void 0&&this._folderReposManager.activePullRequest.fileChanges.size>0?(this.pullRequestModel=this._folderReposManager.activePullRequest,t.push(...this._folderReposManager.activePullRequest.fileChanges.values())):t.push(...await this.pullRequestModel.getFileChangesInfo());const i=this.pullRequestModel.mergeBase;return i?t.map(n=>{if(n instanceof fi){const d=new js(this._folderReposManager,n,this.pullRequestModel);return new bc(this,this._folderReposManager,this.pullRequestModel,d)}const r=new ps(this._folderReposManager,this.pullRequestModel,n,e,i);return new yc(this._folderReposManager,this,this.pullRequestModel,r)}):[]}async getTreeItem(){var t,e;const i=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:n,number:r,author:s,isDraft:d,html_url:y}=this.pullRequestModel,F=this.pullRequestModel.title.length>50?`${this.pullRequestModel.title.substring(0,50)}...`:this.pullRequestModel.title,{login:W}=s,ie=this._notificationProvider.hasNotification(this.pullRequestModel),le=r.toString();let de=i?"\u2713 ":"",ke=i?"Current Branch * ":"";a.workspace.getConfiguration(Xe).get(si,!1)&&(de+=`#${le}: `,ke+=`#${le}: `);const Ie=`${de}${d?"[DRAFT] ":""}${F}`,oe=`${ke}${n} by @${W}`,ye=`by @${W}`;return{label:Ie,id:`${this.parent instanceof ar?(t=this.parent.id)!=null?t:this.parent.label:""}${y}${this._isLocal?this.pullRequestModel.localBranchName:""}`,tooltip:oe,description:ye,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(i?":active":":nonactive")+(ie?":notification":"")+(this.pullRequestModel.item.isRemoteHeadDeleted?"":":hasHeadRef"),iconPath:(e=(await Ka.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?e:new a.ThemeIcon("github"),accessibilityInformation:{label:`${d?"Draft ":""}Pull request number ${le}: ${n} by ${W}`},resourceUri:mc(this.pullRequestModel)}}async provideCommentingRanges(t,e){if(t.uri.scheme===oi.Pr){const i=Hn(t.uri);if(!i||i.prNumber!==this.pullRequestModel.number)return;const n=(await this.getFileChanges()).find(r=>r.changeModel.fileName===i.fileName);return!n||n instanceof bc?void 0:{ranges:Zf(await n.changeModel.diffHunks(),i.isBase,Pc.ID),enableFileComments:!0}}}async provideDocumentContent(t){var e;const i=Hn(t);if(!i)return"";const n=(e=(await this.getFileChanges()).find(r=>r.changeModel.fileName===i.fileName))==null?void 0:e.changeModel;return n?Mc(this._folderReposManager,this.pullRequestModel,i,n):(f.appendLine(`Can not find content for document ${t.toString()}`,"PR"),"")}dispose(){super.dispose(),this._inMemPRContentProvider&&this._inMemPRContentProvider.dispose(),this._commentController=void 0,j(this._disposables),this._disposables=[]}};let Gr=Pc;Zs(Gr,"ID","PRNode");var S0=Object.defineProperty,jo=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?S0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class R0 extends ar{constructor(e,i,n,r,s){super();this.parent=e,this.pullRequestManager=i,this.pullRequest=n,this.commit=r,this.isCurrent=s,jo(this,"sha"),jo(this,"collapsibleState"),jo(this,"iconPath"),jo(this,"contextValue"),jo(this,"description");var d;this.label=r.commit.message,this.sha=r.sha,this.collapsibleState=a.TreeItemCollapsibleState.Collapsed,this.contextValue="commit",this.description=((d=r.commit.author)==null?void 0:d.date)?te(r.commit.author.date):void 0}async getTreeItem(){if(this.commit.author){const e={id:this.commit.author.node_id,login:this.commit.author.login,url:this.commit.author.url,avatarUrl:this.commit.author.avatar_url};this.iconPath=(await Ka.avatarCirclesAsImageDataUris(this.pullRequestManager.context,[e],16,16))[0]}return this}async getChildren(){var e;super.getChildren();const i=(e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[];if(i.length===0)return[new eh("No changed files")];const n=i.map(d=>{const y=d.filename,F=a.Uri.parse(m.posix.join(`commit~${this.commit.sha.substr(0,8)}`,y)),W=new cc(this.pullRequestManager,this.pullRequest,{status:je(d.status),fileName:y,blobUrl:void 0},Jr(F,y,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),Jr(F,y,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),this.commit.sha),ie=new Ys(this,this.pullRequestManager,this.pullRequest,W,this.isCurrent);return ie.useViewChangesCommand(),ie});let r=[];if(a.workspace.getConfiguration(Xe).get(Nt)==="tree"){const d=new Ia(this,"");n.forEach(y=>d.addFile(y)),d.finalize(),d.label===""?r.push(...d.children):r.push(d)}else r=n;return this.children=r,r}}var E0=Object.defineProperty,eu=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?E0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class T0 extends ar{constructor(e,i,n){super();eu(this,"label",a.l10n.t("Commits")),eu(this,"collapsibleState"),eu(this,"_folderRepoManager"),eu(this,"_pr"),this.parent=e,this._pr=n,this._folderRepoManager=i,this.collapsibleState=a.TreeItemCollapsibleState.Collapsed,this.childrenDisposables=[],this.childrenDisposables.push(this._pr.onDidChangeReviewThreads(()=>{f.appendLine("Review threads have changed, refreshing Commits node",_),this.refresh(this)})),this.childrenDisposables.push(this._pr.onDidChangeComments(()=>{f.appendLine("Comments have changed, refreshing Commits node",_),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){super.getChildren();try{f.appendLine("Getting children for Commits node",_);const e=await this._pr.getCommits();return this.children=e.map((i,n)=>{var r;return new R0(this,this._folderRepoManager,this._pr,i,n===e.length-1&&((r=this._folderRepoManager.repository.state.HEAD)==null?void 0:r.commit)===i.sha)}),f.appendLine("Got all children for Commits node",_),this.children}catch(e){return[]}}}var C0=Object.defineProperty,Ac=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?C0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class N0 extends ar{constructor(e,i,n){super();this.parent=e,this._reviewModel=i,Ac(this,"label",a.l10n.t("Files")),Ac(this,"collapsibleState"),Ac(this,"directories",[]),this.collapsibleState=a.TreeItemCollapsibleState.Expanded,this.childrenDisposables=[],this.childrenDisposables.push(this._reviewModel.onDidChangeLocalFileChanges(()=>{f.appendLine("Local files have changed, refreshing Files node",_),this.refresh(this)})),this.childrenDisposables.push(n.onDidChangeReviewThreads(()=>{f.appendLine("Review threads have changed, refreshing Files node",_),this.refresh(this)})),this.childrenDisposables.push(n.onDidChangeComments(()=>{f.appendLine("Comments have changed, refreshing Files node",_),this.refresh(this)}))}getTreeItem(){return this}async getChildren(){if(super.getChildren(!1),f.appendLine("Getting children for Files node",_),!this._reviewModel.hasLocalFileChanges)return new Promise(r=>{const s=this._reviewModel.onDidChangeLocalFileChanges(()=>{r([]),s.dispose()})});if(this._reviewModel.localFileChanges.length===0)return[new eh(a.l10n.t("No changed files"))];let e;const i=a.workspace.getConfiguration(Xe).get(Nt),n=new Ia(this,"");if(this._reviewModel.localFileChanges.forEach(r=>n.addFile(r)),n.finalize(),n.label===""?this.directories=n.children:this.directories=[n],i==="tree")e=this.directories;else{const r=[...this._reviewModel.localFileChanges];r.sort((s,d)=>me(s.fileChangeResourceUri.toString(),d.fileChangeResourceUri.toString())),e=r}return f.appendLine("Got all children for Files node",_),this.children=e,e}}var M0=Object.defineProperty,zo=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?M0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class tu extends wa{constructor(e,i,n,r,s){super(e,i.title,i,n.repository,n);this.parent=e,this._pullRequestManager=n,this._reviewModel=r,this._progress=s,zo(this,"_filesCategoryNode"),zo(this,"_commitsCategoryNode"),zo(this,"description"),zo(this,"collapsibleState",a.TreeItemCollapsibleState.Expanded),zo(this,"_disposables",[]),this.getTreeItem(),this._disposables.push(a.window.onDidChangeActiveTextEditor(d=>{var y;if(a.workspace.getConfiguration(kr).get(pn)){const F=(y=a.window.tabGroups.activeTabGroup.activeTab)==null?void 0:y.input;if(F instanceof a.TabInputTextDiff&&F.original.scheme===oi.Review&&F.modified.scheme!==oi.Review&&F.original.path.startsWith("/commit"))return;const W=d==null?void 0:d.document.uri.toString();this.revealActiveEditorInTree(W)}})),this._disposables.push(this.parent.view.onDidChangeVisibility(d=>{var y;const F=(y=a.window.activeTextEditor)==null?void 0:y.document.uri.toString();this.revealActiveEditorInTree(F)})),this._disposables.push(this.pullRequestModel.onDidInvalidate(()=>{this.refresh()}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const i=this._reviewModel.localFileChanges.find(n=>n.changeModel.filePath.toString()===e);i&&this.reveal(i,{select:!0})}}async getChildren(){return await this._progress.progress,(!this._filesCategoryNode||!this._commitsCategoryNode)&&(f.appendLine(`Creating file and commit nodes for PR #${this.pullRequestModel.number}`,_),this._filesCategoryNode=new N0(this.parent,this._reviewModel,this.pullRequestModel),this._commitsCategoryNode=new T0(this.parent,this._pullRequestManager,this.pullRequestModel)),this.children=[this._filesCategoryNode,this._commitsCategoryNode],this.children}setLabel(){this.label=this.pullRequestModel.title,this.label.length>50&&(this.tooltip=this.label,this.label=`${this.label.substring(0,50)}...`)}async getTreeItem(){var e;return this.setLabel(),this.iconPath=(await Ka.avatarCirclesAsImageDataUris(this._pullRequestManager.context,[this.pullRequestModel.author],16,16))[0],this.description=void 0,((e=this.parent.children)==null?void 0:e.length)&&this.parent.children.length>1&&(this.parent.children.every(n=>n instanceof tu&&n.pullRequestModel.remote.owner===this.pullRequestModel.remote.owner)?this.description=this.pullRequestModel.remote.repositoryName:this.description=`${this.pullRequestModel.remote.owner}/${this.pullRequestModel.remote.repositoryName}`),this.updateContextValue(),this}dispose(){super.dispose(),this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}const iu=new a.EventEmitter,Ch=iu.event;function Wo(t,e){if(e)return e instanceof Gr?e.pullRequestModel:e;if(!t.activePullRequest)throw a.window.showErrorMessage(a.l10n.t("Unable to find current pull request.")),new Error("Unable to find current pull request.");return t.activePullRequest}async function Ko(t,e,i,n,r,s=!0,d){const y=Wo(n,e);r&&(i==null||i.reveal(i,{select:!0,focus:!0})),y instanceof rr?await Hr.createOrShow(t,n.context.extensionUri,n,y,void 0,s):await Po.createOrShow(t,n.context.extensionUri,n,y),(d==null?void 0:d.hasNotification(y))&&d.markPrNotificationsAsRead(y),t.sendTelemetryEvent("pr.openDescription")}async function _a(t,e,i){var n;if(t.length===1)return t[0];const r=t.map(s=>({label:e(s),itemValue:s}));return(n=await a.window.showQuickPick(r,i))==null?void 0:n.itemValue}async function ka(t,e){t instanceof Gr||t instanceof wa?a.commands.executeCommand("vscode.open",a.Uri.parse(t.pullRequestModel.html_url)):ql(t)?a.commands.executeCommand("vscode.open",a.Uri.parse(t.model.html_url)):a.commands.executeCommand("vscode.open",a.Uri.parse(t.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}function P0(t,e,i,n,r){t.subscriptions.push(a.commands.registerCommand("pr.openPullRequestOnGitHub",async oe=>{if(oe)ka(oe,n);else{const ye=e.folderManagers.map(Te=>Te.activePullRequest).filter(Te=>!!Te);if(ye.length>=1){const Te=await _a(ye,Fe=>Fe.html_url);Te&&ka(Te,n)}}})),t.subscriptions.push(a.commands.registerCommand("notification.openOnGitHub",async oe=>{oe&&ka(oe,n)})),t.subscriptions.push(a.commands.registerCommand("pr.openAllDiffs",async()=>{const oe=e.folderManagers.filter(qe=>qe.activePullRequest).map(qe=>({activePr:qe.activePullRequest,folderManager:qe})),ye=oe.length>=1?await _a(oe,qe=>qe.activePr.html_url):oe[0];if(!ye)return;const{folderManager:Te}=ye,Fe=Or.getReviewManagerForFolderManager(i.reviewManagers,Te);!Fe||Fe.reviewModel.localFileChanges.forEach(qe=>qe.openDiff(Te,{preview:!1}))})),t.subscriptions.push(a.commands.registerCommand("review.suggestDiff",async oe=>{const ye="githubPullRequest.suggestDiffMessage";if(!t.globalState.get(ye,!1)){await t.globalState.update(ye,!0);const Fe=a.l10n.t("Open documentation");if(await a.window.showInformationMessage(a.l10n.t("You can now make suggestions from review comments, just like on GitHub.com. See the documentation for more details."),{modal:!0},Fe)===Fe)return a.env.openExternal(a.Uri.parse("https://github.com/microsoft/vscode-pull-request-github/blob/main/documentation/suggestAChange.md"))}try{const Fe=await _a(e.folderManagers,On=>m.basename(On.repository.rootUri.fsPath));if(!Fe||!Fe.activePullRequest)return;const{indexChanges:qe,workingTreeChanges:He}=Fe.repository.state;if(!qe.length)if(He.length){const On=a.l10n.t("Yes");if(await a.window.showWarningMessage(a.l10n.t(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`),{modal:!0},On)===On)await a.commands.executeCommand("git.stageAll");else return}else{a.window.showInformationMessage(a.l10n.t("There are no changes to suggest."));return}const lt=await Fe.repository.diff(!0);let mt=a.l10n.t(`Suggested edit:
`);oe&&oe.inputBox&&oe.inputBox.value&&(mt=`${oe.inputBox.value}
`,oe.inputBox.value="");const Pt=`${mt}\`\`\`diff
${lt}
\`\`\``;await Fe.activePullRequest.createIssueComment(Pt),await a.commands.executeCommand("git.unstageAll");const Ct=m.join(Fe.repository.rootUri.fsPath,".git",`${Fe.activePullRequest.number}.diff`),ui=new TextEncoder,Di=a.Uri.file(Ct);await a.workspace.fs.writeFile(Di,ui.encode(lt)),await Fe.repository.apply(Ct,!0),await a.workspace.fs.delete(Di)}catch(Fe){const qe=`${Fe}${Fe.stderr?`
${Fe.stderr}`:""}`;f.error(`Applying patch failed: ${qe}`),a.window.showErrorMessage(a.l10n.t("Applying patch failed: {0}",$(Fe)))}})),t.subscriptions.push(a.commands.registerCommand("pr.openFileOnGitHub",async oe=>{if(!(oe instanceof bc&&!await a.window.showInformationMessage(a.l10n.t("{0} can't be opened locally. Do you want to open it on GitHub?",oe.changeModel.fileName),a.l10n.t("Open")))&&oe.changeModel.blobUrl)return a.commands.executeCommand("vscode.open",a.Uri.parse(oe.changeModel.blobUrl))})),t.subscriptions.push(a.commands.registerCommand("pr.copyCommitHash",oe=>{a.env.clipboard.writeText(oe.sha)})),t.subscriptions.push(a.commands.registerCommand("pr.openOriginalFile",async oe=>{const ye=e.getManagerForIssueModel(oe.pullRequest);if(ye){const Te=await fc(oe.changeModel.parentFilePath,ye.repository);a.commands.executeCommand("vscode.open",Te||oe.changeModel.parentFilePath)}})),t.subscriptions.push(a.commands.registerCommand("pr.openModifiedFile",oe=>{let ye;const Te=a.window.tabGroups.activeTabGroup.activeTab;oe?ye=oe.changeModel.filePath:(Te==null?void 0:Te.input)instanceof a.TabInputTextDiff&&(ye=Te.input.modified),ye&&a.commands.executeCommand("vscode.open",ye,Te==null?void 0:Te.group.viewColumn)}));async function s(oe){var ye;if(oe&&!(oe instanceof a.Uri)){const Te=e.getManagerForIssueModel(oe.pullRequest);return Te?oe.openDiff(Te):void 0}else if(oe||a.window.activeTextEditor){const Te=oe instanceof a.Uri?a.window.visibleTextEditors.find(Ct=>Ct.document.uri.toString()===oe.toString()):a.window.activeTextEditor,Fe=Te.visibleRanges,qe=e.getManagerForFile(Te.document.uri);if(!(qe==null?void 0:qe.activePullRequest))return;const He=Or.getReviewManagerForFolderManager(i.reviewManagers,qe);if(!He)return;const lt=He.reviewModel.localFileChanges.find(Ct=>Ct.resourceUri.with({query:""}).toString()===Te.document.uri.toString());await(lt==null?void 0:lt.openDiff(qe));const mt=(ye=a.window.tabGroups.activeTabGroup.activeTab)==null?void 0:ye.input,Pt=mt instanceof a.TabInputTextDiff&&mt.modified.toString()===Te.document.uri.toString()?a.window.activeTextEditor:void 0;Pt&&Pt.revealRange(Fe[0])}}t.subscriptions.push(a.commands.registerCommand("pr.openDiffView",oe=>s(oe))),t.subscriptions.push(a.commands.registerCommand("pr.openDiffViewFromEditor",oe=>s(oe))),t.subscriptions.push(a.commands.registerCommand("pr.deleteLocalBranch",async oe=>{var ye;const Te=e.getManagerForIssueModel(oe.pullRequestModel);if(!Te)return;const Fe=Wo(Te,oe),qe="Delete Unmerged Branch";let He=null;try{await Te.deleteLocalPullRequest(Fe)}catch(lt){if(lt.gitErrorCode===ae.BranchNotFullyMerged){if(await a.window.showErrorMessage(a.l10n.t("The local branch '{0}' is not fully merged. Are you sure you want to delete it?",(ye=Fe.localBranchName)!=null?ye:"unknown branch"),qe)!==qe)return;try{await Te.deleteLocalPullRequest(Fe,!0)}catch(Pt){He=Pt}}else He=lt}He?(n.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await a.window.showErrorMessage(`Deleting local pull request branch failed: ${He}`)):(n.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),a.commands.executeCommand("pr.refreshList"))}));function d(oe){if(oe){const ye=a.Uri.file(oe).toString();for(const Te of i.reviewManagers)if(Te.repository.rootUri.toString()===ye)return Te}return _a(i.reviewManagers,ye=>m.basename(ye.repository.rootUri.fsPath),{placeHolder:a.l10n.t("Choose a repository to create a pull request in"),ignoreFocusOut:!0})}function y(oe){return!!(oe==null?void 0:oe.rootUri)}t.subscriptions.push(a.commands.registerCommand("pr.create",async oe=>{var ye,Te;y(oe)?(ye=await d(oe.rootUri.fsPath))==null||ye.createPullRequest():(Te=await d(oe==null?void 0:oe.repoPath))==null||Te.createPullRequest(oe==null?void 0:oe.compareBranch)})),t.subscriptions.push(a.commands.registerCommand("pr.pushAndCreate",async oe=>{var ye;if(y(oe)){const Te=await d(oe.rootUri.fsPath),Fe=e.getManagerForFile(oe.rootUri);let qe=!0;if(Fe==null?void 0:Fe.activePullRequest){const He=a.l10n.t("Push");if(await a.window.showInformationMessage(a.l10n.t("You already have a pull request for this branch. Do you want to push your changes to the remote branch?"),{modal:!0},He)!==He)return;qe=!1}Te&&(((ye=oe.state.HEAD)==null?void 0:ye.upstream)&&await oe.push(),qe&&Te.createPullRequest())}})),t.subscriptions.push(a.commands.registerCommand("pr.pick",async oe=>{if(oe===void 0)return f.error("Unexpectedly received undefined when picking a PR."),a.window.showErrorMessage(a.l10n.t("No pull request was selected to checkout, please try again."));let ye,Te;oe instanceof Gr||oe instanceof wa?(ye=oe.pullRequestModel,Te=oe.repository):ye=oe;const Fe=oe instanceof rr;return n.sendTelemetryEvent("pr.checkout",{fromDescription:Fe.toString()}),a.window.withProgress({location:a.ProgressLocation.SourceControl,title:a.l10n.t("Switching to Pull Request #{0}",ye.number)},async()=>{var qe;await((qe=Or.getReviewManagerForRepository(i.reviewManagers,ye.githubRepository,Te))==null?void 0:qe.switch(ye))})})),t.subscriptions.push(a.commands.registerCommand("pr.openChanges",async oe=>{if(oe===void 0)return f.error("Unexpectedly received undefined when picking a PR."),a.window.showErrorMessage(a.l10n.t("No pull request was selected to checkout, please try again."));let ye;oe instanceof Gr||oe instanceof wa?ye=oe.pullRequestModel:ye=oe;const Te=e.getManagerForIssueModel(ye);if(!!Te)return rr.openChanges(Te,ye)}));let F=!1;t.subscriptions.push(a.commands.registerCommand("pr.checkoutFromReadonlyFile",async()=>{var oe,ye;const Te=(oe=a.window.activeTextEditor)==null?void 0:oe.document.uri;if((Te==null?void 0:Te.scheme)!==oi.Pr)return;const Fe=Hn(Te);if(Fe===void 0)return;let qe;const He=e.folderManagers.find(mt=>(qe=mt.gitHubRepositories.find(Pt=>Pt.remote.remoteName===Fe.remoteName),!!qe));if(!He||!qe)return;const lt=await a.window.withProgress({location:a.ProgressLocation.Window},()=>He.fetchById(qe,Number(Fe.prNumber)));if(lt&&!F){F=!0;try{await((ye=Or.getReviewManagerForFolderManager(i.reviewManagers,He))==null?void 0:ye.switch(lt))}catch(mt){a.window.showErrorMessage(a.l10n.t("Unable to check out pull request from read-only file: {0}",mt instanceof Error?mt.message:"unknown"))}F=!1}})),t.subscriptions.push(a.commands.registerCommand("pr.pickOnVscodeDev",async oe=>{if(oe===void 0)return f.error("Unexpectedly received undefined when picking a PR."),a.window.showErrorMessage(a.l10n.t("No pull request was selected to checkout, please try again."));let ye;return oe instanceof Gr||oe instanceof wa?ye=oe.pullRequestModel:ye=oe,a.env.openExternal(a.Uri.parse(lc(ye)))})),t.subscriptions.push(a.commands.registerCommand("pr.exit",async oe=>{let ye;if(oe instanceof Gr||oe instanceof wa?ye=oe.pullRequestModel:oe===void 0?ye=await _a(e.folderManagers.map(Fe=>Fe.activePullRequest).filter(Fe=>!!Fe),Fe=>`${Fe.number}: ${Fe.title}`,{placeHolder:a.l10n.t("Choose the pull request to exit")}):ye=oe,!ye)return;const Te=oe instanceof rr;return n.sendTelemetryEvent("pr.exit",{fromDescription:Te.toString()}),a.window.withProgress({location:a.ProgressLocation.SourceControl,title:a.l10n.t("Exiting Pull Request")},async()=>{var Fe;const qe=await ye.githubRepository.getDefaultBranch(),He=e.getManagerForIssueModel(ye);if(He){const lt=(Fe=He.repository.state.HEAD)==null?void 0:Fe.name;await He.checkoutDefaultBranch(qe),lt&&await He.cleanupAfterPullRequest(lt,ye)}})})),t.subscriptions.push(a.commands.registerCommand("pr.merge",async oe=>{const ye=e.getManagerForIssueModel(oe==null?void 0:oe.pullRequestModel);if(!ye)return;const Te=Wo(ye,oe);if(Te.base&&Te.head&&!Te.base.repositoryCloneUrl.equals(Te.head.repositoryCloneUrl)&&Ol())return ka(Te,n);const He=a.l10n.t("Yes");return a.window.showWarningMessage(a.l10n.t("Are you sure you want to merge this pull request on GitHub?"),{modal:!0},He).then(async lt=>{let mt;if(lt===He)try{return mt=await ye.mergePullRequest(Te),mt}catch(Pt){return a.window.showErrorMessage(`Unable to merge pull request. ${$(Pt)}`),mt}})})),t.subscriptions.push(a.commands.registerCommand("pr.readyForReview",async oe=>{const ye=e.getManagerForIssueModel(oe==null?void 0:oe.pullRequestModel);if(!ye)return;const Te=Wo(ye,oe),Fe=a.l10n.t("Yes");return a.window.showWarningMessage(a.l10n.t("Are you sure you want to mark this pull request as ready to review on GitHub?"),{modal:!0},Fe).then(async qe=>{let He;if(qe===Fe)try{return He=(await Te.setReadyForReview()).isDraft,a.commands.executeCommand("pr.refreshList"),He}catch(lt){return a.window.showErrorMessage(`Unable to mark pull request as ready to review. ${$(lt)}`),He}})})),t.subscriptions.push(a.commands.registerCommand("pr.close",async(oe,ye)=>{let Te;if(oe)Te=oe instanceof rr?oe:oe.pullRequestModel;else{const He=e.folderManagers.map(lt=>lt.activePullRequest).filter(lt=>!!lt);Te=await _a(He,lt=>`${lt.number}: ${lt.title}`,{placeHolder:a.l10n.t("Pull request to close")})}if(!Te)return;const Fe=Te,qe=a.l10n.t("Yes");return a.window.showWarningMessage(a.l10n.t("Are you sure you want to close this pull request on GitHub? This will close the pull request without merging."),{modal:!0},qe,a.l10n.t("No")).then(async He=>{if(He===qe)try{let lt;ye&&(lt=await Fe.createIssueComment(ye));const mt=await Fe.close();return a.commands.executeCommand("pr.refreshList"),iu.fire(mt),lt}catch(lt){a.window.showErrorMessage(`Unable to close pull request. ${$(lt)}`),iu.fire()}iu.fire()})})),t.subscriptions.push(a.commands.registerCommand("pr.dismissNotification",oe=>{oe instanceof Gr&&r.notificationProvider.markPrNotificationsAsRead(oe.pullRequestModel).then(()=>r.refresh(oe))})),t.subscriptions.push(a.commands.registerCommand("pr.openDescription",async oe=>{let ye;if(oe)ye=oe instanceof wa?oe.pullRequestModel:oe;else{const qe=e.folderManagers.map(He=>He.activePullRequest).filter(He=>!!He);qe.length>=1&&(ye=await _a(qe,He=>He.title))}if(!ye){f.appendLine("No pull request found.");return}const Te=e.getManagerForIssueModel(ye);if(!Te)return;let Fe;if(oe instanceof wa)Fe=oe;else{const qe=Or.getReviewManagerForFolderManager(i.reviewManagers,Te);if(!qe)return;Fe=qe.changesInPrDataProvider.getDescriptionNode(Te)}await Ko(n,ye,Fe,Te,!(oe instanceof wa),!(oe instanceof tu),r.notificationProvider)})),t.subscriptions.push(a.commands.registerCommand("pr.refreshDescription",async()=>{Hr.currentPanel&&Hr.refresh()})),t.subscriptions.push(a.commands.registerCommand("pr.focusDescriptionInput",async()=>{Hr.currentPanel&&Hr.scrollToReview()})),t.subscriptions.push(a.commands.registerCommand("pr.openDescriptionToTheSide",async oe=>{const ye=e.getManagerForIssueModel(oe.pullRequestModel);if(!ye)return;const Te=oe.pullRequestModel,Fe=Wo(ye,Te);oe.reveal(oe,{select:!0,focus:!0}),Hr.createOrShow(n,t.extensionUri,ye,Fe,!0),n.sendTelemetryEvent("pr.openDescriptionToTheSide")})),t.subscriptions.push(a.commands.registerCommand("pr.showDiffSinceLastReview",async oe=>{oe.pullRequestModel.showChangesSinceReview=!0})),t.subscriptions.push(a.commands.registerCommand("pr.showDiffAll",async oe=>{oe.pullRequestModel.showChangesSinceReview=!1})),t.subscriptions.push(a.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),t.subscriptions.push(a.commands.registerCommand("pr.signinNoEnterprise",async()=>{await e.authenticate(!1)})),t.subscriptions.push(a.commands.registerCommand("pr.signinenterprise",async()=>{await e.authenticate(!0)})),t.subscriptions.push(a.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const oe of e.folderManagers)await oe.deleteLocalBranchesNRemotes()})),t.subscriptions.push(a.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&a.commands.executeCommand("pr.refreshList")})),t.subscriptions.push(a.commands.registerCommand("pr.configureRemotes",async()=>a.commands.executeCommand("workbench.action.openSettings",`@ext:${Ws} remotes`))),t.subscriptions.push(a.commands.registerCommand("pr.startReview",async oe=>{n.sendTelemetryEvent("pr.startReview");const ye=ut(oe.thread);ye&&ye.startReview(oe.thread,oe.text)})),t.subscriptions.push(a.commands.registerCommand("pr.openReview",async oe=>{n.sendTelemetryEvent("pr.openReview");const ye=ut(oe);ye&&await ye.openReview(oe)}));function W(oe){let ye,Te="";return oe instanceof Gn?ye=oe.parent:Ue.is(oe)||Xu.is(oe==null?void 0:oe.thread)?ye=oe.thread:ye=oe,{thread:ye,text:Te}}t.subscriptions.push(a.commands.registerCommand("pr.resolveReviewThread",async oe=>{n.sendTelemetryEvent("pr.resolveReviewThread");const{thread:ye,text:Te}=W(oe),Fe=ut(ye);Fe&&await Fe.resolveReviewThread(ye,Te)}));const ie=async(oe,ye)=>{n.sendTelemetryEvent("pr.unresolveReviewThread");const{thread:Te,text:Fe}=W(oe),qe=ut(Te);qe&&(await qe.unresolveReviewThread(Te,Fe),ye&&Te.reveal(void 0,{focus:a.CommentThreadFocus.Reply}))};t.subscriptions.push(a.commands.registerCommand("pr.unresolveReviewThread",oe=>ie(oe,!1))),t.subscriptions.push(a.commands.registerCommand("pr.unresolveReviewThreadFromView",oe=>ie(oe,!0)));const le=oe=>{const{path:ye,rootPath:Te}=sa(oe.query);return a.Uri.joinPath(a.Uri.file(Te),ye)};t.subscriptions.push(a.commands.registerCommand("pr.diffOutdatedCommentWithHead",async oe=>{n.sendTelemetryEvent("pr.diffOutdatedCommentWithHead");const ye={};ye.selection=oe.range;const Te=m.basename(oe.uri.fsPath),{commit:Fe}=sa(oe.uri.query);a.commands.executeCommand("vscode.diff",oe.uri,le(oe.uri),`${Te} from ${(Fe||"").substr(0,8)} diffed with HEAD`,ye)})),t.subscriptions.push(a.commands.registerCommand("pr.createComment",async oe=>{n.sendTelemetryEvent("pr.createComment");const ye=ut(oe.thread);ye&&ye.createOrReplyComment(oe.thread,oe.text,!1)})),t.subscriptions.push(a.commands.registerCommand("pr.createSingleComment",async oe=>{n.sendTelemetryEvent("pr.createSingleComment");const ye=ut(oe.thread);ye&&ye.createOrReplyComment(oe.thread,oe.text,!0)})),t.subscriptions.push(a.commands.registerCommand("pr.makeSuggestion",async oe=>{var ye,Te;let Fe;if(oe===void 0?Fe=(ye=bt())==null?void 0:ye.commentController.activeCommentThread:Fe=oe instanceof Gn?oe.parent:oe==null?void 0:oe.thread,!(Fe==null?void 0:Fe.range))return;const qe=Fe,He=((Te=a.window.activeTextEditor)==null?void 0:Te.document.uri.scheme)===oi.Comment?a.window.activeTextEditor:a.window.visibleTextEditors.find(Ct=>Ct.document.uri.scheme===oi.Comment&&Ct.document.uri.query==="");if(!He){f.error("No comment editor visible for making a suggestion."),a.window.showErrorMessage(a.l10n.t("No available comment editor to make a suggestion in."));return}const lt=a.window.visibleTextEditors.find(Ct=>Ct.document.uri.toString()===qe.uri.toString()),mt=lt==null?void 0:lt.document.getText(new a.Range(qe.range.start.line,0,qe.range.end.line,lt.document.lineAt(qe.range.end.line).text.length)),Pt=He.document.lineAt(He.selection.end.line).range.end;return He.edit(Ct=>{Ct.insert(Pt,`
\`\`\`suggestion
${mt}
\`\`\``)})})),t.subscriptions.push(a.commands.registerCommand("pr.editComment",async oe=>{n.sendTelemetryEvent("pr.editComment"),oe.startEdit()})),t.subscriptions.push(a.commands.registerCommand("pr.editQuery",oe=>(n.sendTelemetryEvent("pr.editQuery"),oe.editQuery()))),t.subscriptions.push(a.commands.registerCommand("pr.cancelEditComment",async oe=>{n.sendTelemetryEvent("pr.cancelEditComment"),oe.cancelEdit()})),t.subscriptions.push(a.commands.registerCommand("pr.saveComment",async oe=>{n.sendTelemetryEvent("pr.saveComment");const ye=ut(oe.parent);ye&&await ye.editComment(oe.parent,oe)})),t.subscriptions.push(a.commands.registerCommand("pr.deleteComment",async oe=>{n.sendTelemetryEvent("pr.deleteComment");const ye=a.l10n.t("Delete");if(await a.window.showWarningMessage(a.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},ye)===ye){const Fe=ut(oe.parent);Fe&&await Fe.deleteComment(oe.parent,oe)}})),t.subscriptions.push(a.commands.registerCommand("review.openFile",oe=>{var ye;const Te=oe instanceof Ys?oe.openFileCommand():$l(oe);a.commands.executeCommand(Te.command,...(ye=Te.arguments)!=null?ye:[])})),t.subscriptions.push(a.commands.registerCommand("review.openLocalFile",oe=>{var ye,Te;const Fe=oe!=null?oe:(ye=a.window.activeTextEditor)==null?void 0:ye.document.uri;if(!Fe)return;const qe=le(Fe),He=a.window.visibleTextEditors.find(mt=>mt.document.uri.toString()===Fe.toString()),lt=$l(qe,He?{selection:He.selection}:void 0);a.commands.executeCommand(lt.command,...(Te=lt.arguments)!=null?Te:[])})),t.subscriptions.push(a.commands.registerCommand("review.createSuggestionsFromChanges",async(oe,...ye)=>{let Te;if("resourceStates"in oe?Te=oe.resourceStates.map(He=>He.resourceUri):(Te=[oe.resourceUri],ye&&Te.push(...ye.map(He=>He.resourceUri))),Te.length===0)return;const Fe=e.getManagerForFile(Te[0]);if(!Fe||!Fe.activePullRequest)return;const qe=Or.getReviewManagerForFolderManager(i.reviewManagers,Fe);return qe==null?void 0:qe.createSuggestionsFromChanges(Te)})),t.subscriptions.push(a.commands.registerDiffInformationCommand("review.createSuggestionFromChange",async oe=>{const ye=a.window.tabGroups.activeTabGroup.activeTab,Te=ye==null?void 0:ye.input;if(!(Te instanceof a.TabInputTextDiff))return a.window.showErrorMessage(a.l10n.t("Current editor isn't a diff editor."));const Fe=a.window.visibleTextEditors.find(Pt=>Pt.document.uri.toString()===Te.modified.toString());if(!Fe)return a.window.showErrorMessage(a.l10n.t("Unexpectedly unable to find the current modified editor."));const qe=e.getManagerForFile(Te.modified);if(!qe||!qe.activePullRequest)return;const He=Fe.selection,lt=oe.filter(Pt=>!!He.intersection(new a.Selection(Pt.modifiedStartLineNumber-1,0,Pt.modifiedEndLineNumber-1,100)));if(lt.length===0)return a.window.showErrorMessage(a.l10n.t("No modified lines selected."));const mt=Or.getReviewManagerForFolderManager(i.reviewManagers,qe);return mt==null?void 0:mt.createSuggestionFromChange(Fe.document,lt)})),t.subscriptions.push(a.commands.registerCommand("pr.refreshChanges",oe=>{i.reviewManagers.forEach(ye=>{a.window.withProgress({location:{viewId:"prStatus:github"}},async()=>{await ye.updateComments(),Hr.refresh(),ye.changesInPrDataProvider.refresh()})})})),t.subscriptions.push(a.commands.registerCommand("pr.setFileListLayoutAsTree",oe=>{a.workspace.getConfiguration(Xe).update(Nt,"tree",!0)})),t.subscriptions.push(a.commands.registerCommand("pr.setFileListLayoutAsFlat",oe=>{a.workspace.getConfiguration(Xe).update(Nt,"flat",!0)})),t.subscriptions.push(a.commands.registerCommand("pr.refreshPullRequest",oe=>{var ye;const Te=e.getManagerForIssueModel(oe.pullRequestModel);Te&&oe.pullRequestModel.equals(Te==null?void 0:Te.activePullRequest)&&((ye=Or.getReviewManagerForFolderManager(i.reviewManagers,Te))==null||ye.updateComments()),Hr.refresh(),r.refresh(oe)}));const de=(oe,ye)=>{var Te;if(ye.scheme===oi.Pr){const Fe=Hn(ye);if(Fe)for(const qe of(Te=oe==null?void 0:oe.gitHubRepositories)!=null?Te:[]){const He=Number(Fe.prNumber);if(qe.pullRequestModels.has(He))return qe.pullRequestModels.get(He)}}else return oe==null?void 0:oe.activePullRequest};t.subscriptions.push(a.commands.registerCommand("pr.markFileAsViewed",async oe=>{var ye;try{if(oe===void 0&&(oe=(ye=a.window.activeTextEditor)==null?void 0:ye.document.uri),oe instanceof Qs)await oe.markFileAsViewed(!1);else if(oe){const Te=a.window.tabGroups.activeTabGroup.activeTab;if(Te){let He;Te.input instanceof a.TabInputTextDiff?He=Te.input.modified:Te.input instanceof a.TabInputText&&(He=Te.input.uri),He&&oe.toString()===He.toString()&&a.window.tabGroups.close(Te)}const Fe=e.getManagerForFile(oe),qe=de(Fe,oe);await(qe==null?void 0:qe.markFiles([oe.path],!0,"viewed")),Fe==null||Fe.setFileViewedContext()}}catch(Te){a.window.showErrorMessage(`Marked file as viewed failed: ${Te}`)}})),t.subscriptions.push(a.commands.registerCommand("pr.unmarkFileAsViewed",async oe=>{var ye;try{if(oe===void 0&&(oe=(ye=a.window.activeTextEditor)==null?void 0:ye.document.uri),oe instanceof Qs)oe.unmarkFileAsViewed(!1);else if(oe){const Te=e.getManagerForFile(oe),Fe=de(Te,oe);await(Fe==null?void 0:Fe.markFiles([oe.path],!0,"unviewed")),Te==null||Te.setFileViewedContext()}}catch(Te){a.window.showErrorMessage(`Marked file as not viewed failed: ${Te}`)}})),t.subscriptions.push(a.commands.registerCommand("pr.resetViewedFiles",async()=>{try{return e.folderManagers.map(async oe=>{var ye;await((ye=oe.activePullRequest)==null?void 0:ye.unmarkAllFilesAsViewed()),oe.setFileViewedContext()})}catch(oe){a.window.showErrorMessage(`Marked file as not viewed failed: ${oe}`)}})),t.subscriptions.push(a.commands.registerCommand("pr.collapseAllComments",()=>a.commands.executeCommand("workbench.action.collapseAllComments"))),t.subscriptions.push(a.commands.registerCommand("pr.copyCommentLink",oe=>{if(oe instanceof Gn)return a.env.clipboard.writeText(oe.rawComment.htmlUrl)})),t.subscriptions.push(a.commands.registerCommand("pr.copyVscodeDevPrLink",async()=>{const oe=e.folderManagers.map(Te=>Te.activePullRequest).filter(Te=>!!Te),ye=await _a(oe,Te=>`${Te.number}: ${Te.title}`,{placeHolder:a.l10n.t("Pull request to create a link for")});if(ye)return a.env.clipboard.writeText(lc(ye))})),t.subscriptions.push(a.commands.registerCommand("pr.checkoutByNumber",async()=>{var oe;const ye=[];for(const lt of e.folderManagers){const mt=await lt.getActiveGitHubRemotes(await lt.getGitHubRemotes()),Pt=lt.gitHubRepositories.filter(Ct=>mt.find(ui=>ui.remoteName===Ct.remote.remoteName));ye.push(...Pt.map(Ct=>({manager:lt,repo:Ct})))}const Te=await _a(ye,lt=>`${lt.repo.remote.owner}/${lt.repo.remote.repositoryName}`,{placeHolder:a.l10n.t("Which GitHub repository do you want to checkout the pull request from?")});if(!Te)return;const Fe=/^#?(\d*)$/,qe=await a.window.showInputBox({ignoreFocusOut:!0,prompt:a.l10n.t("Enter the pull request number"),validateInput:lt=>{const mt=lt.match(Fe);if(!mt||mt.length!==2||Number.isNaN(Number(mt[1])))return a.l10n.t("Value must be a number")}});if(qe===void 0||qe==="#")return;const He=await Te.manager.fetchById(Te.repo,Number(qe.match(Fe)[1]));if(He)return(oe=Or.getReviewManagerForFolderManager(i.reviewManagers,Te.manager))==null?void 0:oe.switch(He)}));function ke(){const oe=[];return e.folderManagers.forEach(ye=>{oe.push(...ye.gitHubRepositories)}),_a(oe,ye=>`${ye.remote.owner}/${ye.remote.repositoryName}`,{placeHolder:a.l10n.t("Which GitHub repository do you want to open?")})}t.subscriptions.push(a.commands.registerCommand("pr.openPullsWebsite",async()=>{const oe=await ke();oe&&a.env.openExternal(fg(oe))})),t.subscriptions.push(a.commands.registerCommand("issues.openIssuesWebsite",async()=>{const oe=await ke();oe&&a.env.openExternal(hg(oe))})),t.subscriptions.push(a.commands.registerCommand("pr.applySuggestion",async oe=>{n.sendTelemetryEvent("pr.applySuggestion");const ye=ut(oe.parent);ye instanceof _c&&ye.applySuggestion(oe)})),t.subscriptions.push(a.commands.registerCommand("pr.applySuggestionWithCopilot",async oe=>{n.sendTelemetryEvent("pr.applySuggestionWithCopilot");const ye=oe.parent;ye.collapsibleState=a.CommentThreadCollapsibleState.Collapsed;const Te=oe.body instanceof a.MarkdownString?oe.body.value:oe.body;await a.commands.executeCommand("vscode.editorChat.start",{initialRange:ye.range,message:Te,autoSend:!0})})),t.subscriptions.push(a.commands.registerCommand("pr.addFileComment",async()=>a.commands.executeCommand("workbench.action.addComment",{fileComment:!0}))),t.subscriptions.push(a.commands.registerCommand("review.diffWithPrHead",async oe=>{const ye=oe.fileName;let Te=xa(oe.resourceUri,oe.pullRequest,oe.pullRequest.base.sha,oe.pullRequest.head.sha,oe.fileName,!0,oe.status),Fe=xa(oe.resourceUri,oe.pullRequest,oe.pullRequest.base.sha,oe.pullRequest.head.sha,oe.fileName,!1,oe.status);return a.commands.executeCommand("vscode.diff",Te,Fe,`${ye} (Pull Request Compare Base with Head)`)})),t.subscriptions.push(a.commands.registerCommand("review.diffLocalWithPrHead",async oe=>{const ye=oe.fileName;let Te=xa(oe.resourceUri,oe.pullRequest,oe.pullRequest.base.sha,oe.pullRequest.head.sha,oe.fileName,!1,oe.status);return a.commands.executeCommand("vscode.diff",Te,oe.resourceUri,`${ye} (Pull Request Compare Head with Local)`)}));async function Ie(oe,ye){const Te=a.window.tabGroups.activeTabGroup.activeTab,Fe=Te==null?void 0:Te.input;if(!(Fe instanceof a.TabInputTextDiff))return a.window.showErrorMessage(a.l10n.t("Current editor isn't a diff editor."));const qe=a.window.visibleTextEditors.find(Di=>Di.document.uri.toString()===Fe.modified.toString());if(!qe)return a.window.showErrorMessage(a.l10n.t("Unexpectedly unable to find the current modified editor."));const He=qe.document.uri;if(Fe.original.scheme!==oi.Review)return a.window.showErrorMessage(a.l10n.t("Current file isn't a pull request diff."));const lt=qe.selection.active,mt=ye?oe:oe.reverse();for(const Di of mt){const On=Di.modifiedEndLineNumber>Di.modifiedStartLineNumber?Di.modifiedEndLineNumber:Di.modifiedStartLineNumber+1,Sn=new a.Range(Di.modifiedStartLineNumber?Di.modifiedStartLineNumber-1:Di.modifiedStartLineNumber,0,On,0);if(ye&&lt.line+1<Di.modifiedStartLineNumber){qe.revealRange(Sn),qe.selection=new a.Selection(Sn.start,Sn.start);return}else if(!ye&&lt.line+1>Di.modifiedStartLineNumber){qe.revealRange(Sn),qe.selection=new a.Selection(Sn.start,Sn.start);return}}const Pt=e.getManagerForFile(He);if(!Pt)return a.window.showErrorMessage(a.l10n.t("Unable to find a repository for pull request."));const Ct=Or.getReviewManagerForFolderManager(i.reviewManagers,Pt);if(!Ct)return a.window.showErrorMessage(a.l10n.t("Cannot find active pull request."));if(!Ct.reviewModel.hasLocalFileChanges||Ct.reviewModel.localFileChanges.length===0)return a.window.showWarningMessage(a.l10n.t("Pull request data is not yet complete, please try again in a moment."));for(let Di=0;Di<Ct.reviewModel.localFileChanges.length;Di++){const On=ye?Di:Ct.reviewModel.localFileChanges.length-1-Di;if(Ct.reviewModel.localFileChanges[On].changeModel.filePath.toString()===He.toString()){const Mn=ye?On+1:On-1;if(Ct.reviewModel.localFileChanges.length>Mn){if(await Ct.reviewModel.localFileChanges[Mn].openDiff(Pt),!ye){const ul=a.window.visibleTextEditors.find(Ss=>Ss.document.uri.toString()===Ct.reviewModel.localFileChanges[Mn].changeModel.filePath.toString());if(ul){const Ss=await Ct.reviewModel.localFileChanges[Mn].changeModel.diffHunks(),Rs=Ss[Ss.length-1],Lp=Rs.newLineNumber+Rs.newLength,g1=Lp>Rs.newLineNumber?Lp:Rs.newLineNumber+1,Nd=new a.Range(Rs.newLineNumber?Rs.newLineNumber-1:Rs.newLineNumber,0,g1,0);ul.revealRange(Nd),ul.selection=new a.Selection(Nd.start,Nd.start)}}return}}}const ui=ye?a.l10n.t("Go to first diff"):a.l10n.t("Go to last diff");return a.window.showInformationMessage(a.l10n.t("There are no more diffs in this pull request."),ui).then(Di=>{if(Di===ui)return Ct.reviewModel.localFileChanges[ye?0:Ct.reviewModel.localFileChanges.length-1].openDiff(Pt)})}t.subscriptions.push(a.commands.registerDiffInformationCommand("pr.goToNextDiffInPr",async oe=>{Ie(oe,!0)})),t.subscriptions.push(a.commands.registerDiffInformationCommand("pr.goToPreviousDiffInPr",async oe=>{Ie(oe,!1)})),t.subscriptions.push(a.commands.registerCommand("pr.refreshComments",async()=>{for(const oe of e.folderManagers)for(const ye of oe.gitHubRepositories)for(const Te of ye.pullRequestModels)Te[1].isResolved()&&Te[1].reviewThreadsCacheReady&&Te[1].initializeReviewThreadCache()}))}let Qo;const A0={};function x0(t){Qo=t.globalState}const Nh=(t,e)=>{if(!Qo)throw new Error("Persistent store not initialized.");return Qo.get(t+":"+e,A0)},Mh=(t,e,i)=>{if(!Qo)throw new Error("Persistent store not initialized.");return Qo.update(t+":"+e,i)};var eo=ni(41566),D0=Object.defineProperty,xc=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?D0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class I0{constructor(e){this.baseReporter=e,xc(this,"sharedProperties",{})}sendTelemetryEvent(e,i,n){var r;(r=this.baseReporter)==null||r.sendTelemetryEvent(e,{...this.sharedProperties,...i},n)}sendTelemetryErrorEvent(e,i,n){var r;(r=this.baseReporter)==null||r.sendTelemetryErrorEvent(e,{...this.sharedProperties,...i})}setSharedProperty(e,i){this.sharedProperties[e]=i}postEvent(e,i){const n={};for(const[r,s]of i)n[r]=s;this.sendTelemetryEvent(e,n)}async dispose(){var e;return(e=this.baseReporter)==null?void 0:e.dispose()}}function F0(){switch(a.env.uriScheme){case"vscode":return eo.Z7.Public;case"vscode-insiders":return eo.Z7.Insiders;case"vscode-exploration":return eo.Z7.Internal;case"code-oss":return eo.Z7.Team;default:return eo.Z7.Public}}class O0{constructor(){xc(this,"initializePromise",Promise.resolve()),xc(this,"initialFetch",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,i){}getTreatmentVariableAsync(e,i){return Promise.resolve(void 0)}}async function L0(t,e){const i=t.extension.id,n=t.extension.packageJSON.name,r=t.extension.packageJSON.version,s=F0();return n==="vscode-pull-request-github"?(0,eo.M$)(i,r,s,e,t.globalState):new O0}var Yo=ni(65606);function nu(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof Yo=="object"&&"version"in Yo?`Node.js/${Yo.version.substr(1)} (${Yo.platform}; ${Yo.arch})`:"<environment undetectable>"}var U0=ni(80811);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Ph(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ah(t){var e,i;return Ph(t)===!1?!1:(e=t.constructor,e===void 0?!0:(i=e.prototype,!(Ph(i)===!1||i.hasOwnProperty("isPrototypeOf")===!1)))}function B0(t){return t?Object.keys(t).reduce((e,i)=>(e[i.toLowerCase()]=t[i],e),{}):{}}function xh(t,e){const i=Object.assign({},t);return Object.keys(e).forEach(n=>{Ah(e[n])?n in t?i[n]=xh(t[n],e[n]):Object.assign(i,{[n]:e[n]}):Object.assign(i,{[n]:e[n]})}),i}function Dh(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function Dc(t,e,i){if(typeof e=="string"){let[r,s]=e.split(" ");i=Object.assign(s?{method:r,url:s}:{url:r},i)}else i=Object.assign({},e);i.headers=B0(i.headers),Dh(i),Dh(i.headers);const n=xh(t||{},i);return t&&t.mediaType.previews.length&&(n.mediaType.previews=t.mediaType.previews.filter(r=>!n.mediaType.previews.includes(r)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(r=>r.replace(/-preview/,"")),n}function q0(t,e){const i=/\?/.test(t)?"&":"?",n=Object.keys(e);return n.length===0?t:t+i+n.map(r=>r==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${r}=${encodeURIComponent(e[r])}`).join("&")}const H0=/\{[^}]+\}/g;function $0(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function G0(t){const e=t.match(H0);return e?e.map($0).reduce((i,n)=>i.concat(n),[]):[]}function Ih(t,e){return Object.keys(t).filter(i=>!e.includes(i)).reduce((i,n)=>(i[n]=t[n],i),{})}function Fh(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function to(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Jo(t,e,i){return e=t==="+"||t==="#"?Fh(e):to(e),i?to(i)+"="+e:e}function io(t){return t!=null}function Ic(t){return t===";"||t==="&"||t==="?"}function V0(t,e,i,n){var r=t[i],s=[];if(io(r)&&r!=="")if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")r=r.toString(),n&&n!=="*"&&(r=r.substring(0,parseInt(n,10))),s.push(Jo(e,r,Ic(e)?i:""));else if(n==="*")Array.isArray(r)?r.filter(io).forEach(function(d){s.push(Jo(e,d,Ic(e)?i:""))}):Object.keys(r).forEach(function(d){io(r[d])&&s.push(Jo(e,r[d],d))});else{const d=[];Array.isArray(r)?r.filter(io).forEach(function(y){d.push(Jo(e,y))}):Object.keys(r).forEach(function(y){io(r[y])&&(d.push(to(y)),d.push(Jo(e,r[y].toString())))}),Ic(e)?s.push(to(i)+"="+d.join(",")):d.length!==0&&s.push(d.join(","))}else e===";"?io(r)&&s.push(to(i)):r===""&&(e==="&"||e==="?")?s.push(to(i)+"="):r===""&&s.push("");return s}function j0(t){return{expand:z0.bind(null,t)}}function z0(t,e){var i=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,r,s){if(r){let y="";const F=[];if(i.indexOf(r.charAt(0))!==-1&&(y=r.charAt(0),r=r.substr(1)),r.split(/,/g).forEach(function(W){var ie=/([^:\*]*)(?::(\d+)|(\*))?/.exec(W);F.push(V0(e,y,ie[1],ie[2]||ie[3]))}),y&&y!=="+"){var d=",";return y==="?"?d="&":y!=="#"&&(d=y),(F.length!==0?y:"")+F.join(d)}else return F.join(",")}else return Fh(s)})}function Oh(t){let e=t.method.toUpperCase(),i=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},t.headers),r,s=Ih(t,["method","baseUrl","url","headers","request","mediaType"]);const d=G0(i);i=j0(i).expand(s),/^http/.test(i)||(i=t.baseUrl+i);const y=Object.keys(t).filter(ie=>d.includes(ie)).concat("baseUrl"),F=Ih(s,y);if(!/application\/octet-stream/i.test(n.accept)&&(t.mediaType.format&&(n.accept=n.accept.split(/,/).map(ie=>ie.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const ie=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=ie.concat(t.mediaType.previews).map(le=>{const de=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${le}-preview${de}`}).join(",")}return["GET","HEAD"].includes(e)?i=q0(i,F):"data"in F?r=F.data:Object.keys(F).length?r=F:n["content-length"]=0,!n["content-type"]&&typeof r!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof r=="undefined"&&(r=""),Object.assign({method:e,url:i,headers:n},typeof r!="undefined"?{body:r}:null,t.request?{request:t.request}:null)}function W0(t,e,i){return Oh(Dc(t,e,i))}function Lh(t,e){const i=Dc(t,e),n=W0.bind(null,i);return Object.assign(n,{DEFAULTS:i,defaults:Lh.bind(null,i),merge:Dc.bind(null,i),parse:Oh})}const K0=`octokit-endpoint.js/6.0.11 ${nu()}`,Q0=Lh(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":K0},mediaType:{format:"",previews:[]}});class Y0 extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var J0=ni(83519),X0=ni.n(J0);const Z0=X0()(t=>console.warn(t));class Xo extends Error{constructor(e,i,n){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=i,Object.defineProperty(this,"code",{get(){return Z0(new Y0("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),i}}),this.headers=n.headers||{};const r=Object.assign({},n.request);n.request.headers.authorization&&(r.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}}const eb="5.4.14";function tb(t){return t.arrayBuffer()}function Uh(t){(Ah(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let e={},i,n;return(t.request&&t.request.fetch||Un())(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(s=>{n=s.url,i=s.status;for(const y of s.headers)e[y[0]]=y[1];if(i===204||i===205)return;if(t.method==="HEAD"){if(i<400)return;throw new Xo(s.statusText,i,{headers:e,request:t})}if(i===304)throw new Xo("Not modified",i,{headers:e,request:t});if(i>=400)return s.text().then(y=>{const F=new Xo(y,i,{headers:e,request:t});try{let W=JSON.parse(F.message);Object.assign(F,W);let ie=W.errors;F.message=F.message+": "+ie.map(JSON.stringify).join(", ")}catch(W){}throw F});const d=s.headers.get("content-type");return/application\/json/.test(d)?s.json():!d||/^text\/|charset=utf-8$/.test(d)?s.text():tb(s)}).then(s=>({status:i,url:n,headers:e,data:s})).catch(s=>{throw s instanceof Xo?s:new Xo(s.message,500,{headers:e,request:t})})}function Fc(t,e){const i=t.defaults(e);return Object.assign(function(r,s){const d=i.merge(r,s);if(!d.request||!d.request.hook)return Uh(i.parse(d));const y=(F,W)=>Uh(i.parse(i.merge(F,W)));return Object.assign(y,{endpoint:i,defaults:Fc.bind(null,i)}),d.request.hook(y,d)},{endpoint:i,defaults:Fc.bind(null,i)})}const ru=Fc(Q0,{headers:{"user-agent":`octokit-request.js/${eb} ${nu()}`}}),ib="4.6.1";class nb extends Error{constructor(e,i){const n=i.data.errors[0].message;super(n);Object.assign(this,i.data),Object.assign(this,{headers:i.headers}),this.name="GraphqlError",this.request=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const rb=["method","baseUrl","url","headers","request","query","mediaType"],ab=["query","method","url"],Bh=/\/api\/v3\/?$/;function sb(t,e,i){if(i){if(typeof e=="string"&&"query"in i)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const d in i)if(!!ab.includes(d))return Promise.reject(new Error(`[@octokit/graphql] "${d}" cannot be used as variable name`))}const n=typeof e=="string"?Object.assign({query:e},i):e,r=Object.keys(n).reduce((d,y)=>rb.includes(y)?(d[y]=n[y],d):(d.variables||(d.variables={}),d.variables[y]=n[y],d),{}),s=n.baseUrl||t.endpoint.DEFAULTS.baseUrl;return Bh.test(s)&&(r.url=s.replace(Bh,"/api/graphql")),t(r).then(d=>{if(d.data.errors){const y={};for(const F of Object.keys(d.headers))y[F]=d.headers[F];throw new nb(r,{headers:y,data:d.data})}return d.data.data})}function Oc(t,e){const i=t.defaults(e);return Object.assign((r,s)=>sb(i,r,s),{defaults:Oc.bind(null,i),endpoint:ru.endpoint})}const K1=Oc(ru,{headers:{"user-agent":`octokit-graphql.js/${ib} ${nu()}`},method:"POST",url:"/graphql"});function ob(t){return Oc(t,{method:"POST",url:"/graphql"})}async function lb(t){const e=t.split(/\./).length===3?"app":/^v\d+\./.test(t)?"installation":"oauth";return{type:"token",token:t,tokenType:e}}function ub(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function cb(t,e,i,n){const r=e.endpoint.merge(i,n);return r.headers.authorization=ub(t),e(r)}const db=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(lb.bind(null,e),{hook:cb.bind(null,e)})},qh="3.3.1";class Lc{constructor(e={}){const i=new U0.Collection,n={baseUrl:ru.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:i.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[e.userAgent,`octokit-core.js/${qh} ${nu()}`].filter(Boolean).join(" "),e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=ru.defaults(n),this.graphql=ob(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=i,e.authStrategy){const{authStrategy:s,...d}=e,y=s(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:d},e.auth));i.wrap("request",y.hook),this.auth=y}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const s=db(e.auth);i.wrap("request",s.hook),this.auth=s}this.constructor.plugins.forEach(s=>{Object.assign(this,s(this,e))})}static defaults(e){return class extends this{constructor(...n){const r=n[0]||{};if(typeof e=="function"){super(e(r));return}super(Object.assign({},e,r,r.userAgent&&e.userAgent?{userAgent:`${r.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var i;const n=this.plugins;return i=class extends this{},i.plugins=n.concat(e.filter(s=>!n.includes(s))),i}}Lc.VERSION=qh,Lc.plugins=[];const fb="1.0.3";function Hh(t){t.hook.wrap("request",(e,i)=>{t.log.debug("request",i);const n=Date.now(),r=t.request.endpoint.parse(i),s=r.url.replace(i.baseUrl,"");return e(i).then(d=>(t.log.info(`${r.method} ${s} - ${d.status} in ${Date.now()-n}ms`),d)).catch(d=>{throw t.log.info(`${r.method} ${s} - ${d.status} in ${Date.now()-n}ms`),d})})}Hh.VERSION=fb;const hb="2.13.2";function mb(t){if(!("total_count"in t.data&&!("url"in t.data)))return t;const i=t.data.incomplete_results,n=t.data.repository_selection,r=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;const s=Object.keys(t.data)[0],d=t.data[s];return t.data=d,typeof i!="undefined"&&(t.data.incomplete_results=i),typeof n!="undefined"&&(t.data.repository_selection=n),t.data.total_count=r,t}function Uc(t,e,i){const n=typeof e=="function"?e.endpoint(i):t.request.endpoint(e,i),r=typeof e=="function"?e:t.request,s=n.method,d=n.headers;let y=n.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!y)return{done:!0};const F=await r({method:s,url:y,headers:d}),W=mb(F);return y=((W.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:W}}})}}function $h(t,e,i,n){return typeof i=="function"&&(n=i,i=void 0),Gh(t,[],Uc(t,e,i)[Symbol.asyncIterator](),n)}function Gh(t,e,i,n){return i.next().then(r=>{if(r.done)return e;let s=!1;function d(){s=!0}return e=e.concat(n?n(r.value,d):r.value.data),s?e:Gh(t,e,i,n)})}const Q1=Object.assign($h,{iterator:Uc}),pb=null;function Y1(t){return typeof t=="string"?pb.includes(t):!1}function Vh(t){return{paginate:Object.assign($h.bind(null,t),{iterator:Uc.bind(null,t)})}}Vh.VERSION=hb;const vb={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.reactions.deleteLegacy() is deprecated, see https://docs.github.com/v3/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},gb="4.12.2";function bb(t,e){const i={};for(const[n,r]of Object.entries(e))for(const[s,d]of Object.entries(r)){const[y,F,W]=d,[ie,le]=y.split(/ /),de=Object.assign({method:ie,url:le},F);i[n]||(i[n]={});const ke=i[n];if(W){ke[s]=yb(t,n,s,de,W);continue}ke[s]=t.request.defaults(de)}return i}function yb(t,e,i,n,r){const s=t.request.defaults(n);function d(...y){let F=s.endpoint.merge(...y);if(r.mapToData)return F=Object.assign({},F,{data:F[r.mapToData],[r.mapToData]:void 0}),s(F);if(r.renamed){const[W,ie]=r.renamed;t.log.warn(`octokit.${e}.${i}() has been renamed to octokit.${W}.${ie}()`)}if(r.deprecated&&t.log.warn(r.deprecated),r.renamedParameters){const W=s.endpoint.merge(...y);for(const[ie,le]of Object.entries(r.renamedParameters))ie in W&&(t.log.warn(`"${ie}" parameter is deprecated for "octokit.${e}.${i}()". Use "${le}" instead`),le in W||(W[le]=W[ie]),delete W[ie]);return s(W)}return s(...y)}return Object.assign(d,s)}function jh(t){return bb(t,vb)}jh.VERSION=gb;const wb="18.2.1",_b=Lc.plugin(Hh,jh,Vh).defaults({userAgent:`octokit-rest.js/${wb}`});function kb(t){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:au(t)},i={kind:"Document",definitions:[e]};return i}function Sb(t,e){var i={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:au(t)},n={kind:"Document",definitions:[i]};return n}function au(t){if(typeof t=="number"||typeof t=="boolean"||typeof t=="string"||typeof t=="undefined"||t===null)return null;if(Array.isArray(t))return au(t[0]);var e=[];Object.keys(t).forEach(function(n){var r=au(t[n]),s={kind:"Field",name:{kind:"Name",value:n},selectionSet:r||void 0};e.push(s)});var i={kind:"SelectionSet",selections:e};return i}var Rb={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},Eb=function(){function t(){}return t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.readQuery=function(e,i){return i===void 0&&(i=!1),this.read({query:e.query,variables:e.variables,optimistic:i})},t.prototype.readFragment=function(e,i){return i===void 0&&(i=!1),this.read({query:Li(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:i})},t.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},t.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Li(e.fragment,e.fragmentName)})},t.prototype.writeData=function(e){var i=e.id,n=e.data;if(typeof i!="undefined"){var r=null;try{r=this.read({rootId:i,optimistic:!1,query:Rb})}catch(y){}var s=r&&r.__typename||"__ClientData",d=Object.assign({__typename:s},n);this.writeFragment({id:i,fragment:Sb(d,s),data:d})}else this.writeQuery({query:kb(n),data:n})},t}(),zh;(function(t){})(zh||(zh={}));var mr=null,Wh={},Tb=1,Cb=function(){return function(){function t(){this.id=["slot",Tb++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=mr;e;e=e.parent)if(this.id in e.slots){var i=e.slots[this.id];if(i===Wh)break;return e!==mr&&(mr.slots[this.id]=i),!0}return mr&&(mr.slots[this.id]=Wh),!1},t.prototype.getValue=function(){if(this.hasValue())return mr.slots[this.id]},t.prototype.withValue=function(e,i,n,r){var s,d=(s={__proto__:null},s[this.id]=e,s),y=mr;mr={parent:y,slots:d};try{return i.apply(r,n)}finally{mr=y}},t.bind=function(e){var i=mr;return function(){var n=mr;try{return mr=i,e.apply(this,arguments)}finally{mr=n}}},t.noContext=function(e,i,n){if(mr){var r=mr;try{return mr=null,e.apply(n,i)}finally{mr=r}}else return e.apply(n,i)},t}()},Bc="@wry/context:Slot",qc=Array,Hc=qc[Bc]||function(){var t=Cb();try{Object.defineProperty(qc,Bc,{value:qc[Bc]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),$c=Hc.bind,Nb=Hc.noContext;function J1(t,e){return setTimeout($c(t),e)}function X1(t){return function(){var e=t.apply(this,arguments),i=$c(e.next),n=$c(e.throw);return new Promise(function(r,s){function d(W,ie){try{var le=W.call(e,ie)}catch(ke){return s(ke)}var de=le.done?r:y;Mb(le.value)?le.value.then(de,le.done?s:F):de(le.value)}var y=function(W){return d(i,W)},F=function(W){return d(n,W)};y()})}}function Mb(t){return t&&typeof t.then=="function"}var Kh=null;function Z1(t){if(Kh.indexOf(t)<0){var e=function(i,n){var r=i[n];i[n]=function(){return Nb(r,arguments,this)}};e(t,"yield"),e(t.prototype,"run"),e(t.prototype,"throwInto"),Kh.push(t)}return t}function Pb(){}var Ab=function(){function t(e,i){e===void 0&&(e=Infinity),i===void 0&&(i=Pb),this.max=e,this.dispose=i,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var i=this.getEntry(e);return i&&i.value},t.prototype.getEntry=function(e){var i=this.map.get(e);if(i&&i!==this.newest){var n=i.older,r=i.newer;r&&(r.older=n),n&&(n.newer=r),i.older=this.newest,i.older.newer=i,i.newer=null,this.newest=i,i===this.oldest&&(this.oldest=r)}return i},t.prototype.set=function(e,i){var n=this.getEntry(e);return n?n.value=i:(n={key:e,value:i,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var i=this.map.get(e);return i?(i===this.newest&&(this.newest=i.older),i===this.oldest&&(this.oldest=i.newer),i.newer&&(i.newer.older=i.older),i.older&&(i.older.newer=i.newer),this.map.delete(e),this.dispose(i.value,e),!0):!1},t}(),su=new Hc,xb=[],Gc=[],Db=100;function no(t,e){if(!t)throw new Error(e||"assertion failure")}function Ib(t,e){var i=t.length;return i>0&&i===e.length&&t[i-1]===e[i-1]}function Qh(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function Fb(t){return t.slice(0)}var Ob=function(){function t(e,i){this.fn=e,this.args=i,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(no(!this.recomputing,"already recomputing"),!(!Lb(this)&&Vc(this)))return ro(this)?Ub(this):Qh(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Yh(this),jc(this))},t.prototype.dispose=function(){var e=this;tm(this).forEach(Vc),jc(this),this.parents.forEach(function(i){i.setDirty(),im(i,e)})},t.count=0,t}();function Lb(t){var e=su.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),ro(t)?Xh(e,t):Zh(e,t),e}function Ub(t){var e=tm(t);return su.withValue(t,Bb,[t]),Hb(t)&&qb(t),e.forEach(Vc),Qh(t.value)}function Bb(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function ro(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function qb(t){t.dirty=!1,!ro(t)&&Jh(t)}function Yh(t){t.parents.forEach(function(e){return Xh(e,t)})}function Jh(t){t.parents.forEach(function(e){return Zh(e,t)})}function Xh(t,e){if(no(t.childValues.has(e)),no(ro(e)),!t.dirtyChildren)t.dirtyChildren=Gc.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),Yh(t)}function Zh(t,e){no(t.childValues.has(e)),no(!ro(e));var i=t.childValues.get(e);i.length===0?t.childValues.set(e,Fb(e.value)):Ib(i,e.value)||t.setDirty(),em(t,e),!ro(t)&&Jh(t)}function em(t,e){var i=t.dirtyChildren;i&&(i.delete(e),i.size===0&&(Gc.length<Db&&Gc.push(i),t.dirtyChildren=null))}function Vc(t){return t.parents.size===0&&typeof t.reportOrphan=="function"&&t.reportOrphan()===!0}function tm(t){var e=xb;return t.childValues.size>0&&(e=[],t.childValues.forEach(function(i,n){im(t,n),e.push(n)})),no(t.dirtyChildren===null),e}function im(t,e){e.parents.delete(t),t.childValues.delete(e),em(t,e)}function Hb(t){if(typeof t.subscribe=="function")try{jc(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}function jc(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var zc=function(){function t(e){this.weakness=e}return t.prototype.lookup=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var i=this;return e.forEach(function(n){return i=i.getChildTrie(n)}),i.data||(i.data=Object.create(null))},t.prototype.getChildTrie=function(e){var i=this.weakness&&$b(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=i.get(e);return n||i.set(e,n=new t(this.weakness)),n},t}();function $b(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var Gb=new zc(typeof WeakMap=="function");function Vb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gb.lookupArray(t)}var Wc=new Set;function Zo(t,e){e===void 0&&(e=Object.create(null));var i=new Ab(e.max||Math.pow(2,16),function(d){return d.dispose()}),n=!!e.disposable,r=e.makeCacheKey||Vb;function s(){if(!(n&&!su.hasValue())){var d=r.apply(null,arguments);if(d===void 0)return t.apply(null,arguments);var y=Array.prototype.slice.call(arguments),F=i.get(d);F?F.args=y:(F=new Ob(t,y),i.set(d,F),F.subscribe=e.subscribe,n&&(F.reportOrphan=function(){return i.delete(d)}));var W=F.recompute();return i.set(d,F),Wc.add(i),su.hasValue()||(Wc.forEach(function(ie){return ie.clean()}),Wc.clear()),n?void 0:W}}return s.dirty=function(){var d=r.apply(null,arguments),y=d!==void 0&&i.get(d);y&&y.setDirty()},s}var nm=!1;function rm(){var t=!nm;return Kr()||(nm=!0),t}var jb=function(){function t(){}return t.prototype.ensureReady=function(){return Promise.resolve()},t.prototype.canBypassInit=function(){return!0},t.prototype.match=function(e,i,n){var r=n.store.get(e.id),s=e.id==="ROOT_QUERY";if(!r)return s;var d=r.__typename,y=d===void 0?s&&"Query":d;return y&&y===i?!0:(rm(),"heuristic")},t}(),ek=function(){function t(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return t.prototype.match=function(e,i,n){en(this.isReady,1);var r=n.store.get(e.id),s=e.id==="ROOT_QUERY";if(!r)return s;var d=r.__typename,y=d===void 0?s&&"Query":d;if(en(y,2),y===i)return!0;var F=this.possibleTypesMap[i];return!!(y&&F&&F.indexOf(y)>-1)},t.prototype.parseIntrospectionResult=function(e){var i={};return e.__schema.types.forEach(function(n){(n.kind==="UNION"||n.kind==="INTERFACE")&&(i[n.name]=n.possibleTypes.map(function(r){return r.name}))}),i},t}(),am=Object.prototype.hasOwnProperty,ao=function(){function t(e){var i=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=Zo(function(n){return i.data[n]},{disposable:!0,makeCacheKey:function(n){return n}})}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.depend(e),this.data[e]},t.prototype.set=function(e,i){var n=this.data[e];i!==n&&(this.data[e]=i,this.depend.dirty(e))},t.prototype.delete=function(e){am.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},t.prototype.clear=function(){this.replace(null)},t.prototype.replace=function(e){var i=this;e?(Object.keys(e).forEach(function(n){i.set(n,e[n])}),Object.keys(this.data).forEach(function(n){am.call(e,n)||i.delete(n)})):Object.keys(this.data).forEach(function(n){i.delete(n)})},t}();function sm(t){return new ao(t)}var zb=function(){function t(e){var i=this,n=e===void 0?{}:e,r=n.cacheKeyRoot,s=r===void 0?new zc(yi):r,d=n.freezeResults,y=d===void 0?!1:d,F=this,W=F.executeStoreQuery,ie=F.executeSelectionSet,le=F.executeSubSelectedArray;this.freezeResults=y,this.executeStoreQuery=Zo(function(de){return W.call(i,de)},{makeCacheKey:function(de){var ke=de.query,Ie=de.rootValue,oe=de.contextValue,ye=de.variableValues,Te=de.fragmentMatcher;if(oe.store instanceof ao)return s.lookup(oe.store,ke,Te,JSON.stringify(ye),Ie.id)}}),this.executeSelectionSet=Zo(function(de){return ie.call(i,de)},{makeCacheKey:function(de){var ke=de.selectionSet,Ie=de.rootValue,oe=de.execContext;if(oe.contextValue.store instanceof ao)return s.lookup(oe.contextValue.store,ke,oe.fragmentMatcher,JSON.stringify(oe.variableValues),Ie.id)}}),this.executeSubSelectedArray=Zo(function(de){return le.call(i,de)},{makeCacheKey:function(de){var ke=de.field,Ie=de.array,oe=de.execContext;if(oe.contextValue.store instanceof ao)return s.lookup(oe.contextValue.store,ke,Ie,JSON.stringify(oe.variableValues))}})}return t.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(At(At({},e),{returnPartialData:!1})).result},t.prototype.diffQueryAgainstStore=function(e){var i=e.store,n=e.query,r=e.variables,s=e.previousResult,d=e.returnPartialData,y=d===void 0?!0:d,F=e.rootId,W=F===void 0?"ROOT_QUERY":F,ie=e.fragmentMatcherFunction,le=e.config,de=$a(n);r=Ti({},Ga(de),r);var ke={store:i,dataIdFromObject:le&&le.dataIdFromObject,cacheRedirects:le&&le.cacheRedirects||{}},Ie=this.executeStoreQuery({query:n,rootValue:{type:"id",id:W,generated:!0,typename:"Query"},contextValue:ke,variableValues:r,fragmentMatcher:ie}),oe=Ie.missing&&Ie.missing.length>0;return oe&&!y&&Ie.missing.forEach(function(ye){if(!ye.tolerable)throw new Cn(8)}),s&&Br(s,Ie.result)&&(Ie.result=s),{result:Ie.result,complete:!oe}},t.prototype.executeStoreQuery=function(e){var i=e.query,n=e.rootValue,r=e.contextValue,s=e.variableValues,d=e.fragmentMatcher,y=d===void 0?Wb:d,F=xs(i),W=na(i),ie=Na(W),le={query:i,fragmentMap:ie,contextValue:r,variableValues:s,fragmentMatcher:y};return this.executeSelectionSet({selectionSet:F.selectionSet,rootValue:n,execContext:le})},t.prototype.executeSelectionSet=function(e){var i=this,n=e.selectionSet,r=e.rootValue,s=e.execContext,d=s.fragmentMap,y=s.contextValue,F=s.variableValues,W={result:null},ie=[],le=y.store.get(r.id),de=le&&le.__typename||r.id==="ROOT_QUERY"&&"Query"||void 0;function ke(Ie){var oe;return Ie.missing&&(W.missing=W.missing||[],(oe=W.missing).push.apply(oe,Ie.missing)),Ie.result}return n.selections.forEach(function(Ie){var oe;if(!!rt(Ie,F))if(pa(Ie)){var ye=ke(i.executeField(le,de,Ie,s));typeof ye!="undefined"&&ie.push((oe={},oe[ss(Ie)]=ye,oe))}else{var Te=void 0;if(As(Ie))Te=Ie;else if(Te=d[Ie.name.value],!Te)throw new Cn(9);var Fe=Te.typeCondition&&Te.typeCondition.name.value,qe=!Fe||s.fragmentMatcher(r,Fe,y);if(qe){var He=i.executeSelectionSet({selectionSet:Te.selectionSet,rootValue:r,execContext:s});qe==="heuristic"&&He.missing&&(He=At(At({},He),{missing:He.missing.map(function(lt){return At(At({},lt),{tolerable:!0})})})),ie.push(ke(He))}}}),W.result=Ku(ie),this.freezeResults,W},t.prototype.executeField=function(e,i,n,r){var s=r.variableValues,d=r.contextValue,y=n.name.value,F=Ha(n,s),W={resultKey:ss(n),directives:Je(n,s)},ie=Kb(e,i,y,F,d,W);return Array.isArray(ie.result)?this.combineExecResults(ie,this.executeSubSelectedArray({field:n,array:ie.result,execContext:r})):n.selectionSet?ie.result==null?ie:this.combineExecResults(ie,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:ie.result,execContext:r})):(om(n,ie.result),this.freezeResults,ie)},t.prototype.combineExecResults=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n;return e.forEach(function(r){r.missing&&(n=n||[],n.push.apply(n,r.missing))}),{result:e.pop().result,missing:n}},t.prototype.executeSubSelectedArray=function(e){var i=this,n=e.field,r=e.array,s=e.execContext,d;function y(F){return F.missing&&(d=d||[],d.push.apply(d,F.missing)),F.result}return r=r.map(function(F){return F===null?null:Array.isArray(F)?y(i.executeSubSelectedArray({field:n,array:F,execContext:s})):n.selectionSet?y(i.executeSelectionSet({selectionSet:n.selectionSet,rootValue:F,execContext:s})):(om(n,F),F)}),this.freezeResults,{result:r,missing:d}},t}();function om(t,e){if(!t.selectionSet&&Re(e))throw new Cn(10)}function Wb(){return!0}function tk(t){invariant(isIdValue(t),11)}function Kb(t,e,i,n,r,s){var d=s.resultKey,y=s.directives,F=i;(n||y)&&(F=Ps(F,n,y));var W=void 0;if(t&&(W=t[F],typeof W=="undefined"&&r.cacheRedirects&&typeof e=="string")){var ie=r.cacheRedirects[e];if(ie){var le=ie[i];le&&(W=le(t,n,{getCacheKey:function(de){var ke=r.dataIdFromObject(de);return ke&&fe({id:ke,typename:de.__typename})}}))}}return typeof W=="undefined"?{result:W,missing:[{object:t,fieldName:F,tolerable:!1}]}:(Ee(W)&&(W=W.json),{result:W})}var ou=function(){function t(e){e===void 0&&(e=Object.create(null)),this.data=e}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,i){this.data[e]=i},t.prototype.delete=function(e){this.data[e]=void 0},t.prototype.clear=function(){this.data=Object.create(null)},t.prototype.replace=function(e){this.data=e||Object.create(null)},t}();function ik(t){return new ou(t)}var Qb=function(t){Tr(e,t);function e(){var i=t!==null&&t.apply(this,arguments)||this;return i.type="WriteError",i}return e}(Error);function Yb(t,e){var i=new Qb(`Error writing result to store for query:
 `+JSON.stringify(e));return i.message+=`
`+t.message,i.stack=t.stack,i}var Jb=function(){function t(){}return t.prototype.writeQueryToStore=function(e){var i=e.query,n=e.result,r=e.store,s=r===void 0?sm():r,d=e.variables,y=e.dataIdFromObject,F=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:i,store:s,variables:d,dataIdFromObject:y,fragmentMatcherFunction:F})},t.prototype.writeResultToStore=function(e){var i=e.dataId,n=e.result,r=e.document,s=e.store,d=s===void 0?sm():s,y=e.variables,F=e.dataIdFromObject,W=e.fragmentMatcherFunction,ie=st(r);try{return this.writeSelectionSetToStore({result:n,dataId:i,selectionSet:ie.selectionSet,context:{store:d,processedData:{},variables:Ti({},Ga(ie),y),dataIdFromObject:F,fragmentMap:Na(na(r)),fragmentMatcherFunction:W}})}catch(le){throw Yb(le,r)}},t.prototype.writeSelectionSetToStore=function(e){var i=this,n=e.result,r=e.dataId,s=e.selectionSet,d=e.context,y=d.variables,F=d.store,W=d.fragmentMap;return s.selections.forEach(function(ie){var le;if(!!rt(ie,y))if(pa(ie)){var de=ss(ie),ke=n[de];if(typeof ke!="undefined")i.writeFieldToStore({dataId:r,value:ke,field:ie,context:d});else{var Ie=!1,oe=!1;ie.directives&&ie.directives.length&&(Ie=ie.directives.some(function(mt){return mt.name&&mt.name.value==="defer"}),oe=ie.directives.some(function(mt){return mt.name&&mt.name.value==="client"})),!Ie&&!oe&&d.fragmentMatcherFunction}}else{var ye=void 0;As(ie)?ye=ie:(ye=(W||{})[ie.name.value],en(ye,3));var Te=!0;if(d.fragmentMatcherFunction&&ye.typeCondition){var Fe=r||"self",qe=fe({id:Fe,typename:void 0}),He={store:new ou((le={},le[Fe]=n,le)),cacheRedirects:{}},lt=d.fragmentMatcherFunction(qe,ye.typeCondition.name.value,He);!Qn()&&lt==="heuristic",Te=!!lt}Te&&i.writeSelectionSetToStore({result:n,selectionSet:ye.selectionSet,dataId:r,context:d})}}),F},t.prototype.writeFieldToStore=function(e){var i,n=e.field,r=e.value,s=e.dataId,d=e.context,y=d.variables,F=d.dataIdFromObject,W=d.store,ie,le,de=_l(n,y);if(!n.selectionSet||r===null)ie=r!=null&&typeof r=="object"?{type:"json",json:r}:r;else if(Array.isArray(r)){var ke=s+"."+de;ie=this.processArrayValue(r,ke,n.selectionSet,d)}else{var Ie=s+"."+de,oe=!0;if(Kc(Ie)||(Ie="$"+Ie),F){var ye=F(r);en(!ye||!Kc(ye),4),(ye||typeof ye=="number"&&ye===0)&&(Ie=ye,oe=!1)}um(Ie,n,d.processedData)||this.writeSelectionSetToStore({dataId:Ie,result:r,selectionSet:n.selectionSet,context:d});var Te=r.__typename;ie=fe({id:Ie,typename:Te},oe),le=W.get(s);var Fe=le&&le[de];if(Fe!==ie&&Re(Fe)){var qe=Fe.typename!==void 0,He=Te!==void 0,lt=qe&&He&&Fe.typename!==Te;en(!oe||Fe.generated||lt,5),en(!qe||He,6),Fe.generated&&(lt?oe||W.delete(Fe.id):lm(Fe.id,ie.id,W))}}le=W.get(s),(!le||!Br(ie,le[de]))&&W.set(s,At(At({},le),(i={},i[de]=ie,i)))},t.prototype.processArrayValue=function(e,i,n,r){var s=this;return e.map(function(d,y){if(d===null)return null;var F=i+"."+y;if(Array.isArray(d))return s.processArrayValue(d,F,n,r);var W=!0;if(r.dataIdFromObject){var ie=r.dataIdFromObject(d);ie&&(F=ie,W=!1)}return um(F,n,r.processedData)||s.writeSelectionSetToStore({dataId:F,result:d,selectionSet:n,context:r}),fe({id:F,typename:d.__typename},W)})},t}();function Kc(t){return t[0]==="$"}function lm(t,e,i){if(t===e)return!1;var n=i.get(t),r=i.get(e),s=!1;Object.keys(n).forEach(function(y){var F=n[y],W=r[y];Re(F)&&Kc(F.id)&&Re(W)&&!Br(F,W)&&lm(F.id,W.id,i)&&(s=!0)}),i.delete(t);var d=At(At({},n),r);return Br(d,r)?s:(i.set(e,d),!0)}function um(t,e,i){if(!i)return!1;if(i[t]){if(i[t].indexOf(e)>=0)return!0;i[t].push(e)}else i[t]=[e];return!1}var Xb={fragmentMatcher:new jb,dataIdFromObject:Zb,addTypename:!0,resultCaching:!0,freezeResults:!1};function Zb(t){if(t.__typename){if(t.id!==void 0)return t.__typename+":"+t.id;if(t._id!==void 0)return t.__typename+":"+t._id}return null}var ey=Object.prototype.hasOwnProperty,cm=function(t){Tr(e,t);function e(i,n,r){var s=t.call(this,Object.create(null))||this;return s.optimisticId=i,s.parent=n,s.transaction=r,s}return e.prototype.toObject=function(){return At(At({},this.parent.toObject()),this.data)},e.prototype.get=function(i){return ey.call(this.data,i)?this.data[i]:this.parent.get(i)},e}(ou),ty=function(t){Tr(e,t);function e(i){i===void 0&&(i={});var n=t.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new zc(yi),n.silenceBroadcast=!1,n.config=At(At({},Xb),i),n.config.customResolvers&&(n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&(n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new ao:new ou,n.optimisticData=n.data,n.storeWriter=new Jb,n.storeReader=new zb({cacheKeyRoot:n.cacheKeyRoot,freezeResults:i.freezeResults});var r=n,s=r.maybeBroadcastWatch;return n.maybeBroadcastWatch=Zo(function(d){return s.call(n,d)},{makeCacheKey:function(d){if(!d.optimistic&&!d.previousResult&&r.data instanceof ao)return r.cacheKeyRoot.lookup(d.query,JSON.stringify(d.variables))}}),n}return e.prototype.restore=function(i){return i&&this.data.replace(i),this},e.prototype.extract=function(i){return i===void 0&&(i=!1),(i?this.optimisticData:this.data).toObject()},e.prototype.read=function(i){if(typeof i.rootId=="string"&&typeof this.data.get(i.rootId)=="undefined")return null;var n=this.config.fragmentMatcher,r=n&&n.match;return this.storeReader.readQueryFromStore({store:i.optimistic?this.optimisticData:this.data,query:this.transformDocument(i.query),variables:i.variables,rootId:i.rootId,fragmentMatcherFunction:r,previousResult:i.previousResult,config:this.config})||null},e.prototype.write=function(i){var n=this.config.fragmentMatcher,r=n&&n.match;this.storeWriter.writeResultToStore({dataId:i.dataId,result:i.result,variables:i.variables,document:this.transformDocument(i.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},e.prototype.diff=function(i){var n=this.config.fragmentMatcher,r=n&&n.match;return this.storeReader.diffQueryAgainstStore({store:i.optimistic?this.optimisticData:this.data,query:this.transformDocument(i.query),variables:i.variables,returnPartialData:i.returnPartialData,previousResult:i.previousResult,fragmentMatcherFunction:r,config:this.config})},e.prototype.watch=function(i){var n=this;return this.watches.add(i),function(){n.watches.delete(i)}},e.prototype.evict=function(i){throw new Cn(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(i){for(var n=[],r=0,s=this.optimisticData;s instanceof cm;)s.optimisticId===i?++r:n.push(s),s=s.parent;if(r>0){for(this.optimisticData=s;n.length>0;){var d=n.pop();this.performTransaction(d.transaction,d.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(i,n){var r=this,s=r.data,d=r.silenceBroadcast;this.silenceBroadcast=!0,typeof n=="string"&&(this.data=this.optimisticData=new cm(n,this.optimisticData,i));try{i(this)}finally{this.silenceBroadcast=d,this.data=s}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(i,n){return this.performTransaction(i,n)},e.prototype.transformDocument=function(i){if(this.addTypename){var n=this.typenameDocumentCache.get(i);return n||(n=So(i),this.typenameDocumentCache.set(i,n),this.typenameDocumentCache.set(n,n)),n}return i},e.prototype.broadcastWatches=function(){var i=this;this.silenceBroadcast||this.watches.forEach(function(n){return i.maybeBroadcastWatch(n)})},e.prototype.maybeBroadcastWatch=function(i){i.callback(this.diff({query:i.query,variables:i.variables,previousResult:i.previousResult&&i.previousResult(),optimistic:i.optimistic}))},e}(Eb);function iy(t){return new ra(function(e,i){var n=Ts(e,[]);return new Nr(function(r){var s;return Promise.resolve(n).then(function(d){return t(d,e.getContext())}).then(e.setContext).then(function(){s=i(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}).catch(r.error.bind(r)),function(){s&&s.unsubscribe()}})})}var ny=ni(70585),ry={includeQuery:!0,includeExtensions:!1},ay={accept:"*/*","content-type":"application/json"},sy={method:"POST"},oy={http:ry,headers:ay,options:sy},dm=function(t,e,i){var n=new Error(i);throw n.name="ServerError",n.response=t,n.statusCode=t.status,n.result=e,n},ly=function(t){return function(e){return e.text().then(function(i){try{return JSON.parse(i)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=i,Promise.reject(n)}}).then(function(i){return e.status>=300&&dm(e,i,"Response not successful: Received status code "+e.status),!Array.isArray(i)&&!i.hasOwnProperty("data")&&!i.hasOwnProperty("errors")&&dm(e,i,"Server response was missing for query '"+(Array.isArray(t)?t.map(function(n){return n.operationName}):t.operationName)+"'."),i})}},uy=function(t){if(!t&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new Cn(1)}},cy=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},dy=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=At({},e.options,{headers:e.headers,credentials:e.credentials}),s=e.http;i.forEach(function(le){r=At({},r,le.options,{headers:At({},r.headers,le.headers)}),le.credentials&&(r.credentials=le.credentials),s=At({},s,le.http)});var d=t.operationName,y=t.extensions,F=t.variables,W=t.query,ie={operationName:d,variables:F};return s.includeExtensions&&(ie.extensions=y),s.includeQuery&&(ie.query=(0,ny.y)(W)),{options:r,body:ie}},Qc=function(t,e){var i;try{i=JSON.stringify(t)}catch(r){var n=new Cn(2);throw n.parseError=r,n}return i},fy=function(t,e){var i=t.getContext(),n=i.uri;return n||(typeof e=="function"?e(t):e||"/graphql")},fm=function(t){t===void 0&&(t={});var e=t.uri,i=e===void 0?"/graphql":e,n=t.fetch,r=t.includeExtensions,s=t.useGETForQueries,d=Ts(t,["uri","fetch","includeExtensions","useGETForQueries"]);uy(n),n||(n=fetch);var y={http:{includeExtensions:r},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new ra(function(F){var W=fy(F,i),ie=F.getContext(),le={};if(ie.clientAwareness){var de=ie.clientAwareness,ke=de.name,Ie=de.version;ke&&(le["apollographql-client-name"]=ke),Ie&&(le["apollographql-client-version"]=Ie)}var oe=At({},le,ie.headers),ye={http:ie.http,options:ie.fetchOptions,credentials:ie.credentials,headers:oe},Te=dy(F,oy,y,ye),Fe=Te.options,qe=Te.body,He;if(!Fe.signal){var lt=cy(),mt=lt.controller,Pt=lt.signal;He=mt,He&&(Fe.signal=Pt)}var Ct=function(Sn){return Sn.kind==="OperationDefinition"&&Sn.operation==="mutation"};if(s&&!F.query.definitions.some(Ct)&&(Fe.method="GET"),Fe.method==="GET"){var ui=hy(W,qe),Di=ui.newURI,On=ui.parseError;if(On)return $d(On);W=Di}else try{Fe.body=Qc(qe,"Payload")}catch(Sn){return $d(Sn)}return new Nr(function(Sn){return n(W,Fe).then(function(Mn){return F.setContext({response:Mn}),Mn}).then(ly(F)).then(function(Mn){return Sn.next(Mn),Sn.complete(),Mn}).catch(function(Mn){Mn.name!=="AbortError"&&(Mn.result&&Mn.result.errors&&Mn.result.data&&Sn.next(Mn.result),Sn.error(Mn))}),function(){He&&He.abort()}})})};function hy(t,e){var i=[],n=function(le,de){i.push(le+"="+encodeURIComponent(de))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var r=void 0;try{r=Qc(e.variables,"Variables map")}catch(le){return{parseError:le}}n("variables",r)}if(e.extensions){var s=void 0;try{s=Qc(e.extensions,"Extensions map")}catch(le){return{parseError:le}}n("extensions",s)}var d="",y=t,F=t.indexOf("#");F!==-1&&(d=t.substr(F),y=t.substr(0,F));var W=y.indexOf("?")===-1?"?":"&",ie=y+W+i.join("&")+d;return{newURI:ie}}var nk=function(t){Tr(e,t);function e(i){return t.call(this,fm(i).request)||this}return e}(ra),my=Object.defineProperty,Yc=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?my(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Ja=class{constructor(t,e){this.telemetry=t,this.errorOnFlood=e,Yc(this,"bulkhead",uh(140)),Yc(this,"hasLoggedLowRateLimit",!1)}logAndLimit(t,e){if(this.bulkhead.executionSlots===0)if(f.error("API call count has exceeded 140 concurrent calls.",Ja.ID),this.telemetry.sendTelemetryErrorEvent("pr.highApiCallRate"),this.errorOnFlood){a.window.showErrorMessage(a.l10n.t('The GitHub Pull Requests extension is making too many requests to GitHub. This indicates a bug in the extension. Please file an issue on GitHub and include the output from "GitHub Pull Request".'));return}else return e();const i=`Extension rate limit remaining: ${this.bulkhead.executionSlots}, ${t}`;return this.bulkhead.executionSlots<5?f.appendLine(i,Ja.ID):f.debug(i,Ja.ID),this.bulkhead.execute(()=>e())}async logRateLimit(t,e,i=!1){var n,r,s,d;let y;try{const ie=await e;y=(n=ie==null?void 0:ie.data)==null?void 0:n.rateLimit}catch(ie){return}const F=t==null?void 0:t.startsWith("/search/");((r=y==null?void 0:y.limit)!=null?r:5e3)<5e3&&(F?((s=y==null?void 0:y.limit)!=null?s:30)<30&&f.appendLine(`Unexpectedly low SEARCH rate limit: ${y==null?void 0:y.limit}`,Ja.ID):f.appendLine(`Unexpectedly low rate limit: ${y==null?void 0:y.limit}`,Ja.ID));const W=`${i?"REST":"GraphQL"} Rate limit remaining: ${y==null?void 0:y.remaining}, cost: ${y==null?void 0:y.cost}, ${t}`;((d=y==null?void 0:y.remaining)!=null?d:1e3)<1e3&&!F?(this.hasLoggedLowRateLimit||(this.telemetry.sendTelemetryErrorEvent("pr.lowRateLimitRemaining"),this.hasLoggedLowRateLimit=!0),f.warn(W,Ja.ID)):f.debug(W,Ja.ID)}async logRestRateLimit(t,e){let i;try{i=await e}catch(r){return}const n={cost:-1,limit:Number(i.headers["x-ratelimit-limit"]),remaining:Number(i.headers["x-ratelimit-remaining"]),resetAt:""};this.logRateLimit(t,Promise.resolve({data:{rateLimit:n}}),!0)}};let hm=Ja;Yc(hm,"ID","RateLimit");class py{constructor(e,i){this._graphql=e,this._rateLogger=i}query(e){var i;const n=(i=e.query.definitions[0].name)==null?void 0:i.value,r=this._rateLogger.logAndLimit(n,()=>this._graphql.query(e));if(r===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(n,r),r}mutate(e){const i=e.context,n=this._rateLogger.logAndLimit(i,()=>this._graphql.mutate(e));if(n===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(i,n),n}}class vy{constructor(e,i){this.api=e,this._rateLogger=i}call(e,...i){var n,r;const s=(r=(n=e.endpoint)==null?void 0:n.DEFAULTS)==null?void 0:r.url,d=this._rateLogger.logAndLimit(s,()=>e(...i));if(d===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRestRateLimit(s,d),d}}var gy=Object.defineProperty,pr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?gy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const mm=a.l10n.t("Try again?"),by=a.l10n.t("Cancel"),pm=a.l10n.t("Sign In"),yy=a.l10n.t("Don't Show Again"),vm=a.l10n.t("prompt for sign in"),gm="login",wy=["read:user","user:email","repo"],Sa=["read:user","user:email","repo","workflow"],Xa=["read:user","user:email","repo","workflow","project","read:org"],bm="githubPullRequest.lastUsedScopes",ym="githubPullRequest.lastUsedScopesEnterprise";class _y{constructor(e,i){this._telemetry=e,this.context=i,pr(this,"_githubAPI"),pr(this,"_sessionId"),pr(this,"_githubEnterpriseAPI"),pr(this,"_enterpriseSessionId"),pr(this,"_disposables"),pr(this,"_isInitialized",!1),pr(this,"_onDidInitialize",new a.EventEmitter),pr(this,"onDidInitialize",this._onDidInitialize.event),pr(this,"_scopes",Sa),pr(this,"_scopesEnterprise",Sa),pr(this,"_isSamling",!1),pr(this,"_onDidChangeSessions",new a.EventEmitter),pr(this,"onDidChangeSessions",this._onDidChangeSessions.event),pr(this,"_onDidGetSession",new a.EventEmitter),pr(this,"onDidGetSession",this._onDidGetSession.event),pr(this,"_onDidUpgradeSession",new a.EventEmitter),pr(this,"onDidUpgradeSession",this._onDidUpgradeSession.event),this.setScopesFromState(),this._disposables=[],this._disposables.push(a.authentication.onDidChangeSessions(n=>this.handlOnDidChangeSessions(n)))}async handlOnDidChangeSessions(e){var i;const n=e.provider.id===ki.github&&this._githubAPI?ki.github:e.provider.id===ki.githubEnterprise&&this._githubEnterpriseAPI?ki.githubEnterprise:void 0;if((this._githubAPI||this._githubEnterpriseAPI)&&!n)return;if(n){if(((i=(await this.getSession(n,{silent:!0},n===ki.github?this._scopes:this._scopesEnterprise,!0)).session)==null?void 0:i.id)===this._sessionId)return;n===ki.github?(this._githubAPI=void 0,this._sessionId=void 0):(this._githubEnterpriseAPI=void 0,this._enterpriseSessionId=void 0)}const r=[];this.isAuthenticated(ki.github)||r.push(this.initialize(ki.github)),!this.isAuthenticated(ki.githubEnterprise)&&aa()&&r.push(this.initialize(ki.githubEnterprise)),await Promise.all(r),this.isAnyAuthenticated()?this._onDidGetSession.fire():this._isSamling||this._onDidChangeSessions.fire(e)}allScopesIncluded(e,i){return i.every(n=>e.includes(n))}setScopesFromState(){this._scopes=this.context.globalState.get(bm,Sa),this._scopesEnterprise=this.context.globalState.get(ym,Sa)}async saveScopesInState(){await this.context.globalState.update(bm,this._scopes),await this.context.globalState.update(ym,this._scopesEnterprise)}async initialize(e,i={},n=Pr(e)?this._scopesEnterprise:this._scopes,r){if(f.debug(`Initializing GitHub${lu(e)} authentication provider.`,"Authentication"),Pr(e)&&!aa())return f.debug("GitHub Enterprise provider selected without URI.","Authentication"),{canceled:!1};i.createIfNone===void 0&&i.forceNewSession===void 0&&(i.createIfNone=!1);let s,d=!1,y=Sa;const F=this._scopes,W=this._scopesEnterprise,ie={canceled:!1};try{Pr(e)?this._scopesEnterprise=n:this._scopes=n;const le=await this.getSession(e,i,n,!!r);y=le.scopes,s=le.session,d=le.isNew}catch(le){this._scopes=F,this._scopesEnterprise=W;const de=le.message==="User did not consent to login.";if(de&&(ie.canceled=!0),!(i.forceNewSession&&de))throw le}if(s){Pr(e)?this._enterpriseSessionId=s.id:this._sessionId=s.id;let le;try{le=await this.createHub(s.accessToken,e)}catch(de){if(de.message==="Bad credentials"&&!i.forceNewSession)return i.forceNewSession=!0,i.silent=!1,this.initialize(e,i,n,r)}return Pr(e)?(this._githubEnterpriseAPI=le,this._scopesEnterprise=y):(this._githubAPI=le,this._scopes=y),await this.saveScopesInState(),(!this._isInitialized||d&&!this._isSamling)&&(this._isInitialized=!0,this._onDidInitialize.fire()),d&&this._telemetry.sendTelemetryEvent("auth.session"),ie}else return f.debug(`No GitHub${lu(e)} token found.`,"Authentication"),ie}async doCreate(e,i=!1){const n=await this.initialize(ki.github,e,i?Xa:void 0,i);let r;return aa()&&(r=await this.initialize(ki.githubEnterprise,e,i?Xa:void 0,i)),{canceled:n.canceled||!!(r&&r.canceled)}}async create(e={},i=!1){return this.doCreate(e,i)}async recreate(e){return this.doCreate({forceNewSession:e?{detail:e}:!0})}async reset(){return this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,this.create()}isAnyAuthenticated(){return this.isAuthenticated(ki.github)||this.isAuthenticated(ki.githubEnterprise)}isAuthenticated(e){return Pr(e)?!!this._githubEnterpriseAPI:!!this._githubAPI}isAuthenticatedWithAdditionalScopes(e){return Pr(e)?!!this._githubEnterpriseAPI&&this.allScopesIncluded(this._scopesEnterprise,Xa):!!this._githubAPI&&this.allScopesIncluded(this._scopes,Xa)}getHub(e){return Pr(e)?this._githubEnterpriseAPI:this._githubAPI}areScopesOld(e){return Pr(e)?!this.allScopesIncluded(this._scopesEnterprise,Sa):!this.allScopesIncluded(this._scopes,Sa)}areScopesExtra(e){return Pr(e)?this.allScopesIncluded(this._scopesEnterprise,Xa):this.allScopesIncluded(this._scopes,Xa)}async getHubEnsureAdditionalScopes(e){const i=this.isAuthenticatedWithAdditionalScopes(e);return await this.initialize(e,{createIfNone:!i},Xa,!0),i||this._onDidUpgradeSession.fire(),this.getHub(e)}async getHubOrLogin(e){var i,n;return Pr(e)?(n=this._githubEnterpriseAPI)!=null?n:await this.login(e):(i=this._githubAPI)!=null?i:await this.login(e)}async showSignInNotification(e){if(Nh(vm,gm)===!1)return;if(await a.window.showInformationMessage(a.l10n.t("In order to use the Pull Requests functionality, you must sign in to GitHub{0}",lu(e)),pm,yy)===pm)return await this.login(e);Mh(vm,gm,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const i=a.l10n.t("Error signing in to GitHub{0}",lu(e));let n=!0,r;const s={createIfNone:!0};let d=!1;for(;n;){try{await this.initialize(e,s)}catch(y){f.error(`${i}: ${y}`),y instanceof Error&&y.stack&&f.error(y.stack),y.message==="Cancelled"&&(d=!0)}r=this.getHub(e),r||d?n=!1:(n=await a.window.showErrorMessage(i,mm,by)===mm,n&&(s.forceNewSession=!0,s.createIfNone=void 0))}return r?this._telemetry.sendTelemetryEvent("auth.success"):this._telemetry.sendTelemetryEvent("auth.fail"),r}async showSamlMessageAndAuth(e){this._isSamling=!0;const i=await this.recreate(a.l10n.t("GitHub Pull Requests requires that you provide SAML access to your organization ({0}) when you sign in.",e.join(", ")));return this._isSamling=!1,i}async isCurrentUser(e){var i,n,r,s;return((n=await((i=this._githubAPI)==null?void 0:i.currentUser))==null?void 0:n.login)===e||((s=await((r=this._githubEnterpriseAPI)==null?void 0:r.currentUser))==null?void 0:s.login)==e}async getIsEmu(e){const i=this.getHub(e);return!!await(i==null?void 0:i.isEmu)}getCurrentUser(e){const i=this.getHub(e);return(i==null?void 0:i.octokit)&&(i==null?void 0:i.currentUser)}setCurrentUser(e){const i=new Promise(n=>{e.octokit.call(e.octokit.api.users.getAuthenticated,{}).then(r=>{n(r)})});e.currentUser=new Promise(n=>{i.then(r=>{n(qs(r.data))})}),e.isEmu=new Promise(n=>{i.then(r=>{var s;n(((s=r.data.plan)==null?void 0:s.name)==="emu_user")})})}async getSession(e,i,n,r){const s=i.forceNewSession||r?void 0:await this.findExistingScopes(e);if(s==null?void 0:s.session)return{session:s.session,isNew:!1,scopes:s.scopes};const d=await a.authentication.getSession(e,r?n:Sa,i);return{session:d,isNew:!!d,scopes:r?n:Sa}}async findExistingScopes(e){const i=[Xa,Sa,wy];for(const n of i){const r=await a.authentication.getSession(e,n,{silent:!0});if(r)return{session:r,scopes:n}}}async createHub(e,i){let n="https://api.github.com",r;Pr(i)&&(r=$s()),r&&r.authority.endsWith("ghe.com")?n=`${r.scheme}://api.${r.authority}`:r&&(n=`${r.scheme}://${r.authority}/api/v3`);let s;a.env.uiKind===a.UIKind.Web&&(s=(ie,le)=>{if(le.headers!==void 0){const{"user-agent":de,...ke}=le.headers;de&&(le.headers=ke)}return Un()(ie,le)});const d=new _b({request:{agent:ch,fetch:s},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview","merge-info-preview"],auth:`${e||""}`,baseUrl:n});r&&(n=`${r.scheme}://${r.authority}/api`);const y=new uv({link:ky(n,e||""),cache:new ty,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),F=new hm(this._telemetry,Pr(i)),W={octokit:new vy(d,F),graphql:new py(y,F)};return this.setCurrentUser(W),W}dispose(){this._disposables.forEach(e=>e.dispose())}}const ky=(t,e)=>iy((i,{headers:n})=>({headers:{...n,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.merge-info-preview"}})).concat(fm({uri:`${t}/graphql`,fetch:Un()}));function lu(t){return Pr(t)?" Enterprise":""}var Sy=Object.defineProperty,Ra=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Sy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class wm{constructor(e,i){this._credentialStore=e,this._telemetry=i,Ra(this,"_folderManagers",[]),Ra(this,"_subs"),Ra(this,"_onDidChangeState",new a.EventEmitter),Ra(this,"onDidChangeState",this._onDidChangeState.event),Ra(this,"_onDidChangeFolderRepositories",new a.EventEmitter),Ra(this,"onDidChangeFolderRepositories",this._onDidChangeFolderRepositories.event),Ra(this,"_onDidLoadAnyRepositories",new a.EventEmitter),Ra(this,"onDidLoadAnyRepositories",this._onDidLoadAnyRepositories.event),Ra(this,"_state",Fr.Initializing),this._subs=new Map,a.commands.executeCommand("setContext",bh,this._state)}updateActiveReviewCount(){let e=0;for(const i of this._folderManagers)i.activePullRequest&&e++;Vi.setContext(er.ACTIVE_PR_COUNT,e)}get folderManagers(){return this._folderManagers}registerFolderListeners(e){const i=[e.onDidLoadRepositories(n=>{this.state=n,this._onDidLoadAnyRepositories.fire()}),e.onDidChangeActivePullRequest(()=>this.updateActiveReviewCount()),e.onDidDispose(()=>this.removeRepo(e.repository))];this._subs.set(e,i)}insertFolderManager(e){this.registerFolderListeners(e);const i=a.workspace.workspaceFolders;if(i){const n=i.findIndex(r=>C(r.uri.fsPath,e.repository.rootUri.fsPath)||C(e.repository.rootUri.fsPath,r.uri.fsPath));if(n>-1){const r=this._folderManagers.slice(n,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,n),this._folderManagers.push(e),this._folderManagers.push(...r),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e});return}}this._folderManagers.push(e),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e})}removeRepo(e){const i=this._folderManagers.findIndex(n=>n.repository.rootUri.toString()===e.rootUri.toString());if(i>-1){const n=this._folderManagers[i];j(this._subs.get(n)),this._subs.delete(n),this._folderManagers.splice(i),n.dispose(),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({})}}getManagerForIssueModel(e){if(e!==void 0)return this.getManagerForRepository(e.remote.owner,e.remote.repositoryName)}getManagerForFile(e){if(e.scheme==="untitled")return this._folderManagers[0];const i=this._folderManagers.slice().sort((n,r)=>r.repository.rootUri.path.length-n.repository.rootUri.path.length);for(const n of i){const r=n.repository.rootUri.path,s=e.path.substring(r.length>1?r.length+1:r.length);if(me(a.Uri.joinPath(n.repository.rootUri,s).path,e.path)===0)return n}}getManagerForRepository(e,i){const n=`${e.toLowerCase()}/${i.toLowerCase()}`;for(const r of this._folderManagers)if(r.gitHubRepositories.map(s=>`${s.remote.owner.toLowerCase()}/${s.remote.repositoryName.toLowerCase()}`).includes(n))return r}get state(){return this._state}set state(e){const i=e!==this._state;this._state=e,i&&(a.commands.executeCommand("setContext",bh,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=Fr.Initializing}async authenticate(e){var i,n;if(e===!1)return!!this._credentialStore.login(ki.github);const{dotComRemotes:r,enterpriseRemotes:s,unknownRemotes:d}=await qf(this.folderManagers),y=a.l10n.t("Yes");if(e){const le=(n=(i=$s())==null?void 0:i.toString())!=null?n:s.length?s[0].normalizedHost:d.length?d[0].normalizedHost:void 0;if(s.length===0&&d.length===0&&f.appendLine(`Enterprise login selected, but no possible enterprise remotes discovered (${r.length} .com)`),le)if(await a.window.showInformationMessage(a.l10n.t("Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",le),{modal:!0},y,a.l10n.t("No, manually set {0}","github-enterprise.uri"))===y)await sc(le);else return!1;else{const de=await a.window.showInputBox({placeHolder:a.l10n.t("Set a GitHub Enterprise server URL"),ignoreFocusOut:!0});if(de)await sc(de);else return!1}}else if(!aa()&&r.length===0&&s.length>0){const le=await a.window.showInformationMessage(a.l10n.t("It looks like you might be using GitHub Enterprise. Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",s[0].normalizedHost),{modal:!0},y,a.l10n.t("No, use GitHub.com"));if(le===y)await sc(s[0].normalizedHost);else if(le===void 0)return!1}let F;const W=s.length>0||d.length>0;(aa()||r.length===0)&&W&&(F=await this._credentialStore.login(ki.githubEnterprise));let ie;return!F&&(!aa()||s.length===0)&&(ie=await this._credentialStore.login(ki.github)),!!ie||!!F}dispose(){this._subs.forEach(e=>j(e))}}Ra(wm,"ID","RepositoriesManager");function rk(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var Ry=Object.defineProperty,Ea=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ry(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Jc{constructor(e){Ea(this,"_onDidOpenRepository",new a.EventEmitter),Ea(this,"onDidOpenRepository",this._onDidOpenRepository.event),Ea(this,"_onDidCloseRepository",new a.EventEmitter),Ea(this,"onDidCloseRepository",this._onDidCloseRepository.event),Ea(this,"_onDidChangeState",new a.EventEmitter),Ea(this,"onDidChangeState",this._onDidChangeState.event),Ea(this,"_onDidPublish",new a.EventEmitter),Ea(this,"onDidPublish",this._onDidPublish.event),Ea(this,"_gitAPI"),Ea(this,"_disposables");const i=e.exports;try{this._gitAPI=i.getAPI(1)}catch(n){throw Vi.setContext("gitNotInstalled",!0),n}this._disposables=[],this._disposables.push(this._gitAPI.onDidCloseRepository(n=>this._onDidCloseRepository.fire(n))),this._disposables.push(this._gitAPI.onDidOpenRepository(n=>this._onDidOpenRepository.fire(n))),this._disposables.push(this._gitAPI.onDidChangeState(n=>this._onDidChangeState.fire(n))),this._disposables.push(this._gitAPI.onDidPublish(n=>this._onDidPublish.fire(n)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=a.extensions.getExtension("vscode.git");if(e)return await e.activate(),new Jc(e)}registerPostCommitCommandsProvider(e){return this._gitAPI.registerPostCommitCommandsProvider?this._gitAPI.registerPostCommitCommandsProvider(e):{dispose:()=>{}}}dispose(){this._disposables.forEach(e=>e.dispose())}}var Ey=Object.defineProperty,sr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ey(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Ty{constructor(e){this._liveShareAPI=e,sr(this,"_onDidOpenRepository",new a.EventEmitter),sr(this,"onDidOpenRepository",this._onDidOpenRepository.event),sr(this,"_onDidCloseRepository",new a.EventEmitter),sr(this,"onDidCloseRepository",this._onDidCloseRepository.event),sr(this,"_openRepositories",[]),sr(this,"_sharedServiceProxy"),sr(this,"_disposables"),this._disposables=[]}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(Yf)||void 0,!!this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._disposables.push(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._disposables.push(a.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async i=>{i.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(i)}),e.removed.forEach(async i=>{i.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(i)})}async _refreshWorkspaces(e){a.workspace.workspaceFolders&&a.workspace.workspaceFolders.forEach(async i=>{i.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(i):await this.closeVSLSRepository(i))})}async openVSLSRepository(e){if(this.getRepository(e))return;const n=new My(e,this._sharedServiceProxy),r=new Cy,s=new Proxy(n,r);await s.initialize(),this.openRepository(s)}async closeVSLSRepository(e){const i=this.getRepository(e);!i||this.closeRepository(i)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(i=>i!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(i=>i.workspaceFolder===e)[0]}dispose(){this._sharedServiceProxy=void 0,this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}class Cy{constructor(){}get(e,i){return i in e?e[i]:function(...n){return e.proxy.request(vc,[i,e.workspaceFolder.uri.toString(),...n])}}}class Ny{constructor(e){sr(this,"HEAD"),sr(this,"remotes"),sr(this,"submodules",[]),sr(this,"rebaseCommit"),sr(this,"mergeChanges",[]),sr(this,"indexChanges",[]),sr(this,"workingTreeChanges",[]),sr(this,"_onDidChange",new a.EventEmitter),sr(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this._onDidChange.fire()}}class My{constructor(e,i){this.workspaceFolder=e,this.proxy=i,sr(this,"rootUri"),sr(this,"state")}async initialize(){const e=await this.proxy.request(vc,[Jf,this.workspaceFolder.uri.toString()]);this.state=new Ny(e),this.rootUri=a.Uri.parse(e.rootUri),this.proxy.onNotify(Xf,this._notifyHandler.bind(this))}_notifyHandler(e){var i;(i=this.state)==null||i.update(e)}}var Py=Object.defineProperty,_m=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Py(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Ay{constructor(e,i){this._liveShareAPI=e,this._api=i,_m(this,"_sharedService"),_m(this,"_disposables"),this._disposables=[]}async initialize(){this._sharedService=await this._liveShareAPI.shareService(Yf)||void 0,this._sharedService&&this._sharedService.onRequest(vc,this._gitHandler.bind(this))}async _gitHandler(e){const i=e[0],n=e[1],r=a.Uri.parse(n),s=this._liveShareAPI.convertSharedUriToLocal(r),d=this._api.getGitProvider(s);if(!d)return;const y=d.repositories.filter(F=>F.rootUri.toString()===s.toString())[0];if(y){const F=e.slice(2);if(i===Jf)return this._disposables.push(y.state.onDidChange(W=>{this._sharedService.notify(Xf,{HEAD:y.state.HEAD,remotes:y.state.remotes,refs:y.state.refs})})),{HEAD:y.state.HEAD,remotes:y.state.remotes,refs:y.state.refs,rootUri:r.toString()};if(i==="show"){const W=F[1],ie=r.with({path:W}),le=this._liveShareAPI.convertSharedUriToLocal(ie);return F[1]=le.fsPath,y[i](...F)}if(y[i])return y[i](...F)}else return null}dispose(){this._disposables.forEach(e=>e.dispose()),this._sharedService=void 0,this._disposables=[]}}var xy=Object.defineProperty,el=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?xy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);async function Dy(){const t=a.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!t)return null;const e=t.isActive?t.exports:await t.activate();if(!e)return null;const i="0.3.967";return e.getApi?e.getApi(i):e.getApiAsync(i)}class Iy{constructor(e){this._api=e,el(this,"_liveShareAPI"),el(this,"_host"),el(this,"_guest"),el(this,"_localDisposables"),el(this,"_globalDisposables"),this._localDisposables=[],this._globalDisposables=[]}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await Dy()),!!this._liveShareAPI)return this._globalDisposables.push(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(this._localDisposables.forEach(i=>i.dispose()),e.role===1){this._host=new Ay(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new Ty(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}dispose(){this._liveShareAPI=void 0,this._localDisposables.forEach(e=>e.dispose()),this._globalDisposables.forEach(e=>e.dispose())}}function Fy(t){return new Iy(t)}async function Oy(t,e){const i=await Jc.createProvider();if(i)return e.registerGitProvider(i),i}var Ly=Object.defineProperty,km=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Ly(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Uy{constructor(e){this.pullRequestManager=e,km(this,"onNotifiedEmitter",new a.EventEmitter),km(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(i=>{i.onDidChangeAssignableUsers(n=>{this.notifySuggestedAccounts(n)})})}async requestAsync(e,i,n){let r=null;switch(e){case"initialize":r={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const s=new Map;for(const d of this.pullRequestManager.folderManagers){const y=d.getAllAssignableUsers();if(!!y)for(const F of y)s.has(F.login)||s.set(F.login,F)}s.size>0&&this.notifySuggestedAccounts(Array.from(s.values()));break;default:throw new Error(`type:${e} not supported`)}return r}async notifySuggestedAccounts(e){let i;try{i=await this.getCurrentUserLogin()}catch(n){}i&&e.findIndex(n=>n.login===i)!==-1&&this.notifySuggestedUsers(e.filter(n=>n.email).map(n=>({id:n.login,displayName:n.name?n.name:n.login,email:n.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const i=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(i){const n=i.hub.currentUser?await i.hub.currentUser:void 0;if(n)return n.login}}notify(e,i){this.onNotifiedEmitter.fire({type:e,body:i})}notifySuggestedUsers(e,i){this.notify("suggestedUsers",{contacts:e,exclusive:i})}}var By=Object.defineProperty,Sm=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?By(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class qy{constructor(){Sm(this,"_extensionsDisposable"),Sm(this,"_subscriptions",[]),this._extensionsDisposable=a.extensions.onDidChange(this.onExtensionsChanged,this),this.onExtensionsChanged()}dispose(){this._extensionsDisposable.dispose(),a.Disposable.from(...this._subscriptions).dispose()}register(e){!e||this._subscriptions.push(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(i){i.branch.isRemote||a.commands.executeCommand("pr.create",{repoPath:i.repoPath,compareBranch:i.branch.name})}}))}async onExtensionsChanged(){var e;const i=(e=a.extensions.getExtension("eamodio.gitlens"))!=null?e:a.extensions.getExtension("eamodio.gitlens-insiders");if(i)if(this._extensionsDisposable.dispose(),i.isActive)this.register(await i.exports);else{let n=0;const r=setInterval(async()=>{i.isActive?(clearInterval(r),this.register(await i.exports)):(n++,n>60&&clearInterval(r))},1e3)}}}function Rm(){return a.workspace.getConfiguration(Xe).get(_n,!1)?Vi.QUICK_CHAT_OPEN:Vi.OPEN_CHAT}var Hy=Object.defineProperty,bs=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Hy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Em{constructor(e,i,n,r,s){this.issueModel=e,this.manager=i,this.stateManager=n,this.shouldPromptForBranch=s,bs(this,"repoChangeDisposable"),bs(this,"_branchName"),bs(this,"user"),bs(this,"repo"),bs(this,"_repoDefaults"),bs(this,"_onDidChangeCurrentIssueState",new a.EventEmitter),bs(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(r!=null?r:this.issueModel.githubRepository.remote)}setRepo(e){var i;for(let n=0;n<this.stateManager.gitAPI.repositories.length;n++){const r=this.stateManager.gitAPI.repositories[n];for(let s=0;s<r.state.remotes.length;s++){const d=r.state.remotes[s];if(d.name===(e==null?void 0:e.remoteName)&&((i=d.fetchUrl)==null?void 0:i.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=r;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(e=!1){var i;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch(e)){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const n=(await this.manager.getCurrentUser(this.issueModel.githubRepository)).login;return a.workspace.getConfiguration(ai).get(gi)&&!((i=this.issueModel.assignees)==null?void 0:i.find(r=>r.login===n))&&(this.manager.gitHubRepositories.find(r=>r.remote.owner===this.issueModel.remote.owner&&r.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,n),await this.stateManager.refresh(this.manager)),!0}}catch(n){a.window.showErrorMessage(a.l10n.t("There is no remote. Can't start working on an issue."))}return!1}dispose(){var e;(e=this.repoChangeDisposable)==null||e.dispose()}async stopWorking(e){if(this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&e)try{await this.manager.repository.checkout(this._repoDefaults.base)}catch(i){throw i.gitErrorCode===ae.DirtyWorkTree&&a.window.showErrorMessage(a.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")),i}this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async getBranch(e){try{return await this.manager.repository.getBranch(e)}catch(i){}}async createOrCheckoutBranch(e){try{return await this.getBranch(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(i){return i.message!=="User aborted"&&a.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${i.error}`),!1}}async getUser(){return this.user||(this.user=await this.issueModel.githubRepository.getAuthenticatedUser()),this.user}async getBranchTitle(){var e;return(e=a.workspace.getConfiguration(ai).get(Oi))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const i=/[^ \\@\~\^\?\*\[]+/,n=e.match(i);if(n&&n.length>0&&n[0]!==e)return a.l10n.t("Branch name cannot contain a space or the following characters: \\@~^?*[")}showBranchNameError(e){const i="Edit Setting";a.window.showErrorMessage(e,i).then(n=>{n===i&&a.commands.executeCommand("workbench.action.openSettings",`${ai}.${Oi}`)})}async offerNewBranch(e,i,n){var r,s,d,y;const F=await this.manager.getMatchingPullRequestMetadataFromGitHub(e,(r=e.upstream)==null?void 0:r.remote,(s=e.upstream)==null?void 0:s.name);if(F&&F.model.state!==Gi.Open){const W=a.l10n.t("The pull request for {0} has been merged. Do you want to create a new branch?",(d=e.name)!=null?d:"unknown branch"),ie=a.l10n.t("The pull request for {0} has been closed. Do you want to create a new branch?",(y=e.name)!=null?y:"unknown branch"),le=a.l10n.t("Create New Branch");if(await a.window.showInformationMessage(F.model.state===Gi.Merged?W:ie,{modal:!0},le)===le){const ke=(n==null?void 0:n.length)===4?Number(n[3])+1:1;return`${i}_${ke}`}}return i}async createIssueBranch(e){var i;const n=this.shouldPromptForBranch?"prompt":a.workspace.getConfiguration(ai).get(Vt);if(n==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);this._branchName=this.shouldPromptForBranch?void 0:r.branch;const s=await Gs(await this.getBranchTitle(),this.issue,void 0,await this.getUser()),d=(i=this._branchName)==null?void 0:i.match(new RegExp("^("+s+")(_)?(\\d*)"));if(n==="on"){const F=await this.getBranch(this._branchName);F?e||(this._branchName=await this.offerNewBranch(F,s,d)):d||(this._branchName=s)}if(this._branchName||(this._branchName=await a.window.showInputBox({value:s,prompt:a.l10n.t("Enter the label for the new branch.")})),!this._branchName)return!1;const y=this.validateBranchName(this._branchName);return y?(this.showBranchNameError(y),!1):(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1))}async getCommitMessage(){const e=a.workspace.getConfiguration(ai).get(ri);if(typeof e=="string")return Gs(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}var $y=Object.defineProperty,tl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?$y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Zr="newIssue",Gy="NewIssue.md",so=a.l10n.t("Assignees:"),oo=a.l10n.t("Labels:"),il=a.l10n.t("Milestone:"),lo=a.l10n.t("Projects:"),Xc="newIssue.cache";function uu(t){const e=JSON.parse(t.query);if(e.origin)return a.Uri.parse(e.origin)}class Vy{constructor(e){this.cache=e,tl(this,"content"),tl(this,"createTime",0),tl(this,"modifiedTime",0),tl(this,"_onDidChangeFile",new a.EventEmitter),tl(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,i){const n=this.onDidChangeFile(r=>{r.length===0&&r[0].type===a.FileChangeType.Deleted&&n.dispose()});return n}stat(e){var i,n;return{type:a.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(n=(i=this.content)==null?void 0:i.length)!=null?n:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var i;return(i=this.content)!=null?i:new Uint8Array(0)}writeFile(e,i,n={create:!1,overwrite:!1}){const r=this.content;this.content=i,r===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:a.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:a.FileChangeType.Changed}])),this.cache.cache(i)}delete(e,i){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:a.FileChangeType.Deleted}])}rename(e,i,n){}}class jy{constructor(e){this.manager=e}async provideCompletionItems(e,i,n,r){const s=e.lineAt(i.line).text;if(!s.startsWith(oo)&&!s.startsWith(il)&&!s.startsWith(lo))return[];const d=uu(e.uri);if(!d)return[];const y=this.manager.getManagerForFile(d);if(!y)return[];const F=await y.getPullRequestDefaults();return s.startsWith(oo)?this.provideLabelCompletionItems(y,F):s.startsWith(il)?this.provideMilestoneCompletionItems(y):s.startsWith(lo)?this.provideProjectCompletionItems(y):[]}async provideLabelCompletionItems(e,i){return(await e.getLabels(void 0,i)).map(r=>{const s=new a.CompletionItem(r.name,a.CompletionItemKind.Color);return s.documentation=`#${r.color}`,s.commitCharacters=[" ",","],s})}async provideMilestoneCompletionItems(e){var i,n;return((n=await((i=await e.getPullRequestDefaultRepo())==null?void 0:i.getMilestones()))!=null?n:[]).map(s=>{const d=new a.CompletionItem(s.title,a.CompletionItemKind.Event);return d.commitCharacters=[" ",","],d})}async provideProjectCompletionItems(e){var i;const n=await e.getPullRequestDefaultRepo();return((i=await e.getAllProjects(n))!=null?i:[]).map(s=>{const d=new a.CompletionItem(s.title,a.CompletionItemKind.Event);return d.commitCharacters=[" ",","],d})}}class zy{constructor(e){this.context=e,this.clear()}cache(e){this.context.workspaceState.update(Xc,e)}clear(){this.context.workspaceState.update(Xc,void 0)}get(){const e=this.context.workspaceState.get(Xc);if(e)return new TextDecoder().decode(e)}}async function Wy(t){var e;let i;if(!a.window.activeTextEditor||a.window.activeTextEditor.document.uri.scheme!==Zr)return;const n=uu(a.window.activeTextEditor.document.uri);if(!n)return;const r=t.getManagerForFile(n);if(!r)return;const s=await r.getPullRequestDefaultRepo();i=a.window.activeTextEditor.document.getText();const d=i.indexOf(`\r
\r
`),y=i.indexOf(`

`);let F;if(d<0&&y<0)return;d<0?F=y:y<0?F=d:F=Math.min(d,y);const W=i.substring(0,F);if(!W)return;let ie;if(i=i.substring(F+2).trim(),i.startsWith(so)){const oe=i.split(/\r\n|\n/,1);oe.length===1&&(ie=oe[0].substring(so.length).split(",").map(ye=>(ye=ye.trim(),ye.startsWith("@")&&(ye=ye.substring(1)),ye)),i=i.substring(oe[0].length).trim())}let le;if(i.startsWith(oo)){const oe=i.split(/\r\n|\n/,1);oe.length===1&&(le=oe[0].substring(oo.length).split(",").map(ye=>ye.trim()).filter(ye=>ye),i=i.substring(oe[0].length).trim())}let de;if(i.startsWith(il)){const oe=i.split(/\r\n|\n/,1);if(oe.length===1){const ye=oe[0].substring(il.length).trim();if(ye){const Te=await s.getMilestones();de=(e=Te==null?void 0:Te.find(Fe=>Fe.title===ye))==null?void 0:e.number}i=i.substring(oe[0].length).trim()}}let ke;if(i.startsWith(lo)){const oe=i.split(/\r\n|\n/,1);if(oe.length===1){if(await s.canGetProjectsNow()){const ye=await r.getAllProjects(s);ke=oe[0].substring(lo.length).split(",").map(Te=>(Te=Te.trim(),ye.find(Fe=>Fe.title===Te))).filter(Te=>!!Te)}i=i.substring(oe[0].length).trim()}}const Ie=i!=null?i:"";return{labels:le,milestone:de,projects:ke,assignees:ie,title:W,body:Ie,originUri:n}}var Ky=ni(11138),Qy=ni(69749),Yy=ni.n(Qy);function Tm(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let uo=Tm();function Jy(t){uo=t}const Xy=/[&<>"']/,Zy=/[&<>"']/g,ew=/[<>"']|&(?!#?\w+;)/,tw=/[<>"']|&(?!#?\w+;)/g,iw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cm=t=>iw[t];function or(t,e){if(e){if(Xy.test(t))return t.replace(Zy,Cm)}else if(ew.test(t))return t.replace(tw,Cm);return t}const nw=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Nm(t){return t.replace(nw,(e,i)=>(i=i.toLowerCase(),i==="colon"?":":i.charAt(0)==="#"?i.charAt(1)==="x"?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):""))}const rw=/(^|[^\[])\^/g;function wn(t,e){t=t.source||t,e=e||"";const i={replace:(n,r)=>(r=r.source||r,r=r.replace(rw,"$1"),t=t.replace(n,r),i),getRegex:()=>new RegExp(t,e)};return i}const aw=/[^\w:]/g,sw=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Mm(t,e,i){if(t){let n;try{n=decodeURIComponent(Nm(i)).replace(aw,"").toLowerCase()}catch(r){return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!sw.test(i)&&(i=cw(e,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(n){return null}return i}const cu={},ow=/^[^:]+:\/*[^/]*$/,lw=/^([^:]+:)[\s\S]*$/,uw=/^([^:]+:\/*[^/]*)[\s\S]*$/;function cw(t,e){cu[" "+t]||(ow.test(t)?cu[" "+t]=t+"/":cu[" "+t]=fu(t,"/",!0)),t=cu[" "+t];const i=t.indexOf(":")===-1;return e.substring(0,2)==="//"?i?e:t.replace(lw,"$1")+e:e.charAt(0)==="/"?i?e:t.replace(uw,"$1")+e:t+e}const du={exec:function(){}};function la(t){let e=1,i,n;for(;e<arguments.length;e++){i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}function Pm(t,e){const i=t.replace(/\|/g,(s,d,y)=>{let F=!1,W=d;for(;--W>=0&&y[W]==="\\";)F=!F;return F?"|":" |"}),n=i.split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n[n.length-1].trim()||n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function fu(t,e,i){const n=t.length;if(n===0)return"";let r=0;for(;r<n;){const s=t.charAt(n-r-1);if(s===e&&!i)r++;else if(s!==e&&i)r++;else break}return t.substr(0,n-r)}function dw(t,e){if(t.indexOf(e[1])===-1)return-1;const i=t.length;let n=0,r=0;for(;r<i;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function Am(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function xm(t,e){if(e<1)return"";let i="";for(;e>1;)e&1&&(i+=t),e>>=1,t+=t;return i+t}function Dm(t,e,i,n){const r=e.href,s=e.title?or(e.title):null,d=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const y={type:"link",raw:i,href:r,title:s,text:d,tokens:n.inlineTokens(d,[])};return n.state.inLink=!1,y}else return{type:"image",raw:i,href:r,title:s,text:or(d)}}function fw(t,e){const i=t.match(/^(\s+)(?:```)/);if(i===null)return e;const n=i[1];return e.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[d]=s;return d.length>=n.length?r.slice(n.length):r}).join(`
`)}class Zc{constructor(e){this.options=e||uo}space(e){const i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){const i=this.rules.block.code.exec(e);if(i){const n=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?n:fu(n,`
`)}}}fences(e){const i=this.rules.block.fences.exec(e);if(i){const n=i[0],r=fw(n,i[3]||"");return{type:"code",raw:n,lang:i[2]?i[2].trim():i[2],text:r}}}heading(e){const i=this.rules.block.heading.exec(e);if(i){let n=i[2].trim();if(/#$/.test(n)){const s=fu(n,"#");(this.options.pedantic||!s||/ $/.test(s))&&(n=s.trim())}const r={type:"heading",raw:i[0],depth:i[1].length,text:n,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){const i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:i[0]}}blockquote(e){const i=this.rules.block.blockquote.exec(e);if(i){const n=i[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:i[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let i=this.rules.block.list.exec(e);if(i){let n,r,s,d,y,F,W,ie,le,de,ke,Ie,oe=i[1].trim();const ye=oe.length>1,Te={type:"list",raw:"",ordered:ye,start:ye?+oe.slice(0,-1):"",loose:!1,items:[]};oe=ye?`\\d{1,9}\\${oe.slice(-1)}`:`\\${oe}`,this.options.pedantic&&(oe=ye?oe:"[*+-]");const Fe=new RegExp(`^( {0,3}${oe})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(Ie=!1,!(!(i=Fe.exec(e))||this.rules.block.hr.test(e)));){if(n=i[0],e=e.substring(n.length),ie=i[2].split(`
`,1)[0],le=e.split(`
`,1)[0],this.options.pedantic?(d=2,ke=ie.trimLeft()):(d=i[2].search(/[^ ]/),d=d>4?1:d,ke=ie.slice(d),d+=i[1].length),F=!1,!ie&&/^ *$/.test(le)&&(n+=le+`
`,e=e.substring(le.length+1),Ie=!0),!Ie){const He=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(de=e.split(`
`,1)[0],ie=de,this.options.pedantic&&(ie=ie.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!He.test(ie));){if(ie.search(/[^ ]/)>=d||!ie.trim())ke+=`
`+ie.slice(d);else if(!F)ke+=`
`+ie;else break;!F&&!ie.trim()&&(F=!0),n+=de+`
`,e=e.substring(de.length+1)}}Te.loose||(W?Te.loose=!0:/\n *\n *$/.test(n)&&(W=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(ke),r&&(s=r[0]!=="[ ] ",ke=ke.replace(/^\[[ xX]\] +/,""))),Te.items.push({type:"list_item",raw:n,task:!!r,checked:s,loose:!1,text:ke}),Te.raw+=n}Te.items[Te.items.length-1].raw=n.trimRight(),Te.items[Te.items.length-1].text=ke.trimRight(),Te.raw=Te.raw.trimRight();const qe=Te.items.length;for(y=0;y<qe;y++){this.lexer.state.top=!1,Te.items[y].tokens=this.lexer.blockTokens(Te.items[y].text,[]);const He=Te.items[y].tokens.filter(mt=>mt.type==="space"),lt=He.every(mt=>{const Pt=mt.raw.split("");let Ct=0;for(const ui of Pt)if(ui===`
`&&(Ct+=1),Ct>1)return!0;return!1});!Te.loose&&He.length&&lt&&(Te.loose=!0,Te.items[y].loose=!0)}return Te}}html(e){const i=this.rules.block.html.exec(e);if(i){const n={type:"html",raw:i[0],pre:!this.options.sanitizer&&(i[1]==="pre"||i[1]==="script"||i[1]==="style"),text:i[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(i[0]):or(i[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}}def(e){const i=this.rules.block.def.exec(e);if(i){i[3]&&(i[3]=i[3].substring(1,i[3].length-1));const n=i[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:n,raw:i[0],href:i[2],title:i[3]}}}table(e){const i=this.rules.block.table.exec(e);if(i){const n={type:"table",header:Pm(i[1]).map(r=>({text:r})),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:i[3]?i[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=i[0];let r=n.align.length,s,d,y,F;for(s=0;s<r;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(r=n.rows.length,s=0;s<r;s++)n.rows[s]=Pm(n.rows[s],n.header.length).map(W=>({text:W}));for(r=n.header.length,d=0;d<r;d++)n.header[d].tokens=[],this.lexer.inlineTokens(n.header[d].text,n.header[d].tokens);for(r=n.rows.length,d=0;d<r;d++)for(F=n.rows[d],y=0;y<F.length;y++)F[y].tokens=[],this.lexer.inlineTokens(F[y].text,F[y].tokens);return n}}}lheading(e){const i=this.rules.block.lheading.exec(e);if(i){const n={type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}paragraph(e){const i=this.rules.block.paragraph.exec(e);if(i){const n={type:"paragraph",raw:i[0],text:i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}text(e){const i=this.rules.block.text.exec(e);if(i){const n={type:"text",raw:i[0],text:i[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}escape(e){const i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:or(i[1])}}tag(e){const i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):or(i[0]):i[0]}}link(e){const i=this.rules.inline.link.exec(e);if(i){const n=i[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const d=fu(n.slice(0,-1),"\\");if((n.length-d.length)%2==0)return}else{const d=dw(i[2],"()");if(d>-1){const F=(i[0].indexOf("!")===0?5:4)+i[1].length+d;i[2]=i[2].substring(0,d),i[0]=i[0].substring(0,F).trim(),i[3]=""}}let r=i[2],s="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);d&&(r=d[1],s=d[3])}else s=i[3]?i[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),Dm(i,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},i[0],this.lexer)}}reflink(e,i){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=i[r.toLowerCase()],!r||!r.href){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Dm(n,r,n[0],this.lexer)}}emStrong(e,i,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;const s=r[1]||r[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){const d=r[0].length-1;let y,F,W=d,ie=0;const le=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(le.lastIndex=0,i=i.slice(-1*e.length+d);(r=le.exec(i))!=null;){if(y=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!y)continue;if(F=y.length,r[3]||r[4]){W+=F;continue}else if((r[5]||r[6])&&d%3&&!((d+F)%3)){ie+=F;continue}if(W-=F,W>0)continue;if(F=Math.min(F,F+W+ie),Math.min(d,F)%2){const ke=e.slice(1,d+r.index+F);return{type:"em",raw:e.slice(0,d+r.index+F+1),text:ke,tokens:this.lexer.inlineTokens(ke,[])}}const de=e.slice(2,d+r.index+F-1);return{type:"strong",raw:e.slice(0,d+r.index+F+1),text:de,tokens:this.lexer.inlineTokens(de,[])}}}}codespan(e){const i=this.rules.inline.code.exec(e);if(i){let n=i[2].replace(/\n/g," ");const r=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return r&&s&&(n=n.substring(1,n.length-1)),n=or(n,!0),{type:"codespan",raw:i[0],text:n}}}br(e){const i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){const i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2],[])}}autolink(e,i){const n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=or(this.options.mangle?i(n[1]):n[1]),s="mailto:"+r):(r=or(n[1]),s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e,i){let n;if(n=this.rules.inline.url.exec(e)){let r,s;if(n[2]==="@")r=or(this.options.mangle?i(n[0]):n[0]),s="mailto:"+r;else{let d;do d=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(d!==n[0]);r=or(n[0]),n[1]==="www."?s="http://"+r:s=r}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,i){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):or(n[0]):n[0]:r=or(this.options.smartypants?i(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}}const Ei={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:du,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Ei._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ei._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ei.def=wn(Ei.def).replace("label",Ei._label).replace("title",Ei._title).getRegex(),Ei.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ei.listItemStart=wn(/^( *)(bull) */).replace("bull",Ei.bullet).getRegex(),Ei.list=wn(Ei.list).replace(/bull/g,Ei.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ei.def.source+")").getRegex(),Ei._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ei._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ei.html=wn(Ei.html,"i").replace("comment",Ei._comment).replace("tag",Ei._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ei.paragraph=wn(Ei._paragraph).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.blockquote=wn(Ei.blockquote).replace("paragraph",Ei.paragraph).getRegex(),Ei.normal=la({},Ei),Ei.gfm=la({},Ei.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ei.gfm.table=wn(Ei.gfm.table).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.gfm.paragraph=wn(Ei._paragraph).replace("hr",Ei.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ei.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ei._tag).getRegex(),Ei.pedantic=la({},Ei.normal,{html:wn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ei._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:du,paragraph:wn(Ei.normal._paragraph).replace("hr",Ei.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ei.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const li={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:du,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:du,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};li._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",li.punctuation=wn(li.punctuation).replace(/punctuation/g,li._punctuation).getRegex(),li.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,li.escapedEmSt=/\\\*|\\_/g,li._comment=wn(Ei._comment).replace("(?:-->|$)","-->").getRegex(),li.emStrong.lDelim=wn(li.emStrong.lDelim).replace(/punct/g,li._punctuation).getRegex(),li.emStrong.rDelimAst=wn(li.emStrong.rDelimAst,"g").replace(/punct/g,li._punctuation).getRegex(),li.emStrong.rDelimUnd=wn(li.emStrong.rDelimUnd,"g").replace(/punct/g,li._punctuation).getRegex(),li._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,li._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,li._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,li.autolink=wn(li.autolink).replace("scheme",li._scheme).replace("email",li._email).getRegex(),li._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,li.tag=wn(li.tag).replace("comment",li._comment).replace("attribute",li._attribute).getRegex(),li._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,li._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,li._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,li.link=wn(li.link).replace("label",li._label).replace("href",li._href).replace("title",li._title).getRegex(),li.reflink=wn(li.reflink).replace("label",li._label).replace("ref",Ei._label).getRegex(),li.nolink=wn(li.nolink).replace("ref",Ei._label).getRegex(),li.reflinkSearch=wn(li.reflinkSearch,"g").replace("reflink",li.reflink).replace("nolink",li.nolink).getRegex(),li.normal=la({},li),li.pedantic=la({},li.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:wn(/^!?\[(label)\]\((.*?)\)/).replace("label",li._label).getRegex(),reflink:wn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",li._label).getRegex()}),li.gfm=la({},li.normal,{escape:wn(li.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),li.gfm.url=wn(li.gfm.url,"i").replace("email",li.gfm._extended_email).getRegex(),li.breaks=la({},li.gfm,{br:wn(li.br).replace("{2,}","*").getRegex(),text:wn(li.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function hw(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Im(t){let e="",i,n;const r=t.length;for(i=0;i<r;i++)n=t.charCodeAt(i),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class Fa{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||uo,this.options.tokenizer=this.options.tokenizer||new Zc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={block:Ei.normal,inline:li.normal};this.options.pedantic?(i.block=Ei.pedantic,i.inline=li.pedantic):this.options.gfm&&(i.block=Ei.gfm,this.options.breaks?i.inline=li.breaks:i.inline=li.gfm),this.tokenizer.rules=i}static get rules(){return{block:Ei,inline:li}}static lex(e,i){return new Fa(i).lex(e)}static lexInline(e,i){return new Fa(i).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let i;for(;i=this.inlineQueue.shift();)this.inlineTokens(i.src,i.tokens);return this.tokens}blockTokens(e,i=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let n,r,s,d;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(y=>(n=y.call({lexer:this},e,i))?(e=e.substring(n.raw.length),i.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&i.length>0?i[i.length-1].raw+=`
`:i.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=i[i.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):i.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=i[i.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),i.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let y=Infinity;const F=e.slice(1);let W;this.options.extensions.startBlock.forEach(function(ie){W=ie.call({lexer:this},F),typeof W=="number"&&W>=0&&(y=Math.min(y,W))}),y<Infinity&&y>=0&&(s=e.substring(0,y+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){r=i[i.length-1],d&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):i.push(n),d=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=i[i.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):i.push(n);continue}if(e){const y="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return this.state.top=!0,i}inline(e,i){this.inlineQueue.push({src:e,tokens:i})}inlineTokens(e,i=[]){let n,r,s,d=e,y,F,W;if(this.tokens.links){const ie=Object.keys(this.tokens.links);if(ie.length>0)for(;(y=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)ie.includes(y[0].slice(y[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,y.index)+"["+xm("a",y[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(y=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,y.index)+"["+xm("a",y[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(y=this.tokenizer.rules.inline.escapedEmSt.exec(d))!=null;)d=d.slice(0,y.index)+"++"+d.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(F||(W=""),F=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(ie=>(n=ie.call({lexer:this},e,i))?(e=e.substring(n.raw.length),i.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=i[i.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):i.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=i[i.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):i.push(n);continue}if(n=this.tokenizer.emStrong(e,d,W)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),i.push(n);continue}if(n=this.tokenizer.autolink(e,Im)){e=e.substring(n.raw.length),i.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Im))){e=e.substring(n.raw.length),i.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let ie=Infinity;const le=e.slice(1);let de;this.options.extensions.startInline.forEach(function(ke){de=ke.call({lexer:this},le),typeof de=="number"&&de>=0&&(ie=Math.min(ie,de))}),ie<Infinity&&ie>=0&&(s=e.substring(0,ie+1))}if(n=this.tokenizer.inlineText(s,hw)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(W=n.raw.slice(-1)),F=!0,r=i[i.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):i.push(n);continue}if(e){const ie="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(ie);break}else throw new Error(ie)}}return i}}class hu{constructor(e){this.options=e||uo}code(e,i,n){const r=(i||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,r);s!=null&&s!==e&&(n=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+or(r,!0)+'">'+(n?e:or(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:or(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,i,n,r){return this.options.headerIds?"<h"+i+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+i+`>
`:"<h"+i+">"+e+"</h"+i+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,i,n){const r=i?"ol":"ul",s=i&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,i){return i&&(i="<tbody>"+i+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,i){const n=i.header?"th":"td";return(i.align?"<"+n+' align="'+i.align+'">':"<"+n+">")+e+"</"+n+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,i,n){if(e=Mm(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r='<a href="'+or(e)+'"';return i&&(r+=' title="'+i+'"'),r+=">"+n+"</a>",r}image(e,i,n){if(e=Mm(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r='<img src="'+e+'" alt="'+n+'"';return i&&(r+=' title="'+i+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class Fm{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,i,n){return""+n}image(e,i,n){return""+n}br(){return""}}class Om{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,i){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do r++,n=e+"-"+r;while(this.seen.hasOwnProperty(n))}return i||(this.seen[e]=r,this.seen[n]=0),n}slug(e,i={}){const n=this.serialize(e);return this.getNextSafeSlug(n,i.dryrun)}}class Oa{constructor(e){this.options=e||uo,this.options.renderer=this.options.renderer||new hu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Fm,this.slugger=new Om}static parse(e,i){return new Oa(i).parse(e)}static parseInline(e,i){return new Oa(i).parseInline(e)}parse(e,i=!0){let n="",r,s,d,y,F,W,ie,le,de,ke,Ie,oe,ye,Te,Fe,qe,He,lt,mt;const Pt=e.length;for(r=0;r<Pt;r++){if(ke=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ke.type]&&(mt=this.options.extensions.renderers[ke.type].call({parser:this},ke),mt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ke.type))){n+=mt||"";continue}switch(ke.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(ke.tokens),ke.depth,Nm(this.parseInline(ke.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(ke.text,ke.lang,ke.escaped);continue}case"table":{for(le="",ie="",y=ke.header.length,s=0;s<y;s++)ie+=this.renderer.tablecell(this.parseInline(ke.header[s].tokens),{header:!0,align:ke.align[s]});for(le+=this.renderer.tablerow(ie),de="",y=ke.rows.length,s=0;s<y;s++){for(W=ke.rows[s],ie="",F=W.length,d=0;d<F;d++)ie+=this.renderer.tablecell(this.parseInline(W[d].tokens),{header:!1,align:ke.align[d]});de+=this.renderer.tablerow(ie)}n+=this.renderer.table(le,de);continue}case"blockquote":{de=this.parse(ke.tokens),n+=this.renderer.blockquote(de);continue}case"list":{for(Ie=ke.ordered,oe=ke.start,ye=ke.loose,y=ke.items.length,de="",s=0;s<y;s++)Fe=ke.items[s],qe=Fe.checked,He=Fe.task,Te="",Fe.task&&(lt=this.renderer.checkbox(qe),ye?Fe.tokens.length>0&&Fe.tokens[0].type==="paragraph"?(Fe.tokens[0].text=lt+" "+Fe.tokens[0].text,Fe.tokens[0].tokens&&Fe.tokens[0].tokens.length>0&&Fe.tokens[0].tokens[0].type==="text"&&(Fe.tokens[0].tokens[0].text=lt+" "+Fe.tokens[0].tokens[0].text)):Fe.tokens.unshift({type:"text",text:lt}):Te+=lt),Te+=this.parse(Fe.tokens,ye),de+=this.renderer.listitem(Te,He,qe);n+=this.renderer.list(de,Ie,oe);continue}case"html":{n+=this.renderer.html(ke.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(ke.tokens));continue}case"text":{for(de=ke.tokens?this.parseInline(ke.tokens):ke.text;r+1<Pt&&e[r+1].type==="text";)ke=e[++r],de+=`
`+(ke.tokens?this.parseInline(ke.tokens):ke.text);n+=i?this.renderer.paragraph(de):de;continue}default:{const Ct='Token with "'+ke.type+'" type was not found.';if(this.options.silent){console.error(Ct);return}else throw new Error(Ct)}}}return n}parseInline(e,i){i=i||this.renderer;let n="",r,s,d;const y=e.length;for(r=0;r<y;r++){if(s=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(d=this.options.extensions.renderers[s.type].call({parser:this},s),d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=d||"";continue}switch(s.type){case"escape":{n+=i.text(s.text);break}case"html":{n+=i.html(s.text);break}case"link":{n+=i.link(s.href,s.title,this.parseInline(s.tokens,i));break}case"image":{n+=i.image(s.href,s.title,s.text);break}case"strong":{n+=i.strong(this.parseInline(s.tokens,i));break}case"em":{n+=i.em(this.parseInline(s.tokens,i));break}case"codespan":{n+=i.codespan(s.text);break}case"br":{n+=i.br();break}case"del":{n+=i.del(this.parseInline(s.tokens,i));break}case"text":{n+=i.text(s.text);break}default:{const F='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(F);return}else throw new Error(F)}}}return n}}function Pi(t,e,i){if(typeof t=="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(i=e,e=null),e=la({},Pi.defaults,e||{}),Am(e),i){const n=e.highlight;let r;try{r=Fa.lex(t,e)}catch(y){return i(y)}const s=function(y){let F;if(!y)try{e.walkTokens&&Pi.walkTokens(r,e.walkTokens),F=Oa.parse(r,e)}catch(W){y=W}return e.highlight=n,y?i(y):i(null,F)};if(!n||n.length<3||(delete e.highlight,!r.length))return s();let d=0;Pi.walkTokens(r,function(y){y.type==="code"&&(d++,setTimeout(()=>{n(y.text,y.lang,function(F,W){if(F)return s(F);W!=null&&W!==y.text&&(y.text=W,y.escaped=!0),d--,d===0&&s()})},0))}),d===0&&s();return}try{const n=Fa.lex(t,e);return e.walkTokens&&Pi.walkTokens(n,e.walkTokens),Oa.parse(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+or(n.message+"",!0)+"</pre>";throw n}}Pi.options=Pi.setOptions=function(t){return la(Pi.defaults,t),Jy(Pi.defaults),Pi},Pi.getDefaults=Tm,Pi.defaults=uo,Pi.use=function(...t){const e=la({},...t),i=Pi.defaults.extensions||{renderers:{},childTokens:{}};let n;t.forEach(r=>{if(r.extensions&&(n=!0,r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const d=i.renderers?i.renderers[s.name]:null;d?i.renderers[s.name]=function(...y){let F=s.renderer.apply(this,y);return F===!1&&(F=d.apply(this,y)),F}:i.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");i[s.level]?i[s.level].unshift(s.tokenizer):i[s.level]=[s.tokenizer],s.start&&(s.level==="block"?i.startBlock?i.startBlock.push(s.start):i.startBlock=[s.start]:s.level==="inline"&&(i.startInline?i.startInline.push(s.start):i.startInline=[s.start]))}s.childTokens&&(i.childTokens[s.name]=s.childTokens)})),r.renderer){const s=Pi.defaults.renderer||new hu;for(const d in r.renderer){const y=s[d];s[d]=(...F)=>{let W=r.renderer[d].apply(s,F);return W===!1&&(W=y.apply(s,F)),W}}e.renderer=s}if(r.tokenizer){const s=Pi.defaults.tokenizer||new Zc;for(const d in r.tokenizer){const y=s[d];s[d]=(...F)=>{let W=r.tokenizer[d].apply(s,F);return W===!1&&(W=y.apply(s,F)),W}}e.tokenizer=s}if(r.walkTokens){const s=Pi.defaults.walkTokens;e.walkTokens=function(d){r.walkTokens.call(this,d),s&&s.call(this,d)}}n&&(e.extensions=i),Pi.setOptions(e)})},Pi.walkTokens=function(t,e){for(const i of t)switch(e.call(Pi,i),i.type){case"table":{for(const n of i.header)Pi.walkTokens(n.tokens,e);for(const n of i.rows)for(const r of n)Pi.walkTokens(r.tokens,e);break}case"list":{Pi.walkTokens(i.items,e);break}default:Pi.defaults.extensions&&Pi.defaults.extensions.childTokens&&Pi.defaults.extensions.childTokens[i.type]?Pi.defaults.extensions.childTokens[i.type].forEach(function(n){Pi.walkTokens(i[n],e)}):i.tokens&&Pi.walkTokens(i.tokens,e)}},Pi.parseInline=function(t,e){if(typeof t=="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=la({},Pi.defaults,e||{}),Am(e);try{const i=Fa.lexInline(t,e);return e.walkTokens&&Pi.walkTokens(i,e.walkTokens),Oa.parseInline(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+or(i.message+"",!0)+"</pre>";throw i}},Pi.Parser=Oa,Pi.parser=Oa.parse,Pi.Renderer=hu,Pi.TextRenderer=Fm,Pi.Lexer=Fa,Pi.lexer=Fa.lex,Pi.Tokenizer=Zc,Pi.Slugger=Om,Pi.parse=Pi;const ak=Pi.options,sk=Pi.setOptions,ok=Pi.use,lk=Pi.walkTokens,uk=Pi.parseInline,ed=Pi,ck=Oa.parse,dk=Fa.lex;var fk=ni(48318);const Lm=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function Um(t){return t.match(Lm)}function mw(t){return!!Um(t.body)}async function Bm(t,e,i=!0){const n=t[2],r=t[3],s=t[5],d=Number(t[6])-1,y=t[8]?Number(t[8])-1:d;let F;for(const ie of e.folderManagers){const le=await ie.getGitHubRemotes();for(const de of le)if(n.toLowerCase()===de.owner.toLowerCase()&&r.toLowerCase()===de.repositoryName.toLowerCase()){F=ie;break}if(F)break}if(!F)return;const W=a.Uri.joinPath(F.repository.rootUri,s);try{await a.workspace.fs.stat(W)}catch(ie){return}return{file:W,start:d,end:y}}async function pw(t,e){const i=Um(t.body);if(!i){a.window.showInformationMessage(a.l10n.t("Issue has no link."));return}const n=await Bm(i,e,!1);if(!n)return a.env.openExternal(a.Uri.parse(i[0]));const r=await a.workspace.openTextDocument(n==null?void 0:n.file),s=r.lineAt(n.end<r.lineCount?n.end:r.lineCount-1),d=new a.Range(n.start,0,n.end,s.text.length);return a.window.showTextDocument(n.file,{selection:d})}var vw=Object.defineProperty,qm=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?vw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const td=/\@([^\s]+)/,gw=150,co="Permalink";async function Hm(t,e,i,n){var r;const s=(r=t.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:r.get(i);if(s)return s;{let d,y,F;const W=await e.getGitHubRemotes();for(const ie of W){if(n)d=n.owner?n.owner:ie.owner,y=n.name?n.name:ie.repositoryName,F=n.issueNumber;else{const le=Us(i.match(hs));le&&(!le.name||!le.owner)&&(d=ie.owner,y=ie.repositoryName)}if(d&&y&&F!==void 0){let le=await e.resolveIssue(d,y,F,!!n.commentNumber);if(le||(le=await e.resolvePullRequest(d,y,F)),le){let de;return t.resolvedIssues.has(e.repository.rootUri.path)?de=t.resolvedIssues.get(e.repository.rootUri.path):t.resolvedIssues.set(e.repository.rootUri.path,de=new(Yy())(50)),de.set(i,le),le}}}}}function bw(t,e){let i;return t.commitContributions.forEach(n=>{e.toLowerCase()===n.repoNameWithOwner.toLowerCase()&&(i=n.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),i}class $m extends a.CompletionItem{constructor(){super(...arguments);qm(this,"login"),qm(this,"uri")}}function Gm(t,e){const i=new a.MarkdownString(void 0,!0);i.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) ${e.name?`**${e.name}** `:""}[${e.login}](${e.url})`),e.bio&&i.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const n=bw(e,t.owner+"/"+t.repo);return(e.location||n)&&i.appendMarkdown(`  \r
\r
---`),e.location&&i.appendMarkdown(`  \r
${a.l10n.t("{0} {1}","$(location)",e.location)}`),n&&i.appendMarkdown(`  \r
${a.l10n.t("{0} Committed to this repository on {1}","$(git-commit)",n)}`),e.company&&i.appendMarkdown(`  \r
${a.l10n.t({message:"{0} Member of {1}",args:["$(jersey)",e.company],comment:["An organization that the user is a member of.","The first placeholder is an icon and shouldn't be localized.","The second placeholder is the name of the organization."]})}`),i}async function Vm(t,e,i){let n=t.search(e),r=0;for(;n>=0&&n<t.length;){let s;if(n===0||t.charAt(n-1)!=="&"){const y=t.substring(n).match(e);if(y){const F=await i(y);F&&(s=t.slice(0,n)+F,t=s+t.slice(n+y[0].length))}}r=s?s.length:n+1;const d=t.substring(r).search(e);n=d>0?r+d:d}return t}function jm(t,e){return Vm(t,hs,async i=>{const n=Us(i);if(n){const r=oc(n);return(!n.owner||!n.name)&&(n.owner=e.remote.owner,n.name=e.remote.repositoryName),`[${r}](https://github.com/${n.owner}/${n.name}/issues/${n.issueNumber})`}})}async function yw(t,e){return Vm(t,Lm,async i=>{const n=await Bm(i,e);if(n){f.trace("finding code links in issue","Issues");const r=await a.workspace.openTextDocument(n==null?void 0:n.file),s=r.lineAt(n.end<r.lineCount?n.end:r.lineCount-1),d=[n.file,{selection:{start:{line:n.start,character:0},end:{line:n.end,character:s.text.length}}}],y=a.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(d))}`);return`[${i[0]}](${y} "Open ${n.file.fsPath}")`}})}const mu=200;async function id(t,e,i,n){const r=new a.MarkdownString(void 0,!0);r.supportHtml=!0;const s=new Date(t.createdAt),d=`${t.remote.owner}/${t.remote.repositoryName}`;r.appendMarkdown(`[${d}](https://github.com/${d}) on ${s.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const y=ed(t.title,{renderer:new od}).trim();r.appendMarkdown(`${_w(t)} **${y}** [#${t.number}](${t.html_url})  
`);let F=ed(t.body,{renderer:new od});if(r.appendMarkdown(`  
`),F=F.length>mu?F.substr(0,mu)+"...":F,F=await jm(F,t),F=await yw(F,i),r.appendMarkdown(F+`  
`),r.appendMarkdown(`&nbsp;  
`),t.item.labels.length>0&&t.item.labels.forEach(W=>{r.appendMarkdown(`[${Hf(W)}](https://github.com/${d}/labels/${encodeURIComponent(W.name)}) `)}),t.item.comments&&n){for(const W of t.item.comments)if(W.databaseId===n){r.appendMarkdown(`  \r
\r
---\r
`),r.appendMarkdown(`&nbsp;  
`),r.appendMarkdown(`![Avatar](${W.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${W.author.login}** commented`),r.appendMarkdown(`&nbsp;  
`);let ie=ed(W.body.length>mu?W.body.substr(0,mu)+"...":W.body,{renderer:new od});ie=await jm(ie,t),r.appendMarkdown(ie)}}return r}function ww(t){switch(t.state){case Gi.Open:return t instanceof rr?"$(git-pull-request)":"$(issues)";case Gi.Closed:return t instanceof rr?"$(git-pull-request)":"$(issue-closed)";case Gi.Merged:return"$(git-merge)"}}function _w(t){if(t instanceof rr)return ww(t);switch(t.state){case Gi.Open:return'<span style="color:#22863a;">$(issues)</span>';case Gi.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}const zm="HEAD",kw=1,Sw=2,Rw=3,Wm=4,pu=new Map([["upstream",kw],["ups",Sw],["origin",Rw]]);async function Ew(t,e,i){var n,r,s,d;const y=((n=e.state.HEAD)==null?void 0:n.upstream)&&!pu.has(e.state.HEAD.upstream.remote)?e.state.HEAD.upstream.remote:void 0;let F;const W=e.state.remotes.map(Ie=>({name:Ie.name,remote:Ie})).filter(Ie=>(Ie.name===y&&(F=Ie.remote),pu.has(Ie.name))).sort((Ie,oe)=>{var ye,Te;const Fe=(ye=pu.get(Ie.name))!=null?ye:Wm,qe=(Te=pu.get(oe.name))!=null?Te:Wm;return Fe-qe});y&&W.push({name:y,remote:F});const ie=[zm];((r=e.state.HEAD)==null?void 0:r.name)&&e.state.HEAD.name!==zm&&ie.unshift((s=e.state.HEAD)==null?void 0:s.name);let le;try{le=await((d=t.getManagerForFile(e.rootUri))==null?void 0:d.getPullRequestDefaults())}catch(Ie){if(!(Ie instanceof gh))throw Ie}le&&ie.push(le.base);let de,ke;for(let Ie=0;Ie<ie.length&&!de;Ie++)for(let oe=0;oe<W.length&&!de;oe++)try{const ye=(await e.getBranches({contains:i,remote:!0,pattern:`remotes/${W[oe].name}/${ie[Ie]}`,count:1})).filter(Te=>Te.remote&&Te.name);ye&&ye.length>0&&(de=ye[0],ke=W[oe].remote)}catch(ye){}return ke}function Tw(t){return t instanceof a.Uri?{fileUri:t,lineNumber:void 0}:t!==void 0&&"lineNumber"in t&&"uri"in t?{fileUri:t.uri,lineNumber:t.lineNumber}:{fileUri:void 0,lineNumber:void 0}}function Km(t,e){var i,n;f.debug("getting file and position",co);let r,s;const{fileUri:d,lineNumber:y}=Tw(t);if(d)r=d,((i=a.window.activeTextEditor)==null?void 0:i.document.uri.fsPath)===r.fsPath&&!a.window.activeNotebookEditor&&(y!==void 0&&(a.window.activeTextEditor.selection.isEmpty||!a.window.activeTextEditor.selection.contains(new a.Position(y-1,0)))?s=new a.Range(new a.Position(y-1,0),new a.Position(y-1,1)):s=a.window.activeTextEditor.selection);else if(!e&&a.window.activeTextEditor)r=a.window.activeTextEditor.document.uri,s=a.window.activeTextEditor.selection;else if(!e&&a.window.activeNotebookEditor)r=a.window.activeNotebookEditor.notebook.uri,s=a.window.activeNotebookEditor.selection;else if(!e&&((n=a.window.tabGroups.activeTabGroup.activeTab)==null?void 0:n.input)instanceof a.TabInputCustom)r=a.window.tabGroups.activeTabGroup.activeTab.input.uri;else if(e)r=e.document.uri,s=e.range;else return{uri:void 0,range:void 0};return f.debug(`got file and position: ${r.fsPath} ${(s==null?void 0:s.start)?s.start instanceof a.Position?`${s.start.line}:${s.start.character}`:s.start:"unknown"}`,co),{uri:r,range:s}}function vu(t){var e;const i=(e=t.state.HEAD)==null?void 0:e.upstream;for(const n of t.state.remotes)if(!i||i.remote===n.name)return n}async function Qm(t,e,i){const n=new Promise(s=>{s(vu(e))});let r=i?await Promise.race([Ew(t,e,i),new Promise(s=>{setTimeout(()=>{s(n)},1500)})]):await n;if(!((!r||!r.fetchUrl)&&(r=await n,!r||!r.fetchUrl)))return r}function Ym(t,e,i){const n=t.getManagerForFile(e.rootUri),r=n==null?void 0:n.gitHubRepositories.find(s=>s.remote.remoteName===i.name);return r?`${r.remote.owner}/${r.remote.repositoryName}`:new cn(i.fetchUrl).nameWithOwner}async function nd(t,e,i,n,r,s){return a.window.withProgress({location:a.ProgressLocation.Window},async d=>{var y,F,W;d.report({message:a.l10n.t("Creating permalink...")});const{uri:ie,range:le}=Km(s,r);if(!ie)return{permalink:void 0,error:a.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const de=ac(e,ie);if(!de)return{permalink:void 0,error:a.l10n.t("The current file isn't part of repository."),originalFile:ie};let ke;if(ie.scheme===oi.Review&&(ke=sa(ie.query).commit),!ke)try{const qe=await de.log({maxEntries:1,path:ie.fsPath});if(qe.length===0)return{permalink:void 0,error:a.l10n.t("No branch on a remote contains the most recent commit for the file."),originalFile:ie};((y=de.state.HEAD)==null?void 0:y.commit)&&qe[0].hash!==((F=de.state.HEAD)==null?void 0:F.commit)?ke=de.state.HEAD.commit:ke=qe[0].hash}catch(qe){ke=(W=de.state.HEAD)==null?void 0:W.commit}f.debug(`commit hash: ${ke}`,co);const Ie=await Qm(t,de,ke);if(!Ie||!Ie.fetchUrl)return{permalink:void 0,error:a.l10n.t("The selection may not exist on any remote."),originalFile:ie};const oe=Ie;f.debug(`upstream: ${oe.fetchUrl}`,co);const ye=gu(ie.path.substring(de.rootUri.path.length)),Fe={permalink:`${rd(Ie).replace(/\/$/,"")}/${Ym(t,de,oe)}/blob/${ke}${n?`${ye}${i?ad(le):""}`:""}`,error:void 0,originalFile:ie};return f.debug(`permalink generated: ${Fe.permalink}`,co),Fe})}function rd(t,e="github.com"){var i;const n=$s();let r=t.fetchUrl;if(n&&r){if(r.startsWith("https://")&&!r.startsWith("https://github.com/")){const s=new Ky.URL(r).host;(s.startsWith(n.authority)||!s.includes("github.com"))&&(e=n.authority)}if(r.startsWith("ssh://")&&(r=r.substr("ssh://".length)),r.startsWith("git@")&&!r.startsWith("git@github.com")){const s=(i=r.split("@")[1])==null?void 0:i.split(":")[0];(s.startsWith(n.authority)||!s.includes("github.com"))&&(e=n.authority)}}return`https://${e}`}function gu(t){return t.split("/").map(e=>encodeURIComponent(e)).join("/")}function ad(t){if(!t||t instanceof a.NotebookRange)return"";let e=`#L${t.start.line+1}`;return t.start.line!==t.end.line&&(e+=`-L${t.end.line+1}`),e}async function Cw(t,e,i){var n;const{uri:r,range:s}=Km(e);if(!r)return{permalink:void 0,error:a.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const d=t.getManagerForFile(r);if(!d)return{permalink:void 0,error:a.l10n.t("Current file does not belong to an open repository."),originalFile:void 0};let y=(n=d.repository.state.HEAD)==null?void 0:n.name;y||(y=(await(await d.getOrigin()).getMetadata()).default_branch);const F=vu(d.repository);if(!(F==null?void 0:F.fetchUrl))return{permalink:void 0,error:a.l10n.t("Repository does not have any remotes."),originalFile:void 0};const W=r.path.substring(d.repository.rootUri.path.length),ie=rd(F).replace(/\/$/,""),le=gu(`${y}${W}`);return{permalink:`${ie}/${new cn(F.fetchUrl).nameWithOwner}/blob/${le}${i?ad(s):""}`,error:void 0,originalFile:r}}async function Jm(t,e,i){var n;const r=await((n=e.currentIssue(t.repository.rootUri))==null?void 0:n.getCommitMessage());if(r)return t.repository.commit(r,{all:i})}const Xm=a.l10n.t("Commit Staged"),Zm=a.l10n.t("Commit All");async function Nw(t,e,i){var n,r;if(t.repository.state.workingTreeChanges.length>0||t.repository.state.indexChanges.length>0){const s=[];switch(t.repository.state.indexChanges&&s.push(Xm),t.repository.state.workingTreeChanges&&s.push(Zm),await a.window.showInformationMessage(a.l10n.t("There are uncommitted changes. Do you want to commit them with the default commit message?"),{modal:!0},...s)){case Xm:{await Jm(t,i,!1);break}case Zm:{await Jm(t,i,!0);break}default:return!1}}if((n=t.repository.state.HEAD)==null?void 0:n.upstream)return await t.repository.push(),await e.createPullRequest(void 0),!0;{let s;return t.repository.state.remotes.length===1?s=t.repository.state.remotes[0].name:t.repository.state.remotes.length>1&&(s=await a.window.showQuickPick(t.repository.state.remotes.map(d=>d.name),{placeHolder:a.l10n.t("Remote to push to")})),s?(await t.repository.push(s,(r=t.repository.state.HEAD)==null?void 0:r.name,!0),await e.createPullRequest(void 0),!0):(a.window.showWarningMessage(a.l10n.t("The current repository has no remotes to push to. Please set up a remote and try again.")),!1)}}async function sd(t,e){return!(t.languageId!=="markdown"&&t.languageId!=="plaintext"&&(await a.languages.getTokenInformationAtPosition(t,e)).type!==a.StandardTokenType.Comment)}async function ep(t,e){return t.lineAt(e.line).range.end.character>1e4?!1:sd(t,e)}function tp(t){const e=new URLSearchParams(t.query).get("rootUri");return e?a.Uri.parse(e):void 0}function ip(t){return t.replace(/([_~*])/g,"\\$1")}class od extends hu{code(e){return e}blockquote(e){return e}html(e){return""}heading(e,i,n,r){return e+" "}hr(){return""}list(e,i,n){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,i){return e+" "+i}tablerow(e){return e}tablecell(e,i){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,i,n){return""}text(e){return e}link(e,i,n){return n+" "}}class np extends a.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,a.CompletionItemKind.Issue);this.issue=e}}class Mw{constructor(e,i,n){this.stateManager=e,this.repositoriesManager=i,this.context=n}async provideCompletionItems(e,i,n,r){var s,d,y,F,W,ie,le;let de=e.getWordRangeAtPosition(i),ke=de?e.getText(de):void 0;if(!de||(ke==null?void 0:ke.charAt(0))!=="#"){const Pt=(s=de==null?void 0:de.start)!=null?s:i,Ct=new a.Range(Pt.translate(void 0,Pt.character?-1:0),i),ui=e.getText(Ct);ui.charAt(0)==="#"&&(de=Ct,ke=ui)}if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&i.character>0&&r.triggerKind===a.CompletionTriggerKind.Invoke&&!(ke==null?void 0:ke.match(/#[0-9]*$/)))return[];if(i.character<=6&&e.languageId==="markdown"&&e.getText(new a.Range(i.with(void 0,0),i))===new Array(i.character+1).join("#")&&e.uri.scheme!=="comment"&&r.triggerKind===a.CompletionTriggerKind.TriggerCharacter)return[];if(r.triggerKind===a.CompletionTriggerKind.TriggerCharacter&&a.workspace.getConfiguration(ai).get(Ri,[]).find(Pt=>Pt===e.languageId))return[];if(e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await sd(e,i))return[];let Ie=new a.Range(i,i);i.character-1>=0&&de&&((ke==null?void 0:ke.charAt(0))==="#"||e.languageId==="scminput"||e.languageId==="git-commit")&&(Ie=de);let oe;if(ke==="#"&&de&&de.start.character>=3){const Pt=new a.Range(de.start.with(void 0,0),de.start),ui=e.getText(Pt).match(/([^\s]+)\/([^\s]+)/);ui&&(oe={owner:ui[1],repo:ui[2]})}const ye=new Map,Te=new Date;let Fe,qe;if(e.languageId==="scminput")qe=tp(e.uri);else if(e.uri.scheme==="comment"&&((d=a.workspace.workspaceFolders)==null?void 0:d.length))for(const Pt of a.window.visibleTextEditors){const Ct=a.workspace.workspaceFolders[0].uri.with({path:Pt.document.uri.path}),ui=a.workspace.getWorkspaceFolder(Ct);if(ui){qe=ui.uri;break}}else qe=e.uri.scheme===Zr&&(y=uu(e.uri))!=null?y:e.uri;if(!qe)return[];let He;try{He=this.repositoriesManager.getManagerForFile(qe),Fe=await(He==null?void 0:He.getPullRequestDefaults())}catch(Pt){}const lt=this.stateManager.getIssueCollection((F=He==null?void 0:He.repository.rootUri)!=null?F:qe);let mt=0;for(const Pt of lt)mt+=((W=(await Pt[1]).issues)!=null?W:[]).length;for(const Pt of lt){const Ct=await Pt[1];if(((ie=Ct.issues)!=null?ie:[]).length===0)continue;let ui=0;for(const Di of(le=Ct.issues)!=null?le:[])oe&&(Di.remote.owner!==oe.owner||Di.remote.repositoryName!==oe.repo)||ye.set(Uo(Di),await this.completionItemFromIssue(Fe,Di,Te,Ie,e,ui++,mt))}return[...ye.values()]}async completionItemFromIssue(e,i,n,r,s,d,y,F){var W;const ie=new np(i);if(s.languageId==="markdown")ie.insertText=`[${Uo(i,e)}](${i.html_url})`;else{const le=a.workspace.getConfiguration(ai).get(Hi);s.uri.path.match(/git\/scm\d\/input/)&&typeof le=="string"?ie.insertText=await Gs(le,i,e):ie.insertText=`${Uo(i,e)}`}return ie.documentation=i.body,ie.range=r,ie.detail=F?F.title:(W=i.milestone)==null?void 0:W.title,ie.sortText=`${d}`.padStart(`${y}`.length,"0"),ie.filterText=`${ie.detail} # ${i.number} ${i.title} ${ie.documentation}`,ie}async resolveCompletionItem(e,i){return e instanceof np&&(e.documentation=await id(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:a.l10n.t("Issue Completion Choose,")}),e}}class Pw{constructor(e,i,n,r){this.manager=e,this.stateManager=i,this.context=n,this.telemetry=r}async provideHover(e,i,n){var r;if(!await ep(e,i))return;let s=e.getWordRangeAtPosition(i,hs);if(s&&s.start.character>0){s=new a.Range(new a.Position(s.start.line,s.start.character),s.end);const y=e.getText(s).match(hs),F=Us(y),W=(r=this.manager.getManagerForFile(e.uri))!=null?r:this.manager.folderManagers[0];if(!W)return;if(F&&y&&(F.owner||F.issueNumber<=this.stateManager.maxIssueNumber(W.repository.rootUri)))return this.createHover(W,y[0],F,s)}else return}async createHover(e,i,n,r){const s=await Hm(this.stateManager,e,i,n);if(!!s)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new a.Hover(await id(s,this.context,this.manager,n.commentNumber),r)}}var Aw=Object.defineProperty,rp=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Aw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class nl{constructor(e,i,n){this.repoRootUri=e,this.queryLabel=i,this.isFirst=n}}class bu{constructor(e,i,n,r,s,d,y){this.repoRootUri=e,this.queryLabel=i,this.isInFirstQuery=n,this.groupLevel=r,this.group=s,this.groupByOrder=d,this.issuesInGroup=y}}class xw{constructor(e,i,n){this.stateManager=e,this.manager=i,this.context=n,rp(this,"_onDidChangeTreeData",new a.EventEmitter),rp(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),n.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),n.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),n.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getFolderRepoItem(e){return new a.TreeItem(m.basename(e.repository.rootUri.fsPath),ud(this.context,e,a.TreeItemCollapsibleState.Expanded))}getQueryItem(e){const i=new a.TreeItem(e.queryLabel,ud(this.context,e,e.isFirst?a.TreeItemCollapsibleState.Expanded:a.TreeItemCollapsibleState.Collapsed));return i.contextValue="query",i}getIssueGroupItem(e){return new a.TreeItem(e.group,ud(this.context,e,e.isInFirstQuery?a.TreeItemCollapsibleState.Expanded:a.TreeItemCollapsibleState.Collapsed))}getIssueTreeItem(e){var i;const n=new a.TreeItem(`${e.number}: ${e.title}`,a.TreeItemCollapsibleState.None);return n.iconPath=e.isOpen?new a.ThemeIcon("issues",new a.ThemeColor("issues.open")):new a.ThemeIcon("issue-closed",new a.ThemeColor("issues.closed")),((i=this.stateManager.currentIssue(e.uri))==null?void 0:i.issue.number)===e.number?(n.label=`\u2713 ${n.label}`,n.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?n.contextValue="continueissue":n.contextValue="issue",mw(e)&&(n.contextValue="link"+n.contextValue),n}getTreeItem(e){return e instanceof gs?this.getFolderRepoItem(e):e instanceof nl?this.getQueryItem(e):e instanceof bu?this.getIssueGroupItem(e):this.getIssueTreeItem(e)}getChildren(e){return e===void 0&&this.manager.state!==Fr.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,i){return i instanceof ir&&(e.tooltip=await id(i,this.context,this.manager)),e}getStateChildren(){return this.manager.state===Fr.NeedsAuthentication||!this.manager.folderManagers.length?[]:(Vi.setContext(er.LOADING_ISSUES_TREE,!0),[])}getRootChildren(){return this.manager.folderManagers.length===1?this.getRepoChildren(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]}getRepoChildren(e){const i=this.stateManager.getIssueCollection(e.repository.rootUri),n=Array.from(i.keys());return n.length===1?this.getQueryNodeChildren(new nl(e.repository.rootUri,n[0],!0)):n.map((r,s)=>new nl(e.repository.rootUri,r,s===0))}async getQueryNodeChildren(e){var i;const r=await this.stateManager.getIssueCollection(e.repoRootUri).get(e.queryLabel);return r?this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isFirst,r.groupBy,0,(i=r.issues)!=null?i:[]):[]}getIssueGroupsForGroupIndex(e,i,n,r,s,d){if(r.length<=s)return d;const y=r[s];if(y!=="milestone"&&y!=="repository"||r.findIndex(ie=>ie===y)!==s)return this.getIssueGroupsForGroupIndex(e,i,n,r,s+1,d);const F=o(d,ie=>{var le,de;return y==="repository"?`${ie.remote.owner}/${ie.remote.repositoryName}`:(de=(le=ie.milestone)==null?void 0:le.title)!=null?de:"No Milestone"}),W=[];for(const ie in F)W.push(new bu(e,i,n,s,ie,r,F[ie]));return W}async getIssueGroupChildren(e){return this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isInFirstQuery,e.groupByOrder,e.groupLevel+1,e.issuesInGroup)}getIssuesChildren(e){return e===void 0?this.getRootChildren():e instanceof gs?this.getRepoChildren(e):e instanceof nl?this.getQueryNodeChildren(e):e instanceof bu?this.getIssueGroupChildren(e):[]}}const ld="expandedIssuesState";function ap(t){let e;return t instanceof gs?e=t.repository.rootUri.toString():t instanceof nl?e=`${t.repoRootUri.toString()}/${t.queryLabel}`:t instanceof bu&&(e=`${t.repoRootUri.toString()}/${t.queryLabel}/${t.groupLevel}/${t.group}`),e}function sp(t,e,i){const n=ap(e);if(n){const r=new Set(t.workspaceState.get(ld,[]));i?r.add(n):r.delete(n),t.workspaceState.update(ld,Array.from(r.keys()))}}function ud(t,e,i=a.TreeItemCollapsibleState.Expanded){const n=ap(e);if(n){const r=t.workspaceState.get(ld);return r?new Set(r).has(n)?a.TreeItemCollapsibleState.Expanded:a.TreeItemCollapsibleState.Collapsed:i}return a.TreeItemCollapsibleState.None}var Dw=Object.defineProperty,Iw=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Dw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);function Fw(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}class Ow{constructor(e){Iw(this,"expression"),e.subscriptions.push(a.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=a.workspace.getConfiguration(ai).get(bi,[]);this.expression=e.length>0?new RegExp(e.map(i=>Fw(i)).join("|")):void 0}async provideCodeActions(e,i,n,r){var s;if(this.expression===void 0||n.only&&n.only!==a.CodeActionKind.QuickFix)return[];const d=[];let y=i.start.line;do{const F=e.lineAt(y).text,W=F.substring(0,gw);if(!W.match(hs)){const le=W.match(this.expression),de=(s=le==null?void 0:le.index)!=null?s:-1;if(de>=0&&le){const ke=new a.CodeAction(a.l10n.t("Create GitHub Issue"),a.CodeActionKind.QuickFix);ke.ranges=[new a.Range(y,de,y,de+le[0].length)];const Ie=W.substring(de).search(/\s/),oe=de+(Ie>0?Ie:W.match(this.expression)[0].length);ke.command={title:a.l10n.t("Create GitHub Issue"),command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:y,line:F,insertIndex:oe,range:i}]},d.push(ke);break}}y++}while(i.end.line>=y);return d}}var Lw=Object.defineProperty,yu=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Lw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Uw{constructor(e,i){yu(this,"disposables",[]),!!a.window.registerShareProvider&&this.disposables.push(new qw(e,i),new op(e,i),new up(e,i),new Hw(e,i))}dispose(){this.disposables.forEach(e=>e.dispose())}}const Bw=[oi.File,oi.Review,oi.Pr,oi.VscodeVfs];class cd{constructor(e,i,n,r,s,d="github.com"){this.repositoryManager=e,this.gitAPI=i,this.id=n,this.label=r,this.priority=s,this.origin=d,yu(this,"disposables",[]),yu(this,"shareProviderRegistrations"),this.initialize()}dispose(){var e;this.disposables.forEach(i=>i.dispose()),(e=this.shareProviderRegistrations)==null||e.map(i=>i.dispose())}async initialize(){await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register(),this.disposables.push(this.repositoryManager.onDidLoadAnyRepositories(async()=>{await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register()})),this.disposables.push(this.gitAPI.onDidCloseRepository(()=>{this.hasGitHubRepositories()||this.unregister()}))}async hasGitHubRepositories(){for(const e of this.repositoryManager.folderManagers)return!!(await e.computeAllGitHubRemotes()).length}register(){this.shareProviderRegistrations||(this.shareProviderRegistrations=Bw.map(e=>a.window.registerShareProvider({scheme:e},this)))}unregister(){var e;(e=this.shareProviderRegistrations)==null||e.map(i=>i.dispose()),this.shareProviderRegistrations=void 0}async provideShare(e){const i=this.repositoryManager.getManagerForFile(e.resourceUri);if(!i)throw new Error(a.l10n.t("Current file does not belong to an open repository."));const n=await this.getBlob(i,e.resourceUri),r=i.repository,s=await this.getUpstream(r,n);if(!s||!s.fetchUrl)throw new Error(a.l10n.t("The selection may not exist on any remote."));const d=rd(s,this.origin).replace(/\/$/,""),y=gu(e.resourceUri.path.substring(r.rootUri.path.length)),F=$w(e);return a.Uri.parse([d,"/",Ym(this.repositoryManager,r,{...s,fetchUrl:s.fetchUrl}),"/blob/",n,y,F].join(""))}}class qw extends cd{constructor(e,i){super(e,i,"githubDevLink",a.l10n.t("Copy github.dev Link"),10,"github.dev")}shouldRegister(){return a.env.appHost==="github.dev"}async getBlob(e){return cp(e)}async getUpstream(e){return vu(e)}}class op extends cd{constructor(e,i,n="githubComPermalink",r=a.l10n.t("Copy GitHub Permalink"),s=11){super(e,i,n,r,s)}shouldRegister(){return!0}async getBlob(e,i){var n,r,s;let d,y;if(i.scheme===oi.Review&&(y=sa(i.query).commit),!y){const F=e.repository;try{const W=await F.log({maxEntries:1,path:i.fsPath});if(W.length===0)throw new Error(a.l10n.t("No branch on a remote contains the most recent commit for the file."));((n=F.state.HEAD)==null?void 0:n.commit)&&W[0].hash!==((r=F.state.HEAD)==null?void 0:r.commit)&&(d=await F.getCommit(F.state.HEAD.commit)),d||(d=W[0]),y=d.hash}catch(W){y=(s=F.state.HEAD)==null?void 0:s.commit}}if(y)return y;throw new Error}async getUpstream(e,i){return Qm(this.repositoryManager,e,(await e.getCommit(i)).hash)}}const lp=class extends op{constructor(t,e){super(t,e,"githubComPermalinkAsMarkdown",a.l10n.t("Copy GitHub Permalink as Markdown"),12)}async provideShare(t){var e;f.trace("providing permalink markdown share",lp.ID);const i=await super.provideShare(t),n=await this.getMarkdownLinkText(t);if(i)return`[${(e=n==null?void 0:n.trim())!=null?e:""}](${i.toString()})`}async getMarkdownLinkText(t){const e=m.basename(t.resourceUri.path);if(t.selection){const i=await a.workspace.openTextDocument(t.resourceUri),n=t.selection.start===t.selection.end?t.selection:new a.Range(t.selection.start,new a.Position(t.selection.start.line+1,0)),r=i.getText(n);if(r)return r;const s=i.getWordRangeAtPosition(t.selection.start);if(s)return i.getText(s)}return e}};let up=lp;yu(up,"ID","GitHubPermalinkAsMarkdownShareProvider");class Hw extends cd{constructor(e,i){super(e,i,"githubComHeadLink",a.l10n.t("Copy GitHub HEAD Link"),13)}shouldRegister(){return!0}async getBlob(e){return cp(e)}async getUpstream(e){return vu(e)}}function $w(t){return t.resourceUri.scheme==="vscode-notebook-cell"?"":ad(t.selection)}async function cp(t){var e;let i=(e=t.repository.state.HEAD)==null?void 0:e.name;return i||(i=(await(await t.getOrigin()).getMetadata()).default_branch),gu(i)}var Gw=Object.defineProperty,Vr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Gw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Vw="currentIssue",dd="issues",wu=[{label:a.l10n.t("My Issues"),query:"is:open assignee:@me repo:${owner}/${repository}",groupBy:["milestone"]}];class hk extends ir{constructor(){super(...arguments);Vr(this,"uri")}}class jw{constructor(e,i,n){this.gitAPI=e,this.manager=i,this.context=n,Vr(this,"resolvedIssues",new Map),Vr(this,"_singleRepoStates",new Map),Vr(this,"_onRefreshCacheNeeded",new a.EventEmitter),Vr(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),Vr(this,"_onDidChangeIssueData",new a.EventEmitter),Vr(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),Vr(this,"_queries",[]),Vr(this,"_onDidChangeCurrentIssue",new a.EventEmitter),Vr(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),Vr(this,"initializePromise"),Vr(this,"statusBarItem"),Vr(this,"isSettingIssue",!1)}getIssueCollection(e){var i;let n=(i=this._singleRepoStates.get(e.path))==null?void 0:i.issueCollection;return n||(n=new Map,n)}getOrCreateSingleRepoState(e,i){let n=this._singleRepoStates.get(e.path);return n||(i||(i=this.manager.getManagerForFile(e)),n={issueCollection:new Map,maxIssueNumber:0,folderManager:i},this._singleRepoStates.set(e.path,n),n)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.credentialStore.isAnyAuthenticated())if(this.manager.state===Fr.RepositoriesLoaded)this.doInitialize().then(()=>e());else{const i=this.manager.onDidChangeState(()=>{this.manager.state===Fr.RepositoriesLoaded&&this.doInitialize().then(()=>{i.dispose(),e()})});this.context.subscriptions.push(i)}else{const i=this.manager.credentialStore.onDidGetSession(()=>{i.dispose(),this.doInitialize()});e()}})),this.initializePromise}registerRepositoryChangeEvent(){async function e(n,r){var s;const d=n.getOrCreateSingleRepoState(r.rootUri),y=d.lastHead,F=d.lastBranch,W=r.state.HEAD?r.state.HEAD.commit:void 0;(r.state.HEAD?r.state.HEAD.commit:void 0)!==y&&await n.setIssueData(d.folderManager);const ie=(s=r.state.HEAD)==null?void 0:s.name;(y!==W||F!==ie)&&(!d.currentIssue||ie!==d.currentIssue.branchName)&&(ie?d.folderManager&&await n.setCurrentIssueFromBranch(d,ie,!0):await n.setCurrentIssue(d,void 0,!0)),d.lastHead=r.state.HEAD?r.state.HEAD.commit:void 0,d.lastBranch=r.state.HEAD?r.state.HEAD.name:void 0}function i(n,r){n.context.subscriptions.push(r.state.onDidChange(async()=>{e(n,r)}))}this.context.subscriptions.push(this.gitAPI.onDidOpenRepository(n=>{e(this,n),i(this,n)})),this.gitAPI.repositories.forEach(n=>{i(this,n)})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(e){return e?this.setIssueData(e):this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=a.workspace.getConfiguration(ai,null).get(Ji,wu),this._queries.length===0&&(this._queries=wu),this.context.subscriptions.push(a.workspace.onDidChangeConfiguration(i=>{i.affectsConfiguration(`${ai}.${Ji}`)?(this._queries=a.workspace.getConfiguration(ai,null).get(Ji,wu),this._onRefreshCacheNeeded.fire()):i.affectsConfiguration(`${ai}.${$i}`)&&this._onRefreshCacheNeeded.fire()})),this.registerRepositoryChangeEvent(),await this.setAllIssueData(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const i of this.manager.folderManagers){this.context.subscriptions.push(i.onDidChangeRepositories(async s=>{if(s.added){const d=this.getOrCreateSingleRepoState(i.repository.rootUri);(d.issueCollection.size===0||(await Promise.all(d.issueCollection.values())).some(y=>y.issues===void 0))&&this.refresh(i)}}));const n=this.getOrCreateSingleRepoState(i.repository.rootUri,i);n.lastHead=i.repository.state.HEAD?i.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(i.repository.rootUri.path,n);const r=(e=i.repository.state.HEAD)==null?void 0:e.name;!n.currentIssue&&r&&await this.setCurrentIssueFromBranch(n,r,!0)}}cleanIssueState(){const e=this.context.workspaceState.get(dd),i=e?JSON.parse(e):{issues:[],branches:[]},n=new Date().valueOf()-30*864e5;for(const r in i.issues)i.issues[r].stateModifiedTime<n&&(i.branches&&i.branches[r]&&delete i.branches[r],delete i.issues[r])}async getUsers(e){var i;await this.initializePromise;const n=await((i=this.manager.getManagerForFile(e))==null?void 0:i.getAssignableUsers()),r=new Map;for(const s in n)n[s].forEach(d=>{r.set(d.login,d)});return r}async getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const i=this.getOrCreateSingleRepoState(e);return(!i.userMap||(await i.userMap).size===0)&&(i.userMap=this.getUsers(e)),i.userMap}async getCurrentUser(e){var i;return(i=await this.manager.credentialStore.getCurrentUser(e))==null?void 0:i.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var i,n;const r=this.getOrCreateSingleRepoState(e.repository.rootUri,e);r.issueCollection.clear();const s=Aa(e.repository).filter(y=>y.isEnterprise),d=await this.getCurrentUser(s.length?ki.githubEnterprise:ki.github);for(let y of this._queries){let F;y.query===Ai&&(y=wu[0]),F=this.setIssues(e,await Gs(y.query,void 0,void 0,d)).then(W=>{var ie;return{groupBy:(ie=y.groupBy)!=null?ie:[],issues:W}}),F&&r.issueCollection.set(y.label,F)}r.maxIssueNumber=await e.getMaxIssue(),r.lastHead=(i=e.repository.state.HEAD)==null?void 0:i.commit,r.lastBranch=(n=e.repository.state.HEAD)==null?void 0:n.name}setIssues(e,i){return new Promise(async n=>{const r=await e.getIssues(i);this._onDidChangeIssueData.fire(),n(r==null?void 0:r.items.map(s=>{const d=s;return d.uri=e.repository.rootUri,d}))})}async setCurrentIssueFromBranch(e,i,n=!1){if(a.workspace.getConfiguration(ai).get(Vt)==="off")return;let s;try{s=await e.folderManager.getPullRequestDefaults()}catch(y){return}if(i===s.base){await this.setCurrentIssue(e,void 0,!1);return}if(e.currentIssue&&e.currentIssue.branchName===i)return;const d=this.getSavedState();for(const y in d.branches)if(y===i){const F=await e.folderManager.resolveIssue(d.branches[y].owner,d.branches[y].repositoryName,d.branches[y].number);F&&await this.setCurrentIssue(e,new Em(F,e.folderManager,this),!1,n);return}}currentIssue(e){var i;return(i=this._singleRepoStates.get(e.path))==null?void 0:i.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var i,n;return(n=(i=this._singleRepoStates.get(e.path))==null?void 0:i.maxIssueNumber)!=null?n:0}async setCurrentIssue(e,i,n,r=!1){if(!(this.isSettingIssue&&i===void 0)){if(this.isSettingIssue=!0,e instanceof gs){const s=this._singleRepoStates.get(e.repository.rootUri.path);if(!s)return;e=s}try{if(e.currentIssue&&(i==null?void 0:i.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(n),i&&this.context.subscriptions.push(i.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(Vw,i==null?void 0:i.issue.number),(!i||await i.startWorking(r))&&(e.currentIssue=i,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch(s){}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),i=e.length>0;if(!i){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}i&&!this.statusBarItem&&(this.statusBarItem=a.window.createStatusBarItem("github.issues.status",a.StatusBarAlignment.Left,0),this.statusBarItem.name=a.l10n.t("GitHub Active Issue"));const n=this.statusBarItem;n.text=a.l10n.t("{0} Issue {1}","$(issues)",e.map(r=>Uo(r.issue,r.repoDefaults)).join(", ")),n.tooltip=e.map(r=>r.issue.title).join(", "),n.command="issue.statusBar",n.show()}getSavedState(){const e=this.context.workspaceState.get(dd);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var i;return(i=this.getSavedState().issues[`${e}`])!=null?i:{}}async setSavedIssueState(e,i){const n=this.getSavedState();return n.issues[`${e.number}`]={...i,stateModifiedTime:new Date().valueOf()},i.branch&&(n.branches||(n.branches=Object.create(null)),n.branches[i.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(dd,JSON.stringify(n))}}var zw=Object.defineProperty,rl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?zw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const ys=class{constructor(t,e,i){this.stateManager=t,this.manager=e,rl(this,"_gitBlameCache",{}),rl(this,"cachedPrUsers",[]),rl(this,"cachedPrTimelineEvents",[]),rl(this,"cachedForPrNumber")}async provideCompletionItems(t,e,i,n){var r,s,d,y,F;let W=t.getWordRangeAtPosition(e),ie=W?t.getText(W):void 0;if(!W||(ie==null?void 0:ie.charAt(0))!=="@"){const Te=(r=W==null?void 0:W.start)!=null?r:e,Fe=new a.Range(Te.translate(void 0,Te.character?-1:0),e),qe=t.getText(Fe);qe.charAt(0)==="@"&&(W=Fe,ie=qe)}if(t.languageId!=="scminput"&&t.uri.scheme!==Zr&&e.character>0&&n.triggerKind===a.CompletionTriggerKind.Invoke&&(ie==null?void 0:ie.charAt(0))!=="@")return[];if(t.uri.scheme===Zr&&n.triggerKind===a.CompletionTriggerKind.Invoke&&t.getText(new a.Range(e.with(void 0,0),e.with(void 0,so.length)))!==so)return[];if(n.triggerKind===a.CompletionTriggerKind.TriggerCharacter&&a.workspace.getConfiguration(ai).get(Ui,[]).find(Te=>Te===t.languageId))return[];if(!this.isCodeownersFiles(t.uri)&&t.languageId!=="scminput"&&t.languageId!=="git-commit"&&!await sd(t,e))return[];let le=new a.Range(e,e);e.character-1>=0&&W&&(ie==null?void 0:ie.charAt(0))==="@"&&(le=W);let de=t.uri;if(t.uri.scheme===Zr)de=(s=uu(t.uri))!=null?s:t.uri;else if(t.languageId==="scminput")de=tp(t.uri);else if(t.uri.scheme===oi.Comment){const Te=(d=a.window.tabGroups.activeTabGroup.activeTab)==null?void 0:d.input;de=Te instanceof a.TabInputText?Te.uri:Te instanceof a.TabInputTextDiff?Te.modified:void 0}if(!de)return[];const ke=(F=(y=this.manager.getManagerForFile(de))==null?void 0:y.repository.rootUri)!=null?F:de;let Ie=[];const oe=await this.stateManager.getUserMap(ke);oe.forEach(Te=>{const Fe=new $m({label:Te.login,description:Te.name},a.CompletionItemKind.User);Fe.insertText=`@${Te.login}`,Fe.login=Te.login,Fe.uri=ke,Fe.range=le,Fe.detail=Te.name,Fe.filterText=`@ ${Te.login} ${Te.name}`,t.uri.scheme===Zr&&(Fe.commitCharacters=[" ",","]),Ie.push(Fe)});const ye=await this.getCommentSpecificSuggestions(oe,t,e);return ye&&(Ie=Ie.concat(ye)),Ie}isCodeownersFiles(t){const e=this.manager.getManagerForFile(t);if(!e||!C(e.repository.rootUri.fsPath,t.fsPath))return!1;const i=t.path.substring(e.repository.rootUri.path.length).toLowerCase();return!!["/codeowners","/docs/codeowners","/.github/codeowners"].find(r=>r===i)}async resolveCompletionItem(t,e){const i=this.manager.getManagerForFile(t.uri);if(!i)return t;const n=await i.getPullRequestDefaults(),r=await i.resolveUser(n.owner,n.repo,t.login);return r&&(t.documentation=Gm(n,r),t.command={command:"issues.userCompletion",title:a.l10n.t("User Completion Chosen")}),t}async getCommentSpecificSuggestions(t,e,i){try{const n=JSON.parse(e.uri.query);if(e.uri.scheme!==oi.Comment||me(n.extensionId,Ws)!==0)return;const r=e.getWordRangeAtPosition(i,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!r||r.isEmpty)return;const s=a.window.visibleTextEditors;if(!s.length)return;let d,y,F,W;for(const qe of s)if(d=this.manager.getManagerForFile(qe.document.uri),d){if(d.activePullRequest){F=d.activePullRequest.number,W=d.activePullRequest.remote.remoteName;break}else if(qe.document.uri.scheme===oi.Pr){const He=Hn(qe.document.uri);F=He.prNumber,W=He.remoteName;break}}if(!d)return;const ie=d;if(F&&F===this.cachedForPrNumber)return this.cachedPrUsers;let le=[];const de={};let ke={};const Ie=new Promise(async qe=>{if(F&&W){if(f.debug("get Timeline Events and parse users",ys.ID),this.cachedForPrNumber===F)return this.cachedPrTimelineEvents;const He=ie.gitHubRepositories.find(lt=>lt.remote.remoteName===W);if(He){const lt=await He.getPullRequest(F);this.cachedForPrNumber=F,this.cachedPrTimelineEvents=await lt.getTimelineEvents()}le=sg(this.cachedPrTimelineEvents),qe()}qe()}),oe=new Promise(async qe=>{if(s.length)try{f.debug("git blame and parse users",ys.ID);const He=m.resolve(s[0].document.uri.fsPath);let lt;this._gitBlameCache[He]?lt=this._gitBlameCache[He]:(lt=await ie.repository.blame(He),this._gitBlameCache[He]=lt);const mt=lt.split(`
`);for(const Pt of mt){const Ct=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(Pt);if(Ct&&Ct.length===2){const ui=Ct[1].trim();de[ui]=!0}}}catch(He){f.debug(He,ys.ID)}qe()}),ye=new Promise(async qe=>{f.debug("get mentionable users",ys.ID),ke=await ie.getMentionableUsers(),qe()});await Promise.all([Ie,oe,ye]),this.cachedPrUsers=[];const Te={};f.debug("prepare user suggestions",ys.ID),le.forEach(qe=>{Te[qe.login]||(Te[qe.login]=qe)});const Fe={};for(const qe in ke)for(const He of ke[qe])if(!Te[He.login]&&!Fe[He.login]&&!t.get(He.login)){Fe[He.login]=!0;let lt=2;(de[He.login]||He.name&&de[He.name])&&(lt=1),Te[He.login]&&(lt=0);const mt=new $m({label:He.login,description:He.name},a.CompletionItemKind.User);mt.insertText=`@${He.login}`,mt.login=He.login,mt.uri=ie.repository.rootUri,mt.detail=He.name,mt.filterText=`@ ${He.login} ${He.name}`,mt.sortText=`${lt}_${He.login}`,(y==null?void 0:y.document.uri.scheme)===Zr&&(mt.commitCharacters=[" ",","]),this.cachedPrUsers.push(mt)}return f.debug("done",ys.ID),this.cachedPrUsers}catch(n){return[]}}};let dp=ys;rl(dp,"ID","UserCompletionProvider");class Ww{constructor(e,i){this.manager=e,this.telemetry=i}async provideHover(e,i,n){if(!await ep(e,i))return;let r=e.getWordRangeAtPosition(i,td);if(r&&r.start.character>0){r=new a.Range(new a.Position(r.start.line,r.start.character),r.end);const d=e.getText(r).match(td);if(d){const y=d[1];return(e.languageId==="javascript"||e.languageId==="typescript")&&Jd.indexOf(y)>=0||e.languageId==="php"&&Xd.indexOf(y)>=0||(e.languageId==="cpp"||e.languageId==="c"||e.languageId==="csharp"||e.languageId==="java"||e.languageId==="objective-c"||e.languageId==="php")&&yv.indexOf(y)>=0?void 0:this.createHover(e.uri,y,r)}}else return}async createHover(e,i,n){try{const r=this.manager.getManagerForFile(e);if(!r)return;const s=await r.getPullRequestDefaults(),d=await r.resolveUser(s.owner,s.repo,i);return d&&d.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new a.Hover(Gm(s,d),n)):void 0}catch(r){return}}}var Kw=Object.defineProperty,_u=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Kw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const fp="issues.creatingFromFile";class Qw{constructor(e,i,n,r,s){this.gitAPI=e,this.manager=i,this.reviewsManager=n,this.context=r,this.telemetry=s,_u(this,"_stateManager"),_u(this,"_newIssueCache"),_u(this,"createIssueInfo"),_u(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scminput"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"html"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},{language:"typescriptreact"},{language:"yml"},"*"]),this._stateManager=new jw(e,this.manager,this.context),this._newIssueCache=new zy(r)}async initialize(){this.context.subscriptions.push(a.workspace.registerFileSystemProvider(Zr,new Vy(this._newIssueCache))),this.context.subscriptions.push(a.languages.registerCompletionItemProvider({scheme:Zr},new jy(this.manager)," ",","));const e=a.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new xw(this._stateManager,this.manager,this.context)});this.context.subscriptions.push(e),this.context.subscriptions.push(e.onDidCollapseElement(n=>sp(this.context,n.element,!1))),this.context.subscriptions.push(e.onDidExpandElement(n=>sp(this.context,n.element,!0))),this.context.subscriptions.push(a.commands.registerCommand("issue.createIssueFromSelection",(n,r)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(n,r)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyGithubPermalink",n=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(this.manager,n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyGithubHeadLink",n=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLink"),this.copyHeadLink(n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyGithubPermalinkWithoutRange",n=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalinkWithoutRange"),this.copyPermalink(this.manager,n,!1)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyGithubHeadLinkWithoutRange",n=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLinkWithoutRange"),this.copyHeadLink(n,!1)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyGithubDevLinkWithoutRange",n=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkWithoutRange"),this.copyPermalink(this.manager,n,!1,!0,!0)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyGithubDevLink",n=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLink"),this.copyPermalink(this.manager,n,!0,!0,!0)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyGithubDevLinkFile",n=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkFile"),this.copyPermalink(this.manager,n,!1,!0,!0)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyMarkdownGithubPermalink",n=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink(this.manager,n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyMarkdownGithubPermalinkWithoutRange",n=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalinkWithoutRange"),this.copyMarkdownPermalink(this.manager,n,!1)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink(this.manager)),this)),this.context.subscriptions.push(new Uw(this.manager,this.gitAPI)),this.context.subscriptions.push(a.commands.registerCommand("issue.openIssue",n=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(n)))),this.context.subscriptions.push(a.commands.registerCommand("issue.startWorking",n=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",n=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.continueWorking",n=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.startWorkingBranchPrompt",n=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.stopWorking",n=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",n=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.copyIssueNumber",n=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(n)))),this.context.subscriptions.push(a.commands.registerCommand("issue.copyIssueUrl",n=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(n)))),this.context.subscriptions.push(a.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.editQuery",n=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),this.editQuery(n)),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this.context.subscriptions.push(a.commands.registerCommand("issue.createIssueFromFile",async()=>{this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),await a.commands.executeCommand("setContext",fp,!0),await this.createIssueFromFile(),await a.commands.executeCommand("setContext",fp,!1)},this)),this.context.subscriptions.push(a.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this.context.subscriptions.push(a.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this.context.subscriptions.push(a.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this.context.subscriptions.push(a.commands.registerCommand("issue.goToLinkedCode",async n=>pw(n,this.manager)));const i=Rm();this.context.subscriptions.push(a.commands.registerCommand("issue.chatSummarizeIssue",n=>{if(n instanceof ir||n instanceof Gr)if(this.telemetry.sendTelemetryEvent("issue.chatSummarizeIssue"),n instanceof ir)Vi.executeCommand(i,a.l10n.t("@githubpr Summarize issue {0}/{1}#{2}",n.remote.owner,n.remote.repositoryName,n.number));else{const r=n.pullRequestModel,s=r.githubRepository.remote;Vi.executeCommand(i,a.l10n.t("@githubpr Summarize PR {0}/{1}#{2}",s.owner,s.repositoryName,r.number))}})),this.context.subscriptions.push(a.commands.registerCommand("issue.chatSuggestFix",n=>{n instanceof ir&&(this.telemetry.sendTelemetryEvent("issue.chatSuggestFix"),Vi.executeCommand(i,a.l10n.t("@githubpr Find a fix for issue {0}/{1}#{2}",n.remote.owner,n.remote.repositoryName,n.number)))})),this._stateManager.tryInitializeAndWait().then(()=>{this.registerCompletionProviders(),this.context.subscriptions.push(a.languages.registerHoverProvider("*",new Pw(this.manager,this._stateManager,this.context,this.telemetry))),this.context.subscriptions.push(a.languages.registerHoverProvider("*",new Ww(this.manager,this.telemetry))),this.context.subscriptions.push(a.languages.registerCodeActionsProvider("*",new Ow(this.context),{providedCodeActionKinds:[a.CodeActionKind.QuickFix]}))})}dispose(){}registerCompletionProviders(){const e=[{provider:Mw,trigger:"#",disposable:void 0,configuration:`${Mi}.${Wi}`},{provider:dp,trigger:"@",disposable:void 0,configuration:`${xi}.${Wi}`}];for(const i of e)a.workspace.getConfiguration(ai).get(i.configuration,!0)&&this.context.subscriptions.push(i.disposable=a.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));this.context.subscriptions.push(a.workspace.onDidChangeConfiguration(i=>{for(const n of e)if(i.affectsConfiguration(`${ai}.${n.configuration}`)){const r=a.workspace.getConfiguration(ai).get(n.configuration,!0);!r&&n.disposable?(n.disposable.dispose(),n.disposable=void 0):r&&!n.disposable&&this.context.subscriptions.push(n.disposable=a.languages.registerCompletionItemProvider(this.documentFilters,new n.provider(this._stateManager,this.manager,this.context),n.trigger));break}}))}async createIssue(){var e;let i=(e=a.window.activeTextEditor)==null?void 0:e.document.uri,n=i?this.manager.getManagerForFile(i):void 0;if(n||(n=await this.chooseRepo(a.l10n.t("Select the repo to create the issue in.")),i=n==null?void 0:n.repository.rootUri),!n||!i)return;const r=await this.chooseTemplate(n);this._newIssueCache.clear(),r&&this.makeNewIssueFile(i,r.title,r.body)}async createIssueFromFile(){var e,i,n,r;const s=await Wy(this.manager);if(!s||!a.window.activeTextEditor)return;const d=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(i=this.createIssueInfo)==null?void 0:i.newIssue,s.title,s.body,s.assignees,s.labels,s.milestone,s.projects,(n=this.createIssueInfo)==null?void 0:n.lineNumber,(r=this.createIssueInfo)==null?void 0:r.insertIndex,s.originUri);this.createIssueInfo=void 0,d&&(await a.commands.executeCommand("workbench.action.closeActiveEditor"),this._newIssueCache.clear())}async editQuery(e){const i=a.workspace.getConfiguration(ai,null),n=i.inspect(Ji);let r;if(n==null?void 0:n.workspaceValue)r="workbench.action.openWorkspaceSettingsFile";else{const d=i.get(Ji);(n==null?void 0:n.defaultValue)&&JSON.stringify(n==null?void 0:n.defaultValue)===JSON.stringify(d)&&i.update(Ji,n.defaultValue,a.ConfigurationTarget.Global),r="workbench.action.openSettingsJson"}await a.commands.executeCommand(r);const s=a.window.activeTextEditor;if(s){const y=s.document.getText().search(e.queryLabel);if(y>=0){const F=s.document.positionAt(y);s.revealRange(new a.Range(F,F)),s.selection=new a.Selection(F,F)}}}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await a.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),a.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof ir)return a.env.openExternal(a.Uri.parse(e.html_url))}async doStartWorking(e,i,n){let r=e,s=i.githubRepository,d=i.remote;if(!r){if(r=await this.chooseRepo(a.l10n.t("Choose which repository you want to work on this isssue in.")),!r)return;s=await r.getOrigin(),d=s.remote}const y=await r.findUpstreamForItem({githubRepository:s,remote:d});y.needsFork&&await r.tryOfferToFork(s)===void 0||await this._stateManager.setCurrentIssue(r,new Em(i,r,this._stateManager,y.remote,n),!0)}async startWorking(e){if(e instanceof ir)return this.doStartWorking(this.manager.getManagerForIssueModel(e),e);if(e instanceof a.Uri){const i=e.toString().match(hs),n=Us(i),r=this.manager.folderManagers.find(s=>s.gitHubRepositories.find(d=>d.remote.owner===(n==null?void 0:n.owner)&&d.remote.repositoryName===n.name));if(n&&r){const s=await Hm(this._stateManager,r,e.toString(),n);if(s)return this.doStartWorking(r,s)}}}async startWorkingBranchPrompt(e){e instanceof ir&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var i;let n=this.manager.getManagerForIssueModel(e);!n&&(n=await this.chooseRepo(a.l10n.t("Choose which repository you want to stop working on this issue in.")),!n)||e instanceof ir&&((i=this._stateManager.currentIssue(n.repository.rootUri))==null?void 0:i.issue.number)===e.number&&await this._stateManager.setCurrentIssue(n,void 0,!0)}async statusBarActions(e){const i=a.l10n.t("{0} Open #{1} {2}","$(globe)",e.issue.number,e.issue.title),n=a.l10n.t({message:"{0} Create pull request for #{1} (pushes branch)",args:["$(git-pull-request)",e.issue.number],comment:["The first placeholder is an icon and shouldn't be localized","The second placeholder is the ID number of a GitHub Issue."]});let r;try{r=await e.manager.getPullRequestDefaults()}catch(F){}const s=a.l10n.t("{0} Stop working on #{1}","$(primitive-square)",e.issue.number),d=e.branchName&&r?[i,n,s]:[i,n,s];switch(await a.window.showQuickPick(d,{placeHolder:a.l10n.t("Current issue options")})){case i:return this.openIssue(e.issue);case n:{const F=Or.getReviewManagerForFolderManager(this.reviewsManager.reviewManagers,e.manager);if(F)return Nw(e.manager,F,this._stateManager);break}case s:return this._stateManager.setCurrentIssue(e.manager,void 0,!0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const i=e.map(r=>({label:a.l10n.t("#{0} from {1}",r.issue.number,`${r.issue.githubRepository.remote.owner}/${r.issue.githubRepository.remote.repositoryName}`),currentIssue:r})),n=await a.window.showQuickPick(i);if(n)return this.statusBarActions(n.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof ir)return a.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof ir)return a.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await a.env.clipboard.readText())}async createTodoIssueBody(e,i){var n;if(i||(e==null?void 0:e.document.isUntitled))return i;let r="";if(e){const s=this.manager.getManagerForFile(e.document.uri);if(((n=s==null?void 0:s.repository)==null?void 0:n.state.workingTreeChanges.find(y=>y.uri.toString()===e.document.uri.toString()))&&(r=`\`\`\`
${e.line}
\`\`\`

`),s){const y=s.gitRelativeRootPath(e.document.uri.path);r+=a.l10n.t(`In file {0}
`,y)}}return r+=(await nd(this.manager,this.gitAPI,!0,!0,e)).permalink,r}async createTodoIssue(e,i){let n,r,s,d,y,F;if(!e&&a.window.activeTextEditor)n=a.window.activeTextEditor.document,F=n.getText(a.window.activeTextEditor.selection);else if(e)n=e.document,s=e.insertIndex,d=e.lineNumber,r=e.line.substring(s,e.line.length).trim(),F=n.getText(e.range.isEmpty?n.lineAt(e.range.start.line).range:e.range);else return;const W=F.match(td);W&&W.length===2&&(await this._stateManager.getUserMap(n.uri)).has(W[1])&&(y=[W[1]]);let ie;const le=await this.createTodoIssueBody(e,i),de=a.window.createInputBox();de.value=r!=null?r:"",de.prompt=a.l10n.t("Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description."),de.title=a.l10n.t("Create Issue"),de.buttons=[{iconPath:new a.ThemeIcon("edit"),tooltip:a.l10n.t("Edit Description")}],de.onDidAccept(async()=>{ie=de.value,ie&&(de.busy=!0,await this.doCreateIssue(n,e,ie,le,y,void 0,void 0,void 0,d,s),de.busy=!1),de.hide()}),de.onDidTriggerButton(async()=>{ie=de.value,de.busy=!0,this.createIssueInfo={document:n,newIssue:e,lineNumber:d,insertIndex:s},this.makeNewIssueFile(n.uri,ie,le,y),de.busy=!1,de.hide()}),de.show()}async makeNewIssueFile(e,i,n,r){const s=`?{"origin":"${e.toString()}"}`,d=a.Uri.parse(`${Zr}:/${Gy}${s}`);if(a.window.visibleTextEditors.filter(qe=>qe.document.uri.scheme===Zr).length>0)return;await a.workspace.fs.delete(d);const y=`${so} ${r&&r.length>0?r.map(qe=>"@"+qe).join(", ")+" ":""}`,F=`${oo} `,W=`${il} `,ie=`${lo} `,le=this._newIssueCache.get(),de=le&&le!==""?le:`${i!=null?i:a.l10n.t("Issue Title")}

${y}
${F}
${W}
${ie}

${n!=null?n:""}

<!-- ${a.l10n.t('Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue.')} -->`;await a.workspace.fs.writeFile(d,this.stringToUint8Array(de));const ke=a.window.createTextEditorDecorationType({after:{contentText:a.l10n.t(" Comma-separated usernames, either @username or just username."),fontStyle:"italic",color:new a.ThemeColor("issues.newIssueDecoration")}}),Ie=a.window.createTextEditorDecorationType({after:{contentText:a.l10n.t(" Comma-separated labels."),fontStyle:"italic",color:new a.ThemeColor("issues.newIssueDecoration")}}),oe=a.window.createTextEditorDecorationType({after:{contentText:a.l10n.t(" Comma-separated projects."),fontStyle:"italic",color:new a.ThemeColor("issues.newIssueDecoration")}}),ye=a.window.onDidChangeActiveTextEditor(qe=>{if((qe==null?void 0:qe.document.uri.scheme)===Zr){const He=qe.document.lineAt(2);He.text.startsWith(so)&&qe.setDecorations(ke,[new a.Range(new a.Position(2,0),new a.Position(2,He.text.length))]);const lt=qe.document.lineAt(3);lt.text.startsWith(oo)&&qe.setDecorations(Ie,[new a.Range(new a.Position(3,0),new a.Position(3,lt.text.length))]);const mt=qe.document.lineAt(5);mt.text.startsWith(lo)&&qe.setDecorations(oe,[new a.Range(new a.Position(5,0),new a.Position(5,mt.text.length))])}}),Te=await a.window.showTextDocument(d),Fe=a.workspace.onDidCloseTextDocument(qe=>{qe===Te.document&&(ye.dispose(),Fe.dispose())})}async verifyLabels(e,i){var n;if(!i.labels)return!0;const r=(await e.getLabels(void 0,i)).map(y=>y.name),s=[],d=[];if((n=i.labels)==null||n.forEach(y=>{let F=typeof y=="string"?y:y.name;!F||(r.includes(F)?d.push(F):s.push(F))}),s.length>0){const y=a.l10n.t("Yes"),F=a.l10n.t("No");switch(await a.window.showInformationMessage(a.l10n.t(`The following labels don't exist in this repository: {0}. 
Do you want to create these labels?`,s.join(", ")),{modal:!0},y,F)){case y:return!0;case F:return i.labels=d,!0;default:return!1}}return!0}async chooseRepo(e){const i=[];for(const r of this.manager.folderManagers)try{const s=await r.getPullRequestDefaults();i.push({label:`${s.owner}/${s.repo}`,repo:r})}catch(s){}if(i.length===0)return;if(i.length===1)return i[0].repo;const n=await a.window.showQuickPick(i,{placeHolder:e});return n==null?void 0:n.repo}async chooseTemplate(e){const i=await e.getIssueTemplates();if(i.length===0)return{title:void 0,body:void 0};const r=(await Promise.all(i.map(async d=>{try{const y=await a.workspace.fs.readFile(d),F=new TextDecoder("utf-8").decode(y);return this.getDataFromTemplate(F)}catch(y){f.warn(`Reading issue template failed: ${y}`);return}}))).filter(d=>!!d&&!!(d==null?void 0:d.name)).map(d=>({label:d.name,description:d.about,template:d}));r.push({label:a.l10n.t("Blank issue"),template:{title:void 0,body:void 0}});const s=await a.window.showQuickPick(r,{placeHolder:a.l10n.t("Select a template for the new issue.")});return s==null?void 0:s.template}getDataFromTemplate(e){var i,n,r,s,d,y,F;const W=(n=(i=e.match(/title:\s*(.*)/))==null?void 0:i[1])==null?void 0:n.replace(/^["']|["']$/g,""),ie=(s=(r=e.match(/name:\s*(.*)/))==null?void 0:r[1])==null?void 0:s.replace(/^["']|["']$/g,""),le=(y=(d=e.match(/about:\s*(.*)/))==null?void 0:d[1])==null?void 0:y.replace(/^["']|["']$/g,""),de=(F=e.match(/---([\s\S]*)---([\s\S]*)/))==null?void 0:F[2];return{title:W,name:ie,about:le,body:de}}async doCreateIssue(e,i,n,r,s,d,y,F,W,ie,le){let de,ke;return e?ke=this.manager.getManagerForFile(e.uri):le&&(ke=this.manager.getManagerForFile(le)),ke||(ke=await this.chooseRepo(a.l10n.t("Choose where to create the issue."))),a.window.withProgress({location:a.ProgressLocation.Notification,title:a.l10n.t("Creating issue")},async Ie=>{if(!ke)return!1;Ie.report({message:a.l10n.t("Verifying that issue data is valid...")});try{de=await ke.getPullRequestDefaults()}catch(Fe){return a.window.showErrorMessage(a.l10n.t("There is no remote. Can't create an issue.")),!1}const oe=r||(i==null?void 0:i.document.isUntitled)?r:(await nd(this.manager,this.gitAPI,!0,!0,i)).permalink,ye={owner:de.owner,repo:de.repo,title:n,body:oe,assignees:s,labels:d,milestone:y};if(!await this.verifyLabels(ke,ye))return!1;Ie.report({message:a.l10n.t("Creating issue in {0}...",`${ye.owner}/${ye.repo}`)});const Te=await ke.createIssue(ye);if(Te){if(F&&await Te.updateProjects(F),e!==void 0&&ie!==void 0&&W!==void 0){const Fe=new a.WorkspaceEdit,qe=a.workspace.getConfiguration(ai).get(Ni,"number")==="number"?`#${Te.number}`:Te.html_url;Fe.insert(e.uri,new a.Position(W,ie),` ${qe}`),await a.workspace.applyEdit(Fe)}else{const Fe=a.l10n.t("Copy Issue Link"),qe=a.l10n.t({message:"Open Issue",comment:"Open the issue description in the browser to see it's full contents."});a.window.showInformationMessage(a.l10n.t("Issue created"),Fe,qe).then(async He=>{switch(He){case Fe:await a.env.clipboard.writeText(Te.html_url);break;case qe:await a.env.openExternal(a.Uri.parse(Te.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1})}async getPermalinkWithError(e,i,n,r){const s=await nd(e,this.gitAPI,i,n,void 0,r);return s.error&&a.window.showWarningMessage(a.l10n.t("Unable to create a GitHub permalink for the selection. {0}",s.error)),s}async getHeadLinkWithError(e,i){const n=await Cw(this.manager,e,i);return n.error&&a.window.showWarningMessage(a.l10n.t("Unable to create a GitHub link for the selection. {0}",n.error)),n}async getContextualizedLink(e,i){let n;try{n=await a.env.asExternalUri(e)}catch(y){return i}const r=n.scheme==="https"&&/^(insiders\.vscode|vscode|github)\./.test(n.authority)?n.authority:void 0;if(!r)return i;const s=a.Uri.parse(i),d=/^(github)\./.test(n.authority)?s.path:`/github${s.path}`;return s.with({authority:r,path:d}).toString()}async copyPermalink(e,i,n=!0,r=!0,s=!1){const d=await this.getPermalinkWithError(e,n,r,i);if(d.permalink){const y=s&&d.originalFile?await this.getContextualizedLink(d.originalFile,d.permalink):d.permalink;return f.debug(`writing ${y} to the clipboard`,co),a.env.clipboard.writeText(y)}}async copyHeadLink(e,i=!0){const n=await this.getHeadLinkWithError(e,i);if(n.permalink)return a.env.clipboard.writeText(n.permalink)}getMarkdownLinkText(){if(!a.window.activeTextEditor)return;let e=a.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new a.Range(e.start,new a.Position(e.start.line+1,0)));const i=a.window.activeTextEditor.document.getText(e);if(i)return i;if(e=a.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return a.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(e,i,n=!0){const r=await this.getPermalinkWithError(e,n,!0,i),s=this.getMarkdownLinkText();if(r.permalink&&s)return a.env.clipboard.writeText(`[${s.trim()}](${r.permalink})`)}async openPermalink(e){const i=await this.getPermalinkWithError(e,!0,!0);if(i.permalink)return a.env.openExternal(a.Uri.parse(i.permalink))}}var ku=ni(60937);class Yw extends ku.PromptElement{render(){return vscpp(vscppf,null,vscpp(ku.AssistantMessage,null,"Instructions:",vscpp("br",null),"- The user will ask a question related to GitHub, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question.",vscpp("br",null),"- If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have.",vscpp("br",null),"- Don't ask the user for confirmation to use tools, just use them.",vscpp("br",null),"- When talking about issues, be as concise as possible while still conveying all the information you need to. Avoid mentioning the following:",vscpp("br",null),"- The fact that there are no comments.",vscpp("br",null),"- Any info that seems like template info."),vscpp(ku.UserMessage,null,this.props.userMessage))}}const hp="TOOL_MARKDOWN_RESULT",mp="TOOL_COMMAND_RESULT";class pp{constructor(e){this.chatParticipantState=e}}async function ws(t){let e="";for await(const i of t)e+=i;return e}class al extends pp{constructor(e,i,n){super(n);this.credentialStore=e,this.repositoriesManager=i}async getRepoInfo(e){let i,n,r;if(e.owner&&e.name&&!e.owner.includes("owner")&&!e.name.includes("name")&&(i=e.owner,n=e.name,r=this.repositoriesManager.getManagerForRepository(e.owner,e.name)),!r&&this.repositoriesManager.folderManagers.length>0)if(r=this.repositoriesManager.folderManagers[0],i&&n)await r.createGitHubRepositoryFromOwnerName(i,n);else{const s=await r.getPullRequestDefaults();s?(i=s.owner,n=s.repo):(i=r.gitHubRepositories[0].remote.owner,n=r.gitHubRepositories[0].remote.repositoryName)}if(!r||!i||!n)throw new Error(`No repository found for ${i}/${n}. Make sure to have the repository open.`);return{owner:i,name:n,folderManager:r}}getGitHub(){let e;return this.credentialStore.isAuthenticated(ki.githubEnterprise)&&aa()?e=ki.githubEnterprise:this.credentialStore.isAuthenticated(ki.github)&&(e=ki.github),e!==void 0?this.credentialStore.getHub(e):void 0}}var Jw=Object.defineProperty,vp=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Jw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Xw{constructor(){vp(this,"_messages",[])}get lastToolResult(){for(let e=this._messages.length-1;e>=0;e--){const i=this._messages[e];for(const n of i.content)if(n instanceof a.LanguageModelToolResultPart)return i.content}return[]}get firstUserMessage(){for(let e=0;e<this._messages.length;e++){const i=this._messages[e];if(i.role===a.LanguageModelChatMessageRole.User&&i.content){for(const n of i.content)if(n instanceof a.LanguageModelTextPart)return n}}}get messages(){return this._messages}addMessage(e){this._messages.push(e)}addMessages(e){this._messages.push(...e)}reset(){this._messages=[]}}class Zw{constructor(e,i){this.state=i,vp(this,"disposables",[]);const n=a.chat.createChatParticipant("githubpr",(r,s,d,y)=>this.handleParticipantRequest(r,s,d,y));n.iconPath=a.Uri.joinPath(e.extensionUri,"resources/icons/github_logo.png"),this.disposables.push(n)}dispose(){j(this.disposables)}async handleParticipantRequest(e,i,n,r){this.state.reset();const d=(await a.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],y=a.lm.tools.map(ke=>{var Ie;return{name:ke.name,description:ke.description,inputSchema:(Ie=ke.inputSchema)!=null?Ie:{}}}),{messages:F}=await(0,ku.renderPrompt)(Yw,{userMessage:e.prompt},{modelMaxPromptTokens:d.maxInputTokens},d);this.state.addMessages(F);const W=[...e.toolReferences],ie={justification:"Answering user questions pertaining to GitHub."},le=[],de=async()=>{const ke=W.shift();ke?(ie.toolMode=a.LanguageModelChatToolMode.Required,ie.tools=y.filter(ye=>ye.name===ke.name)):(ie.toolMode=void 0,ie.tools=y);const Ie=[],oe=await d.sendRequest(this.state.messages,ie,r);for await(const ye of oe.stream)if(ye instanceof a.LanguageModelTextPart)n.markdown(ye.value);else if(ye instanceof a.LanguageModelToolCallPart){const Te=a.lm.tools.find(He=>He.name===ye.name);if(!Te)throw new Error("Got invalid tool choice: "+ye.name);let Fe;try{Fe=ye.input}catch(He){throw new Error(`Got invalid tool use parameters: "${JSON.stringify(ye.input)}". (${He.message})`)}const qe={input:Fe,toolInvocationToken:e.toolInvocationToken};Ie.push({call:ye,result:a.lm.invokeTool(Te.name,qe,r),tool:Te})}if(Ie.length){const ye=a.LanguageModelChatMessage.Assistant("");ye.content=Ie.map(Fe=>new a.LanguageModelToolCallPart(Fe.call.callId,Fe.tool.name,Fe.call.input)),this.state.addMessage(ye);let Te=!1;for(const Fe of Ie){let qe=await Fe.result;const He=[];let lt;for(let Pt=0;Pt<qe.content.length;Pt++){const Ct=qe.content[Pt];if(!(Ct instanceof a.LanguageModelTextPart)){lt=new a.LanguageModelToolResultPart(Fe.call.callId,qe.content);continue}if(Ct.value===hp){const ui=new a.MarkdownString(qe.content[++Pt].value);ui.supportHtml=!0,n.markdown(ui),Te=!0}else Ct.value===mp?le.push(JSON.parse(qe.content[++Pt].value)):lt?He.push(Ct):lt=new a.LanguageModelToolResultPart(Fe.call.callId,[Ct])}const mt=a.LanguageModelChatMessage.User("");if(mt.content=[lt],this.state.addMessage(mt),He.length){const Pt=a.LanguageModelChatMessage.User("");Pt.content=He,this.state.addMessage(Pt)}}return this.state.addMessage(a.LanguageModelChatMessage.User(`Above is the result of calling the functions ${Ie.map(Fe=>Fe.tool.name).join(", ")}. ${Te?"The user can see the result of the tool call.":""}`)),de()}};await de(),this.addButtons(n,le)}addButtons(e,i){for(const n of i)e.button(n)}}var e_=Object.defineProperty,gp=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?e_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const t_=`Instructions:
You are an expert on GitHub issues. You can help the user identify the most important columns for rendering issues based on a query for issues. Include a column related to the sort value, if given. Output a newline separated list of columns only, max 4 columns. List the columns in the order they should be displayed. Don't change the casing. Here are the possible columns:
`,fd=class extends pp{constructor(t){super(t)}assistantPrompt(t){const e=Object.keys(t[0]);return`${t_}
${e.map(i=>`- ${i}`).join(`
`)}
Here's the data you have about the issues:
`}postProcess(t,e){const i=t.split(`
`),n=Object.keys(e[0]),r=[];for(let s of i)if(s=s.trim(),s!=="")if(n.includes(s))r.push(s);else{const d=s.split(" ");if(d.length>1){const y=d[d.length-1];n.includes(y)&&r.push(y)}}return r}async getImportantColumns(t,e,i){if(!t)return["number","title","state"];const r=(await a.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],s={justification:"Answering user questions pertaining to GitHub."},d=[a.LanguageModelChatMessage.Assistant(this.assistantPrompt(e))];d.push(new a.LanguageModelChatMessage(a.LanguageModelChatMessageRole.User,t==null?void 0:t.value));const y=await r.sendRequest(d,s,i),F=this.postProcess(await ws(y.text),e),W=F.indexOf("url");return F.length===0?["number","title","state"]:(W>=0&&F.splice(W,1),F)}renderUser(t){return`[@${ta(t)}](${t.url})`}issueToRow(t,e){return`| ${e.map(i=>{var n;switch(i){case"number":return`[${t[i]}](${t.url})`;case"labels":return t[i].map(r=>Hf(r)).join(", ");case"assignees":return(n=t[i])==null?void 0:n.map(r=>this.renderUser(r)).join(", ");case"author":return this.renderUser(t[i]);case"createdAt":case"updatedAt":return new Date(t[i]).toLocaleDateString();case"milestone":return t[i];default:return t[i]}}).join(" | ")} |`}foundIssuesCount(t){return t.totalIssues!==void 0?t.totalIssues:t.arrayOfIssues.length}async prepareInvocation(t){const e=10,i=this.foundIssuesCount(t.input),n=Math.min(e,i);return n===0?{invocationMessage:a.l10n.t("No issues found")}:n<i?{invocationMessage:a.l10n.t("Found {0} issues. Generating a markdown table of the first {1}",i,n)}:{invocationMessage:a.l10n.t("Found {0} issues. Generating a markdown table",i)}}async invoke(t,e){const i=this.chatParticipantState.firstUserMessage,n=t.input.arrayOfIssues;if(n.length===0)return new a.LanguageModelToolResult([new a.LanguageModelTextPart(a.l10n.t("No issues found. Please try another query."))]);f.debug(`Displaying ${this.foundIssuesCount(t.input)} issues, first issue ${n[0].number}`,fd.ID);const r=await this.getImportantColumns(i,n,e),s=`| ${r.join(" | ")} |`;f.debug(`Columns ${s} issues`,fd.ID);const d=`| ${r.map(()=>"---").join(" | ")} |
`,y=new a.MarkdownString(s);return y.supportHtml=!0,y.appendMarkdown(`
`),y.appendMarkdown(d),y.appendMarkdown(n.slice(0,10).map(F=>this.issueToRow(F,r)).join(`
`)),new a.LanguageModelToolResult([new a.LanguageModelTextPart(hp),new a.LanguageModelTextPart(y.value),new a.LanguageModelTextPart("The issues have been shown to the user. Simply say that you've already displayed the issue or first 10 issues.")])}};let Su=fd;gp(Su,"toolId","github-pull-request_renderIssues"),gp(Su,"ID","DisplayIssuesTool");var i_=Object.defineProperty,n_=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?i_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class hd extends al{async invoke(e,i){var n,r,s,d;const{owner:y,name:F,folderManager:W}=await this.getRepoInfo({owner:(n=e.input.repo)==null?void 0:n.owner,name:(r=e.input.repo)==null?void 0:r.name}),ie=await W.resolveIssueOrPullRequest(y,F,e.input.issueNumber);if(!ie)throw new Error(`No issue or PR found for ${y}/${F}/${e.input.issueNumber}. Make sure the issue or PR exists.`);const le={owner:y,repo:F,title:ie.title,body:ie.body,comments:(d=(s=ie.item.comments)==null?void 0:s.map(de=>({body:de.body,author:de.author.login})))!=null?d:[]};if(ie instanceof rr&&ie.isResolved()){const de=await ie.getFileChangesInfo(),ke=[];for(const Ie of de)Ie instanceof pi&&ke.push({fileName:Ie.fileName,patch:Ie.patch});le.fileChanges=ke}return new a.LanguageModelToolResult([new a.LanguageModelTextPart(JSON.stringify(le)),new a.LanguageModelTextPart("Above is a stringified JSON representation of the issue or pull request. This can be passed to other tools for further processing.")])}async prepareInvocation(e){var i,n;if(!e.input.issueNumber)return{invocationMessage:a.l10n.t("Fetching item from GitHub")};const{owner:r,name:s}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(n=e.input.repo)==null?void 0:n.name}),d=r&&s?`https://github.com/${r}/${s}/issues/${e.input.issueNumber}`:void 0;return{invocationMessage:d?a.l10n.t("Fetching item [#{0}]({1}) from GitHub",e.input.issueNumber,d):a.l10n.t("Fetching item #{0} from GitHub",e.input.issueNumber)}}}n_(hd,"toolId","github-pull-request_issue_fetch");var r_=Object.defineProperty,a_=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?r_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class md extends al{async prepareInvocation(e){return{invocationMessage:a.l10n.t("Fetching notification from GitHub")}}async invoke(e,i){var n,r;const s=this.getGitHub();if(!s)return;const d=e.input.thread_id,F=(await s.octokit.api.activity.getThread({thread_id:d})).data,W=F.subject.url.split("/").pop();if(W===void 0)return;const ie=F.updated_at,le=(n=F.last_read_at)!=null?n:void 0,de=F.unread,ke=F.repository.owner.login,Ie=F.repository.name,{folderManager:oe}=await this.getRepoInfo({owner:ke,name:Ie}),ye=await oe.resolveIssueOrPullRequest(ke,Ie,Number(W));if(!ye)throw new Error(`No notification found with thread ID #${d}.`);const Te=ye instanceof rr?"pr":"issue",Fe=Lf(ke,Ie,String(ye.number)),qe=(r=ye.item.comments)!=null?r:[];let He;le!==void 0&&qe?He=qe.filter(mt=>mt.createdAt>le).map(mt=>({body:mt.body,author:mt.author.login})):He=qe.map(mt=>({body:mt.body,author:mt.author.login}));const lt={lastReadAt:le,lastUpdatedAt:ie,unread:de,comments:He,threadId:d,notificationKey:Fe,title:ye.title,body:ye.body,owner:ke,repo:Ie,itemNumber:W,itemType:Te};if(ye instanceof rr){const mt=await ye.getFileChangesInfo(),Pt=[];for(const Ct of mt)Ct instanceof pi&&Pt.push({fileName:Ct.fileName,patch:Ct.patch});lt.fileChanges=Pt}return new a.LanguageModelToolResult([new a.LanguageModelTextPart(JSON.stringify(lt)),new a.LanguageModelTextPart("Above is a stringified JSON representation of the notification. This can be passed to other tools for further processing or display.")])}}a_(md,"toolId","github-pull-request_notification_fetch");var s_=Object.defineProperty,Ru=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?s_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),ua;(function(t){t.is="is",t.type="type",t.state="state",t.in="in",t.linked="linked",t.status="status",t.draft="draft",t.review="review",t.no="no"})(ua||(ua={}));const bp={is:{possibleValues:["issue","pr","draft","public","private","locked","unlocked"]},assignee:{valueDescription:"A GitHub user name or @me"},author:{valueDescription:"A GitHub user name or @me"},mentions:{valueDescription:"A GitHub user name or @me"},team:{valueDescription:"A GitHub user name"},commenter:{valueDescription:"A GitHub user name or @me"},involves:{valueDescription:"A GitHub user name or @me"},label:{valueDescription:"A GitHub issue/pr label"},type:{possibleValues:["pr","issue"]},state:{possibleValues:["open","closed","merged"]},in:{possibleValues:["title","body","comments"]},user:{valueDescription:"A GitHub user name or @me"},org:{valueDescription:"A GitHub org, without the repo name"},repo:{valueDescription:"A GitHub repo, without the org name"},linked:{possibleValues:["pr","issue"]},milestone:{valueDescription:"A GitHub milestone"},project:{valueDescription:"A GitHub project"},status:{possibleValues:["success","failure","pending"]},head:{valueDescription:"A git commit sha or branch name"},base:{valueDescription:"A git commit sha or branch name"},comments:{valueDescription:"A number"},interactions:{valueDescription:"A number"},reactions:{valueDescription:"A number"},draft:{possibleValues:["true","false"]},review:{possibleValues:["none","required","approved","changes_requested"]},reviewedBy:{valueDescription:"A GitHub user name or @me"},reviewRequested:{valueDescription:"A GitHub user name or @me"},userReviewRequested:{valueDescription:"A GitHub user name or @me"},teamReviewRequested:{valueDescription:"A GitHub user name"},created:{valueDescription:"A date, with an optional < >"},updated:{valueDescription:"A date, with an optional < >"},closed:{valueDescription:"A date, with an optional < >"},no:{possibleValues:["label","milestone","assignee","project"]},sort:{possibleValues:["updated","updated-asc","interactions","interactions-asc","author-date","author-date-asc","committer-date","committer-date-asc","reactions","reactions-asc","reactions-(+1, -1, smile, tada, heart)"]}},pd=/(?!\B"[^"]*)\s+(?![^"]*"\B)/,yp=class extends al{async fullQueryAssistantPrompt(t){var e,i,n,r;const s=(r=(n=(e=t.activePullRequest)==null?void 0:e.remote)!=null?n:(i=t.activeIssue)==null?void 0:i.remote)!=null?r:(await t.getPullRequestDefaultRepo()).remote;return`Instructions:
You are an expert on GitHub issue search syntax. GitHub issues are always software engineering related. You can help the user convert a natural language query to a query that can be used to search GitHub issues. Here are some rules to follow:
- Always try to include "repo:" or "org:" in your response.
- "repo" is often formated as "owner/name". If needed, the current repo is ${s.owner}/${s.repositoryName}.
- Ignore display information.
- Respond with only the query.
- Always include a "sort:" parameter. If multiple sorts are possible, choose the one that the user requested.
- Always include a property with the @me value if the query includes "me" or "my".
- Here are some examples of valid queries:
	- repo:microsoft/vscode is:issue state:open sort:updated-asc
	- mentions:@me org:microsoft is:issue state:open sort:updated
	- assignee:@me milestone:"October 2024" is:open is:issue sort:reactions
	- comments:>5 org:contoso is:issue state:closed mentions:@me label:bug
	- interactions:>5 repo:contoso/cli is:issue state:open
	- repo:microsoft/vscode-python is:issue sort:updated -assignee:@me
	- repo:contoso/cli is:issue sort:updated no:milestone
- Go through each word of the natural language query and try to match it to a syntax component.
- Use a "-" in front of a syntax component to indicate that it should be "not-ed".
- Use the "no" syntax component to indicate that a property should be empty.
- As a reminder, here are the components of the query syntax:
	${JSON.stringify(bp)}
`}async labelsAssistantPrompt(t,e){return`Instructions:
You are an expert on choosing search keywords based on a natural language search query. Here are some rules to follow:
- Choose labels based on what the user wants to search for, not based on the actual words in the query.
- The user might include info on how they want their search results to be displayed. Ignore all of that.
- Labels will be and-ed together, so don't pick a bunch of super specific labels.
- Try to pick just one label.
- Respond with a space-separated list of labels: Examples: 'bug polish', 'accessibility "feature accessibility"'
- Only choose labels that you're sure are relevant. Having no labels is preferable than lables that aren't relevant.
- Don't choose labels that the user has explicitly excluded.
- Respond with label names chosen from this JSON array of options:
${JSON.stringify(e.filter(i=>!i.name.includes("required")&&!i.name.includes("search")&&!i.name.includes("question")&&!i.name.includes("find")).map(i=>({name:i.name,description:i.description})))}
`}freeFormAssistantPrompt(){return`Instructions:
You are getting ready to make a GitHub search query. Given a natural language query, you should find any key words that might be good for searching:
- Only include a max of 1 key word that is relevant to the search query.
- Don't refer to issue numbers.
- Don't refer to product names.
- Don't include any key words that might be related to display or rendering.
- Respond with only your chosen key word.
- It's better to return no keywords than to return irrelevant keywords.
- If an issue is provided, choose a keyword that names the feature or bug that the issue is about.
- Don't include key words or concepts that are already covered by labels.
`}freeFormUserPrompt(t,e){return`I've already included the following labels: [${t.join(", ")}]. The best search keywords in "${e}" are:`}labelsUserPrompt(t){return`The following labels are most appropriate for "${t}":`}fullQueryUserPrompt(t){t=t.replace(/\b(me|my)\b/,i=>i.toUpperCase());const e=new Date;return`Pretend today's date is ${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}, but only include it if needed. How should this be converted to a GitHub issue search query? ${t}`}validateSpecificQueryPart(t,e){switch(t){case ua.is:return e==="issue"||e==="pr"||e==="draft"||e==="public"||e==="private"||e==="locked"||e==="unlocked";case ua.type:return e==="pr"||e==="issue";case ua.state:return e==="open"||e==="closed"||e==="merged";case ua.in:return e==="title"||e==="body"||e==="comments";case ua.linked:return e==="pr"||e==="issue";case ua.status:return e==="success"||e==="failure"||e==="pending";case ua.draft:return e==="true"||e==="false";case ua.review:return e==="none"||e==="required"||e==="approved"||e==="changes_requested";case ua.no:return e==="label"||e==="milestone"||e==="assignee"||e==="project";default:return!0}}validateLabelsList(t,e){const i=s=>s==="AND"||s==="OR",n=t.split(pd).map(s=>s.trim());let r=[];for(let s of n){if(i(s)){if(r.length===0)continue;r.length>0&&i(r[r.length-1])?r[r.length-1]=s:r.push(s);continue}const d=/^label:(?!\B"[^"]*)\s+(?![^"]*"\B)/,y=s.match(d);let F=s;y&&(F=y[1]),e.find(W=>W.name===F)&&r.push(F)}return r.length>0&&i(r[r.length-1])&&(r=r.slice(0,r.length-1)),r}validateFreeForm(t,e,i){return i=i.trim(),i.includes("issue")||i.match(pd)||i.toLowerCase()==="none"||t.includes(i)||e.includes(i)||e.some(n=>i.includes(n)||n.includes(i))||Object.keys(bp).find(n=>i.includes(n)||n.includes(i))?"":i}validateQuery(t,e,i){let n="";const r=t.split(pd);for(const d of r){if(d.startsWith("label:"))continue;const y=d.split(":");if(y.length===2){const W=y[0].startsWith("-")?y[0].substring(1):y[0],ie=y[1];if(!W.match(/^[a-zA-Z]+$/)||!this.validateSpecificQueryPart(W,ie)||W==="no"&&ie==="label"&&e.length>0)continue}n=`${n} ${d}`}const s=this.validateFreeForm(n,e,i);return n=`${n} ${e.map(d=>`label:${d}`).join(" ")} ${s}`,n.trim()}postProcess(t,e,i){const n=this.findQuery(t);if(!n)return;const r=this.validateQuery(n,i,e);return this.fixRepo(r)}fixRepo(t){const e=/repo:([^ ]+)/,i=/org:([^ ]+)/,n=t.match(e),r=t.match(i);let s=t.trim(),d,y;if(n){const F=n[1];if(F.includes("/")){const W=F.split("/");d=W[0],y=W[1]}r&&F.includes("/")?s=t.replace(i,""):r&&(s=t.replace(e,`repo:${r[1]}/${F}`),d=r[1],y=F)}return{query:s,repo:d&&y?{owner:d,name:y}:void 0}}findQuery(t){if(t.includes("```")){const i=t.indexOf("```"),n=t.indexOf("```",i+3);return t.substring(i+3,n)}const e=t.split(`
`);if(e.length<=1)return e.length===0?t:e[0];for(const i of e)if(i.includes(":"))return i}async generateLabelQuery(t,e,i,n,r,s){const d=[a.LanguageModelChatMessage.Assistant(await this.labelsAssistantPrompt(t,e))];d.push(a.LanguageModelChatMessage.User(this.labelsUserPrompt(r)));const y=await n.sendRequest(d,i,s);return ws(y.text)}async generateFreeFormQuery(t,e,i,n,r,s){const d=[a.LanguageModelChatMessage.Assistant(this.freeFormAssistantPrompt())];d.push(a.LanguageModelChatMessage.User(this.freeFormUserPrompt(r,n)));const y=await i.sendRequest(d,e,s);return ws(y.text)}async generateQuery(t,e,i,n,r){const s=[a.LanguageModelChatMessage.Assistant(await this.fullQueryAssistantPrompt(t))];s.push(a.LanguageModelChatMessage.User(this.fullQueryUserPrompt(n)));const d=await i.sendRequest(s,e,r);return ws(d.text)}async prepareInvocation(t){return{invocationMessage:a.l10n.t("Converting to search syntax")}}async invoke(t,e){var i,n,r;const{owner:s,name:d,folderManager:y}=await this.getRepoInfo({owner:(i=t.input.repo)==null?void 0:i.owner,name:(n=t.input.repo)==null?void 0:n.name}),F=`${(r=this.chatParticipantState.firstUserMessage)==null?void 0:r.value}, ${t.input.naturalLanguageString}`,W=await y.getLabels(void 0,{owner:s,repo:d}),le=(await a.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],de={justification:"Answering user questions pertaining to GitHub."},[ke,Ie]=await Promise.all([this.generateQuery(y,de,le,F,e),this.generateLabelQuery(y,W,de,le,F,e)]),oe=this.validateLabelsList(Ie,W),ye=await this.generateFreeFormQuery(y,de,le,F,oe,e),Te=this.postProcess(ke,ye,oe);if(!Te)throw new Error("Unable to form a query.");f.debug(`Query \`${Te.query}\``,yp.ID);const Fe={query:Te.query,repo:{owner:s,name:d}};return new a.LanguageModelToolResult([new a.LanguageModelTextPart(JSON.stringify(Fe)),new a.LanguageModelTextPart("Above is the query in stringified json format. You can pass this VERBATIM to a tool that knows how to search.")])}};let Eu=yp;Ru(Eu,"toolId","github-pull-request_formSearchQuery"),Ru(Eu,"ID","ConvertToSearchSyntaxTool");const vd=class extends al{toGitHubUrl(t){return`https://github.com/issues/?q=${encodeURIComponent(t)}`}async prepareInvocation(t){const e=t.input.query;return{invocationMessage:a.l10n.t('Searching for issues with "{0}". [Open on GitHub.com]({1})',ip(e),ip(this.toGitHubUrl(e)))}}async invoke(t,e){var i,n,r,s;const{folderManager:d}=await this.getRepoInfo({owner:(i=t.input.repo)==null?void 0:i.owner,name:(n=t.input.repo)==null?void 0:n.name}),y=t.input.query;f.debug(`Searching with query \`${y}\``,vd.ID);const F=await d.getIssues(y);if(!F)throw new Error(`No issues found for ${y}. Make sure the query is valid.`);const W=30,ie={arrayOfIssues:F.items.slice(0,W).map(le=>{var de,ke;const Ie=le.item;return{title:Ie.title,url:Ie.url,number:Ie.number,labels:Ie.labels.map(oe=>({name:oe.name,color:oe.color})),state:Ie.state,assignees:(de=Ie.assignees)==null?void 0:de.map(oe=>({login:oe.login,url:oe.url})),createdAt:Ie.createdAt,updatedAt:Ie.updatedAt,author:{login:Ie.user.login,url:Ie.user.url},milestone:(ke=Ie.milestone)==null?void 0:ke.title,commentCount:Ie.commentCount,reactionCount:Ie.reactionCount}}),totalIssues:(r=F.totalCount)!=null?r:F.items.length};return f.debug(`Found ${ie.totalIssues} issues, first issue ${(s=ie.arrayOfIssues[0])==null?void 0:s.number}.`,vd.ID),new a.LanguageModelToolResult([new a.LanguageModelTextPart(JSON.stringify(ie)),new a.LanguageModelTextPart(`Above are the issues I found for the query ${y} in json format. You can pass these to a tool that can display them, or you can reason over the issues to answer a question.`)])}};let Tu=vd;Ru(Tu,"toolId","github-pull-request_doSearch"),Ru(Tu,"ID","SearchTool");var o_=Object.defineProperty,l_=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?o_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class gd extends al{constructor(e,i,n){super(e,i,n)}async prepareInvocation(e){return{invocationMessage:e.input.issueNumber?a.l10n.t("Suggesting a fix for issue #{0}",e.input.issueNumber):a.l10n.t("Suggesting a fix for the issue")}}async invoke(e,i){var n,r;const{folderManager:s}=await this.getRepoInfo(e.input.repo);if(!s)throw new Error(`No folder manager found for ${e.input.repo.owner}/${e.input.repo.name}. Make sure to have the repository open.`);const d=await s.resolveIssue(e.input.repo.owner,e.input.repo.name,e.input.issueNumber,!0);if(!d)throw new Error(`No issue found for ${e.input.repo.owner}/${e.input.repo.name}/${e.input.issueNumber}. Make sure the issue exists.`);const y={title:d.title,body:d.body,comments:(r=(n=d.item.comments)==null?void 0:n.map(oe=>({body:oe.body})))!=null?r:[]},F=[];F.push(a.LanguageModelChatMessage.Assistant("You are a world-class developer who is capable of solving very difficult bugs and issues.")),F.push(a.LanguageModelChatMessage.Assistant("The user will give you an issue title, body and a list of comments from GitHub. The user wants you to suggest a fix.")),F.push(a.LanguageModelChatMessage.Assistant("Analyze the issue content, the workspace context below and using all this information suggest a fix.")),F.push(a.LanguageModelChatMessage.Assistant("Where possible output code-blocks and reference real files in the workspace with the fix.")),F.push(a.LanguageModelChatMessage.User("The issue content is as follows: ")),F.push(a.LanguageModelChatMessage.User(`Issue Title: ${y.title}`)),F.push(a.LanguageModelChatMessage.User(`Issue Body: ${y.body}`)),y.comments.forEach((oe,ye)=>{F.push(a.LanguageModelChatMessage.User(`Comment ${ye}: ${oe.body}`))});const ie=(await a.lm.invokeTool("copilot_codebase",{toolInvocationToken:void 0,input:{query:y.title}},i)).content[0];if(ie instanceof a.LanguageModelTextPart){F.push(a.LanguageModelChatMessage.User("Below is some potential relevant workspace context to the issue. The user cannot see this result, so you should explain it to the user if referencing it in your answer."));const oe=a.LanguageModelChatMessage.User("");oe.content=[ie],F.push(oe)}const ke=await(await a.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0].sendRequest(F,{},i);let Ie="";for await(const oe of ke.text)Ie+=oe;return new a.LanguageModelToolResult([new a.LanguageModelTextPart(Ie)])}}l_(gd,"toolId","github-pull-request_suggest-fix");var u_=Object.defineProperty,c_=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?u_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class bd{async prepareInvocation(e){if(!e.input.title)return{invocationMessage:a.l10n.t("Summarizing issue")};const n=e.input.title.length>40?e.input.title.substring(0,40):e.input.title;return{invocationMessage:a.l10n.t('Summarizing "{0}',n)}}async invoke(e,i){let n=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const r=e.input.fileChanges;if(r){n+=`
The following are the files changed:
`;for(const F of r.values())n+=`
File : ${F.fileName}
Patch: ${F.patch}
`}const s=e.input.comments;for(const[F,W]of s.entries())n+=`
Comment ${F} :
Author: ${W.author}
Body: ${W.body}
`;const y=(await a.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0];if(y){const F=[a.LanguageModelChatMessage.User(this.summarizeInstructions(e.input.repo,e.input.owner))];F.push(a.LanguageModelChatMessage.User("The issue or pull request information is as follows:")),F.push(a.LanguageModelChatMessage.User(n));const W=await y.sendRequest(F,{}),ie=await ws(W.text);return new a.LanguageModelToolResult([new a.LanguageModelTextPart(ie)])}else return new a.LanguageModelToolResult([new a.LanguageModelTextPart(n)])}summarizeInstructions(e,i){return`
You are an AI assistant who is very proficient in summarizing issues and PRs.
You will be given information relative to an issue or PR : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Your task is to output a summary of all this information.
Do not output code. When you try to summarize PR changes, summarize in a textual format.
Output references to other issues and PRs as Markdown links. The current issue has owner ${i} and is in the repo ${e}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${i}/${e}/issues/123)
[#123](https://github.com/${i}/${e}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
`}}c_(bd,"toolId","github-pull-request_issue_summarize");var d_=Object.defineProperty,f_=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?d_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class yd{async prepareInvocation(e){const i=e.input;if(!i.itemType||!i.itemNumber)return{invocationMessage:a.l10n.t("Summarizing notification")};const n=i.itemType==="issue"?"issues":"pull",r=`https://github.com/${i.owner}/${i.repo}/${n}/${i.itemNumber}`;return{invocationMessage:a.l10n.t("Summarizing item [#{0}]({1})",i.itemNumber,r)}}async invoke(e,i){let n="";e.input.lastReadAt||(n+="This thread is viewed for the first time. Here is the main item information of the thread:"),n+=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const s=e.input.fileChanges;if(s){n+=`
The following are the files changed:
`;for(const de of s.values())n+=`
File : ${de.fileName}
Patch: ${de.patch}
`}const d=e.input.comments;if(d&&d.length>0){n+=`
The following are the unread comments of the thread:
`;for(const[de,ke]of d.entries())n+=`
Comment ${de} :
Author: ${ke.author}
Body: ${ke.body}
`}const F=(await a.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],W=[],ie=e.input.threadId,le=e.input.notificationKey;if(ie&&le){const de={title:"Mark As Read",command:"notification.markAsRead",arguments:[{threadId:ie,notificationKey:le}]};W.push(new a.LanguageModelTextPart(mp)),W.push(new a.LanguageModelTextPart(JSON.stringify(de)))}if(F){const de=[a.LanguageModelChatMessage.User(this.summarizeInstructions(e.input.owner,e.input.repo))];de.push(a.LanguageModelChatMessage.User("The notification information is as follows:")),de.push(a.LanguageModelChatMessage.User(n));const ke=await F.sendRequest(de,{}),Ie=await ws(ke.text);W.push(new a.LanguageModelTextPart(Ie))}else W.push(new a.LanguageModelTextPart(n));return W.push(new a.LanguageModelTextPart("Above is a summary of the notification. Extract and output this notification summary directly as is to the user. Do not output the result from the call to the fetch notification tool.")),new a.LanguageModelToolResult(W)}summarizeInstructions(e,i){return`
You are an AI assistant who is very proficient in summarizing notification threads.
You will be given information relative to a notification thread : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Since you are reviewing a notification thread, part of the content is by definition unread. You will be told what part of the content is yet unread. This can be the comments or it can be both the thread issue/PR as well as the comments.
Your task is to output a summary of all this notification thread information and give an update to the user concerning the unread part of the thread.
Output references to issues and PRs as Markdown links. The current notification is for a thread that has owner ${e} and is in the repo ${i}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${e}/${i}/issues/123)
[#123](https://github.com/${e}/${i}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Always include in your output, which part of the thread is unread by prefixing that part with the markdown heading of level 1 with text "Unread Thread" or "Unread Comments".
Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
Example output:

# Unread Thread
<summary>
<comments>

or:

<summary>
# Unread Comments
<comments>

Both 'Unread Thread' and 'Unread Comments' should not appear at the same time as markdown titles. The following is incorrect:

# Unread Thread
<summary>
# Unread Comments
<comments>
`}}f_(yd,"toolId","github-pull-request_notification_summarize");function h_(t,e,i,n){m_(t,e,i,n),p_(t),v_(t,e,i,n),g_(t,e,i,n)}function m_(t,e,i,n){t.subscriptions.push(a.lm.registerTool(hd.toolId,new hd(e,i,n))),t.subscriptions.push(a.lm.registerTool(md.toolId,new md(e,i,n)))}function p_(t){t.subscriptions.push(a.lm.registerTool(bd.toolId,new bd)),t.subscriptions.push(a.lm.registerTool(yd.toolId,new yd))}function v_(t,e,i,n){t.subscriptions.push(a.lm.registerTool(gd.toolId,new gd(e,i,n)))}function g_(t,e,i,n){t.subscriptions.push(a.lm.registerTool(Eu.toolId,new Eu(e,i,n))),t.subscriptions.push(a.lm.registerTool(Tu.toolId,new Tu(e,i,n))),t.subscriptions.push(a.lm.registerTool(Su.toolId,new Su(n)))}var b_=Object.defineProperty,wd=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?b_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class y_{constructor(e){this._notificationsManager=e,wd(this,"_readonlyOnDidChangeFileDecorations",new a.EventEmitter),wd(this,"onDidChangeFileDecorations",this._readonlyOnDidChangeFileDecorations.event),wd(this,"_disposables",[]),this._disposables.push(e.onDidChangeNotifications(i=>{const n=i.map(r=>pc({key:r.notification.key}));this._readonlyOnDidChangeFileDecorations.fire(n)})),this._disposables.push(a.workspace.onDidChangeConfiguration(i=>{i.affectsConfiguration(`${Xe}.${Rn}`)&&this._readonlyOnDidChangeFileDecorations.fire(e.getAllNotifications().map(n=>pc({key:n.notification.key})))}))}dispose(){j(this._disposables)}settingValue(){return a.workspace.getConfiguration(Xe).get(Rn,!1)}provideFileDecoration(e,i){var n,r;if(!this.settingValue()||this._notificationsManager.sortingMethod!==Da.Priority)return;const s=kg(e);if(!s)return;const d=this._notificationsManager.getNotification(s.key),y=(d==null?void 0:d.priority)==="100"?"99":(n=d==null?void 0:d.priority)!=null?n:"0";return{badge:y,tooltip:a.l10n.t("Priority score is {0}. {1}",y,(r=d==null?void 0:d.priorityReason)!=null?r:"")}}}var w_=Object.defineProperty,Za=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?w_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class __{constructor(e){this._notificationProvider=e,Za(this,"_onDidChangeNotifications",new a.EventEmitter),Za(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),Za(this,"_sortingMethod",Da.Timestamp),Za(this,"_onDidChangeSortingMethod",new a.EventEmitter),Za(this,"onDidChangeSortingMethod",this._onDidChangeSortingMethod.event),Za(this,"_hasNextPage",!1),Za(this,"_notifications",new Map),Za(this,"_disposable",[]),this._disposable.push(this._onDidChangeNotifications)}get sortingMethod(){return this._sortingMethod}set sortingMethod(e){this._sortingMethod!==e&&(this._sortingMethod=e,this._onDidChangeSortingMethod.fire())}dispose(){j(this._disposable)}clear(){if(this._notifications.size===0)return;const e=Array.from(this._notifications.values());this._notifications.clear(),this._onDidChangeNotifications.fire(e)}async getNotifications(e,i){if(!e){const d=Array.from(this._notifications.values());return{notifications:this._sortNotifications(d),hasNextPage:this._hasNextPage}}const n=await this._notificationProvider.computeNotifications(i);if(!n)return;const r=new Map;if(await Promise.all(n.notifications.map(async d=>{const y=this._notifications.get(d.key);if(y&&y.notification.updatedAd.getTime()===d.updatedAd.getTime()){r.set(d.key,y);return}const F=await this._notificationProvider.getNotificationModel(d);!F||r.set(d.key,{notification:d,model:F,kind:"notification"})})),this.sortingMethod===Da.Priority){const d=Array.from(r.values()).filter(F=>F.priority===void 0),y=await this._notificationProvider.getNotificationsPriority(d);for(const{key:F,priority:W,priorityReasoning:ie}of y){const le=r.get(F);!le||(le.priority=W,le.priorityReason=ie,r.set(F,le))}}this._notifications=r,this._hasNextPage=n.hasNextPage;const s=Array.from(this._notifications.values());return this._onDidChangeNotifications.fire(s),{notifications:this._sortNotifications(s),hasNextPage:this._hasNextPage}}getNotification(e){return this._notifications.get(e)}getAllNotifications(){return Array.from(this._notifications.values())}async markAsRead(e){await this._notificationProvider.markAsRead(e);const i=this._notifications.get(e.notificationKey);i&&(this._onDidChangeNotifications.fire([i]),this._notifications.delete(e.notificationKey))}_sortNotifications(e){return this._sortingMethod===Da.Timestamp?e.sort((i,n)=>n.notification.updatedAd.getTime()-i.notification.updatedAd.getTime()):this._sortingMethod===Da.Priority?e.sort((i,n)=>Number(n.priority)-Number(i.priority)):e}}var k_=Object.defineProperty,wp=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?k_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class S_{constructor(e,i){this._credentialStore=e,this._repositoriesManager=i,wp(this,"_authProvider"),wp(this,"_disposables",[]),e.isAuthenticated(ki.githubEnterprise)&&aa()?this._authProvider=ki.githubEnterprise:e.isAuthenticated(ki.github)&&(this._authProvider=ki.github),this._disposables.push(e.onDidChangeSessions(n=>{e.isAuthenticated(ki.githubEnterprise)&&aa()&&(this._authProvider=ki.githubEnterprise),e.isAuthenticated(ki.github)&&(this._authProvider=ki.github)}))}_getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async markAsRead(e){const i=this._getGitHub();i!==void 0&&await i.octokit.call(i.octokit.api.activity.markThreadAsRead,{thread_id:Number(e.threadId)})}async computeNotifications(e){const i=this._getGitHub();if(i===void 0||this._repositoriesManager.folderManagers.length===0)return;const n=[];for(let d=1;d<=e;d++)n.push(this._getNotificationsPage(i,d));const r=await Promise.all(n),s=r[e-1].hasNextPage;return{notifications:r.flatMap(d=>d.notifications),hasNextPage:s}}async _getNotificationsPage(e,i){var n;const r=a.workspace.getConfiguration(Xe).get(rn,50),{data:s,headers:d}=await e.octokit.call(e.octokit.api.activity.listNotificationsForAuthenticatedUser,{all:!1,page:i,per_page:r});return{notifications:s.map(F=>lg(F)).filter(F=>!!F),hasNextPage:((n=d.link)==null?void 0:n.includes('rel="next"'))===!0}}async getNotificationModel(e){var i;const n=e.subject.url;if(typeof n!="string")return;const r=n.split("/").pop();if(r===void 0)return;const s=(i=this._repositoriesManager.getManagerForRepository(e.owner,e.name))!=null?i:this._repositoriesManager.folderManagers[0];return e.subject.type===Rr.Issue?await s.resolveIssue(e.owner,e.name,parseInt(r),!0):await s.resolvePullRequest(e.owner,e.name,parseInt(r))}async getNotificationsPriority(e){const i=5,n=[];for(let d=0;d<e.length;d+=i)n.push(e.slice(d,d+i));const r=await a.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"});return(await Promise.all(n.map(d=>this._prioritizeNotificationBatch(d,r[0])))).flat()}async _prioritizeNotificationBatch(e,i){try{const n=(await this._credentialStore.getCurrentUser(ki.github)).login,r=[a.LanguageModelChatMessage.User(R_(n))];for(const[y,F]of e.entries()){const W=F.model;if(!W)continue;let ie=this._getBasePrompt(W,y);ie+=await this._getLabelsPrompt(W),ie+=await this._getCommentsPrompt(W),r.push(a.LanguageModelChatMessage.User(ie))}r.push(a.LanguageModelChatMessage.User("Please provide the priority for each notification in a separate text code block. Remember to place the title and the reasoning outside of the text code block."));const s=await i.sendRequest(r,{}),d=await ws(s.text);return this._updateNotificationsWithPriorityFromLLM(e,d)}catch(n){return console.log(n),[]}}_getBasePrompt(e,i){var n;const r=e.assignees;return`
The following is the data for notification ${i+1}:
\u2022 Title: ${e.title}
\u2022 Author: ${e.author.login}
\u2022 Assignees: ${(r==null?void 0:r.map(s=>s.login).join(", "))||"none"}
\u2022 Body:

${e.body}

\u2022 Reaction Count: ${(n=e.item.reactionCount)!=null?n:0}
\u2022 isOpen: ${e.isOpen}
\u2022 isMerged: ${e.isMerged}
\u2022 Created At: ${e.createdAt}
\u2022 Updated At: ${e.updatedAt}`}async _getLabelsPrompt(e){const i=e.item.labels;if(!i)return"";let n="";return i.length>0&&(n=`
\u2022 Labels: ${i.map(s=>s.name).join(", ")}`),n}async _getCommentsPrompt(e){const i=e.item.comments;if(!i||i.length===0)return"";let n=`

The following is the data concerning the at most last 5 comments for the notification:`,r=1;const s=Math.max(0,i.length-5);for(let d=s;d<i.length;d++){const y=i.at(d);n+=`

Comment ${r} for notification:
\u2022 Body:
${y.body}
\u2022 Reaction Count: ${y.reactionCount}`,r+=1}return n}_updateNotificationsWithPriorityFromLLM(e,i){const n=/```text\s*[\s\S]+?\s*=\s*([\S]+?)\s*```/gm,r=/```(?!text)([\s\S]+?)(###|$)/g,s=[];for(let d=0;d<e.length;d++){const y=n.exec(i);if(y){const F=r.exec(i);s.push({key:e[d].notification.key,priority:y[1],priorityReasoning:F?F[1].trim():void 0})}}return s}dispose(){this._disposables.forEach(e=>e.dispose())}}function R_(t){return`
You are an intelligent assistant tasked with prioritizing GitHub notifications.
You are given a list of notifications for the current user ${t}, each related to an issue, pull request or discussion. In the case of an issue/PR, if there are comments, you are given the last 5 comments under it.
Use the following scoring mechanism to prioritize the notifications and assign them a score from 0 to 100:

	1. Assign points from 0 to 30 for the relevance of the notification. Below when we talk about the current user, it is always the user with the GitHub login handle ${t}. First consider if the corresponding thread is open or closed:
		- If the thread is closed, assign points as follows:
			- 0 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 5 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 10 points: If the current user is assigned to the issue/PR or is requested for a review.
		- If the thread is open, assign points as follows:
			- 20 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 25 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 30 points: If the current user is assigned to the issue/PR or is requested for a review.
	2. Assign points from 0 to 40 to the importance of the notification. Consider the following points:
		- In case of an issue, does the content/title suggest this is a critical issue? In the case of a PR, does the content/title suggest it fixes a critical issue? In the case of a discussion, do the comments suggest a critical discussion? A critical issue/pr/discussion has a higher priority.
		- To evaluate the importance/criticality of a notification evaluate whether it references the following. Such notifications should be assigned a higher priority.
			- security vulnerabilities
			- major regressions
			- data loss
			- crashes
			- performance issues
			- memory leaks
			- breaking changes
		- Do the labels assigned to the issue/PR/discussion indicate it is critical? Labels that include the following: 'critical', 'urgent', 'important', 'high priority' should be assigned a higher priority.
		- Is the issue/PR suggesting it is blocking for other work and must be addressed immediately? If so, the notification should be assigned a higher priority.
		- Is the issue/PR user facing? User facing issues/PRs that have a clear negative impact on the user should be assigned a higher priority.
		- Is the tone of voice urgent or neutral? An urgent tone of voice has a higher priority.
		- For issues, do the comments mention that the issue is a duplicate of another issue or is already fixed? If so assign a lower priority.
		- Issues should generally be assigned a higher score than PRs and discussions.
		- Issues about bugs/regressions should be assigned a higher priority than issues about feature requests which are less critical.
	3. Assign points from 0 to 30 for the community engagement. Consider the following points:
		- Reactions: Consider the number of reactions under an issue/PR/discussion that correspond to real users. A higher number of reactions should be assigned a higher priority.
		- Comments: Evaluate the community engagement on the issue/PR through the last 5 comments. If you detect a comment coming from a bot, do not include it in the following evaluation. Consider the following:
			- Does the issue/PR/discussion have a lot of comments indicating widespread interest?
			- Does the issue/PR/discussion have comments from many different users which would indicate widespread interest?
			- Evaluate the comments content. Do they indicate that the issue/PR is critical and touches many people? A critical issue/PR should be assigned a higher priority.
			- Evaluate the effort/detail put into the comments, are the users invested in the issue/PR/discussion? A higher effort should be assigned a higher priority.
			- Evaluate the tone of voice in the comments, an urgent tone of voice should be assigned a higher priority.
			- Evaluate the reactions under the comments, a higher number of reactions indicate widespread interest and issue/PR/discussion following. A higher number of reactions should be assigned a higher priority.
		- Generally evaluate the issue/PR/discussion content quality. Consider the following points:
			- Description: In the case of an issue, are there clear steps to reproduce the issue? In the case of a PR, is there a clear description of the change? A clearer, more complete description should be assigned a higher priority.
			- Effort: Evaluate the general effort put into writing this issue/PR. Does the user provide a lengthy clear explanation? A higher effort should be assigned a higher priority.

Use the above guidelines to assign points to each notification. Provide the sum of the individual points in a SEPARATE text code block for each notification. The points sum to 100 as a maximum.
After the text code block containing the priority, add a detailed summary of the notification and generally explain why it is important or not, do NOT reference the scoring mechanism above. This summary and reasoning will be displayed to the user.
The output should look as follow. Here <summary + reasoning> corresponds to your summary and reasoning and <title> corresponds to the notification title. The title should be placed after three hashtags:

### <title>
\`\`\`text
20 + 30 + 20 = 70
\`\`\`text
<summary + reasoning>

The following is INCORRECT:

<title>
20 + 30 + 20 = 70
<summary + reasoning>
`}var E_=Object.defineProperty,sl=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?E_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class T_{constructor(e){this._notificationsManager=e,sl(this,"_disposables",[]),sl(this,"_onDidChangeTreeData",new a.EventEmitter),sl(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),sl(this,"_pageCount",1),sl(this,"_computeNotifications",!1),this._disposables.push(this._onDidChangeTreeData),this._disposables.push(this._notificationsManager.onDidChangeNotifications(()=>{this._onDidChangeTreeData.fire()})),this._disposables.push(this._notificationsManager.onDidChangeSortingMethod(()=>{this.refresh(!0)}))}async getTreeItem(e){return ql(e)?this._resolveNotificationTreeItem(e):this._resolveLoadMoreNotificationsTreeItem()}_resolveNotificationTreeItem(e){const i=e.notification.subject.title,n=new a.TreeItem(i,a.TreeItemCollapsibleState.None),r=e.notification,s=e.model;return r.subject.type===Rr.Issue&&s instanceof ir&&(n.iconPath=e.model.isOpen?new a.ThemeIcon("issues",new a.ThemeColor("issues.open")):new a.ThemeIcon("issue-closed",new a.ThemeColor("issues.closed"))),r.subject.type===Rr.PullRequest&&s instanceof rr&&(n.iconPath=s.isOpen?new a.ThemeIcon("git-pull-request",new a.ThemeColor("pullRequests.open")):new a.ThemeIcon("git-pull-request",new a.ThemeColor("pullRequests.merged"))),n.description=`${r.owner}/${r.name}`,n.contextValue=r.subject.type,n.resourceUri=pc({key:e.notification.key}),n.command={command:"notification.chatSummarizeNotification",title:"Summarize Notification",arguments:[e]},n}_resolveLoadMoreNotificationsTreeItem(){const e=new a.TreeItem(a.l10n.t("Load More Notifications..."),a.TreeItemCollapsibleState.None);return e.command={title:"Load More Notifications",command:"notifications.loadMore"},e.contextValue="loadMoreNotifications",e}async getChildren(e){if(e!==void 0)return;const i=await this._notificationsManager.getNotifications(this._computeNotifications,this._pageCount);if(this._computeNotifications=!1,i!==void 0)return i.hasNextPage?[...i.notifications,{kind:"loadMoreNotifications"}]:i.notifications}loadMore(){this._pageCount++,this.refresh(!0)}refresh(e){this._computeNotifications=e,this._onDidChangeTreeData.fire()}async markAsRead(e){await this._notificationsManager.markAsRead(e),this.refresh(!1)}dispose(){j(this._disposables)}}var C_=Object.defineProperty,N_=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?C_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class M_{constructor(e,i,n){this._repositoriesManager=i,this._telemetry=n,N_(this,"_disposables",[]);const r=new S_(e,this._repositoriesManager);this._disposables.push(r);const s=new __(r);this._disposables.push(s);const d=new y_(s);this._disposables.push(a.window.registerFileDecorationProvider(d));const y=new T_(s);this._disposables.push(y);const F=a.window.createTreeView("notifications:github",{treeDataProvider:y});this._disposables.push(F),this._disposables.push(a.commands.registerCommand("notifications.sortByTimestamp",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),s.sortingMethod=Da.Timestamp},this)),this._disposables.push(a.commands.registerCommand("notifications.sortByPriority",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),s.sortingMethod=Da.Priority},this)),this._disposables.push(a.commands.registerCommand("notifications.refresh",()=>{this._telemetry.sendTelemetryEvent("notifications.refresh"),s.clear(),y.refresh(!0)},this)),this._disposables.push(a.commands.registerCommand("notifications.loadMore",()=>{this._telemetry.sendTelemetryEvent("notifications.loadMore"),y.loadMore()})),this._disposables.push(a.commands.registerCommand("notification.chatSummarizeNotification",W=>{!ql(W)||(this._telemetry.sendTelemetryEvent("notification.chatSummarizeNotification"),a.commands.executeCommand(Rm(),a.l10n.t("@githubpr Summarize notification with thread ID #{0}",W.notification.id)))})),this._disposables.push(a.commands.registerCommand("notification.markAsRead",W=>{let ie,le;if(ql(W))ie=W.notification.id,le=W.notification.key;else if("threadId"in W&&"notificationKey"in W&&typeof W.threadId=="number"&&typeof W.notificationKey=="string")ie=W.threadId,le=W.notificationKey;else throw new Error(`Invalid arguments for command notification.markAsRead : ${JSON.stringify(W)}`);this._telemetry.sendTelemetryEvent("notification.markAsRead"),y.markAsRead({threadId:ie,notificationKey:le})})),M(this._repositoriesManager.onDidLoadAnyRepositories)(()=>{s.clear(),y.refresh(!0)},this,this._disposables)}dispose(){j(this._disposables)}}var P_=Object.defineProperty,es=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?P_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class _p{constructor(){es(this,"_disposables",[]),es(this,"_onDidChangeFileDecorations",new a.EventEmitter),es(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._disposables.push(a.window.registerFileDecorationProvider(this))}_handlePullRequestPropertyChange(e,i,n){const r=n.path,s=a.Uri.joinPath(e.repository.rootUri,r),d=i.fileChanges.get(r);if(d){const y=hc(s,i.number,r,d.status,d.previousFileName);this._onDidChangeFileDecorations.fire(y),this._onDidChangeFileDecorations.fire(y.with({scheme:e.repository.rootUri.scheme})),this._onDidChangeFileDecorations.fire(y.with({scheme:oi.Pr,authority:""}))}}dispose(){j(this._disposables)}}class A_{constructor(e){this._repositoriesManager=e,es(this,"_disposables",[]),es(this,"_gitHubReposListeners",[]),es(this,"_pullRequestListeners",[]),es(this,"_pullRequestPropertyChangeListeners",[]),es(this,"_providers",[])}registerProviders(e){this._providers.push(...e),this._registerListeners()}_registerPullRequestPropertyListeners(e,i){return this._providers.map(n=>n.registerPullRequestPropertyChangedListeners(e,i))}_registerPullRequestAddedListeners(e){e.gitHubRepositories.forEach(i=>{this._pullRequestListeners.push(i.onDidAddPullRequest(s=>{this._pullRequestPropertyChangeListeners.push(...this._registerPullRequestPropertyListeners(e,s))}));const r=Array.from(i.pullRequestModels.values()).map(s=>this._registerPullRequestPropertyListeners(e,s)).flat();this._pullRequestPropertyChangeListeners.push(...r)})}_registerRepositoriesChangedListeners(){this._gitHubReposListeners.forEach(e=>e.dispose()),this._gitHubReposListeners=[],this._pullRequestListeners.forEach(e=>e.dispose()),this._pullRequestListeners=[],this._pullRequestPropertyChangeListeners.forEach(e=>e.dispose()),this._pullRequestPropertyChangeListeners=[],this._repositoriesManager.folderManagers.forEach(e=>{this._gitHubReposListeners.push(e.onDidChangeRepositories(()=>{this._registerPullRequestAddedListeners(e)}))})}_registerListeners(){this._registerRepositoriesChangedListeners(),this._disposables.push(this._repositoriesManager.onDidChangeFolderRepositories(()=>{this._registerRepositoriesChangedListeners()}))}dispose(){j(this._disposables),j(this._gitHubReposListeners),j(this._pullRequestListeners),j(this._pullRequestPropertyChangeListeners),j(this._providers)}}class x_ extends _p{constructor(e){super();this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,i){return i.onDidChangeReviewThreads(n=>{[...n.added,...n.removed].forEach(r=>{this._handlePullRequestPropertyChange(e,i,r)})})}provideFileDecoration(e,i){if(e.scheme!==oi.Pr&&e.scheme!==oi.File&&e.scheme!==oi.Review&&e.scheme!==oi.FileChange)return;const n=Kf(e),r=this._repositoriesManager.getManagerForFile(e);if(n&&r&&r.gitHubRepositories.find(d=>{const y=d.pullRequestModels.get(n.prNumber);if(y==null?void 0:y.reviewThreadsCache.find(F=>F.path===n.fileName))return!0}))return{propagate:!1,tooltip:"Commented",badge:"\u{1F4AC}"}}}var D_=Object.defineProperty,ca=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?D_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);function kp(t){switch(t){case be.DELETED:return nt.DELETE;case be.ADDED_BY_US:case be.INDEX_ADDED:return nt.ADD;case be.INDEX_RENAMED:return nt.RENAME;case be.MODIFIED:return nt.MODIFY;default:return nt.UNKNOWN}}class I_ extends ar{constructor(e,i,n){super();this.model=e,this.commit=i,this.parentRef=n}getTreeItem(){var e;return{label:this.commit.commit.message,description:((e=this.commit.commit.author)==null?void 0:e.date)?te(new Date(this.commit.commit.author.date)):void 0,iconPath:new a.ThemeIcon("git-commit"),collapsibleState:a.TreeItemCollapsibleState.Collapsed}}async getChildren(){if(!this.model.gitHubRepository)return[];const{octokit:e,remote:i}=await this.model.gitHubRepository.ensure(),{data:n}=await e.call(e.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:this.parentRef,head:this.commit.sha}),r=n.files;return r?r.map(s=>new Gl(this,s.filename,s.previous_filename,je(s.status),this.parentRef,this.commit.sha,!1)):[]}}class F_ extends ar{constructor(e,i,n){super();this.commit=e,this.folderRepoManager=i,this.parentRef=n}getTreeItem(){return{label:this.commit.message,description:this.commit.authorDate?te(new Date(this.commit.authorDate)):void 0,iconPath:new a.ThemeIcon("git-commit"),collapsibleState:a.TreeItemCollapsibleState.Collapsed}}async getChildren(){return(await this.folderRepoManager.repository.diffBetween(this.parentRef,this.commit.hash)).map(i=>{const n=m.posix.relative(this.folderRepoManager.repository.rootUri.path,i.uri.path),r=m.posix.relative(this.folderRepoManager.repository.rootUri.path,i.originalUri.path);return new Gl(this,n,r,kp(i.status),this.parentRef,this.commit.hash,!0)})}}class _d{constructor(e){this.model=e,ca(this,"_view"),ca(this,"_children"),ca(this,"_onDidChangeTreeData",new a.EventEmitter),ca(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),ca(this,"_disposables",[]),ca(this,"_isDisposed",!1),this._disposables.push(e.onDidChange(()=>{this._onDidChangeTreeData.fire()}))}get view(){return this._view}set view(e){this._view=e}async reveal(e,i){return this._view.reveal(e,i)}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getRawGitHubData(){try{const e=await this.model.gitHubFiles(),i=await this.model.gitHubCommits(),n=await this.model.gitHubMergeBase();return!(e==null?void 0:e.length)||!(i==null?void 0:i.length)?(this.view.message=new a.MarkdownString(a.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),{}):this._isDisposed?{}:(this.view.message=void 0,{rawFiles:e,rawCommits:i,mergeBase:n})}catch(e){return"name"in e&&e.name==="HttpError"&&e.status===404&&(this.view.message=new a.MarkdownString(a.l10n.t("The upstream branch `{0}` does not exist on GitHub",this.model.baseBranch))),{}}}get children(){return this._children}async getChildren(e){try{await this.model.getCompareHasUpstream()?this._children=await this.getGitHubChildren(e):this._children=await this.getGitChildren(e)}catch(i){return f.error(`Comparing changes failed: ${i}`),[]}return this._children}dispose(){this._isDisposed=!0,this._disposables.forEach(e=>e.dispose()),this._view.dispose()}static closeTabs(){a.window.tabGroups.all.forEach(e=>e.tabs.forEach(i=>{i.input instanceof a.TabInputTextDiff&&(i.input.modified.scheme===oi.GithubPr||i.input.modified.scheme===oi.GitPr)&&a.window.tabGroups.close(i)}))}}class O_ extends _d{constructor(e,i){super(e);this.folderRepoManager=i}async getGitHubChildren(e){if(e)return e.getChildren();const{rawFiles:i,mergeBase:n}=await this.getRawGitHubData();if(i&&n)return this.view.message=this.addReviewMessage(),i.map(r=>new Gl(this,r.filename,r.previous_filename,je(r.status),n,this.model.compareBranch,!1))}async getGitFileChildren(e){return e.map(i=>{const n=m.posix.relative(this.folderRepoManager.repository.rootUri.path,i.uri.path),r=m.posix.relative(this.folderRepoManager.repository.rootUri.path,i.originalUri.path);return new Gl(this,n,r,kp(i.status),this.model.baseBranch,this.model.compareBranch,!0)})}addReviewMessage(e){const i=this.folderRepoManager.getAutoReviewer();return i&&(e?e.appendMarkdown(`

`):e=new a.MarkdownString,e.supportThemeIcons=!0,e.appendMarkdown(`[${a.l10n.t("$(sparkle) {0} Code Review",i.title)}](command:pr.preReview)`)),e}async getGitChildren(e){if(e)return e.getChildren();{const i=await this.model.gitFiles();if(i.length===0)return this.view.message=new a.MarkdownString(a.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[];if(await this.model.getCompareHasUpstream()){if(this._isDisposed)return[];this.view.message=void 0}else{const n=new a.MarkdownString(a.l10n.t({message:"Branch `{0}` has not been pushed yet. [Publish branch](command:git.publish) to see all changes from base branch.",args:[this.model.compareBranch],comment:"{Locked='](command:git.publish)'}"}));n.isTrusted={enabledCommands:["git.publish"]},this.view.message=this.addReviewMessage(n)}return this.getGitFileChildren(i)}}}class L_ extends _d{constructor(e,i){super(e);this.folderRepoManager=i}async getGitHubChildren(e){if(e)return e.getChildren();const{rawCommits:i}=await this.getRawGitHubData();if(i)return i.map((n,r)=>new I_(this.model,n,r===0?this.model.baseBranch:i[r-1].sha))}async getGitChildren(e){if(e)return e.getChildren();const i=await this.model.gitCommits();return i.length===0?(this.view.message=new a.MarkdownString(a.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[]):this._isDisposed?[]:(this.view.message=void 0,i.reverse().map((n,r)=>new F_(n,this.folderRepoManager,r===0?this.model.baseBranch:i[r-1].hash)))}}class Sp{constructor(e,i){this.folderRepoManager=e,this.model=i,ca(this,"_filesView"),ca(this,"_filesDataProvider"),ca(this,"_commitsView"),ca(this,"_commitsDataProvider"),ca(this,"_disposables",[]),this._filesDataProvider=new O_(i,e),this._filesView=a.window.createTreeView("github:compareChangesFiles",{treeDataProvider:this._filesDataProvider}),this._filesDataProvider.view=this._filesView,this._commitsDataProvider=new L_(i,e),this._commitsView=a.window.createTreeView("github:compareChangesCommits",{treeDataProvider:this._commitsDataProvider}),this._commitsDataProvider.view=this._commitsView,this._disposables.push(this._filesDataProvider),this._disposables.push(this._filesView),this._disposables.push(this._commitsDataProvider),this._disposables.push(this._commitsView),this.initialize()}set compareOwner(e){this.model.compareOwner=e}initialize(){if(!!this.model.gitHubRepository)try{this._disposables.push(a.workspace.registerFileSystemProvider(oi.GithubPr,this.model.gitHubContentProvider)),this._disposables.push(a.workspace.registerFileSystemProvider(oi.GitPr,this.model.gitContentProvider)),this._disposables.push(K(()=>{_d.closeTabs()}))}catch(e){}}dispose(){this._disposables.forEach(e=>e.dispose()),this._filesView.dispose()}static closeTabs(){a.window.tabGroups.all.forEach(e=>e.tabs.forEach(i=>{i.input instanceof a.TabInputTextDiff&&(i.input.modified.scheme===oi.GithubPr||i.input.modified.scheme===oi.GitPr)&&a.window.tabGroups.close(i)}))}}var U_=Object.defineProperty,_r=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?U_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const B_=new RegExp("closes|closed|close|fixes|fixed|fix|resolves|resolved|resolves$","i"),Rp=class extends af{constructor(t,e,i,n,r,s){super(i);this.telemetry=t,this.model=e,this._folderRepositoryManager=n,this._pullRequestDefaults=r,this._defaultCompareBranch=s,_r(this,"viewType","github:createPullRequestWebview"),_r(this,"_onDone",new a.EventEmitter),_r(this,"onDone",this._onDone.event),_r(this,"_firstLoad",!0),_r(this,"initializeWhenVisibleDisposable"),_r(this,"_alreadyInitializing"),_r(this,"milestone"),_r(this,"reviewers",[]),_r(this,"assignees",[]),_r(this,"projects",[]),_r(this,"labels",[])}resolveWebviewView(t,e,i){return super.resolveWebviewView(t,e,i),t.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}show(){super.show()}static withProgress(t){return a.window.withProgress({location:{viewId:"github:createPullRequestWebview"}},t)}async getPullRequestDefaultLabels(t){const e=a.workspace.getConfiguration(Xe).inspect(Oe);if(!e)return[];const i=new Array;return e.workspaceValue&&i.push(...e.workspaceValue),e.globalValue&&i.push(...e.globalValue),!i||i.length===0?[]:(await this._folderRepositoryManager.getLabels(void 0,{owner:t.owner,repo:t.repositoryName})).filter(s=>i.includes(s.name))}async getMergeConfiguration(t,e,i=!1){return(await this._folderRepositoryManager.createGitHubRepositoryFromOwnerName(t,e)).getRepoAccessAndMergeMethods(i)}async initializeParams(t=!1){var e,i;if(((e=this._view)==null?void 0:e.visible)===!1&&this.initializeWhenVisibleDisposable===void 0){this.initializeWhenVisibleDisposable=(i=this._view)==null?void 0:i.onDidChangeVisibility(()=>{var n;(n=this.initializeWhenVisibleDisposable)==null||n.dispose(),this.initializeWhenVisibleDisposable=void 0,this.initializeParams()});return}t&&this._postMessage({command:"reset"}),await this.initializeParamsPromise()}async initializeParamsPromise(){return this._alreadyInitializing||(this._alreadyInitializing=this.doInitializeParams(),this._alreadyInitializing.then(()=>{this._alreadyInitializing=void 0})),this._alreadyInitializing}getTitleAndDescriptionProvider(t){return this._folderRepositoryManager.getTitleAndDescriptionProvider(t)}async getCreateParams(){var t,e,i,n,r;const s=await this._folderRepositoryManager.repository.getBranch(this._defaultCompareBranch),[d,y,F]=await Promise.all([this.detectBaseMetadata(s),this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.getOrigin(s)]),W={owner:(t=d==null?void 0:d.owner)!=null?t:this._pullRequestDefaults.owner,repositoryName:(e=d==null?void 0:d.repositoryName)!=null?e:this._pullRequestDefaults.repo},ie={owner:F.remote.owner,repositoryName:F.remote.repositoryName},le=(i=d==null?void 0:d.branch)!=null?i:this._pullRequestDefaults.base,[de,ke,Ie,oe,ye]=await Promise.all([this.getTitleAndDescription(s,le),this.getMergeConfiguration(W.owner,W.repositoryName),F.getViewerPermission(),this._folderRepositoryManager.mergeQueueMethodForBranch(le,W.owner,W.repositoryName),this.getPullRequestDefaultLabels(W)]),Te=a.workspace.getConfiguration(Xe).get(ii,"lastUsed"),Fe=this._folderRepositoryManager.context.workspaceState.get(Ec,void 0),qe=Pl(ke.mergeMethodsAvailability);let He=qe,lt=!1,mt=!1;He=Te==="lastUsed"&&(Fe==null?void 0:Fe.mergeMethod)?Fe==null?void 0:Fe.mergeMethod:qe,Te==="lastUsed"?(He=(n=Fe==null?void 0:Fe.mergeMethod)!=null?n:qe,lt=!!(Fe==null?void 0:Fe.isDraft),mt=ke.viewerCanAutoMerge&&!!(Fe==null?void 0:Fe.autoMerge)):Te==="createDraft"?lt=!0:Te==="createAutoMerge"&&(mt=ke.viewerCanAutoMerge),Vi.setContext(er.CREATE_PR_PERMISSIONS,Ie);const Pt=!!this.getTitleAndDescriptionProvider("Copilot")&&a.workspace.getConfiguration(Xe).get(Ln)==="Copilot",Ct=(r=this.getTitleAndDescriptionProvider())==null?void 0:r.title;Ct&&this.telemetry.sendTelemetryEvent("pr.defaultTitleAndDescriptionProvider",{providerTitle:Ct});const ui=this._folderRepositoryManager.getAutoReviewer();return this.labels=ye,{canModifyBranches:!0,defaultBaseRemote:W,defaultBaseBranch:le,defaultCompareRemote:ie,defaultCompareBranch:this._defaultCompareBranch,defaultTitle:de.title,defaultDescription:de.description,defaultMergeMethod:He,baseHasMergeQueue:!!oe,remoteCount:y.length,allowAutoMerge:ke.viewerCanAutoMerge,mergeMethodsAvailability:ke.mergeMethodsAvailability,autoMergeDefault:mt,createError:"",labels:this.labels,isDraftDefault:lt,isDarkTheme:a.window.activeColorTheme.kind===a.ColorThemeKind.Dark,generateTitleAndDescriptionTitle:Ct,creating:!1,initializeWithGeneratedTitleAndDescription:Pt,preReviewState:Ao.None,preReviewer:ui==null?void 0:ui.title,reviewing:!1}}async doInitializeParams(){const t=await this.getCreateParams();return f.appendLine(`Initializing "create" view: ${JSON.stringify(t)}`,Rp.ID),this._postMessage({command:"pr.initialize",params:t}),t}async autoAssign(t){var e;const i=a.workspace.getConfiguration(Xe).get(zi);if(!i)return;const n=await Gs(i,t,void 0,(e=await this._folderRepositoryManager.getCurrentUser(t.githubRepository))==null?void 0:e.login);if(!!n)try{await t.addAssignees([n])}catch(r){f.error(`Unable to assign pull request to user ${n}.`)}}async enableAutoMerge(t,e,i){if(e&&i)return t.enableAutoMerge(i)}async setLabels(t,e){e.length>0&&await t.setLabels(e.map(i=>i.name))}async setAssignees(t,e){e.length?await t.addAssignees(e.map(i=>i.login)):await this.autoAssign(t)}async setReviewers(t,e){if(e.length){const i=[],n=[];for(const r of e)bn(r)?n.push(r.id):i.push(r.id);await t.requestReview(i,n)}}setMilestone(t,e){if(e)return t.updateMilestone(e.id)}setProjects(t,e){if(e.length)return t.updateProjects(e)}async getBaseRemote(){return(await this._folderRepositoryManager.getGitHubRemotes()).find(t=>me(t.owner,this.model.baseOwner)===0&&me(t.repositoryName,this.model.repositoryName)===0)}getBaseGitHubRepo(){return this._folderRepositoryManager.gitHubRepositories.find(t=>me(t.remote.owner,this.model.baseOwner)===0&&me(t.remote.repositoryName,this.model.repositoryName)===0)}async addMilestone(){const t=await this.getBaseRemote(),e=this._folderRepositoryManager.gitHubRepositories.find(i=>i.remote.remoteName===t.remoteName);return uf(this._folderRepositoryManager,e,this.milestone,i=>(this.milestone=i,this._postMessage({command:"set-milestone",params:{milestone:this.milestone}})))}async addReviewers(){let t;const e=await this.getBaseRemote();try{const i=this._folderRepositoryManager.gitHubRepositories.find(W=>W.remote.remoteName===e.remoteName),[n,r,s]=await Promise.all([i==null?void 0:i.getMetadata(),this._folderRepositoryManager.getCurrentUser(),this._folderRepositoryManager.getOrgTeamsCount(i)]);t=await of(this._folderRepositoryManager,e.remoteName,!!(n==null?void 0:n.organization),s,r,this.reviewers.map(W=>({reviewer:W,state:"REQUESTED"})),[]),t.busy=!1;const d=B(t.onDidAccept).then(()=>t.selectedItems.filter(W=>W.user)),y=B(t.onDidHide),F=await Promise.race([d,y]);t.busy=!0,F&&(this.reviewers=F.map(W=>W.user),this._postMessage({command:"set-reviewers",params:{reviewers:this.reviewers}}))}catch(i){f.error($(i)),a.window.showErrorMessage($(i))}finally{t==null||t.hide(),t==null||t.dispose()}}async addAssignees(){const t=await this.getBaseRemote(),e=this._folderRepositoryManager.gitHubRepositories.find(n=>n.remote.owner===t.owner&&n.remote.repositoryName===t.repositoryName),i=await a.window.showQuickPick(sf(this._folderRepositoryManager,e,t.remoteName,this.assignees,void 0,!0),{canPickMany:!0,placeHolder:a.l10n.t("Add assignees")});if(i){const n=new Set,r=i.map(s=>s.user).filter(s=>s&&!n.has(s.login)?(n.add(s.login),!0):!1);this.assignees=r,this._postMessage({command:"set-assignees",params:{assignees:this.assignees}})}}async addProjects(){const t=this.getBaseGitHubRepo();!t||await new Promise(e=>{lf(this._folderRepositoryManager,t,this.projects,async i=>{this.projects=i,this._postMessage({command:"set-projects",params:{projects:this.projects}}),e()})})}async addLabels(){let t=[];const e=await a.window.showQuickPick(cf(this._folderRepositoryManager,this.labels,this.model.baseOwner,this.model.repositoryName).then(i=>(t=i.newLabels,i.labelPicks)),{canPickMany:!0,placeHolder:a.l10n.t("Apply labels")});if(e){const i=e.map(n=>t.find(r=>r.name===n.label));this.labels=i,this._postMessage({command:"set-labels",params:{labels:this.labels}})}}async removeLabel(t){const{label:e}=t.args;if(!e)return;const i=this.labels.length;this.labels=this.labels.filter(n=>n.name!==e.name),i!==this.labels.length&&this._postMessage({command:"set-labels",params:{labels:this.labels}})}async createFromCommand(t,e,i,n){const r={isDraft:t,autoMerge:e,autoMergeMethod:n?"merge":i,creating:!0};return this._postMessage({command:"create",params:r})}async postCreate(t,e){return Promise.all([this.setLabels(e,t.args.labels),this.enableAutoMerge(e,t.args.autoMerge,t.args.autoMergeMethod),this.setAssignees(e,t.args.assignees),this.setReviewers(e,t.args.reviewers),this.setMilestone(e,t.args.milestone),this.setProjects(e,t.args.projects)])}async cancel(t){return this._onDone.fire(void 0),await this.getMergeConfiguration(t.args.owner,t.args.repo,!0),this._replyMessage(t,void 0)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"pr.requestInitialize":return this.initializeParamsPromise();case"pr.cancelCreate":return this.cancel(t);case"pr.create":return this.create(t);case"pr.changeLabels":return this.addLabels();case"pr.changeReviewers":return this.addReviewers();case"pr.changeAssignees":return this.addAssignees();case"pr.changeMilestone":return this.addMilestone();case"pr.changeProjects":return this.addProjects();case"pr.removeLabel":return this.removeLabel(t);default:return this.MESSAGE_UNHANDLED}}dispose(){super.dispose(),this._postMessage({command:"reset"})}_getHtmlForWebview(){const t=Zu(),e=a.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view-new.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${t}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${t}" src="${this._webview.asWebviewUri(e).toString()}"></script>
	</body>
</html>`}};let kd=Rp;_r(kd,"ID","CreatePullRequestViewProvider");function Ep(t){return{owner:t.owner,repositoryName:t.repositoryName}}class vr extends kd{constructor(e,i,n,r,s){super(e,i,n,r,s,i.compareBranch);_r(this,"viewType","github:createPullRequestWebview"),_r(this,"lastGeneratedTitleAndDescription"),_r(this,"generatingCancellationToken"),_r(this,"reviewingCancellationToken"),this._disposables.push(this.model.onDidChange(async d=>{var y,F;let W,ie;if(d.baseOwner){const Ie=(y=this._folderRepositoryManager.findRepo(oe=>me(oe.remote.owner,d.baseOwner)===0&&me(oe.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:y.remote;W=Ie?Ep(Ie):void 0,ie=this.model.baseBranch}d.baseBranch&&(ie=d.baseBranch);let le,de;if(d.compareOwner){const Ie=(F=this._folderRepositoryManager.findRepo(oe=>me(oe.remote.owner,d.compareOwner)===0&&me(oe.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:F.remote;le=Ie?Ep(Ie):void 0,de=this.model.compareBranch}d.compareBranch&&(de=d.compareBranch);const ke={baseRemote:W,baseBranch:ie,compareRemote:le,compareBranch:de};return this._postMessage({command:"pr.initialize",params:ke})}))}async setDefaultCompareBranch(e){var i,n;const r=e&&e.name!==this.model.compareBranch,s=(i=this._folderRepositoryManager.gitHubRepositories.find(y=>y.remote.owner===this.model.compareOwner))==null?void 0:i.remote.remoteName,d=e&&((n=e.upstream)==null?void 0:n.remote)!==s;(r||d)&&(this._defaultCompareBranch=e.name,this.model.setCompareBranch(e.name),this.changeBranch(e.name,!1).then(y=>{const F={defaultTitle:y.title,defaultDescription:y.description,compareBranch:e==null?void 0:e.name,defaultCompareBranch:e==null?void 0:e.name};if(!d)return this._postMessage({command:"pr.initialize",params:F})}))}show(e){e&&this.setDefaultCompareBranch(e),super.show()}async getTotalGitHubCommits(e,i){var n;const r=await this._folderRepositoryManager.getOrigin(e);if(e.upstream){const s=this._folderRepositoryManager.findRepo(Xs(e.upstream.remote));if(s){const d=`${s.remote.owner}:${(n=e.name)!=null?n:""}`,y=`${this._pullRequestDefaults.owner}:${i}`,F=await r.compareCommits(y,d);return F==null?void 0:F.commits}}}async getTitleAndDescription(e,i){let n="",r="";const s=a.workspace.getConfiguration(Xe).get(Ln);if(s==="none")return{title:n,description:r};const d=await this._folderRepositoryManager.getOrigin(e);let y=this._pullRequestDefaults.base===e.name;f.debug(`Compare branch name: ${e.name}, Base branch name: ${this._pullRequestDefaults.base}`,vr.ID);try{const F=e.name,[W,ie,le]=await Promise.all([this.getTotalGitHubCommits(e,i),F?o0(Z(this._folderRepositoryManager.getTipCommitMessage(F),5e3)):void 0,s==="template"?await this.getPullRequestTemplate():void 0]),de=W==null?void 0:W.filter(ke=>ke.parents.length<2);if(f.debug(`Total commits: ${de==null?void 0:de.length}`,vr.ID),de===void 0?y=!1:de&&de.length>1&&(y=await d.getDefaultBranch()!==e.name),F&&!ie&&(f.appendLine("Timeout getting last commit message",vr.ID),this.telemetry.sendTelemetryEvent("pr.create.getCommitTimeout")),y&&F?n=`${F.charAt(0).toUpperCase()}${F.slice(1)}`:F&&ie&&(n=ie.title),le&&(ie==null?void 0:ie.body)?r=`${ie.body}

${le}`:le?r=le:(ie==null?void 0:ie.body)&&this._pullRequestDefaults.base!==e.name&&(r=ie.body),!r){const ke=n.match(Vv),Ie=Us(ke);if((Ie==null?void 0:Ie.issueNumber)&&!Ie.name&&!Ie.owner){r=`#${Ie.issueNumber}`;const ye=n.substr(0,n.indexOf(ke[0])).match(B_);ye&&(r=`${ye[0]} ${r}`)}}}catch(F){f.debug(`Error while getting total commits: ${F}`,vr.ID)}return{title:n,description:r}}async getPullRequestTemplate(){return this._folderRepositoryManager.getPullRequestTemplateBody(this.model.baseOwner)}async detectBaseMetadata(e){var i;const n=this.model.compareOwner,r=this.model.repositoryName,s=a.workspace.getConfiguration(Xe).get(Lt);if(!e.name||s==="repositoryDefault")return;const d=this._folderRepositoryManager.findRepo(y=>me(y.remote.owner,n)===0&&me(y.remote.repositoryName,r)===0);if(!(s==="auto"&&((i=await(d==null?void 0:d.getMetadata()))==null?void 0:i.fork)))try{const y=await this._folderRepositoryManager.repository.getBranchBase(e.name);if(y==null?void 0:y.name){const F=this._folderRepositoryManager.findRepo(W=>W.remote.remoteName===y.remote);if(F)return{branch:y.name,owner:F.remote.owner,repositoryName:F.remote.repositoryName}}}catch(y){return}}async getCreateParams(){const e=await super.getCreateParams();return this.model.baseOwner=e.defaultBaseRemote.owner,this.model.baseBranch=e.defaultBaseBranch,e}async remotePicks(e){return(e?await this._folderRepositoryManager.getActiveGitHubRemotes(await this._folderRepositoryManager.getGitHubRemotes()):this._folderRepositoryManager.gitHubRepositories.map(n=>n.remote)).map(n=>({iconPath:new a.ThemeIcon("repo"),label:`${n.owner}/${n.repositoryName}`,remote:{owner:n.owner,repositoryName:n.repositoryName}}))}async branchPicks(e,i,n){let r;n?r=await e.listBranches(e.remote.owner,e.remote.repositoryName):r=(await this._folderRepositoryManager.repository.getBranches({remote:!1})).filter(d=>d.name);const s=r.map(d=>{const y=typeof d=="string"?d:d.name;return{iconPath:new a.ThemeIcon("git-branch"),label:y,remote:{owner:e.remote.owner,repositoryName:e.remote.repositoryName},branch:y}});return s.unshift({kind:a.QuickPickItemKind.Separator,label:`${e.remote.owner}/${e.remote.repositoryName}`}),s.unshift({iconPath:new a.ThemeIcon("repo"),label:i}),s}async processRemoteAndBranchResult(e,i,n){const[r,s]=await Promise.all([e.getDefaultBranch(),e.getViewerPermission()]);Vi.setContext(er.CREATE_PR_PERMISSIONS,s);let d;if(n){const y=this.model.baseOwner!==i.remote.owner,F=y||this.model.baseBranch!==i.branch;this.model.baseOwner=i.remote.owner,this.model.baseBranch=i.branch;const W=await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),[ie,le,de]=await Promise.all([this.getMergeConfiguration(i.remote.owner,i.remote.repositoryName),this.getTitleAndDescription(W,this.model.baseBranch),this._folderRepositoryManager.mergeQueueMethodForBranch(this.model.baseBranch,this.model.baseOwner,this.model.repositoryName)]);let ke=!1;if(ie.viewerCanAutoMerge){const Ie=a.workspace.getConfiguration(Xe).get(ii,"lastUsed"),oe=this._folderRepositoryManager.context.workspaceState.get(Ec,void 0);ke=Ie==="lastUsed"&&(oe==null?void 0:oe.autoMerge)||Ie==="createAutoMerge"}d={baseRemote:i.remote,baseBranch:i.branch,defaultBaseBranch:r,defaultMergeMethod:Pl(ie.mergeMethodsAvailability),allowAutoMerge:ie.viewerCanAutoMerge,baseHasMergeQueue:!!de,mergeMethodsAvailability:ie.mergeMethodsAvailability,autoMergeDefault:ke,defaultTitle:le.title,defaultDescription:le.description},y&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseRemote"),F&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseBranch")}else await this.changeBranch(i.branch,!1),d={compareRemote:i.remote,compareBranch:i.branch,defaultCompareBranch:r},this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedCompare");return d}async changeRemoteAndBranch(e,i){this.cancelGenerateTitleAndDescription();const n=a.window.createQuickPick();let r=this._folderRepositoryManager.findRepo(Ie=>{var oe;return((oe=e.args.currentRemote)==null?void 0:oe.owner)===Ie.remote.owner&&e.args.currentRemote.repositoryName===Ie.remote.repositoryName});const s=a.l10n.t("Change Repository..."),d=a.l10n.t("Choose a remote"),y=i?a.l10n.t("Choose a base branch"):a.l10n.t("Choose a branch to merge"),F=i?a.l10n.t("Choose a base repository"):a.l10n.t("Choose a repository to merge from");n.placeholder=r?y:d,n.show(),n.busy=!0,n.items=r?await this.branchPicks(r,s,i):await this.remotePicks(i);const W=e.args.currentBranch?n.items.find(Ie=>Ie.branch===e.args.currentBranch):void 0;n.activeItems=W?[W]:[],n.busy=!1;const ie=new Promise(Ie=>{n.onDidAccept(async()=>{if(n.selectedItems.length===0)return;const oe=n.selectedItems[0];if(oe.label===s)n.busy=!0,n.items=await this.remotePicks(i),n.busy=!1,n.placeholder=r?F:d;else if(oe.branch===void 0&&oe.remote){const ye=oe;n.busy=!0,r=this._folderRepositoryManager.findRepo(Te=>Te.remote.owner===ye.remote.owner&&Te.remote.repositoryName===ye.remote.repositoryName),n.items=await this.branchPicks(r,s,i),n.placeholder=y,n.busy=!1}else if(oe.branch&&oe.remote){const ye=oe;Ie({remote:ye.remote,branch:ye.branch})}})}),le=new Promise(Ie=>n.onDidHide(()=>Ie())),de=await Promise.race([ie,le]);if(!de||!r){n.hide(),n.dispose();return}n.busy=!0;const ke=await this.processRemoteAndBranchResult(r,de,i);return n.hide(),n.dispose(),this._replyMessage(e,ke)}async findIssueContext(e){var i,n;const r=[];for(const s of e){const d=Us(s.match(hs));if(d){const y=(i=d.owner)!=null?i:this.model.baseOwner,F=(n=d.name)!=null?n:this.model.repositoryName;r.push(new Promise(W=>{this._folderRepositoryManager.resolveIssue(y,F,d.issueNumber).then(ie=>{W(ie?{content:`${ie.title}
${ie.body}`,reference:oc(d)}:void 0)})}))}}if(r.length)return(await Promise.all(r)).filter(s=>!!s)}async getCommitsAndPatches(){let e,i;await this.model.getCompareHasUpstream()?[e,i]=await Promise.all([this.model.gitHubCommits().then(r=>r.map(s=>s.commit.message)),this.model.gitHubFiles().then(r=>r.map(s=>{if(!s.patch)return;const d=a.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,s.filename).toString(),y=s.previous_filename?a.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,s.previous_filename).toString():void 0;return{patch:s.patch,fileUri:d,previousFileUri:y}}))]):[e,i]=await Promise.all([this.model.gitCommits().then(r=>r.filter(s=>s.parents.length===1).map(s=>s.message)),Promise.all((await this.model.gitFiles()).map(async r=>({patch:await this._folderRepositoryManager.repository.diffBetween(this.model.baseBranch,this.model.compareBranch,r.uri.fsPath),fileUri:r.uri.toString()})))]);const n=i.filter(r=>!!r);return{commitMessages:e,patches:n}}async getTitleAndDescriptionFromProvider(e,i){return vr.withProgress(async()=>{try{const{commitMessages:n,patches:r}=await this.getCommitsAndPatches(),s=await this.findIssueContext(n),d=this._folderRepositoryManager.getTitleAndDescriptionProvider(i),y=await(d==null?void 0:d.provider.provideTitleAndDescription({commitMessages:n,patches:r,issues:s},e));return d&&(this.lastGeneratedTitleAndDescription={...y,providerTitle:d.title},this.telemetry.sendTelemetryEvent("pr.generatedTitleAndDescription",{providerTitle:d==null?void 0:d.title})),y}catch(n){f.error(`Error while generating title and description: ${n}`,vr.ID);return}})}async generateTitleAndDescription(e){this.generatingCancellationToken&&this.generatingCancellationToken.cancel(),this.generatingCancellationToken=new a.CancellationTokenSource;const i=await Promise.race([this.getTitleAndDescriptionFromProvider(this.generatingCancellationToken.token,e.args.useCopilot?"Copilot":void 0),new Promise(r=>{var s;return(s=this.generatingCancellationToken)==null?void 0:s.token.onCancellationRequested(()=>r(!0))})]);this.generatingCancellationToken=void 0;const n={title:void 0,description:void 0};return i!==!0&&(n.title=i==null?void 0:i.title,n.description=i==null?void 0:i.description),this._replyMessage(e,{title:n==null?void 0:n.title,description:n==null?void 0:n.description})}async cancelGenerateTitleAndDescription(){this.generatingCancellationToken&&this.generatingCancellationToken.cancel()}async getPreReviewFromProvider(e){const i=this._folderRepositoryManager.getAutoReviewer();if(!i)return;const{commitMessages:n,patches:r}=await this.getCommitsAndPatches(),s=await i.provider.provideReviewerComments({repositoryRoot:this._folderRepositoryManager.repository.rootUri.fsPath,commitMessages:n,patches:r},e);return s&&s.succeeded&&s.files.length>0?Ao.ReviewedWithComments:Ao.ReviewedWithoutComments}async review(){this._postMessage({command:"reviewing",params:{reviewing:!0}})}async preReview(e){return vr.withProgress(async()=>{await Vi.setContext("pr:preReviewing",!0),this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel(),this.reviewingCancellationToken=new a.CancellationTokenSource;const i=await Promise.race([this.getPreReviewFromProvider(this.reviewingCancellationToken.token),new Promise(n=>{var r;return(r=this.reviewingCancellationToken)==null?void 0:r.token.onCancellationRequested(()=>n())})]);return this.reviewingCancellationToken=void 0,await Vi.setContext("pr:preReviewing",!1),this._replyMessage(e,i)})}async cancelPreReview(){this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel()}async pushUpstream(e,i,n){let r;const s=this._folderRepositoryManager.repository.state.remotes.find(d=>{if(!d.pushUrl)return!1;const y=new ms(d.name,d.pushUrl,new cn(d.pushUrl),ln.GitHubDotCom);return y.owner.toLowerCase()===e.toLowerCase()&&y.repositoryName.toLowerCase()===i.toLowerCase()?(r=y,!0):!1});if(s&&r)return f.appendLine(`Found push remote ${s.name} for ${e}/${i} and branch ${n}`,vr.ID),await this._folderRepositoryManager.repository.push(s.name,n,!0),await this._folderRepositoryManager.repository.status(),{compareUpstream:r,repo:this._folderRepositoryManager.findRepo(Xs(r.remoteName))}}checkGeneratedTitleAndDescription(e,i){var n,r;if(!this.lastGeneratedTitleAndDescription)return;const s=!!this.lastGeneratedTitleAndDescription.title&&(this.lastGeneratedTitleAndDescription.title===e||((n=this.lastGeneratedTitleAndDescription.title)==null?void 0:n.includes(e))||(e==null?void 0:e.includes(this.lastGeneratedTitleAndDescription.title))),d=!!this.lastGeneratedTitleAndDescription.description&&(this.lastGeneratedTitleAndDescription.description===i||((r=this.lastGeneratedTitleAndDescription.description)==null?void 0:r.includes(i))||(i==null?void 0:i.includes(this.lastGeneratedTitleAndDescription.description)));this.telemetry.sendTelemetryEvent("pr.usedGeneratedTitleAndDescription",{providerTitle:this.lastGeneratedTitleAndDescription.providerTitle,usedGeneratedTitle:s.toString(),usedGeneratedDescription:d.toString()})}async checkForChanges(){if(await this.model.filesHaveChanges()){const e=a.l10n.t("Commit"),i=a.l10n.t("Delete my changes"),n=await a.window.showWarningMessage(a.l10n.t("You have made changes to the files in this pull request. Do you want to commit these changes to the pull request before creating it?"),{modal:!0},e,i);if(n===e){const r=await a.window.showInputBox({prompt:a.l10n.t("Commit message for your changes")});if(r)return this.model.applyChanges(r)}else if(n!==i)return!1}return!0}async create(e){if(f.debug(`Creating pull request with args ${JSON.stringify(e.args)}`,vr.ID),!await this.checkForChanges()){f.debug("Not continuing past checking for file changes.",vr.ID),await this._replyMessage(e,{});return}const i={autoMerge:e.args.autoMerge,mergeMethod:e.args.autoMergeMethod,isDraft:e.args.draft};this._folderRepositoryManager.context.workspaceState.update(Ec,i),vr.withProgress(()=>a.window.withProgress({location:a.ProgressLocation.Notification},async n=>{Vi.setContext("pr:creating",!0);let r=0;n.report({message:a.l10n.t("Checking for upstream branch"),increment:r});let s;try{const d=e.args.compareOwner,y=e.args.compareRepo,F=e.args.compareBranch,W=`${d}/${y}`;let le=(await this._folderRepositoryManager.repository.getBranch(F)).upstream?this._folderRepositoryManager.findRepo(Ie=>Ie.remote.owner===d&&Ie.remote.repositoryName===y):void 0,de=le==null?void 0:le.remote;if(!de||de.owner!==d||de.repositoryName!==y){const Ie=a.l10n.t("Always Publish Branch"),oe=a.l10n.t("Publish Branch"),Te=a.workspace.getConfiguration(Xe).get(It)==="always"?oe:await a.window.showInformationMessage(a.l10n.t(`There is no remote branch on {0}/{1} for '{2}'.

Do you want to publish it and then create the pull request?`,d,y,F),{modal:!0},oe,Ie);if(Te===Ie&&await a.workspace.getConfiguration(Xe).update(It,"always",a.ConfigurationTarget.Global),Te===Ie||Te===oe){n.report({message:a.l10n.t("Pushing branch"),increment:10}),r+=10;const Fe=await this.pushUpstream(d,y,F);Fe?(de=Fe.compareUpstream,le=Fe.repo):this._throwError(e,a.l10n.t("The current repository does not have a push remote for {0}",W))}}if(!de){this._throwError(e,a.l10n.t("No remote branch on {0}/{1} for the merge branch.",d,y)),n.report({message:a.l10n.t("Pull request cancelled"),increment:100-r});return}if(!le)throw new Error(a.l10n.t(`Unable to find GitHub repository matching '{0}'. You can add '{0}' to the setting "githubPullRequests.remotes" to ensure '{0}' is found.`,de.remoteName));n.report({message:a.l10n.t("Creating pull request"),increment:70-r}),r+=70-r;const ke=`${le.remote.owner}:${F}`;this.checkGeneratedTitleAndDescription(e.args.title,e.args.body),s=await this._folderRepositoryManager.createPullRequest({...e.args,head:ke}),s?await this.postCreate(e,s):this._throwError(e,a.l10n.t("There must be a difference in commits to create a pull request."))}catch(d){if(s)d.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,s),a.window.showErrorMessage(a.l10n.t("There was an error creating the pull request: {0}",d.message));else{let y=d.message;y.startsWith("GraphQL error: ")&&(y=y.substring("GraphQL error: ".length)),this._throwError(e,y)}}finally{Vi.setContext("pr:creating",!1);let d;s?(this._onDone.fire(s),d=a.l10n.t("Pull request created")):(await this._replyMessage(e,{}),d=a.l10n.t("Unable to create pull request")),n.report({message:d,increment:100-r})}}))}async changeBranch(e,i){let n;if(i)this.model.baseBranch=e;else try{n=await this._folderRepositoryManager.repository.getBranch(e),await this.model.setCompareBranch(e)}catch(r){a.window.showErrorMessage(a.l10n.t("Branch does not exist locally."))}return n=n!=null?n:await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),this.getTitleAndDescription(n,this.model.baseBranch)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.changeBaseRemoteAndBranch":return this.changeRemoteAndBranch(e,!0);case"pr.changeCompareRemoteAndBranch":return this.changeRemoteAndBranch(e,!1);case"pr.generateTitleAndDescription":return this.generateTitleAndDescription(e);case"pr.cancelGenerateTitleAndDescription":return this.cancelGenerateTitleAndDescription();case"pr.preReview":return this.preReview(e);case"pr.cancelPreReview":return this.cancelPreReview();default:a.window.showErrorMessage("Unsupported webview message")}}}class Cu extends kd{constructor(e,i,n,r,s,d){super(e,i,n,r,s,(F=(y=r.repository.state.HEAD)==null?void 0:y.name)!=null?F:d.base.name);this.pullRequest=d;var y,F}async getTitleAndDescription(){return{title:a.l10n.t('Revert "{0}"',this.pullRequest.title),description:a.l10n.t("Reverts {0}",`${this.pullRequest.remote.owner}/${this.pullRequest.remote.repositoryName}#${this.pullRequest.number}`)}}async detectBaseMetadata(){return{owner:this.pullRequest.remote.owner,repositoryName:this.pullRequest.remote.repositoryName,branch:this.pullRequest.base.name}}getTitleAndDescriptionProvider(e){}async getCreateParams(){const e=await super.getCreateParams();return e.canModifyBranches=!1,e.actionDetail=a.l10n.t("Reverting"),e.associatedExistingPullRequest=this.pullRequest.number,e}openAssociatedPullRequest(){return Ko(this.telemetry,this.pullRequest,void 0,this._folderRepositoryManager,!1,!0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.openAssociatedPullRequest":return this.openAssociatedPullRequest();default:a.window.showErrorMessage("Unsupported webview message")}}async create(e){let i;Cu.withProgress(async()=>{Vi.setContext("pr:creating",!0);try{i=await this._folderRepositoryManager.revert(this.pullRequest,e.args.title,e.args.body,e.args.draft),i&&(await this.postCreate(e,i),await Ko(this.telemetry,i,void 0,this._folderRepositoryManager,!0))}catch(n){if(i)n.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,i),a.window.showErrorMessage(a.l10n.t("There was an error creating the pull request: {0}",n.message));else{let r=n.message;r.startsWith("GraphQL error: ")&&(r=r.substring("GraphQL error: ".length)),this._throwError(e,r)}}finally{Vi.setContext("pr:creating",!1),i?this._onDone.fire(i):await this._replyMessage(e,{})}})}}var q_=Object.defineProperty,gr=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?q_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Sd=class{constructor(t,e,i,n,r,s){this.folderRepositoryManager=t,this.repositoryName=s,gr(this,"_baseOwner"),gr(this,"_baseBranch"),gr(this,"_compareOwner"),gr(this,"_compareBranch"),gr(this,"_constructed"),gr(this,"_onDidChange",new a.EventEmitter),gr(this,"onDidChange",this._onDidChange.event),gr(this,"_compareGitHubRepository"),gr(this,"_gitLog"),gr(this,"_gitFiles"),gr(this,"_compareHasUpstream",!1),gr(this,"_gitHubMergeBase"),gr(this,"_gitHubLog"),gr(this,"_gitHubFiles"),gr(this,"_gitHubcontentProvider"),gr(this,"_gitcontentProvider"),this._baseOwner=e,this._baseBranch=i,this._compareBranch=i,this._gitcontentProvider=new Qg(this.folderRepositoryManager),this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(d=>d.remote.owner===n&&d.remote.repositoryName===s),this._gitHubcontentProvider=new ph(this.folderRepositoryManager.gitHubRepositories),this._constructed=new Promise(d=>this.setCompareBranch(r).then(d)),this.compareOwner=n}get gitHubContentProvider(){return this._gitHubcontentProvider}get gitContentProvider(){return this._gitcontentProvider}get baseRemoteName(){var t,e;const i=`/${this._baseOwner.toLowerCase()}/`;return(e=(t=this.folderRepositoryManager.repository.state.remotes.find(n=>{var r;return(r=n.fetchUrl)==null?void 0:r.toLowerCase().includes(i)}))==null?void 0:t.name)!=null?e:"origin"}get baseOwner(){return this._baseOwner}set baseOwner(t){t!==this._baseOwner&&(this._baseOwner=t,this.update({baseOwner:this._baseOwner}))}get baseBranch(){return this._baseBranch}set baseBranch(t){t!==this._baseBranch&&(this._baseBranch=t,this.update({baseBranch:this._baseBranch}))}get compareOwner(){return this._compareOwner}set compareOwner(t){t!==this._compareOwner&&(this._compareOwner=t,this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(e=>e.remote.owner===this._compareOwner),this._compareGitHubRepository&&(this._gitHubcontentProvider.gitHubRepository=this._compareGitHubRepository),this.update({compareOwner:this._compareOwner}))}async getContentProvider(){return await this.getCompareHasUpstream()?this.gitHubContentProvider:this.gitContentProvider}async filesHaveChanges(){return this.getContentProvider().then(t=>t.hasChanges())}async applyChanges(t){return await this.getCompareHasUpstream()?this.gitHubContentProvider.applyChanges(t,this._compareBranch):this.gitContentProvider.applyChanges(t)}get compareBranch(){return this._compareBranch}async setCompareBranch(t){const e=this._compareHasUpstream;let i=!1;t&&(i=await this.updateHasUpstream(t)!==e),this._compareBranch!==t&&(i=!0,t&&(this._compareBranch=t)),i&&this.update({compareBranch:this._compareBranch})}async updateHasUpstream(t){const e=await this.folderRepositoryManager.repository.getBranch(t);return this._compareHasUpstream=!!e.upstream,this._compareHasUpstream}async getCompareHasUpstream(){return await this._constructed,this._compareHasUpstream}get gitHubRepository(){return this._compareGitHubRepository}update(t){var e;this._gitLog=void 0,this._gitFiles=void 0,this._gitHubLog=void 0,this._gitHubFiles=void 0,this.gitContentProvider.editableBranch=this._compareBranch===((e=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:e.name)?this._compareBranch:void 0,this.gitHubContentProvider.editableBranch=this._compareBranch,this._onDidChange.fire(t)}async gitCommits(){if(await this._constructed,this._gitLog===void 0){const t=this._baseBranch,e=this._compareBranch,i=this.folderRepositoryManager.repository.log({range:`${this.baseRemoteName}/${this._baseBranch}..${this._compareBranch}`});if(t!==this._baseBranch||e!==this._compareBranch)return i;this._gitLog=i}return this._gitLog}async gitFiles(){if(await this._constructed,this._gitFiles===void 0){const t=this._baseBranch,e=this._compareBranch,i=await this.folderRepositoryManager.repository.diffBetween(`${this.baseRemoteName}/${this._baseBranch}`,this._compareBranch);if(t!==this._baseBranch||e!==this._compareBranch)return f.debug(`Branches have changed while getting git diff. Base: ${t} -> ${this._baseBranch}, Compare: ${e} -> ${this._compareBranch}`,Sd.ID),i;f.debug(`Got ${i.length} git file diffs for merging ${this._compareOwner}/${this._compareBranch} in ${this._baseOwner}/${this._baseBranch}`,Sd.ID),this._gitFiles=i}return this._gitFiles}async gitHubCommits(){var t;if(await this._constructed,!this._compareGitHubRepository)return[];if(this._gitHubLog===void 0){const{octokit:e,remote:i}=await this._compareGitHubRepository.ensure(),{data:n}=await e.call(e.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:`${this._baseOwner}:${this._baseBranch}`,head:`${this._compareOwner}:${this._compareBranch}`});this._gitHubLog=n.commits,this._gitHubFiles=(t=n.files)!=null?t:[],this._gitHubMergeBase=n.merge_base_commit.sha}return this._gitHubLog}async gitHubFiles(){return await this._constructed,this._gitHubFiles===void 0&&await this.gitHubCommits(),this._gitHubFiles}async gitHubMergeBase(){return await this._constructed,this._gitHubMergeBase===void 0&&await this.gitHubCommits(),this._gitHubMergeBase}};let Tp=Sd;gr(Tp,"ID","CreatePullRequestDataModel");var H_=Object.defineProperty,ol=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?H_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class $_{constructor(){ol(this,"_disposables",[]),ol(this,"_createPRViewProvider"),ol(this,"_treeView"),ol(this,"_postCreateCallback"),ol(this,"_activeContext")}async setActiveContext(e){this._activeContext&&await a.commands.executeCommand("setContext",this._activeContext,e)}registerListeners(e,i){this._disposables.push(this._createPRViewProvider.onDone(async n=>{this.setActiveContext(!1),await vr.withProgress(async()=>{var r;return(r=this._postCreateCallback)==null?void 0:r.call(this,n)}),this.dispose()})),this._disposables.push(a.commands.registerCommand("pr.addAssigneesToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addAssignees()})),this._disposables.push(a.commands.registerCommand("pr.addReviewersToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addReviewers()})),this._disposables.push(a.commands.registerCommand("pr.addLabelsToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addLabels()})),this._disposables.push(a.commands.registerCommand("pr.addMilestoneToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addMilestone()})),this._disposables.push(a.commands.registerCommand("pr.addProjectsToNewPr",n=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addProjects()})),this._disposables.push(a.commands.registerCommand("pr.createPrMenuCreate",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!1,void 0)})),this._disposables.push(a.commands.registerCommand("pr.createPrMenuDraft",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!0,!1,void 0)})),this._disposables.push(a.commands.registerCommand("pr.createPrMenuMergeWhenReady",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!0,void 0,!0)})),this._disposables.push(a.commands.registerCommand("pr.createPrMenuMerge",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!0,"merge")})),this._disposables.push(a.commands.registerCommand("pr.createPrMenuSquash",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!0,"squash")})),this._disposables.push(a.commands.registerCommand("pr.createPrMenuRebase",()=>{var n;(n=this._createPRViewProvider)==null||n.createFromCommand(!1,!0,"rebase")})),this._disposables.push(a.commands.registerCommand("pr.preReview",()=>{this._createPRViewProvider instanceof vr&&this._createPRViewProvider.review()})),i&&this._disposables.push(e.state.onDidChange(n=>{this._createPRViewProvider&&e.state.HEAD&&this._createPRViewProvider instanceof vr&&this._createPRViewProvider.setDefaultCompareBranch(e.state.HEAD)}))}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,i){if(e.gitHubRepositories.some(n=>n.remote.owner===i.owner&&n.remote.repositoryName===i.repo))return i;{const n=await e.getOrigin(),r=await e.getMetadata(n.remote.remoteName);return{owner:r.owner.login,repo:r.name,base:r.default_branch}}}async revert(e,i,n,r,s){var d;if(this.reset(),this._postCreateCallback=s,await n.loginAndUpdate(),this._activeContext="github:revertPullRequest",this.setActiveContext(!0),!this._createPRViewProvider||!(this._createPRViewProvider instanceof Cu)){(d=this._createPRViewProvider)==null||d.dispose();const y={baseOwner:r.remote.owner,repositoryName:r.remote.repositoryName};this._createPRViewProvider=new Cu(e,y,i,n,{base:r.base.name,owner:r.remote.owner,repo:r.remote.repositoryName},r),this.registerListeners(n.repository,!1),this._disposables.push(a.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider))}this._createPRViewProvider.show()}async create(e,i,n,r,s){var d,y,F,W;this.reset(),this._postCreateCallback=s,await n.loginAndUpdate(),this._activeContext="github:createPullRequest",this.setActiveContext(!0);const ie=((y=r?await n.repository.getBranch(r):void 0)!=null?y:(d=n.repository.state.HEAD)==null?void 0:d.name)?n.repository.state.HEAD:void 0;let le;if(!this._createPRViewProvider||!(this._createPRViewProvider instanceof vr)){(F=this._createPRViewProvider)==null||F.dispose();const de=await this.ensureDefaultsAreLocal(n,await n.getPullRequestDefaults(ie)),ke=await n.getOrigin(ie),Ie=new Tp(n,de.owner,de.base,ke.remote.owner,(W=ie==null?void 0:ie.name)!=null?W:de.base,ke.remote.repositoryName);le=this._createPRViewProvider=new vr(e,Ie,i,n,de),this._treeView=new Sp(n,Ie),this.registerListeners(n.repository,!r),this._disposables.push(a.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider))}else le=this._createPRViewProvider;le.show(ie)}reset(){var e,i;this.setActiveContext(!1),(e=this._createPRViewProvider)==null||e.dispose(),this._createPRViewProvider=void 0,(i=this._treeView)==null||i.dispose(),this._treeView=void 0,this._postCreateCallback=void 0,this._activeContext=void 0,j(this._disposables)}dispose(){this.reset()}}class G_ extends _p{constructor(){super()}registerPullRequestPropertyChangedListeners(e,i){return i.onDidChangeFileViewedState(n=>{n.changed.forEach(r=>{this._handlePullRequestPropertyChange(e,i,{path:r.fileName})})})}provideFileDecoration(e,i){if(!e.query)return;const n=Kf(e);if(n&&n.status!==void 0)return{propagate:!1,badge:this.letter(n.status),color:this.color(n.status),tooltip:this.tooltip(n)};const r=Hn(e);if(r&&r.status!==void 0)return{propagate:!1,badge:this.letter(r.status),color:this.color(r.status),tooltip:this.tooltip(r)}}gitColors(e){switch(e){case nt.MODIFY:return"gitDecoration.modifiedResourceForeground";case nt.ADD:return"gitDecoration.addedResourceForeground";case nt.DELETE:return"gitDecoration.deletedResourceForeground";case nt.RENAME:return"gitDecoration.renamedResourceForeground";case nt.UNKNOWN:return;case nt.UNMERGED:return"gitDecoration.conflictingResourceForeground"}}remoteReposColors(e){switch(e){case nt.MODIFY:return"remoteHub.decorations.modifiedForegroundColor";case nt.ADD:return"remoteHub.decorations.addedForegroundColor";case nt.DELETE:return"remoteHub.decorations.deletedForegroundColor";case nt.RENAME:return"remoteHub.decorations.incomingRenamedForegroundColor";case nt.UNKNOWN:return;case nt.UNMERGED:return"remoteHub.decorations.conflictForegroundColor"}}color(e){let i=a.extensions.getExtension("vscode.git")?this.gitColors(e):this.remoteReposColors(e);return i?new a.ThemeColor(i):void 0}letter(e){switch(e){case nt.MODIFY:return"M";case nt.ADD:return"A";case nt.DELETE:return"D";case nt.RENAME:return"R";case nt.UNKNOWN:return"U";case nt.UNMERGED:return"C"}return""}tooltip(e){if(e.status===nt.RENAME&&e.previousFileName)return`Renamed ${e.previousFileName} to ${m.basename(e.fileName)}`}}var Nu;(function(t){function e(i){const n=[],r=[];if(i.items.forEach(s=>{const d=s[0],y=s[1];d instanceof Qs&&(y==a.TreeItemCheckboxState.Checked?n.push(d):r.push(d)),d.updateFromCheckboxChanged(y)}),n.length>0){const s=n[0].pullRequest,d=n.map(y=>y.fileName);s.markFiles(d,!0,"viewed")}if(r.length>0){const s=r[0].pullRequest,d=r.map(y=>y.fileName);s.markFiles(d,!0,"unviewed")}}t.processCheckboxUpdates=e})(Nu||(Nu={}));var V_=Object.defineProperty,fo=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?V_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Cp extends a.Disposable{constructor(e,i,n){super(()=>this.dispose());this._context=e,this._git=i,this._reposManager=n,fo(this,"_onDidChangeTreeData",new a.EventEmitter),fo(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),fo(this,"_disposables",[]),fo(this,"_pullRequestManagerMap",new Map),fo(this,"_view"),fo(this,"_children"),this._view=a.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0}),this._context.subscriptions.push(this._view),this._disposables.push(a.workspace.onDidChangeConfiguration(async r=>{if(r.affectsConfiguration(`${Xe}.${Nt}`)){this._onDidChangeTreeData.fire();const s=a.workspace.getConfiguration(Xe).get(Nt);await a.commands.executeCommand("setContext","fileListLayout:flat",s==="flat")}else r.affectsConfiguration(`${on}.${Si}`)&&this._onDidChangeTreeData.fire()})),this._disposables.push(this._view.onDidChangeCheckboxState(Nu.processCheckboxUpdates))}get view(){return this._view}refresh(e){this._onDidChangeTreeData.fire(e)}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const i=this._pullRequestManagerMap.values().next();i.done||(e=i.value.pullRequestModel.number)}this._view.title=e?a.l10n.t("Changes in Pull Request #{0}",e):this._pullRequestManagerMap.size>1?a.l10n.t("Changes in Pull Requests"):a.l10n.t("Changes in Pull Request")}async addPrToView(e,i,n,r,s){if(f.appendLine(`Adding PR #${i.number} to tree`,_),this._pullRequestManagerMap.has(e)){const y=this._pullRequestManagerMap.get(e);if(y&&y.pullRequestModel===i){f.appendLine(`PR #${i.number} already exists in tree`,_);return}else y==null||y.dispose()}const d=new tu(this,i,e,n,s);this._pullRequestManagerMap.set(e,d),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire(),r&&this.reveal(d)}async setReviewModeContexts(){await Vi.setContext(er.IN_REVIEW_MODE,this._pullRequestManagerMap.size>0);const e=[],i=[];this._git.repositories.forEach(n=>{const r=this._reposManager.getManagerForFile(n.rootUri);r&&!this._pullRequestManagerMap.has(r)?e.push(n.rootUri):r&&i.push(n.rootUri)}),await Vi.setContext(er.REPOS_NOT_IN_REVIEW_MODE,e),await Vi.setContext(er.REPOS_IN_REVIEW_MODE,i)}async removePrFromView(e){const i=this._pullRequestManagerMap.has(e)?this._pullRequestManagerMap.get(e):void 0;i&&f.appendLine(`Removing PR #${i.pullRequestModel.number} from tree`,_),i==null||i.dispose(),this._pullRequestManagerMap.delete(e),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,i){try{await this._view.reveal(e,i)}catch(n){f.error(n,_)}}get children(){return this._children}sortMap(){const e=a.workspace.workspaceFolders,i=(n,r)=>{const s=n.fsPath.toLowerCase(),d=r.fsPath.toLowerCase();return C(s,d)||C(d,s)};return Array.from(this._pullRequestManagerMap.entries()).sort((n,r)=>{if(n[0].repository.rootUri.toString()===r[0].repository.rootUri.toString()||!e)return 0;const s=e.findIndex(y=>i(y.uri,n[0].repository.rootUri)),d=e.findIndex(y=>i(y.uri,r[0].repository.rootUri));return s===-1?1:d===-1?-1:s-d}).map(([n,r])=>r)}async getChildren(e){if(e)return await e.getChildren();if(this._children=[],this._pullRequestManagerMap.size>=1){const i=this.sortMap();for(const n of i)this._children.push(n)}return this._children}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,i){return i instanceof Ys&&await i.resolve(),i}dispose(){this._disposables.forEach(e=>e.dispose())}}var j_=Object.defineProperty,Rd=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?j_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class z_{constructor(e){this._notificationProvider=e,Rd(this,"_disposables",[]),Rd(this,"_onDidChangeFileDecorations",new a.EventEmitter),Rd(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._disposables.push(a.window.registerFileDecorationProvider(this)),this._disposables.push(this._notificationProvider.onDidChangeNotifications(i=>this._onDidChangeFileDecorations.fire(i)))}provideFileDecoration(e,i){if(!e.query)return;const n=Vf(e);if(n&&this._notificationProvider.hasNotification(n.prIdentifier))return{propagate:!1,color:new a.ThemeColor("pullRequests.notification"),badge:"\u25CF",tooltip:"unread notification"}}dispose(){this._disposables.forEach(e=>e.dispose())}}var W_=Object.defineProperty,br=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?W_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Np=60;class K_{constructor(e,i,n,r,s){br(this,"identifier"),br(this,"threadId"),br(this,"repositoryName"),br(this,"pullRequestNumber"),br(this,"pullRequestModel"),this.identifier=e,this.threadId=i,this.repositoryName=n,this.pullRequestNumber=r,this.pullRequestModel=s}}const ho=class{constructor(t,e,i){br(this,"_gitHubPrsTree"),br(this,"_credentialStore"),br(this,"_authProvider"),br(this,"_notifications"),br(this,"_reposManager"),br(this,"_pollingDuration"),br(this,"_lastModified"),br(this,"_pollingHandler"),br(this,"disposables",[]),br(this,"_onDidChangeNotifications",new a.EventEmitter),br(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),this._gitHubPrsTree=t,this._credentialStore=e,this._reposManager=i,this._notifications=new Map,this._lastModified="",this._pollingDuration=Np,this._pollingHandler=null,this.registerAuthProvider(e);for(const n of this._reposManager.folderManagers)this.disposables.push(n.onDidChangeGithubRepositories(()=>{this.refreshOrLaunchPolling()}));this.disposables.push(t.onDidChangeTreeData(n=>{ho.isPRNotificationsOn()&&this.adaptPRNotifications(n)})),this.disposables.push(t.onDidChange(()=>{ho.isPRNotificationsOn()&&this.adaptPRNotifications()})),this.disposables.push(a.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration(`${Xe}.${Kt}`)&&this.checkNotificationSetting()}))}static isPRNotificationsOn(){return a.workspace.getConfiguration(Xe).get(Kt)==="pullRequests"}registerAuthProvider(t){t.isAuthenticated(ki.githubEnterprise)&&aa()?this._authProvider=ki.githubEnterprise:t.isAuthenticated(ki.github)&&(this._authProvider=ki.github),this.disposables.push(a.authentication.onDidChangeSessions(e=>{t.isAuthenticated(ki.githubEnterprise)&&aa()&&(this._authProvider=ki.githubEnterprise),t.isAuthenticated(ki.github)&&(this._authProvider=ki.github)}))}getPrIdentifier(t){if(t instanceof rr)return`${t.remote.url}:${t.number}`;const e=t.subject.url.split("/"),i=e[e.length-1];return`${t.repository.html_url}.git:${i}`}hasNotification(t){const e=t instanceof ir?this.getPrIdentifier(t):t,i=this._notifications.get(e);return i!==void 0&&i.length>0}updateViewBadge(){const t=this._gitHubPrsTree.view,e=a.l10n.t("1 notification"),i=a.l10n.t("{0} notifications",this._notifications.size);t.badge=this._notifications.size!==0?{tooltip:this._notifications.size===1?e:i,value:this._notifications.size}:void 0}adaptPRNotifications(t){if(this._pollingHandler===void 0&&this.startPolling(),t instanceof Gr){const e=this._notifications.get(this.getPrIdentifier(t.pullRequestModel));if(e){for(const i of e)if(i){i.pullRequestModel=t.pullRequestModel;return}}}this._gitHubPrsTree.cachedChildren().then(async e=>{let i=[];for(const n of e)if(n.id==="All Open")if(n.prs.length===0)for(const r of await n.cachedChildren())r instanceof Gr&&i.push(r.pullRequestModel);else i=n.prs;i.forEach(n=>{const r=this._notifications.get(this.getPrIdentifier(n));if(r)for(const s of r)s.pullRequestModel=n})})}refreshOrLaunchPolling(){this._lastModified="",this.checkNotificationSetting()}checkNotificationSetting(){const t=ho.isPRNotificationsOn();t&&this._pollingHandler===null?this.startPolling():!t&&this._pollingHandler!==null&&(clearInterval(this._pollingHandler),this._lastModified="",this._pollingHandler=null,this._pollingDuration=Np,this._onDidChangeNotifications.fire(this.uriFromNotifications()),this._notifications.clear(),this.updateViewBadge())}uriFromNotifications(){const t=[];for(const[e,i]of this._notifications.entries())i.length&&t.push(mc(e));return t}getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async getNotifications(){const t=this.getGitHub();if(t===void 0)return;const{data:e,headers:i}=await t.octokit.call(t.octokit.api.activity.listNotificationsForAuthenticatedUser,{});return{data:e,headers:i}}async markNotificationThreadAsRead(t){const e=this.getGitHub();!e||await e.octokit.call(e.octokit.api.activity.markThreadAsRead,{thread_id:t})}async markPrNotificationsAsRead(t){const e=this.getPrIdentifier(t),i=this._notifications.get(e);if(i&&i.length){for(const r of i)await this.markNotificationThreadAsRead(r.threadId);const n=this.uriFromNotifications();this._onDidChangeNotifications.fire(n),this._notifications.delete(e),this.updateViewBadge()}}async pollForNewNotifications(){var t;const e=await this.getNotifications();if(e===void 0)return;const{data:i,headers:n}=e,r=Number(n["x-poll-interval"]);if(r!==this._pollingDuration&&(this._pollingDuration=r,this._pollingHandler&&ho.isPRNotificationsOn()&&(f.appendLine("Notifications: Clearing interval"),clearInterval(this._pollingHandler),f.appendLine(`Notifications: Starting new polling interval with ${this._pollingDuration}`),this.startPolling())),this._lastModified===n["last-modified"])return;this._lastModified=(t=n["last-modified"])!=null?t:"";const s=this.uriFromNotifications();this._notifications.clear();const d=new Map;this._reposManager.folderManagers.forEach(y=>{y.gitHubRepositories.forEach(F=>{d.set(F.remote.url,F)})}),await Promise.all(i.map(async y=>{var F;const W=`${y.repository.html_url}.git`,ie=d.get(W);if(ie&&y.subject.type==="PullRequest"){const le=y.subject.url.split("/"),de=Number(le[le.length-1]),ke=this.getPrIdentifier(y),{remote:Ie,query:oe,schema:ye}=await ie.ensure(),{data:Te}=await oe({query:ye.PullRequestState,variables:{owner:Ie.owner,name:Ie.repositoryName,number:de}});if(Te.repository===null&&f.error("Unexpected null repository when getting notifications",ho.ID),((F=Te.repository)==null?void 0:F.pullRequest.state)==="OPEN"){const Fe=new K_(ke,Number(y.id),y.repository.name,Number(de)),qe=this._notifications.get(ke);qe===void 0?this._notifications.set(ke,[Fe]):qe.push(Fe)}}})),this.adaptPRNotifications(),this.updateViewBadge();for(const y of this.uriFromNotifications())s.find(F=>F.fsPath===y.fsPath)===void 0&&s.push(y);this._onDidChangeNotifications.fire(s)}startPolling(){this.pollForNewNotifications(),this._pollingHandler=setInterval(function(t){t.pollForNewNotifications()},this._pollingDuration*1e3,this)}dispose(){this._pollingHandler&&clearInterval(this._pollingHandler),this.disposables.forEach(t=>t.dispose())}};let Mp=ho;br(Mp,"ID","NotificationProvider");var Q_=Object.defineProperty,da=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Q_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i),_s;(function(t){t[t.Empty=0]="Empty",t[t.More=1]="More",t[t.TryOtherRemotes=2]="TryOtherRemotes",t[t.Login=3]="Login",t[t.LoginEnterprise=4]="LoginEnterprise",t[t.NoRemotes=5]="NoRemotes",t[t.NoMatchingRemotes=6]="NoMatchingRemotes",t[t.ConfigureRemotes=7]="ConfigureRemotes"})(_s||(_s={}));class ts extends ar{constructor(e,i,n){super();switch(da(this,"collapsibleState"),da(this,"iconPath"),da(this,"type"),da(this,"command"),this.parent=e,this.type=i,this.collapsibleState=a.TreeItemCollapsibleState.None,i){case 0:this.label=a.l10n.t("0 pull requests in this category");break;case 1:this.label=a.l10n.t("Load more"),this.command={title:a.l10n.t("Load more"),command:"pr.loadMore",arguments:[n]};break;case 2:this.label=a.l10n.t("Continue fetching from other remotes"),this.command={title:a.l10n.t("Load more"),command:"pr.loadMore",arguments:[n]};break;case 3:this.label=a.l10n.t("Sign in"),this.command={title:a.l10n.t("Sign in"),command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label=a.l10n.t("Sign in with GitHub Enterprise..."),this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 5:this.label=a.l10n.t("No GitHub repositories found.");break;case 6:this.label=a.l10n.t("No remotes match the current setting.");break;case 7:this.label=a.l10n.t("Configure remotes..."),this.command={title:a.l10n.t("Configure remotes"),command:"pr.configureRemotes",arguments:[]};break;default:break}}getTreeItem(){return this}}class Mu extends ar{constructor(e,i,n,r,s,d,y,F){super();this.parent=e,this._folderRepoManager=i,this._telemetry=n,this.type=r,this._notificationProvider=s,this._prsTreeModel=d,this._categoryQuery=F,da(this,"children"),da(this,"collapsibleState"),da(this,"prs"),da(this,"fetchNextPage",!1),da(this,"repositoryPageInformation",new Map),da(this,"contextValue"),da(this,"id","");var W;switch(this.prs=[],this.type){case Ki.All:this.label=a.l10n.t("All Open");break;case Ki.Query:this.label=y;break;case Ki.LocalPullRequest:this.label=a.l10n.t("Local Pull Request Branches");break;default:this.label="";break}this.id=e instanceof ar?`${(W=e.id)!=null?W:e.label}/${this.label}`:this.label,this._prsTreeModel.expandedQueries.size===0&&this.type===Ki.All?this.collapsibleState=a.TreeItemCollapsibleState.Expanded:this.collapsibleState=this._prsTreeModel.expandedQueries.has(this.id)?a.TreeItemCollapsibleState.Expanded:a.TreeItemCollapsibleState.Collapsed,this._categoryQuery&&(this.contextValue="query")}async addNewQuery(e,i,n){const r=a.window.createInputBox();r.title=a.l10n.t("Enter the title of the new query"),r.placeholder=a.l10n.t("Title"),r.step=1,r.totalSteps=2,r.show();let s;r.onDidAccept(async()=>{if(r.validationMessage="",r.step===1){if(!r.value){r.validationMessage=a.l10n.t("Title is required");return}s=r.value,r.value=n,r.title=a.l10n.t("Enter the GitHub search query"),r.step++}else{if(!r.value){r.validationMessage=a.l10n.t("Query is required");return}if(r.busy=!0,r.value&&s)if(i==null?void 0:i.workspaceValue)i.workspaceValue.push({label:s,query:r.value}),await e.update(Ji,i.workspaceValue,a.ConfigurationTarget.Workspace);else{const d=e.get(Ji);d==null||d.push({label:s,query:r.value}),await e.update(Ji,d,a.ConfigurationTarget.Global)}r.dispose()}}),r.onDidHide(()=>r.dispose())}updateQuery(e,i){for(const n of e)if(n.label===i.label){n.query=i.query;return}}async openSettings(e,i){let n;if(i==null?void 0:i.workspaceValue)n="workbench.action.openWorkspaceSettingsFile";else{const s=e.get(Ji);(i==null?void 0:i.defaultValue)&&JSON.stringify(i==null?void 0:i.defaultValue)===JSON.stringify(s)&&await e.update(Ji,i.defaultValue,a.ConfigurationTarget.Global),n="workbench.action.openSettingsJson"}await a.commands.executeCommand(n);const r=a.window.activeTextEditor;if(r){const d=r.document.getText().search(this.label);if(d>=0){const y=r.document.positionAt(d);r.revealRange(new a.Range(y,y)),r.selection=new a.Selection(y,y)}}}async expandPullRequest(e,i=!0){if(!this.children&&i&&(await this.getChildren(),i=!1),this.children){for(const n of this.children)if(n instanceof Gr&&n.pullRequestModel.equals(e))return this.reveal(n,{expand:!0,select:!0}),!0;if(i)return await this.getChildren(),await this.expandPullRequest(e,!1)}return!1}async editQuery(){var e,i;const n=a.workspace.getConfiguration(Xe),r=n.inspect(Ji),s=a.window.createQuickPick();s.title=a.l10n.t('Edit Pull Request Query "{0}"',(e=this.label)!=null?e:""),s.value=(i=this._categoryQuery)!=null?i:"",s.items=[{iconPath:new a.ThemeIcon("pencil"),label:a.l10n.t("Save edits"),alwaysShow:!0},{iconPath:new a.ThemeIcon("add"),label:a.l10n.t("Add new query"),alwaysShow:!0},{iconPath:new a.ThemeIcon("settings"),label:a.l10n.t("Edit in settings.json"),alwaysShow:!0}],s.activeItems=[],s.selectedItems=[],s.onDidAccept(async()=>{var d;if(s.busy=!0,s.selectedItems[0]===s.items[0]){const y=s.value;if(y!==this._categoryQuery&&this.label)if(r==null?void 0:r.workspaceValue)this.updateQuery(r.workspaceValue,{label:this.label,query:y}),await n.update(Ji,r.workspaceValue,a.ConfigurationTarget.Workspace);else{const F=(d=n.get(Ji))!=null?d:r.defaultValue;this.updateQuery(F,{label:this.label,query:y}),await n.update(Ji,F,a.ConfigurationTarget.Global)}}else s.selectedItems[0]===s.items[1]?this.addNewQuery(n,r,s.value):s.selectedItems[0]===s.items[2]&&this.openSettings(n,r);s.dispose()}),s.onDidHide(()=>s.dispose()),s.show()}async getChildren(){return await super.getChildren(),this._prsTreeModel.hasLoaded?this.doGetChildren():(this.doGetChildren().then(()=>this.refresh(this)),[])}async doGetChildren(){let e=!1,i=!1,n=!1;const r=this.fetchNextPage;if(this.fetchNextPage=!1,this.type===Ki.LocalPullRequest)try{this.prs=(await this._prsTreeModel.getLocalPullRequests(this._folderRepoManager)).items}catch(s){a.window.showErrorMessage(a.l10n.t("Fetching local pull requests failed: {0}",$(s))),n=s instanceof Ta}else try{let s;switch(this.type){case Ki.All:s=await this._prsTreeModel.getAllPullRequests(this._folderRepoManager,r);break;case Ki.Query:s=await this._prsTreeModel.getPullRequestsForQuery(this._folderRepoManager,r,this._categoryQuery);break}r?this.prs=this.prs.concat(s.items):this.prs=s.items,e=s.hasMorePages,i=s.hasUnsearchedRepositories}catch(s){const d=$(s),y=[];d.includes("Bad credentials")&&y.push(a.l10n.t("Login again")),a.window.showErrorMessage(a.l10n.t("Fetching pull requests failed: {0}",$(s)),...y).then(F=>{F&&F===y[0]&&this._folderRepoManager.credentialStore.recreate(a.l10n.t("Your login session is no longer valid."))}),n=s instanceof Ta}if(this.prs&&this.prs.length){const s=this.prs.map(d=>new Gr(this,this._folderRepoManager,d,this.type===Ki.LocalPullRequest,this._notificationProvider));return e?s.push(new ts(this,1,this)):i&&s.push(new ts(this,2,this)),this.children=s,s}else{const s=n?3:0,d=[new ts(this,s)];return this.children=d,d}}getTreeItem(){return this}}var Y_=Object.defineProperty,ea=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?Y_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);const Pp="expandedQueries";var La;(function(t){t[t.None=0]="None",t[t.ReviewRequired=1]="ReviewRequired",t[t.ChangesRequested=2]="ChangesRequested",t[t.CIFailed=4]="CIFailed",t[t.CIPending=8]="CIPending"})(La||(La={}));class J_{constructor(e,i,n){this._telemetry=e,this._reposManager=i,this._context=n,ea(this,"_disposables",[]),ea(this,"_activePRDisposables",new Map),ea(this,"_onDidChangePrStatus",new a.EventEmitter),ea(this,"onDidChangePrStatus",this._onDidChangePrStatus.event),ea(this,"_onDidChangeData",new a.EventEmitter),ea(this,"onDidChangeData",this._onDidChangeData.event),ea(this,"_expandedQueries",new Set),ea(this,"_hasLoaded",!1),ea(this,"_onLoaded",new a.EventEmitter),ea(this,"onLoaded",this._onLoaded.event),ea(this,"_queriedPullRequests",new Map),ea(this,"_cachedPRs",new Map);const r=s=>[s.onDidChangeActivePullRequest(()=>{this.clearRepo(s),this._activePRDisposables.has(s)&&(j(this._activePRDisposables.get(s)),this._activePRDisposables.delete(s)),s.activePullRequest&&this._activePRDisposables.set(s,[s.activePullRequest.onDidChangeComments(()=>{this.clearRepo(s)})])})];this._disposables.push(...this._reposManager.folderManagers.map(s=>r(s)).flat()),this._disposables.push(this._reposManager.onDidChangeFolderRepositories(s=>{s.added&&(this._disposables.push(...r(s.added)),this._onDidChangeData.fire(s.added))})),this._expandedQueries=new Set(this._context.workspaceState.get(Pp,[]))}updateExpandedQueries(e,i){e instanceof Mu&&(i?this._expandedQueries.add(e.id):this._expandedQueries.delete(e.id),this._context.workspaceState.update(Pp,Array.from(this._expandedQueries.keys())))}get expandedQueries(){return this._reposManager.folderManagers.length>3&&this._expandedQueries.size>0?new Set:this._expandedQueries}get hasLoaded(){return this._hasLoaded}set hasLoaded(e){this._hasLoaded=e,this._onLoaded.fire()}cachedPRStatus(e){return this._queriedPullRequests.get(e)}clearCache(){this._cachedPRs.clear(),this._onDidChangeData.fire()}clearRepo(e){this._cachedPRs.delete(e),this._onDidChangeData.fire(e)}async _getChecks(e){let i=[];for(let r=0;r<e.length;r+=100){const s=r+100<e.length?r+100:e.length;i.push(...await Promise.all(e.slice(r,s).map(d=>d.getStatusChecks())))}const n=[];for(let r=0;r<e.length;r++){const s=e[r],[d,y]=i[r];let F=0;if(y&&(y.state===yn.Failure?F|=1:y.state==yn.Pending&&(F|=2)),!d||d.state===yn.Unknown)continue;if(d.state!==yn.Success){for(const le of d.statuses)le.state===yn.Failure?F|=4:le.state===yn.Pending&&(F|=8);F===0&&(F|=8)}const W=Qf(s),ie=this._queriedPullRequests.get(W);if(ie===void 0||ie.status!==F){const le={pullRequest:s,status:F};n.push(W),this._queriedPullRequests.set(W,le)}}this._onDidChangePrStatus.fire(n)}getFolderCache(e){let i=this._cachedPRs.get(e);return i||(i=new Map,this._cachedPRs.set(e,i)),i}async getLocalPullRequests(e,i){const n=this.getFolderCache(e);if(!i&&n.has(Ki.LocalPullRequest))return n.get(Ki.LocalPullRequest);const r=th(),s=(await e.getLocalPullRequests()).filter(d=>d.isOpen||d.isClosed&&r.closed||d.isMerged&&r.merged);return n.set(Ki.LocalPullRequest,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:s,totalCount:s.length}),this._telemetry.sendTelemetryEvent("pr.expand.local"),this._getChecks(s),this.hasLoaded=!0,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:s}}async getPullRequestsForQuery(e,i,n){const r=this.getFolderCache(e);if(!i&&r.has(n))return r.get(n);const s=await e.getPullRequests(Ki.Query,{fetchNextPage:i},n);return r.set(n,s),this._telemetry.sendTelemetryEvent("pr.expand.query"),this._getChecks(s.items),this.hasLoaded=!0,s}async getAllPullRequests(e,i,n){const r=this.getFolderCache(e);if(!n&&r.has(Ki.All)&&!i)return r.get(Ki.All);const s=await e.getPullRequests(Ki.All,{fetchNextPage:i});return r.set(Ki.All,s),this._telemetry.sendTelemetryEvent("pr.expand.all"),this._getChecks(s.items),this.hasLoaded=!0,s}dispose(){j(this._disposables),j(Array.from(this._activePRDisposables.values()).flat())}}var X_=Object.defineProperty,Ed=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?X_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Z_{constructor(e){this._prsTreeModel=e,Ed(this,"_disposables",[]),Ed(this,"_onDidChangeFileDecorations",new a.EventEmitter),Ed(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._disposables.push(a.window.registerFileDecorationProvider(this)),this._disposables.push(this._prsTreeModel.onDidChangePrStatus(i=>{this._onDidChangeFileDecorations.fire(i.map(n=>mc(n)))}))}provideFileDecoration(e,i){if(e.scheme!==oi.PRNode)return;const n=Vf(e);if(!n)return;const r=this._prsTreeModel.cachedPRStatus(n.prIdentifier);if(!!r)return this._getDecoration(r.status)}_getDecoration(e){if(e&La.CIFailed&&e&La.ReviewRequired)return{propagate:!1,badge:new a.ThemeIcon("close",new a.ThemeColor("list.errorForeground")),tooltip:"Review required and some checks have failed"};if(e&La.CIFailed)return{propagate:!1,badge:new a.ThemeIcon("close",new a.ThemeColor("list.errorForeground")),tooltip:"Some checks have failed"};if(e&La.ChangesRequested)return{propagate:!1,badge:new a.ThemeIcon("request-changes",new a.ThemeColor("list.errorForeground")),tooltip:"Changes requested"};if(e&La.CIPending)return{propagate:!1,badge:new a.ThemeIcon("sync",new a.ThemeColor("list.warningForeground")),tooltip:"Checks pending"};if(e&La.ReviewRequired)return{propagate:!1,badge:new a.ThemeIcon("circle-filled",new a.ThemeColor("list.warningForeground")),tooltip:"Review required"};if(e===La.None)return{propagate:!1,badge:new a.ThemeIcon("check-all",new a.ThemeColor("issues.open")),tooltip:"All checks passed"}}dispose(){j(this._disposables)}}var e1=Object.defineProperty,Td=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?e1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class ks extends ar{constructor(e,i,n,r,s,d,y){super();this.folderManager=n,this.telemetry=r,this.notificationProvider=s,this.context=d,this._prsTreeModel=y,Td(this,"children"),Td(this,"collapsibleState"),Td(this,"iconPath"),this.parent=e,this.collapsibleState=a.TreeItemCollapsibleState.Expanded,this.label=m.basename(i.fsPath),this.id=n.repository.rootUri.toString()}async expandPullRequest(e){if(this.children){for(const i of this.children)if(i.type===Ki.All)return i.expandPullRequest(e)}return!1}static getQueries(e){return a.workspace.getConfiguration(Xe,e.repository.rootUri).get(Ji)||[]}getTreeItem(){return this}async getChildren(){return super.getChildren(),this.children=ks.getCategoryTreeNodes(this.folderManager,this.telemetry,this,this.notificationProvider,this.context,this._prsTreeModel),this.children}static getCategoryTreeNodes(e,i,n,r,s,d){const y=ks.getQueries(e).map(F=>new Mu(n,e,i,Ki.Query,r,d,F.label,F.query));return[new Mu(n,e,i,Ki.LocalPullRequest,r,d),...y,new Mu(n,e,i,Ki.All,r,d)]}}var t1=Object.defineProperty,Ua=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?t1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Ap{constructor(e,i,n){this._telemetry=e,this._context=i,this._reposManager=n,Ua(this,"_onDidChangeTreeData",new a.EventEmitter),Ua(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Ua(this,"_onDidChange",new a.EventEmitter),Ua(this,"_disposables"),Ua(this,"_children"),Ua(this,"_view"),Ua(this,"_initialized",!1),Ua(this,"notificationProvider"),Ua(this,"prsTreeModel"),this._disposables=[],this.prsTreeModel=new J_(this._telemetry,this._reposManager,i),this._disposables.push(this.prsTreeModel),this._disposables.push(this.prsTreeModel.onDidChangeData(r=>r?this.refreshRepo(r):this.refresh())),this._disposables.push(new Z_(this.prsTreeModel)),this._disposables.push(a.commands.registerCommand("pr.refreshList",r=>{this.refresh(void 0,!0)})),this._disposables.push(a.commands.registerCommand("pr.loadMore",r=>{r.fetchNextPage=!0,this._onDidChangeTreeData.fire(r)})),this._view=a.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0}),this._disposables.push(this._view),this._children=[],this._disposables.push(a.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await a.window.showQuickPick(["Configure Remotes...","Configure Queries..."])){case"Configure Queries...":return a.commands.executeCommand("workbench.action.openSettings",`@ext:${Ws} queries`);case"Configure Remotes...":return a.commands.executeCommand("workbench.action.openSettings",`@ext:${Ws} remotes`);default:return}})),this._disposables.push(a.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Xe}.${Nt}`)&&this._onDidChangeTreeData.fire()})),this._disposables.push(this._view.onDidChangeCheckboxState(Nu.processCheckboxUpdates)),this._disposables.push(this._view.onDidExpandElement(r=>{this.prsTreeModel.updateExpandedQueries(r.element,!0)})),this._disposables.push(this._view.onDidCollapseElement(r=>{this.prsTreeModel.updateExpandedQueries(r.element,!1)}))}get onDidChange(){return this._onDidChange.event}get children(){return this._children}get view(){return this._view}async expandPullRequest(e){this._children.length===0&&await this.getChildren();for(const i of this._children)if(i instanceof ks){if(await i.expandPullRequest(e))return}else if(i.type===Ki.All&&await i.expandPullRequest(e))return}async reveal(e,i){return this._view.reveal(e,i)}initialize(e,i){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._disposables.push(this._reposManager.onDidChangeState(()=>{this.refresh()})),this._disposables.push(...e.map(n=>n.onDidChangeLocalFileChanges(r=>{this.refresh()}))),this.notificationProvider=new Mp(this,i,this._reposManager),this._disposables.push(this.notificationProvider),this.initializeCategories(),this.refresh()}async initializeCategories(){this._disposables.push(a.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${Xe}.${Ji}`)&&this.refresh()}))}refresh(e,i){return i&&this.prsTreeModel.clearCache(),e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}refreshRepo(e){if(this._children.length===0)return this.refresh();if(this._children[0]instanceof ks){const n=this._children.find(r=>r.folderManager===e);if(n){this._onDidChangeTreeData.fire(n);return}}}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,i){return i instanceof yc&&await i.resolve(),i}async needsRemotes(){var e,i,n;if(((e=this._reposManager)==null?void 0:e.state)===Fr.NeedsAuthentication)return[];const r=a.workspace.getConfiguration(Xe).get(St);let s;r?s=[new ts(this,_s.NoMatchingRemotes),new ts(this,_s.ConfigureRemotes)]:s=[new ts(this,_s.NoRemotes)];const{enterpriseRemotes:d}=this._reposManager?await qf((i=this._reposManager)==null?void 0:i.folderManagers):{enterpriseRemotes:[]};return d.length>0&&!((n=this._reposManager)==null?void 0:n.credentialStore.isAuthenticated(ki.githubEnterprise))&&s.push(new ts(this,_s.LoginEnterprise)),s}async cachedChildren(e){return e?e.cachedChildren():this._children}async getChildren(e){var i;if(!((i=this._reposManager)==null?void 0:i.folderManagers.length))return[];if(this._reposManager.state===Fr.Initializing)return Vi.setContext(er.LOADING_PRS_TREE,!0),[];const n=await Promise.all(this._reposManager.folderManagers.map(r=>r.getGitHubRemotes()));if(this._reposManager.folderManagers.filter((r,s)=>n[s].length>0).length===0)return this.needsRemotes();if(!e){this._children&&this._children.length&&this._children.forEach(s=>s.dispose());let r;return this._reposManager.folderManagers.length===1?r=ks.getCategoryTreeNodes(this._reposManager.folderManagers[0],this._telemetry,this,this.notificationProvider,this._context,this.prsTreeModel):r=this._reposManager.folderManagers.map(s=>new ks(this,s.repository.rootUri,s,this._telemetry,this.notificationProvider,this._context,this.prsTreeModel)),this._children=r,r}return this._reposManager.folderManagers.filter(r=>r.repository.state.remotes.length>0).length===0?Promise.resolve([new ts(this,_s.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}dispose(){this._disposables.forEach(e=>e.dispose())}}var i1=Object.defineProperty,n1=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?i1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class r1 extends kh{constructor(e,i,n){super(e,i);this.getReviewManagers=n,n1(this,"_fallback")}getChangeModelForFileAndFilesArray(e,i){for(const n of this.getReviewManagers()){const r=i(n);for(const s of r)if(s.changeModel.filePath.authority===e.authority&&s.changeModel.filePath.path===e.path)return s.changeModel}}getChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,i=>i.reviewModel.localFileChanges)}getOutdatedChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,i=>i.reviewModel.obsoleteFileChanges)}async getRepositoryForFile(e){return await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3),ac(this.gitAPI,e)}async readFile(e){var i;if(!this._fallback)return new TextEncoder().encode("");const{path:n,commit:r,rootPath:s}=sa(e.query);if(!n||!r)return new TextEncoder().encode("");const d=await this.getRepositoryForFile(a.Uri.file(s));if(!d)return a.window.showErrorMessage(`We couldn't find an open repository for ${r} locally.`),new TextEncoder().encode("");const y=m.join(d.rootUri.fsPath,n).replace(/\\/g,"/");let F;try{if(f.appendLine(`Getting change model (${d.rootUri}) content for commit ${r} and path ${y}`,"GitContentFileSystemProvider"),F=await((i=this.getChangeModelForFile(e))==null?void 0:i.showBase()),F||(f.appendLine(`Getting repository (${d.rootUri}) content for commit ${r} and path ${y}`,"GitContentFileSystemProvider"),F=await d.show(r,y)),!F)throw new Error}catch(W){if(f.appendLine("Using fallback content provider.","GitContentFileSystemProvider"),F=await this._fallback(e),!F)try{await d.getCommit(r)}catch(ie){f.error(ie),this.getOutdatedChangeModelForFile(e)||a.window.showErrorMessage(`We couldn't find commit ${r} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return new TextEncoder().encode(F||"")}registerTextDocumentContentFallback(e){this._fallback=e}}var a1=Object.defineProperty,xp=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?a1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class Dp{constructor(e,i,n,r,s,d,y,F){this._context=e,this._reposManager=i,this._reviewManagers=n,this._prsTreeDataProvider=r,this._prFileChangesProvider=s,this._telemetry=d,this._credentialStore=y,this._gitApi=F,xp(this,"_disposables"),this._disposables=[];const W=new r1(F,y,()=>this._reviewManagers);W.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._disposables.push(a.workspace.registerFileSystemProvider(oi.Review,W,{isReadonly:!0})),this.registerListeners(),this._disposables.push(this._prsTreeDataProvider)}get reviewManagers(){return this._reviewManagers}registerListeners(){this._disposables.push(a.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new Cp(this._context,this._gitApi,this._reposManager);for(const i of this._reviewManagers)i.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=new Ap(this._telemetry,this._context,this._reposManager),this._prsTreeDataProvider.initialize(this._reviewManagers.map(i=>i.reviewModel),this._credentialStore),this._disposables.push(this._prsTreeDataProvider)}}))}async provideTextDocumentContent(e){for(const i of this._reviewManagers)if(C(i.repository.rootUri.fsPath,e.fsPath))return i.provideTextDocumentContent(e);return""}addReviewManager(e){const i=a.workspace.workspaceFolders;if(i){const n=i.findIndex(r=>r.uri.toString()===e.repository.rootUri.toString());if(n>-1){const r=this._reviewManagers.slice(n,this._reviewManagers.length);this._reviewManagers=this._reviewManagers.slice(0,n),this._reviewManagers.push(e),this._reviewManagers.push(...r);return}}this._reviewManagers.push(e)}removeReviewManager(e){const i=this._reviewManagers.findIndex(n=>n.repository.rootUri.toString()===e.rootUri.toString());if(i>=0){const n=this._reviewManagers[i];this._reviewManagers.splice(i),n.dispose()}}dispose(){this._disposables.forEach(e=>{e.dispose()})}}xp(Dp,"ID","Reviews");var s1=Object.defineProperty,ll=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?s1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class o1 extends af{constructor(e,i,n,r){super(e);this._folderRepositoryManager=i,this._reviewManager=n,this._item=r,ll(this,"viewType","github:activePullRequest"),ll(this,"_existingReviewers",[]),ll(this,"_prChangeListener"),ll(this,"_prDisposables"),ll(this,"_updatePendingVisibility"),Ch(s=>{s&&this._item.update(s),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(this._folderRepositoryManager.onDidMergePullRequest(s=>{this._postMessage({command:"update-state",state:Gi.Merged})})),this._disposables.push(a.commands.registerCommand("review.approve",s=>this.approvePullRequestCommand(s))),this._disposables.push(a.commands.registerCommand("review.comment",s=>this.submitReviewCommand(s))),this._disposables.push(a.commands.registerCommand("review.requestChanges",s=>this.requestChangesCommand(s))),this._disposables.push(a.commands.registerCommand("review.approveOnDotCom",()=>ka(this._item,this._item._telemetry))),this._disposables.push(a.commands.registerCommand("review.requestChangesOnDotCom",()=>ka(this._item,this._item._telemetry)))}resolveWebviewView(e,i,n){super.resolveWebviewView(e,i,n),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async updateBranch(e){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await a.window.showErrorMessage(a.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let n=Xi.Unknown,r=5;do n=(await this._item.getMergeability()).mergeability,r--,await new Promise(d=>setTimeout(d,1e3));while(r>0&&n===Xi.Unknown);const s={events:await this._item.getTimelineEvents(),mergeable:n};await this.refresh(),this._replyMessage(e,s)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":a.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.open-create":return this.create();case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.openOnGitHub":return ka(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.update-branch":return this.updateBranch(e);case"pr.re-request-review":return this.reRequestReview(e)}}async checkoutDefaultBranch(e){var i;try{const n=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item),r=(i=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:i.name;await this._folderRepositoryManager.checkoutDefaultBranch(n),r&&await this._folderRepositoryManager.cleanupAfterPullRequest(r,this._item)}finally{this._replyMessage(e,{})}}reRequestReview(e){let i;const n=[],r=[];for(const s of this._existingReviewers){let d,y;s&&bn(s.reviewer)?(d=s.reviewer.id,y=r):s&&!bn(s.reviewer)&&(d=s.reviewer.id,y=n),y&&d&&(s.state==="REQUESTED"||d===e.args)&&(y.push(d),d===e.args&&(i=s))}this._item.requestReview(n,r).then(()=>{i&&(i.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async refresh(){return a.window.withProgress({location:{viewId:"github:activePullRequest"}},async()=>{await this._item.initializeReviewThreadCache(),await this.updatePullRequest(this._item)})}getCurrentUserReviewState(e,i){const n=e.find(r=>Sr(r.reviewer)===i.login);return n==null?void 0:n.state}registerPrSpecificListeners(e){this._prDisposables!==void 0&&j(this._prDisposables),this._prDisposables=[],this._prDisposables.push(e.onDidInvalidate(()=>this.updatePullRequest(e))),this._prDisposables.push(e.onDidChangePendingReviewState(()=>this.updatePullRequest(e)))}async updatePullRequest(e){var i;return this._view&&!this._view.visible&&((i=this._updatePendingVisibility)==null||i.dispose(),this._updatePendingVisibility=this._view.onDidChangeVisibility(async()=>{var n;this.updatePullRequest(e),(n=this._updatePendingVisibility)==null||n.dispose()})),(this._prDisposables===void 0||e.number!==this._item.number)&&this.registerPrSpecificListeners(e),this._item=e,Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),e.validateDraftMode()]).then(n=>{var r,s;const[d,y,F,W,ie,le,de,ke,Ie]=n;if(!d)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(this._item=d,!this._view)return;try{this._view.title=`${a.l10n.t("Review Pull Request")} #${e.number.toString()}`}catch(Ct){}const oe=e.equals(this._folderRepositoryManager.activePullRequest),ye=y.hasWritePermission,Te=y.mergeMethodsAvailability,Fe=ye||ke,qe=Pl(Te);this._existingReviewers=Of(W!=null?W:[],F!=null?F:[],d.author);const lt=!!(d.base&&d.head&&!d.base.repositoryCloneUrl.equals(d.head.repositoryCloneUrl)&&Ol()),mt=this.getCurrentUserReviewState(this._existingReviewers,de),Pt={number:d.number,title:d.title,url:d.html_url,createdAt:d.createdAt,body:d.body,bodyHTML:d.bodyHTML,labels:d.item.labels,author:{login:d.author.login,name:d.author.name,avatarUrl:d.userAvatar,url:d.author.url,email:d.author.email,id:d.author.id},state:d.state,isCurrentlyCheckedOut:oe,isRemoteBaseDeleted:d.isRemoteBaseDeleted,base:d.base.label,isRemoteHeadDeleted:d.isRemoteHeadDeleted,isLocalHeadDeleted:!ie,head:(s=(r=d.head)==null?void 0:r.label)!=null?s:"",canEdit:Fe,hasWritePermission:ye,mergeable:d.item.mergeable,isDraft:d.isDraft,status:null,reviewRequirement:null,canUpdateBranch:d.item.viewerCanUpdate,events:F,mergeMethodsAvailability:Te,defaultMergeMethod:qe,repositoryDefaultBranch:le,isIssue:!1,isAuthor:de.login===d.author.login,reviewers:this._existingReviewers,continueOnGitHub:lt,isDarkTheme:a.window.activeColorTheme.kind===a.ColorThemeKind.Dark,isEnterprise:d.githubRepository.remote.isEnterprise,hasReviewDraft:Ie,currentUserReviewState:mt};this._postMessage({command:"pr.initialize",pullrequest:Pt})}).catch(n=>{a.window.showErrorMessage($(n))})}close(e){a.commands.executeCommand("pr.close",this._item,e.args).then(i=>{i&&this._replyMessage(e,{value:i})})}create(){this._reviewManager.createPullRequest()}createComment(e){this._item.createIssueComment(e.args).then(i=>{this._replyMessage(e,{value:i})})}updateReviewers(e){if(e&&e.state){const i=this._existingReviewers.find(n=>e.user.login===Sr(n.reviewer));i?i.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,i,n){const r={command:"pr.submitting-review",lastReviewType:i};this._postMessage(r);try{const s=await n(e.body);this.updateReviewers(s);const d={command:"pr.append-review",review:s,reviewers:this._existingReviewers};await this._postMessage(d)}catch(s){a.window.showErrorMessage(a.l10n.t("Submitting review failed. {0}",$(s))),this._throwError(void 0,`${$(s)}`),this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,i){try{const n=await i(e.args);this.updateReviewers(n),this._replyMessage(e,{review:n,reviewers:this._existingReviewers})}catch(n){a.window.showErrorMessage(a.l10n.t("Submitting review failed. {0}",$(n))),this._throwError(e,`${$(n)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,i=>this.approvePullRequest(i))}approvePullRequestCommand(e){return this.doReviewCommand(e,za.Approve,i=>this.approvePullRequest(i))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,za.RequestChanges,i=>this.requestChanges(i))}requestChangesMessage(e){return this.doReviewMessage(e,i=>this.requestChanges(i))}submitReview(e){return this._item.submitReview(xn.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,za.Comment,i=>this.submitReview(i))}submitReviewMessage(e){return this.doReviewMessage(e,i=>this.submitReview(i))}async deleteBranch(e){const i=await Ml.deleteBranch(this._folderRepositoryManager,this._item);i.isReply?this._replyMessage(e,i.message):this._postMessage(i.message)}setReadyForReview(e){this._item.setReadyForReview().then(i=>{a.commands.executeCommand("pr.refreshList"),this._replyMessage(e,i)}).catch(i=>{a.window.showErrorMessage(a.l10n.t("Unable to set PR ready for review. {0}",$(i))),this._throwError(e,{})})}async mergePullRequest(e){const{title:i,description:n,method:r}=e.args,s=a.l10n.t("Yes");if(await a.window.showInformationMessage(a.l10n.t("Merge this pull request?"),{modal:!0},s)!==s){this._replyMessage(e,{state:Gi.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,i,n,r).then(y=>{var F;a.commands.executeCommand("pr.refreshList"),y.merged||a.window.showErrorMessage(a.l10n.t("Merging PR failed: {0}",(F=y==null?void 0:y.message)!=null?F:"")),this._replyMessage(e,{state:y.merged?Gi.Merged:Gi.Open})}).catch(y=>{a.window.showErrorMessage(a.l10n.t("Unable to merge pull request. {0}",$(y))),this._throwError(e,{})})}_getHtmlForWebview(){const e=Zu(),i=a.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(i).toString()}"></script>
	</body>
</html>`}}var l1=Object.defineProperty,Cd=(t,e,i)=>(typeof e!="symbol"&&(e+=""),e in t?l1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i);class u1{constructor(e){this._context=e,Cd(this,"_webviewViewProvider"),Cd(this,"_pullRequestModel",new Map),Cd(this,"_disposables",[])}dispose(){var e;j(this._disposables),this._disposables=[],(e=this._webviewViewProvider)==null||e.dispose(),this._webviewViewProvider=void 0}create(e,i,n){this._webviewViewProvider=new o1(this._context.extensionUri,i,n,e),this._disposables.push(a.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider)),this._disposables.push(a.commands.registerCommand("pr.refreshActivePullRequest",r=>{var s;(s=this._webviewViewProvider)==null||s.refresh()}))}setPullRequest(e,i,n,r){r&&this._pullRequestModel.delete(r),this._pullRequestModel.set(e,{folderRepositoryManager:i,reviewManager:n}),this.updatePullRequest()}updatePullRequest(){const e=Array.from(this._pullRequestModel.keys())[0];if(!e){this.dispose();return}const{folderRepositoryManager:i,reviewManager:n}=this._pullRequestModel.get(e);this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(e):this.create(e,i,n)}removePullRequest(e){const i=Array.from(this._pullRequestModel.keys())[0];this._pullRequestModel.delete(e),Array.from(this._pullRequestModel.keys())[0]!==i&&this.updatePullRequest()}show(e){this._webviewViewProvider&&this._pullRequestModel.size>0&&Array.from(this._pullRequestModel.keys())[0]===e&&this._webviewViewProvider.show()}}const c1="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let yr;const Ip="prompts",Fp="createPROnPublish";async function d1(t,e,i,n,r,s,d,y,F){t.subscriptions.push(f),f.appendLine("Git repository found, initializing review manager and pr tree view."),t.subscriptions.push(i.onDidChangeSessions(async He=>{He.provider.id==="github"&&(await y.clearCredentialCache(),oe&&oe.reviewManagers.forEach(lt=>lt.updateState(!0)))})),t.subscriptions.push(e.onDidPublish(async He=>{if(!He.branch||a.workspace.getConfiguration(Xe).get(vi)!=="ask")return;const lt=oe.reviewManagers.find(On=>On.repository.rootUri.toString()===He.repository.rootUri.toString());if(lt==null?void 0:lt.isCreatingPullRequest)return;const mt=y.folderManagers.find(On=>On.repository.rootUri.toString()===He.repository.rootUri.toString());if(!mt||mt.gitHubRepositories.length===0||(await mt.getPullRequestDefaults()).base===He.branch)return;const Ct=a.l10n.t("Create Pull Request..."),ui=a.l10n.t("Don't Show Again"),Di=await a.window.showInformationMessage(a.l10n.t("Would you like to create a Pull Request for branch '{0}'?",He.branch),Ct,ui);Di===Ct?lt==null||lt.createPullRequest(He.branch):Di===ui&&await a.workspace.getConfiguration(Xe).update(vi,"never",a.ConfigurationTarget.Global)})),t.subscriptions.push(a.window.registerUriHandler(Rg));const W=a.workspace.workspaceFolders;W&&(n=n.sort((He,lt)=>{let mt=W.length,Pt=W.length;for(let Ct=0;Ct<W.length&&(W[Ct].uri.toString()===He.rootUri.toString()?mt=Ct:W[Ct].uri.toString()===lt.rootUri.toString()&&(Pt=Ct),!(mt!==W.length&&Pt!==W.length));Ct++);return mt-Pt})),s.then(He=>{He&&He.registerContactServiceProvider("github-pr",new Uy(y))});const ie=new Cp(t,e,y);t.subscriptions.push(ie);const le=new u1(t);t.subscriptions.push(le);let de=0;const ke=y.folderManagers.map(He=>new Or(de++,t,He.repository,He,yr,ie,r,d,le,F,e)),Ie=new A_(y);t.subscriptions.push(Ie),Ie.registerProviders([new G_,new x_(y)]);const oe=new Dp(t,y,ke,r,ie,yr,i,e);t.subscriptions.push(oe),e.onDidChangeState(()=>{f.appendLine(`Git initialization state changed: state=${e.state}`),oe.reviewManagers.forEach(He=>He.updateState(!0))}),e.onDidOpenRepository(He=>{function lt(){if(y.folderManagers.find(Di=>Di.repository.rootUri.toString()===He.rootUri.toString())){f.appendLine(`Repo ${He.rootUri} has already been setup.`);return}const Ct=new gs(y.folderManagers.length,t,He,yr,e,i,F);y.insertFolderManager(Ct);const ui=new Or(de++,t,Ct.repository,Ct,yr,ie,r,d,le,F,e);oe.addReviewManager(ui)}lt(),r.notificationProvider.refreshOrLaunchPolling();const mt=He.state.onDidChange(()=>{f.appendLine(`Repo state for ${He.rootUri} changed.`),lt(),mt.dispose()})}),e.onDidCloseRepository(He=>{y.removeRepo(He),oe.removeReviewManager(He),r.notificationProvider.refreshOrLaunchPolling()}),r.initialize(oe.reviewManagers.map(He=>He.reviewModel),i),t.subscriptions.push(new z_(r.notificationProvider)),P0(t,y,oe,yr,r);const ye=a.workspace.getConfiguration(Xe).get(Nt);await a.commands.executeCommand("setContext","fileListLayout:flat",ye==="flat");const Te=new Qw(e,y,oe,t,yr);if(t.subscriptions.push(Te),await Te.initialize(),a.workspace.getConfiguration(Xe).get(Pn,!1)){const He=new M_(i,y,yr);t.subscriptions.push(He)}if(t.subscriptions.push(new qy),await a.commands.executeCommand("setContext","github:initialized",!0),h1(y,e),a.workspace.getConfiguration(Xe).get(Bi,!1)){const He=new Xw;t.subscriptions.push(new Zw(t,He)),h_(t,i,y,He)}Sp.closeTabs(),yr.sendTelemetryEvent("startup")}async function f1(t){var e;if(f.appendLine(`Extension version: ${(e=a.extensions.getExtension(Ws))==null?void 0:e.packageJSON.version}`,"Activation"),Ws==="GitHub.vscode-pull-request-github-insiders"&&a.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const i=new y0;a.commands.registerCommand("github.api.preloadPullRequest",async s=>{await a.commands.executeCommand("setContext",Ks,!0),await Vi.focusView("github:activePullRequest:welcome"),i.shouldShow=s});const n=a.workspace.getConfiguration(on,null).get(Si,!0);await a.commands.executeCommand("setContext","openDiffOnClick",n),Er.initialize(t),f.debug("Creating API implementation.","Activation");const r=new Ke;return yr=new I0(new l(c1)),t.subscriptions.push(yr),await p1(t,r,i),r}async function Op(t,e,i){const n=await Oy(e,i);return n?(t.subscriptions.push(n),!0):!1}function h1(t,e){const i="GitPostCommitCommands";class n{getCommands(y){f.debug(`Looking for remote. Comparing ${y.state.remotes.length} local repo remotes with ${t.folderManagers.reduce((ie,le)=>ie+le.gitHubRepositories.length,0)} GitHub repositories.`,i);const F=Aa(y),W=t.folderManagers.find(ie=>ie.findRepo(le=>!!F.find(de=>de.equals(le.remote))));return f.debug(`Found ${W?"a repo":"no repos"} when getting post commit commands.`,i),W?[{command:"pr.pushAndCreate",title:a.l10n.t("{0} Commit & Create Pull Request","$(git-pull-request-create)"),tooltip:a.l10n.t("Commit & Create Pull Request")}]:[]}}function r(){return t.folderManagers.some(d=>d.gitHubRepositories.length>0)}function s(){return f.debug("Trying to register post commit commands.","GitPostCommitCommands"),r()?(f.debug("GitHub remote(s) found, registering post commit commands.",i),e.registerPostCommitCommandsProvider(new n),!0):!1}if(!s()){const d=t.onDidLoadAnyRepositories(()=>{s()&&d.dispose()})}}async function m1(t,e,i){if(f.debug("Registering built in git provider.","Activation"),!await Op(t,i,e)){const n=a.extensions.onDidChange(async()=>{await Op(t,i,e)&&n.dispose()});t.subscriptions.push(n)}}async function p1(t,e,i){f.debug("Initializing state.","Activation"),x0(t),Nh(Ip,Fp)===!1&&(await a.workspace.getConfiguration(Xe).update(vi,"never",a.ConfigurationTarget.Global),Mh(Ip,Fp,!0)),Bl.init(t),f.debug("Creating credential store.","Activation");const n=new _y(yr,t);t.subscriptions.push(n);const r=await L0(t,yr);await r.initializePromise,await r.isCachedFlightEnabled("githubaa");const s=a.env.appHost==="desktop";await n.create(s?void 0:{silent:!0}),m1(t,e,n),f.debug("Registering live share git provider.","Activation");const d=Fy(e);t.subscriptions.push(d);const y=d.initialize();t.subscriptions.push(e),f.debug("Creating tree view.","Activation");const F=new wm(n,yr);t.subscriptions.push(F);const W=new Ap(yr,t,F);t.subscriptions.push(W),t.subscriptions.push(n.onDidGetSession(()=>W.refresh(void 0,!0))),f.appendLine("Looking for git repository");const ie=e.repositories;f.appendLine(`Found ${ie.length} repositories during activation`);const le=new $_;t.subscriptions.push(le);let de=0;const ke=ie.map(ye=>new gs(de++,t,ye,yr,e,n,le));t.subscriptions.push(...ke);for(const ye of ke)F.insertFolderManager(ye);const Ie=Nc({reposManager:F,gitAPI:e,credentialStore:n}),oe=new a.MarkdownString(a.l10n.t("Cannot edit this pull request file. [Check out](command:pr.checkoutFromReadonlyFile) this pull request to edit."));oe.isTrusted={enabledCommands:["pr.checkoutFromReadonlyFile"]},t.subscriptions.push(a.workspace.registerFileSystemProvider(oi.Pr,Ie,{isReadonly:oe})),await d1(t,e,n,ie,W,y,i,F,le)}async function v1(){yr&&yr.dispose()}})(),module.exports=Pu})();
